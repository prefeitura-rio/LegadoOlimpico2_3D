var YDe=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var fZe=YDe((p1,m1)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var ru=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DN(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var U_e={exports:{}},LN={},j_e={exports:{}},ts={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NR=Symbol.for("react.element"),QDe=Symbol.for("react.portal"),qDe=Symbol.for("react.fragment"),JDe=Symbol.for("react.strict_mode"),ZDe=Symbol.for("react.profiler"),$De=Symbol.for("react.provider"),e5e=Symbol.for("react.context"),t5e=Symbol.for("react.forward_ref"),n5e=Symbol.for("react.suspense"),r5e=Symbol.for("react.memo"),i5e=Symbol.for("react.lazy"),Vge=Symbol.iterator;function o5e(n){return n===null||typeof n!="object"?null:(n=Vge&&n[Vge]||n["@@iterator"],typeof n=="function"?n:null)}var H_e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G_e=Object.assign,V_e={};function TM(n,e,t){this.props=n,this.context=e,this.refs=V_e,this.updater=t||H_e}TM.prototype.isReactComponent={};TM.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};TM.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function W_e(){}W_e.prototype=TM.prototype;function oX(n,e,t){this.props=n,this.context=e,this.refs=V_e,this.updater=t||H_e}var sX=oX.prototype=new W_e;sX.constructor=oX;G_e(sX,TM.prototype);sX.isPureReactComponent=!0;var Wge=Array.isArray,X_e=Object.prototype.hasOwnProperty,aX={current:null},K_e={key:!0,ref:!0,__self:!0,__source:!0};function Y_e(n,e,t){var r,o={},a=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(a=""+e.key),e)X_e.call(e,r)&&!K_e.hasOwnProperty(r)&&(o[r]=e[r]);var p=arguments.length-2;if(p===1)o.children=t;else if(1<p){for(var g=Array(p),_=0;_<p;_++)g[_]=arguments[_+2];o.children=g}if(n&&n.defaultProps)for(r in p=n.defaultProps,p)o[r]===void 0&&(o[r]=p[r]);return{$$typeof:NR,type:n,key:a,ref:c,props:o,_owner:aX.current}}function s5e(n,e){return{$$typeof:NR,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function lX(n){return typeof n=="object"&&n!==null&&n.$$typeof===NR}function a5e(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Xge=/\/+/g;function s7(n,e){return typeof n=="object"&&n!==null&&n.key!=null?a5e(""+n.key):e.toString(36)}function SL(n,e,t,r,o){var a=typeof n;(a==="undefined"||a==="boolean")&&(n=null);var c=!1;if(n===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case NR:case QDe:c=!0}}if(c)return c=n,o=o(c),n=r===""?"."+s7(c,0):r,Wge(o)?(t="",n!=null&&(t=n.replace(Xge,"$&/")+"/"),SL(o,e,t,"",function(_){return _})):o!=null&&(lX(o)&&(o=s5e(o,t+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(Xge,"$&/")+"/")+n)),e.push(o)),1;if(c=0,r=r===""?".":r+":",Wge(n))for(var p=0;p<n.length;p++){a=n[p];var g=r+s7(a,p);c+=SL(a,e,t,g,o)}else if(g=o5e(n),typeof g=="function")for(n=g.call(n),p=0;!(a=n.next()).done;)a=a.value,g=r+s7(a,p++),c+=SL(a,e,t,g,o);else if(a==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function n4(n,e,t){if(n==null)return n;var r=[],o=0;return SL(n,r,"","",function(a){return e.call(t,a,o++)}),r}function l5e(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Yh={current:null},xL={transition:null},u5e={ReactCurrentDispatcher:Yh,ReactCurrentBatchConfig:xL,ReactCurrentOwner:aX};ts.Children={map:n4,forEach:function(n,e,t){n4(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return n4(n,function(){e++}),e},toArray:function(n){return n4(n,function(e){return e})||[]},only:function(n){if(!lX(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};ts.Component=TM;ts.Fragment=qDe;ts.Profiler=ZDe;ts.PureComponent=oX;ts.StrictMode=JDe;ts.Suspense=n5e;ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u5e;ts.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=G_e({},n.props),o=n.key,a=n.ref,c=n._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,c=aX.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var p=n.type.defaultProps;for(g in e)X_e.call(e,g)&&!K_e.hasOwnProperty(g)&&(r[g]=e[g]===void 0&&p!==void 0?p[g]:e[g])}var g=arguments.length-2;if(g===1)r.children=t;else if(1<g){p=Array(g);for(var _=0;_<g;_++)p[_]=arguments[_+2];r.children=p}return{$$typeof:NR,type:n.type,key:o,ref:a,props:r,_owner:c}};ts.createContext=function(n){return n={$$typeof:e5e,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:$De,_context:n},n.Consumer=n};ts.createElement=Y_e;ts.createFactory=function(n){var e=Y_e.bind(null,n);return e.type=n,e};ts.createRef=function(){return{current:null}};ts.forwardRef=function(n){return{$$typeof:t5e,render:n}};ts.isValidElement=lX;ts.lazy=function(n){return{$$typeof:i5e,_payload:{_status:-1,_result:n},_init:l5e}};ts.memo=function(n,e){return{$$typeof:r5e,type:n,compare:e===void 0?null:e}};ts.startTransition=function(n){var e=xL.transition;xL.transition={};try{n()}finally{xL.transition=e}};ts.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ts.useCallback=function(n,e){return Yh.current.useCallback(n,e)};ts.useContext=function(n){return Yh.current.useContext(n)};ts.useDebugValue=function(){};ts.useDeferredValue=function(n){return Yh.current.useDeferredValue(n)};ts.useEffect=function(n,e){return Yh.current.useEffect(n,e)};ts.useId=function(){return Yh.current.useId()};ts.useImperativeHandle=function(n,e,t){return Yh.current.useImperativeHandle(n,e,t)};ts.useInsertionEffect=function(n,e){return Yh.current.useInsertionEffect(n,e)};ts.useLayoutEffect=function(n,e){return Yh.current.useLayoutEffect(n,e)};ts.useMemo=function(n,e){return Yh.current.useMemo(n,e)};ts.useReducer=function(n,e,t){return Yh.current.useReducer(n,e,t)};ts.useRef=function(n){return Yh.current.useRef(n)};ts.useState=function(n){return Yh.current.useState(n)};ts.useSyncExternalStore=function(n,e,t){return Yh.current.useSyncExternalStore(n,e,t)};ts.useTransition=function(){return Yh.current.useTransition()};ts.version="18.2.0";j_e.exports=ts;var qt=j_e.exports;const Q_e=DN(qt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c5e=qt,d5e=Symbol.for("react.element"),f5e=Symbol.for("react.fragment"),h5e=Object.prototype.hasOwnProperty,p5e=c5e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m5e={key:!0,ref:!0,__self:!0,__source:!0};function q_e(n,e,t){var r,o={},a=null,c=null;t!==void 0&&(a=""+t),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)h5e.call(e,r)&&!m5e.hasOwnProperty(r)&&(o[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:d5e,type:n,key:a,ref:c,props:o,_owner:p5e.current}}LN.Fragment=f5e;LN.jsx=q_e;LN.jsxs=q_e;U_e.exports=LN;var Yi=U_e.exports;function r4(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var WL={exports:{}},$n={};(function(n){var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(Me,rt,Mt)=>rt in Me?e(Me,rt,{enumerable:!0,configurable:!0,writable:!0,value:Mt}):Me[rt]=Mt,g=(Me,rt)=>{for(var Mt in rt||(rt={}))a.call(rt,Mt)&&p(Me,Mt,rt[Mt]);if(o)for(var Mt of o(rt))c.call(rt,Mt)&&p(Me,Mt,rt[Mt]);return Me},_=(Me,rt)=>t(Me,r(rt)),b=Me=>e(Me,"__esModule",{value:!0}),C=(Me,rt)=>{b(Me);for(var Mt in rt)e(Me,Mt,{get:rt[Mt],enumerable:!0})};C(n,{Atom:()=>sc,PointerProxy:()=>pa,Ticker:()=>lc,getPointerParts:()=>is,isPointer:()=>Zo,isPrism:()=>ta,iterateAndCountTicks:()=>Pd,iterateOver:()=>na,pointer:()=>Ro,pointerToPrism:()=>Ml,prism:()=>zs,val:()=>ac});var k=Array.isArray,B=k,z=typeof ru=="object"&&ru&&ru.Object===Object&&ru,F=z,N=typeof self=="object"&&self&&self.Object===Object&&self,D=F||N||Function("return this")(),A=D,G=A.Symbol,Q=G,ae=Object.prototype,Y=ae.hasOwnProperty,ge=ae.toString,_e=Q?Q.toStringTag:void 0;function J(Me){var rt=Y.call(Me,_e),Mt=Me[_e];try{Me[_e]=void 0;var Sn=!0}catch{}var gi=ge.call(Me);return Sn&&(rt?Me[_e]=Mt:delete Me[_e]),gi}var Se=J,Be=Object.prototype,_t=Be.toString;function Ve(Me){return _t.call(Me)}var xe=Ve,ot="[object Null]",Ze="[object Undefined]",mt=Q?Q.toStringTag:void 0;function we(Me){return Me==null?Me===void 0?Ze:ot:mt&&mt in Object(Me)?Se(Me):xe(Me)}var Te=we;function Ae(Me){return Me!=null&&typeof Me=="object"}var me=Ae,ce="[object Symbol]";function qe(Me){return typeof Me=="symbol"||me(Me)&&Te(Me)==ce}var ht=qe,wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/;function Nt(Me,rt){if(B(Me))return!1;var Mt=typeof Me;return Mt=="number"||Mt=="symbol"||Mt=="boolean"||Me==null||ht(Me)?!0:et.test(Me)||!wt.test(Me)||rt!=null&&Me in Object(rt)}var Ot=Nt;function an(Me){var rt=typeof Me;return Me!=null&&(rt=="object"||rt=="function")}var fn=an,nn="[object AsyncFunction]",Ye="[object Function]",Xt="[object GeneratorFunction]",Ft="[object Proxy]";function Zt(Me){if(!fn(Me))return!1;var rt=Te(Me);return rt==Ye||rt==Xt||rt==nn||rt==Ft}var mn=Zt,jn=A["__core-js_shared__"],Wn=jn,tr=function(){var Me=/[^.]+$/.exec(Wn&&Wn.keys&&Wn.keys.IE_PROTO||"");return Me?"Symbol(src)_1."+Me:""}();function _r(Me){return!!tr&&tr in Me}var Vr=_r,si=Function.prototype,ct=si.toString;function De(Me){if(Me!=null){try{return ct.call(Me)}catch{}try{return Me+""}catch{}}return""}var Ut=De,Kn=/[\\^$.*+?()[\]{}|]/g,Fn=/^\[object .+?Constructor\]$/,Xn=Function.prototype,xr=Object.prototype,nr=Xn.toString,it=xr.hasOwnProperty,En=RegExp("^"+nr.call(it).replace(Kn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ln(Me){if(!fn(Me)||Vr(Me))return!1;var rt=mn(Me)?En:Fn;return rt.test(Ut(Me))}var Yn=Ln;function br(Me,rt){return Me==null?void 0:Me[rt]}var vr=br;function Wr(Me,rt){var Mt=vr(Me,rt);return Yn(Mt)?Mt:void 0}var ci=Wr,Ct=ci(Object,"create"),Kt=Ct;function gn(){this.__data__=Kt?Kt(null):{},this.size=0}var rr=gn;function Gn(Me){var rt=this.has(Me)&&delete this.__data__[Me];return this.size-=rt?1:0,rt}var Ei=Gn,so="__lodash_hash_undefined__",eo=Object.prototype,Vo=eo.hasOwnProperty;function Li(Me){var rt=this.__data__;if(Kt){var Mt=rt[Me];return Mt===so?void 0:Mt}return Vo.call(rt,Me)?rt[Me]:void 0}var qi=Li,po=Object.prototype,ba=po.hasOwnProperty;function tl(Me){var rt=this.__data__;return Kt?rt[Me]!==void 0:ba.call(rt,Me)}var Ds=tl,ua="__lodash_hash_undefined__";function Cs(Me,rt){var Mt=this.__data__;return this.size+=this.has(Me)?0:1,Mt[Me]=Kt&&rt===void 0?ua:rt,this}var ms=Cs;function di(Me){var rt=-1,Mt=Me==null?0:Me.length;for(this.clear();++rt<Mt;){var Sn=Me[rt];this.set(Sn[0],Sn[1])}}di.prototype.clear=rr,di.prototype.delete=Ei,di.prototype.get=qi,di.prototype.has=Ds,di.prototype.set=ms;var Ea=di;function Tu(){this.__data__=[],this.size=0}var Re=Tu;function de(Me,rt){return Me===rt||Me!==Me&&rt!==rt}var Fe=de;function dt(Me,rt){for(var Mt=Me.length;Mt--;)if(Fe(Me[Mt][0],rt))return Mt;return-1}var at=dt,vt=Array.prototype,tn=vt.splice;function rn(Me){var rt=this.__data__,Mt=at(rt,Me);if(Mt<0)return!1;var Sn=rt.length-1;return Mt==Sn?rt.pop():tn.call(rt,Mt,1),--this.size,!0}var Tn=rn;function Mn(Me){var rt=this.__data__,Mt=at(rt,Me);return Mt<0?void 0:rt[Mt][1]}var Bn=Mn;function Cn(Me){return at(this.__data__,Me)>-1}var ir=Cn;function qn(Me,rt){var Mt=this.__data__,Sn=at(Mt,Me);return Sn<0?(++this.size,Mt.push([Me,rt])):Mt[Sn][1]=rt,this}var lr=qn;function Lr(Me){var rt=-1,Mt=Me==null?0:Me.length;for(this.clear();++rt<Mt;){var Sn=Me[rt];this.set(Sn[0],Sn[1])}}Lr.prototype.clear=Re,Lr.prototype.delete=Tn,Lr.prototype.get=Bn,Lr.prototype.has=ir,Lr.prototype.set=lr;var Zr=Lr,Qr=ci(A,"Map"),wr=Qr;function jr(){this.size=0,this.__data__={hash:new Ea,map:new(wr||Zr),string:new Ea}}var Qn=jr;function Br(Me){var rt=typeof Me;return rt=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?Me!=="__proto__":Me===null}var ri=Br;function Hr(Me,rt){var Mt=Me.__data__;return ri(rt)?Mt[typeof rt=="string"?"string":"hash"]:Mt.map}var Si=Hr;function Ai(Me){var rt=Si(this,Me).delete(Me);return this.size-=rt?1:0,rt}var Ni=Ai;function Ui(Me){return Si(this,Me).get(Me)}var ai=Ui;function wo(Me){return Si(this,Me).has(Me)}var le=wo;function Ee(Me,rt){var Mt=Si(this,Me),Sn=Mt.size;return Mt.set(Me,rt),this.size+=Mt.size==Sn?0:1,this}var He=Ee;function lt(Me){var rt=-1,Mt=Me==null?0:Me.length;for(this.clear();++rt<Mt;){var Sn=Me[rt];this.set(Sn[0],Sn[1])}}lt.prototype.clear=Qn,lt.prototype.delete=Ni,lt.prototype.get=ai,lt.prototype.has=le,lt.prototype.set=He;var Jt=lt,Wt="Expected a function";function On(Me,rt){if(typeof Me!="function"||rt!=null&&typeof rt!="function")throw new TypeError(Wt);var Mt=function(){var Sn=arguments,gi=rt?rt.apply(this,Sn):Sn[0],Ao=Mt.cache;if(Ao.has(gi))return Ao.get(gi);var Ji=Me.apply(this,Sn);return Mt.cache=Ao.set(gi,Ji)||Ao,Ji};return Mt.cache=new(On.Cache||Jt),Mt}On.Cache=Jt;var ur=On,fr=500;function $r(Me){var rt=ur(Me,function(Sn){return Mt.size===fr&&Mt.clear(),Sn}),Mt=rt.cache;return rt}var Ii=$r,To=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Aa=/\\(\\)?/g,$s=Ii(function(Me){var rt=[];return Me.charCodeAt(0)===46&&rt.push(""),Me.replace(To,function(Mt,Sn,gi,Ao){rt.push(gi?Ao.replace(Aa,"$1"):Sn||Mt)}),rt}),No=$s;function La(Me,rt){for(var Mt=-1,Sn=Me==null?0:Me.length,gi=Array(Sn);++Mt<Sn;)gi[Mt]=rt(Me[Mt],Mt,Me);return gi}var Na=La,bi=1/0,Ci=Q?Q.prototype:void 0,ca=Ci?Ci.toString:void 0;function ea(Me){if(typeof Me=="string")return Me;if(B(Me))return Na(Me,ea)+"";if(ht(Me))return ca?ca.call(Me):"";var rt=Me+"";return rt=="0"&&1/Me==-bi?"-0":rt}var uu=ea;function Pu(Me){return Me==null?"":uu(Me)}var Ls=Pu;function us(Me,rt){return B(Me)?Me:Ot(Me,rt)?[Me]:No(Ls(Me))}var Tc=us,rc=1/0;function da(Me){if(typeof Me=="string"||ht(Me))return Me;var rt=Me+"";return rt=="0"&&1/Me==-rc?"-0":rt}var ku=da;function Ns(Me,rt){rt=Tc(rt,Me);for(var Mt=0,Sn=rt.length;Me!=null&&Mt<Sn;)Me=Me[ku(rt[Mt++])];return Mt&&Mt==Sn?Me:void 0}var ji=Ns;function Ca(Me,rt,Mt){var Sn=Me==null?void 0:ji(Me,rt);return Sn===void 0?Mt:Sn}var Vs=Ca;function Po(Me,rt){return function(Mt){return Me(rt(Mt))}}var cs=Po,Iu=cs(Object.getPrototypeOf,Object),Ll=Iu,Md="[object Object]",Ma=Function.prototype,Ta=Object.prototype,Pc=Ma.toString,nl=Ta.hasOwnProperty,fa=Pc.call(Object);function Ws(Me){if(!me(Me)||Te(Me)!=Md)return!1;var rt=Ll(Me);if(rt===null)return!0;var Mt=nl.call(rt,"constructor")&&rt.constructor;return typeof Mt=="function"&&Mt instanceof Mt&&Pc.call(Mt)==fa}var Ru=Ws;function ha(Me){var rt=Me==null?0:Me.length;return rt?Me[rt-1]:void 0}var Fa=ha,Al=new WeakMap,rs=new WeakMap,cu=Symbol("pointerMeta"),Nl={get(Me,rt){if(rt===cu)return Al.get(Me);let Mt=rs.get(Me);Mt||(Mt=new Map,rs.set(Me,Mt));const Sn=Mt.get(rt);if(Sn!==void 0)return Sn;const gi=Al.get(Me),Ao=ko({root:gi.root,path:[...gi.path,rt]});return Mt.set(rt,Ao),Ao}},gs=Me=>Me[cu],is=Me=>{const{root:rt,path:Mt}=gs(Me);return{root:rt,path:Mt}};function ko(Me){var rt;const Mt={root:Me.root,path:(rt=Me.path)!=null?rt:[]},Sn={};return Al.set(Sn,Mt),new Proxy(Sn,Nl)}var Ro=ko,Zo=Me=>Me&&!!gs(Me);function du(Me,rt,Mt){return rt.length===0?Mt(Me):Xs(Me,rt,Mt)}var Xs=(Me,rt,Mt)=>{if(rt.length===0)return Mt(Me);if(Array.isArray(Me)){let[Sn,...gi]=rt;Sn=parseInt(String(Sn),10),isNaN(Sn)&&(Sn=0);const Ao=Me[Sn],Ji=Xs(Ao,gi,Mt);if(Ao===Ji)return Me;const go=[...Me];return go.splice(Sn,1,Ji),go}else if(typeof Me=="object"&&Me!==null){const[Sn,...gi]=rt,Ao=Me[Sn],Ji=Xs(Ao,gi,Mt);return Ao===Ji?Me:_(g({},Me),{[Sn]:Ji})}else{const[Sn,...gi]=rt;return{[Sn]:Xs(void 0,gi,Mt)}}},_o=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const Me=this._head;if(Me)return this._head=Me.next,Me.data}push(Me){const rt={next:this._head,data:Me};this._head=rt}};function ta(Me){return!!(Me&&Me.isPrism&&Me.isPrism===!0)}function Ms(){const Me=()=>{},rt=new _o,Mt=Me;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{rt.push(Mt)},stopIgnoringDependencies:()=>{rt.peek()!==Mt||rt.pop()},reportResolutionStart:Ks=>{const ol=rt.peek();ol&&ol(Ks),rt.push(Mt)},reportResolutionEnd:Ks=>{rt.pop()},pushCollector:Ks=>{rt.push(Ks)},popCollector:Ks=>{if(rt.peek()!==Ks)throw new Error("Popped collector is not on top of the stack");rt.pop()}}}function ic(){const Me="__dataverse_discoveryMechanism_sharedStack",rt=typeof window<"u"?window:typeof ru<"u"?ru:{};if(rt){const Mt=rt[Me];if(Mt&&typeof Mt=="object"&&Mt.type==="Dataverse_discoveryMechanism")return Mt;{const Sn=Ms();return rt[Me]=Sn,Sn}}else return Ms()}var{startIgnoringDependencies:rl,stopIgnoringDependencies:fu,reportResolutionEnd:kc,reportResolutionStart:Ou,pushCollector:Bu,popCollector:Td}=ic(),Ic=()=>{},oc=class{constructor(Me,rt){this._fn=Me,this._prismInstance=rt,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new Pa(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=Mt=>{this._possiblyStaleDeps.add(Mt),this._markAsStale()};for(const Mt of this._dependencies)Mt._addDependent(this._reactToDependencyGoingStale);rl(),this.getValue(),fu()}get hasDependents(){return this._dependents.size>0}removeDependent(Me){this._dependents.delete(Me)}addDependent(Me){this._dependents.add(Me)}destroy(){for(const Me of this._dependencies)Me._removeDependent(this._reactToDependencyGoingStale);zl(this._scope)}getValue(){if(!this._isFresh){const Me=this._recalculate();this._lastValue=Me,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let Me;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let Sn=!1;rl();for(const gi of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(gi)!==gi.getValue()){Sn=!0;break}if(fu(),this._possiblyStaleDeps.clear(),!Sn)return this._lastValue}const rt=new Set;this._cacheOfDendencyValues.clear();const Mt=Sn=>{rt.add(Sn),this._addDependency(Sn)};Bu(Mt),ue.push(this._scope);try{Me=this._fn()}catch(Sn){console.error(Sn)}finally{ue.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}Td(Mt);for(const Sn of this._dependencies)rt.has(Sn)||this._removeDependency(Sn);this._dependencies=rt,rl();for(const Sn of rt)this._cacheOfDendencyValues.set(Sn,Sn.getValue());return fu(),Me}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const Me of this._dependents)Me(this._prismInstance)}}_addDependency(Me){this._dependencies.has(Me)||(this._dependencies.add(Me),Me._addDependent(this._reactToDependencyGoingStale))}_removeDependency(Me){this._dependencies.has(Me)&&(this._dependencies.delete(Me),Me._removeDependent(this._reactToDependencyGoingStale))}},Fl={},Cl=class{constructor(Me){this._fn=Me,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(Me,rt,Mt=!1){const Sn=()=>{Me.onThisOrNextTick(Ao)};let gi=Fl;const Ao=()=>{const go=this.getValue();go!==gi&&(gi=go,rt(go))};return this._addDependent(Sn),Mt&&(gi=this.getValue(),rt(gi)),()=>{this._removeDependent(Sn),Me.offThisOrNextTick(Ao),Me.offNextTick(Ao)}}onStale(Me){const rt=()=>{this._removeDependent(Mt)},Mt=()=>Me();return this._addDependent(Mt),rt}keepHot(){return this.onStale(()=>{})}_addDependent(Me){this._state.hot||this._goHot(),this._state.handle.addDependent(Me)}_goHot(){const Me=new oc(this._fn,this);this._state={hot:!0,handle:Me}}_removeDependent(Me){const rt=this._state;if(!rt.hot)return;const Mt=rt.handle;Mt.removeDependent(Me),Mt.hasDependents||(this._state={hot:!1,handle:void 0},Mt.destroy())}getValue(){Ou(this);const Me=this._state;let rt;return Me.hot?rt=Me.handle.getValue():rt=Fo(this._fn),kc(this),rt}},Pa=class{constructor(Me){this._hotHandle=Me,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(Me,rt){let Mt=this._refs.get(Me);if(Mt!==void 0)return Mt;{const Sn={current:rt};return this._refs.set(Me,Sn),Sn}}effect(Me,rt,Mt){let Sn=this.effects.get(Me);Sn===void 0&&(Sn={cleanup:Ic,deps:void 0},this.effects.set(Me,Sn)),ut(Sn.deps,Mt)&&(Sn.cleanup(),rl(),Sn.cleanup=Fs(rt,Ic).value,fu(),Sn.deps=Mt)}memo(Me,rt,Mt){let Sn=this.memos.get(Me);return Sn===void 0&&(Sn={cachedValue:null,deps:void 0},this.memos.set(Me,Sn)),ut(Sn.deps,Mt)&&(rl(),Sn.cachedValue=Fs(rt,void 0).value,fu(),Sn.deps=Mt),Sn.cachedValue}state(Me,rt){const{value:Mt,setValue:Sn}=this.memo("state/"+Me,()=>{const gi={current:rt};return{value:gi,setValue:Ji=>{gi.current=Ji,this._hotHandle.forceStale()}}},[]);return[Mt.current,Sn]}sub(Me){return this.subs[Me]||(this.subs[Me]=new Pa(this._hotHandle)),this.subs[Me]}cleanupEffects(){for(const Me of this.effects.values())Fs(Me.cleanup,void 0);this.effects.clear()}source(Me,rt){const Mt="$$source/blah";return this.effect(Mt,()=>Me(()=>{this._hotHandle.forceStale()}),[Me]),rt()}};function zl(Me){for(const rt of Object.values(Me.subs))zl(rt);Me.cleanupEffects()}function Fs(Me,rt){try{return{value:Me(),ok:!0}}catch(Mt){return setTimeout(function(){throw Mt}),{value:rt,ok:!1}}}var ue=new _o;function Ce(Me,rt){const Mt=ue.peek();if(!Mt)throw new Error("prism.ref() is called outside of a prism() call.");return Mt.ref(Me,rt)}function Ge(Me,rt,Mt){const Sn=ue.peek();if(!Sn)throw new Error("prism.effect() is called outside of a prism() call.");return Sn.effect(Me,rt,Mt)}function ut(Me,rt){if(Me===void 0||rt===void 0)return!0;const Mt=Me.length;if(Mt!==rt.length)return!0;for(let Sn=0;Sn<Mt;Sn++)if(Me[Sn]!==rt[Sn])return!0;return!1}function $t(Me,rt,Mt){const Sn=ue.peek();if(!Sn)throw new Error("prism.memo() is called outside of a prism() call.");return Sn.memo(Me,rt,Mt)}function jt(Me,rt){const Mt=ue.peek();if(!Mt)throw new Error("prism.state() is called outside of a prism() call.");return Mt.state(Me,rt)}function Dn(){if(!ue.peek())throw new Error("The parent function is called outside of a prism() call.")}function cr(Me,rt){const Mt=ue.peek();if(!Mt)throw new Error("prism.scope() is called outside of a prism() call.");const Sn=Mt.sub(Me);ue.push(Sn);const gi=Fs(rt,void 0).value;return ue.pop(),gi}function Xr(Me,rt,Mt){return $t(Me,()=>Nr(rt),Mt).getValue()}function Gr(){return!!ue.peek()}function Tr(Me,rt){const Mt=ue.peek();if(!Mt)throw new Error("prism.source() is called outside of a prism() call.");return Mt.source(Me,rt)}var Nr=Me=>new Cl(Me),ao=class{effect(Me,rt,Mt){console.warn("prism.effect() does not run in cold prisms")}memo(Me,rt,Mt){return rt()}state(Me,rt){return[rt,()=>{}]}ref(Me,rt){return{current:rt}}sub(Me){return new ao}source(Me,rt){return rt()}};function Fo(Me){const rt=new ao;ue.push(rt);let Mt;try{Mt=Me()}catch(Sn){console.error(Sn)}finally{ue.pop()!==rt&&console.warn("The Prism hook stack has slipped. This is a bug.")}return Mt}Nr.ref=Ce,Nr.effect=Ge,Nr.memo=$t,Nr.ensurePrism=Dn,Nr.state=jt,Nr.scope=cr,Nr.sub=Xr,Nr.inPrism=Gr,Nr.source=Tr;var zs=Nr,hu;(function(Me){Me[Me.Dict=0]="Dict",Me[Me.Array=1]="Array",Me[Me.Other=2]="Other"})(hu||(hu={}));var mo=Me=>Array.isArray(Me)?1:Ru(Me)?0:2,il=(Me,rt,Mt=mo(Me))=>Mt===0&&typeof rt=="string"||Mt===1&&bf(rt)?Me[rt]:void 0,bf=Me=>{const rt=typeof Me=="number"?Me:parseInt(Me,10);return!isNaN(rt)&&rt>=0&&rt<1/0&&(rt|0)===rt},Ul=class{constructor(Me,rt){this._parent=Me,this._path=rt,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(Me){this.identityChangeListeners.add(Me)}removeIdentityChangeListener(Me){this.identityChangeListeners.delete(Me),this._checkForGC()}removeChild(Me){this.children.delete(Me),this._checkForGC()}getChild(Me){return this.children.get(Me)}getOrCreateChild(Me){let rt=this.children.get(Me);return rt||(rt=rt=new Ul(this,this._path.concat([Me])),this.children.set(Me,rt)),rt}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(Fa(this._path))}},sc=class{constructor(Me){this.$$isPointerToPrismProvider=!0,this.pointer=Ro({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=(rt,Mt)=>{const{path:Sn}=is(rt),gi=this._getOrCreateScopeForPath(Sn);return gi.identityChangeListeners.add(Mt),()=>{gi.identityChangeListeners.delete(Mt)}},this._currentState=Me,this._rootScope=new Ul(void 0,[])}set(Me){const rt=this._currentState;this._currentState=Me,this._checkUpdates(this._rootScope,rt,Me)}get(){return this._currentState}getByPointer(Me){const rt=Zo(Me)?Me:Me(this.pointer),Mt=is(rt).path;return this._getIn(Mt)}_getIn(Me){return Me.length===0?this.get():Vs(this.get(),Me)}reduce(Me){this.set(Me(this.get()))}reduceByPointer(Me,rt){const Mt=Zo(Me)?Me:Me(this.pointer),Sn=is(Mt).path,gi=du(this.get(),Sn,rt);this.set(gi)}setByPointer(Me,rt){this.reduceByPointer(Me,()=>rt)}_checkUpdates(Me,rt,Mt){if(rt===Mt)return;for(const Ao of Me.identityChangeListeners)Ao(Mt);if(Me.children.size===0)return;const Sn=mo(rt),gi=mo(Mt);if(!(Sn===2&&Sn===gi))for(const[Ao,Ji]of Me.children){const go=il(rt,Ao,Sn),kd=il(Mt,Ao,gi);this._checkUpdates(Ji,go,kd)}}_getOrCreateScopeForPath(Me){let rt=this._rootScope;for(const Mt of Me)rt=rt.getOrCreateChild(Mt);return rt}pointerToPrism(Me){const{path:rt}=is(Me),Mt=gi=>this._onPointerValueChange(Me,gi),Sn=()=>this._getIn(rt);return zs(()=>zs.source(Mt,Sn))}},Rc=new WeakMap;function Oc(Me){return typeof Me=="object"&&Me!==null&&Me.$$isPointerToPrismProvider===!0}var Ml=Me=>{const rt=gs(Me);let Mt=Rc.get(rt);if(!Mt){const Sn=rt.root;if(!Oc(Sn))throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");Mt=Sn.pointerToPrism(Me),Rc.set(rt,Mt)}return Mt},ac=Me=>Zo(Me)?Ml(Me).getValue():ta(Me)?Me.getValue():Me;function*Pd(Me){let rt;if(Zo(Me))rt=Ml(Me);else if(ta(Me))rt=Me;else throw new Error("Only pointers and prisms are supported");let Mt=0;const Sn=rt.onStale(()=>{Mt++});try{for(;;){const gi=Mt;Mt=0,yield{value:rt.getValue(),ticks:gi}}}finally{Sn()}}var Du=60*3,lc=class{constructor(Me){this._conf=Me,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(Me){this._scheduledForThisOrNextTick.add(Me),this._dormant&&this._goActive()}onNextTick(Me){this._scheduledForNextTick.add(Me),this._dormant&&this._goActive()}offThisOrNextTick(Me){this._scheduledForThisOrNextTick.delete(Me)}offNextTick(Me){this._scheduledForNextTick.delete(Me)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var Me,rt;this._dormant&&(this._dormant=!1,(rt=(Me=this._conf)==null?void 0:Me.onActive)==null||rt.call(Me))}_goDormant(){var Me,rt;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,(rt=(Me=this._conf)==null?void 0:Me.onDormant)==null||rt.call(Me))}tick(Me=performance.now()){if(this.__ticks++,!this._dormant&&this._scheduledForNextTick.size===0&&this._scheduledForThisOrNextTick.size===0&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=Du)){this._goDormant();return}this._ticking=!0,this._timeAtCurrentTick=Me;for(const rt of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(rt);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(Me){const rt=this.time;if(Me>10&&console.warn("_tick() recursing for 10 times"),Me>100)throw new Error("Maximum recursion limit for _tick()");const Mt=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const Sn of Mt)Sn(rt);if(this._scheduledForThisOrNextTick.size>0)return this._tick(Me+1)}};function*na(Me){let rt;if(Zo(Me))rt=Ml(Me);else if(ta(Me))rt=Me;else throw new Error("Only pointers and prisms are supported");const Mt=new lc,Sn=rt.onChange(Mt,gi=>{});try{for(;;)Mt.tick(),yield rt.getValue()}finally{Sn()}}var pa=class{constructor(Me){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new sc(Me),this.pointer=Ro({root:this,path:[]})}setPointer(Me){this._currentPointerBox.set(Me)}pointerToPrism(Me){const{path:rt}=gs(Me);return zs(()=>{const Mt=this._currentPointerBox.prism.getValue(),Sn=rt.reduce((gi,Ao)=>gi[Ao],Mt);return ac(Sn)})}}})($n);WL.exports;(function(n,e){var t=Object.create,r=Object.freeze,o=Object.defineProperty,a=Object.defineProperties,c=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertyNames,_=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,B=(i,l)=>{if(l=Symbol[i])return l;throw Error("Symbol."+i+" is not defined")},z=(i,l,u)=>l in i?o(i,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[l]=u,F=(i,l)=>{for(var u in l||(l={}))C.call(l,u)&&z(i,u,l[u]);if(_)for(var u of _(l))k.call(l,u)&&z(i,u,l[u]);return i},N=(i,l)=>a(i,p(l)),D=(i,l)=>{var u={};for(var m in i)C.call(i,m)&&l.indexOf(m)<0&&(u[m]=i[m]);if(i!=null&&_)for(var m of _(i))l.indexOf(m)<0&&k.call(i,m)&&(u[m]=i[m]);return u},A=(i,l)=>()=>(i&&(l=i(i=0)),l),G=(i,l)=>()=>(l||i((l={exports:{}}).exports,l),l.exports),Q=(i,l)=>{for(var u in l)o(i,u,{get:l[u],enumerable:!0})},ae=(i,l,u,m)=>{if(l&&typeof l=="object"||typeof l=="function")for(let w of g(l))!C.call(i,w)&&w!==u&&o(i,w,{get:()=>l[w],enumerable:!(m=c(l,w))||m.enumerable});return i},Y=(i,l,u)=>(u=i!=null?t(b(i)):{},ae(l||!i||!i.__esModule?o(u,"default",{value:i,enumerable:!0}):u,i)),ge=i=>ae(o({},"__esModule",{value:!0}),i),_e=(i,l,u)=>(z(i,typeof l!="symbol"?l+"":l,u),u),J=(i,l)=>r(o(i,"raw",{value:r(l||i.slice())})),Se=(i,l,u)=>new Promise((m,w)=>{var E=L=>{try{P(u.next(L))}catch(j){w(j)}},T=L=>{try{P(u.throw(L))}catch(j){w(j)}},P=L=>L.done?m(L.value):Promise.resolve(L.value).then(E,T);P((u=u.apply(i,l)).next())}),Be=function(i,l){this[0]=i,this[1]=l},_t=i=>{var l=i[B("asyncIterator")],u=!1,m,w={};return l==null?(l=i[B("iterator")](),m=E=>w[E]=T=>l[E](T)):(l=l.call(i),m=E=>w[E]=T=>{if(u){if(u=!1,E==="throw")throw T;return T}return u=!0,{done:!1,value:new Be(new Promise(P=>{var L=l[E](T);if(!(L instanceof Object))throw TypeError("Object expected");P(L)}),1)}}),w[B("iterator")]=()=>w,m("next"),"throw"in l?m("throw"):w.throw=E=>{throw E},"return"in l&&m("return"),w};function Ve(i){ot=i}function xe(){return ot}var ot,Ze=A(()=>{});function mt(i,l,u=[]){if(typeof i=="object"&&i){if(we(i)||Te(i)){l(i,u);return}for(let[m,w]of Object.entries(i))mt(w,l,[...u,m])}else{if(i==null)return;l(i,u)}}var we,Te,Ae=A(()=>{we=i=>typeof i=="object"&&i!==null&&Object.hasOwnProperty.call(i,"type")&&i.type==="image"&&Object.hasOwnProperty.call(i,"id")&&typeof i.id=="string"&&i.id!=="",Te=i=>typeof i=="object"&&i!==null&&Object.hasOwnProperty.call(i,"r")&&Object.hasOwnProperty.call(i,"g")&&Object.hasOwnProperty.call(i,"b")&&Object.hasOwnProperty.call(i,"a")&&typeof i.r=="number"&&typeof i.g=="number"&&typeof i.b=="number"&&typeof i.a=="number"});function me(i){return l=>typeof l=="object"&&!!l&&l.type===i}var ce,qe,ht,wt,et,Nt,Ot,an=A(()=>{ce=me("Theatre_Project"),qe=me("Theatre_Sheet"),ht=me("Theatre_SheetTemplate"),wt=me("Theatre_SheetObject"),et=me("Theatre_SheetObjectTemplate"),Nt=me("Theatre_Sheet_PublicAPI"),Ot=me("Theatre_SheetObject_PublicAPI")}),fn,nn,Ye=A(()=>{fn=typeof ru=="object"&&ru&&ru.Object===Object&&ru,nn=fn}),Xt,Ft,Zt,mn=A(()=>{Ye(),Xt=typeof self=="object"&&self&&self.Object===Object&&self,Ft=nn||Xt||Function("return this")(),Zt=Ft}),jn,Wn,tr=A(()=>{mn(),jn=Zt.Symbol,Wn=jn});function _r(i){var l=si.call(i,De),u=i[De];try{i[De]=void 0;var m=!0}catch{}var w=ct.call(i);return m&&(l?i[De]=u:delete i[De]),w}var Vr,si,ct,De,Ut,Kn=A(()=>{tr(),Vr=Object.prototype,si=Vr.hasOwnProperty,ct=Vr.toString,De=Wn?Wn.toStringTag:void 0,Ut=_r});function Fn(i){return xr.call(i)}var Xn,xr,nr,it=A(()=>{Xn=Object.prototype,xr=Xn.toString,nr=Fn});function En(i){return i==null?i===void 0?Yn:Ln:br&&br in Object(i)?Ut(i):nr(i)}var Ln,Yn,br,vr,Wr=A(()=>{tr(),Kn(),it(),Ln="[object Null]",Yn="[object Undefined]",br=Wn?Wn.toStringTag:void 0,vr=En});function ci(i){return i!=null&&typeof i=="object"}var Ct,Kt=A(()=>{Ct=ci});function gn(i){return typeof i=="symbol"||Ct(i)&&vr(i)==rr}var rr,Gn,Ei=A(()=>{Wr(),Kt(),rr="[object Symbol]",Gn=gn});function so(i,l){for(var u=-1,m=i==null?0:i.length,w=Array(m);++u<m;)w[u]=l(i[u],u,i);return w}var eo,Vo=A(()=>{eo=so}),Li,qi,po=A(()=>{Li=Array.isArray,qi=Li});function ba(i){if(typeof i=="string")return i;if(qi(i))return eo(i,ba)+"";if(Gn(i))return ua?ua.call(i):"";var l=i+"";return l=="0"&&1/i==-tl?"-0":l}var tl,Ds,ua,Cs,ms=A(()=>{tr(),Vo(),po(),Ei(),tl=1/0,Ds=Wn?Wn.prototype:void 0,ua=Ds?Ds.toString:void 0,Cs=ba});function di(i){for(var l=i.length;l--&&Ea.test(i.charAt(l)););return l}var Ea,Tu,Re=A(()=>{Ea=/\s/,Tu=di});function de(i){return i&&i.slice(0,Tu(i)+1).replace(Fe,"")}var Fe,dt,at=A(()=>{Re(),Fe=/^\s+/,dt=de});function vt(i){var l=typeof i;return i!=null&&(l=="object"||l=="function")}var tn,rn=A(()=>{tn=vt});function Tn(i){if(typeof i=="number")return i;if(Gn(i))return Mn;if(tn(i)){var l=typeof i.valueOf=="function"?i.valueOf():i;i=tn(l)?l+"":l}if(typeof i!="string")return i===0?i:+i;i=dt(i);var u=Cn.test(i);return u||ir.test(i)?qn(i.slice(2),u?2:8):Bn.test(i)?Mn:+i}var Mn,Bn,Cn,ir,qn,lr,Lr=A(()=>{at(),rn(),Ei(),Mn=0/0,Bn=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,ir=/^0o[0-7]+$/i,qn=parseInt,lr=Tn});function Zr(i){if(!i)return i===0?i:0;if(i=lr(i),i===Qr||i===-Qr){var l=i<0?-1:1;return l*wr}return i===i?i:0}var Qr,wr,jr,Qn=A(()=>{Lr(),Qr=1/0,wr=17976931348623157e292,jr=Zr});function Br(i){var l=jr(i),u=l%1;return l===l?u?l-u:l:0}var ri,Hr=A(()=>{Qn(),ri=Br});function Si(i){return i}var Ai,Ni=A(()=>{Ai=Si});function Ui(i){if(!tn(i))return!1;var l=vr(i);return l==wo||l==le||l==ai||l==Ee}var ai,wo,le,Ee,He,lt=A(()=>{Wr(),rn(),ai="[object AsyncFunction]",wo="[object Function]",le="[object GeneratorFunction]",Ee="[object Proxy]",He=Ui}),Jt,Wt,On=A(()=>{mn(),Jt=Zt["__core-js_shared__"],Wt=Jt});function ur(i){return!!fr&&fr in i}var fr,$r,Ii=A(()=>{On(),fr=function(){var i=/[^.]+$/.exec(Wt&&Wt.keys&&Wt.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),$r=ur});function To(i){if(i!=null){try{return $s.call(i)}catch{}try{return i+""}catch{}}return""}var Aa,$s,No,La=A(()=>{Aa=Function.prototype,$s=Aa.toString,No=To});function Na(i){if(!tn(i)||$r(i))return!1;var l=He(i)?Ls:Ci;return l.test(No(i))}var bi,Ci,ca,ea,uu,Pu,Ls,us,Tc=A(()=>{lt(),Ii(),rn(),La(),bi=/[\\^$.*+?()[\]{}|]/g,Ci=/^\[object .+?Constructor\]$/,ca=Function.prototype,ea=Object.prototype,uu=ca.toString,Pu=ea.hasOwnProperty,Ls=RegExp("^"+uu.call(Pu).replace(bi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),us=Na});function rc(i,l){return i==null?void 0:i[l]}var da,ku=A(()=>{da=rc});function Ns(i,l){var u=da(i,l);return us(u)?u:void 0}var ji,Ca=A(()=>{Tc(),ku(),ji=Ns}),Vs,Po,cs=A(()=>{Ca(),mn(),Vs=ji(Zt,"WeakMap"),Po=Vs});function Iu(i,l,u){switch(u.length){case 0:return i.call(l);case 1:return i.call(l,u[0]);case 2:return i.call(l,u[0],u[1]);case 3:return i.call(l,u[0],u[1],u[2])}return i.apply(l,u)}var Ll,Md=A(()=>{Ll=Iu});function Ma(){}var Ta,Pc=A(()=>{Ta=Ma});function nl(i,l){var u=-1,m=i.length;for(l||(l=Array(m));++u<m;)l[u]=i[u];return l}var fa,Ws=A(()=>{fa=nl});function Ru(i){var l=0,u=0;return function(){var m=Al(),w=Fa-(m-u);if(u=m,w>0){if(++l>=ha)return arguments[0]}else l=0;return i.apply(void 0,arguments)}}var ha,Fa,Al,rs,cu=A(()=>{ha=800,Fa=16,Al=Date.now,rs=Ru});function Nl(i){return function(){return i}}var gs,is=A(()=>{gs=Nl}),ko,Ro,Zo=A(()=>{Ca(),ko=function(){try{var i=ji(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Ro=ko}),du,Xs,_o=A(()=>{is(),Zo(),Ni(),du=Ro?function(i,l){return Ro(i,"toString",{configurable:!0,enumerable:!1,value:gs(l),writable:!0})}:Ai,Xs=du}),ta,Ms,ic=A(()=>{_o(),cu(),ta=rs(Xs),Ms=ta});function rl(i,l,u,m){for(var w=i.length,E=u+(m?1:-1);m?E--:++E<w;)if(l(i[E],E,i))return E;return-1}var fu,kc=A(()=>{fu=rl});function Ou(i){return i!==i}var Bu,Td=A(()=>{Bu=Ou});function Ic(i,l,u){for(var m=u-1,w=i.length;++m<w;)if(i[m]===l)return m;return-1}var oc,Fl=A(()=>{oc=Ic});function Cl(i,l,u){return l===l?oc(i,l,u):fu(i,Bu,u)}var Pa,zl=A(()=>{kc(),Td(),Fl(),Pa=Cl});function Fs(i,l){var u=i==null?0:i.length;return!!u&&Pa(i,l,0)>-1}var ue,Ce=A(()=>{zl(),ue=Fs});function Ge(i,l){var u=typeof i;return l=l??ut,!!l&&(u=="number"||u!="symbol"&&$t.test(i))&&i>-1&&i%1==0&&i<l}var ut,$t,jt,Dn=A(()=>{ut=9007199254740991,$t=/^(?:0|[1-9]\d*)$/,jt=Ge});function cr(i,l,u){l=="__proto__"&&Ro?Ro(i,l,{configurable:!0,enumerable:!0,value:u,writable:!0}):i[l]=u}var Xr,Gr=A(()=>{Zo(),Xr=cr});function Tr(i,l){return i===l||i!==i&&l!==l}var Nr,ao=A(()=>{Nr=Tr});function Fo(i,l,u){var m=i[l];(!(hu.call(i,l)&&Nr(m,u))||u===void 0&&!(l in i))&&Xr(i,l,u)}var zs,hu,mo,il=A(()=>{Gr(),ao(),zs=Object.prototype,hu=zs.hasOwnProperty,mo=Fo});function bf(i,l,u){return l=Ul(l===void 0?i.length-1:l,0),function(){for(var m=arguments,w=-1,E=Ul(m.length-l,0),T=Array(E);++w<E;)T[w]=m[l+w];w=-1;for(var P=Array(l+1);++w<l;)P[w]=m[w];return P[l]=u(T),Ll(i,this,P)}}var Ul,sc,Rc=A(()=>{Md(),Ul=Math.max,sc=bf});function Oc(i,l){return Ms(sc(i,l,Ai),i+"")}var Ml,ac=A(()=>{Ni(),Rc(),ic(),Ml=Oc});function Pd(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Du}var Du,lc,na=A(()=>{Du=9007199254740991,lc=Pd});function pa(i){return i!=null&&lc(i.length)&&!He(i)}var Me,rt=A(()=>{lt(),na(),Me=pa});function Mt(i,l,u){if(!tn(u))return!1;var m=typeof l;return(m=="number"?Me(u)&&jt(l,u.length):m=="string"&&l in u)?Nr(u[l],i):!1}var Sn,gi=A(()=>{ao(),rt(),Dn(),rn(),Sn=Mt});function Ao(i){var l=i&&i.constructor,u=typeof l=="function"&&l.prototype||Ji;return i===u}var Ji,go,kd=A(()=>{Ji=Object.prototype,go=Ao});function Ks(i,l){for(var u=-1,m=Array(i);++u<i;)m[u]=l(u);return m}var ol,sl=A(()=>{ol=Ks});function za(i){return Ct(i)&&vr(i)==Wo}var Wo,no,Co=A(()=>{Wr(),Kt(),Wo="[object Arguments]",no=za}),Us,Id,jl,Bc,js,Ys=A(()=>{Co(),Kt(),Us=Object.prototype,Id=Us.hasOwnProperty,jl=Us.propertyIsEnumerable,Bc=no(function(){return arguments}())?no:function(i){return Ct(i)&&Id.call(i,"callee")&&!jl.call(i,"callee")},js=Bc});function Ef(){return!1}var Rd,al=A(()=>{Rd=Ef}),Qs,ka,Tl,Zc,hh,jp,ph,qh=A(()=>{mn(),al(),Qs=e&&!e.nodeType&&e,ka=Qs&&!0&&n&&!n.nodeType&&n,Tl=ka&&ka.exports===Qs,Zc=Tl?Zt.Buffer:void 0,hh=Zc?Zc.isBuffer:void 0,jp=hh||Rd,ph=jp});function Hp(i){return Ct(i)&&lc(i.length)&&!!zo[vr(i)]}var Dc,Af,Od,Bd,Dd,uc,Cf,$c,Mf,Xo,Jh,mh,cc,Zh,$h,gh,ep,Tf,Pg,kg,Rm,Gp,vh,Ld,zo,Om,Ig=A(()=>{Wr(),na(),Kt(),Dc="[object Arguments]",Af="[object Array]",Od="[object Boolean]",Bd="[object Date]",Dd="[object Error]",uc="[object Function]",Cf="[object Map]",$c="[object Number]",Mf="[object Object]",Xo="[object RegExp]",Jh="[object Set]",mh="[object String]",cc="[object WeakMap]",Zh="[object ArrayBuffer]",$h="[object DataView]",gh="[object Float32Array]",ep="[object Float64Array]",Tf="[object Int8Array]",Pg="[object Int16Array]",kg="[object Int32Array]",Rm="[object Uint8Array]",Gp="[object Uint8ClampedArray]",vh="[object Uint16Array]",Ld="[object Uint32Array]",zo={},zo[gh]=zo[ep]=zo[Tf]=zo[Pg]=zo[kg]=zo[Rm]=zo[Gp]=zo[vh]=zo[Ld]=!0,zo[Dc]=zo[Af]=zo[Zh]=zo[Od]=zo[$h]=zo[Bd]=zo[Dd]=zo[uc]=zo[Cf]=zo[$c]=zo[Mf]=zo[Xo]=zo[Jh]=zo[mh]=zo[cc]=!1,Om=Hp});function Vp(i){return function(l){return i(l)}}var Pf,tp=A(()=>{Pf=Vp}),Bm,kf,np,Lu,Wp,Ua,ma=A(()=>{Ye(),Bm=e&&!e.nodeType&&e,kf=Bm&&!0&&n&&!n.nodeType&&n,np=kf&&kf.exports===Bm,Lu=np&&nn.process,Wp=function(){try{var i=kf&&kf.require&&kf.require("util").types;return i||Lu&&Lu.binding&&Lu.binding("util")}catch{}}(),Ua=Wp}),So,ja,dc,If=A(()=>{Ig(),tp(),ma(),So=Ua&&Ua.isTypedArray,ja=So?Pf(So):Om,dc=ja});function yh(i,l){var u=qi(i),m=!u&&js(i),w=!u&&!m&&ph(i),E=!u&&!m&&!w&&dc(i),T=u||m||w||E,P=T?ol(i.length,String):[],L=P.length;for(var j in i)(l||Ko.call(i,j))&&!(T&&(j=="length"||w&&(j=="offset"||j=="parent")||E&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||jt(j,L)))&&P.push(j);return P}var pu,Ko,qs,rp=A(()=>{sl(),Ys(),po(),qh(),Dn(),If(),pu=Object.prototype,Ko=pu.hasOwnProperty,qs=yh});function Hl(i,l){return function(u){return i(l(u))}}var lo,vs=A(()=>{lo=Hl}),$o,Ho,ed=A(()=>{vs(),$o=lo(Object.keys,Object),Ho=$o});function Ha(i){if(!go(i))return Ho(i);var l=[];for(var u in Object(i))fc.call(i,u)&&u!="constructor"&&l.push(u);return l}var Ga,fc,td,Va=A(()=>{kd(),ed(),Ga=Object.prototype,fc=Ga.hasOwnProperty,td=Ha});function ip(i){return Me(i)?qs(i):td(i)}var Nd,nd=A(()=>{rp(),Va(),rt(),Nd=ip});function Rf(i,l){if(qi(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||Gn(i)?!0:Nu.test(i)||!op.test(i)||l!=null&&i in Object(l)}var op,Nu,Fd,Fu=A(()=>{po(),Ei(),op=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Nu=/^\w*$/,Fd=Rf}),_h,zd,mu=A(()=>{Ca(),_h=ji(Object,"create"),zd=_h});function Gl(){this.__data__=zd?zd(null):{},this.size=0}var Vl,Dm=A(()=>{mu(),Vl=Gl});function wh(i){var l=this.has(i)&&delete this.__data__[i];return this.size-=l?1:0,l}var Ts,Wa=A(()=>{Ts=wh});function Rr(i){var l=this.__data__;if(zd){var u=l[i];return u===Er?void 0:u}return rd.call(l,i)?l[i]:void 0}var Er,ll,rd,Lm,Ud=A(()=>{mu(),Er="__lodash_hash_undefined__",ll=Object.prototype,rd=ll.hasOwnProperty,Lm=Rr});function gu(i){var l=this.__data__;return zd?l[i]!==void 0:ul.call(l,i)}var ga,ul,os,zu=A(()=>{mu(),ga=Object.prototype,ul=ga.hasOwnProperty,os=gu});function Nm(i,l){var u=this.__data__;return this.size+=this.has(i)?0:1,u[i]=zd&&l===void 0?sp:l,this}var sp,ap,lp=A(()=>{mu(),sp="__lodash_hash_undefined__",ap=Nm});function Lc(i){var l=-1,u=i==null?0:i.length;for(this.clear();++l<u;){var m=i[l];this.set(m[0],m[1])}}var jd,Xp=A(()=>{Dm(),Wa(),Ud(),zu(),lp(),Lc.prototype.clear=Vl,Lc.prototype.delete=Ts,Lc.prototype.get=Lm,Lc.prototype.has=os,Lc.prototype.set=ap,jd=Lc});function Nc(){this.__data__=[],this.size=0}var Sh,Gv=A(()=>{Sh=Nc});function hc(i,l){for(var u=i.length;u--;)if(Nr(i[u][0],l))return u;return-1}var id,Hd=A(()=>{ao(),id=hc});function od(i){var l=this.__data__,u=id(l,i);if(u<0)return!1;var m=l.length-1;return u==m?l.pop():sd.call(l,u,1),--this.size,!0}var Of,sd,Fc,Gd=A(()=>{Hd(),Of=Array.prototype,sd=Of.splice,Fc=od});function pc(i){var l=this.__data__,u=id(l,i);return u<0?void 0:l[u][1]}var va,Uu=A(()=>{Hd(),va=pc});function xh(i){return id(this.__data__,i)>-1}var bh,vu=A(()=>{Hd(),bh=xh});function ju(i,l){var u=this.__data__,m=id(u,i);return m<0?(++this.size,u.push([i,l])):u[m][1]=l,this}var up,cp=A(()=>{Hd(),up=ju});function ya(i){var l=-1,u=i==null?0:i.length;for(this.clear();++l<u;){var m=i[l];this.set(m[0],m[1])}}var Mo,Jr=A(()=>{Gv(),Gd(),Uu(),vu(),cp(),ya.prototype.clear=Sh,ya.prototype.delete=Fc,ya.prototype.get=va,ya.prototype.has=bh,ya.prototype.set=up,Mo=ya}),ii,Fi,uo=A(()=>{Ca(),mn(),ii=ji(Zt,"Map"),Fi=ii});function Go(){this.size=0,this.__data__={hash:new jd,map:new(Fi||Mo),string:new jd}}var ra,ss=A(()=>{Xp(),Jr(),uo(),ra=Go});function Ps(i){var l=typeof i;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?i!=="__proto__":i===null}var mc,ad=A(()=>{mc=Ps});function Bf(i,l){var u=i.__data__;return mc(l)?u[typeof l=="string"?"string":"hash"]:u.map}var Wl,ks=A(()=>{ad(),Wl=Bf});function cl(i){var l=Wl(this,i).delete(i);return this.size-=l?1:0,l}var Df,Hu=A(()=>{ks(),Df=cl});function ld(i){return Wl(this,i).get(i)}var zc,Ia=A(()=>{ks(),zc=ld});function Xl(i){return Wl(this,i).has(i)}var Pl,dl=A(()=>{ks(),Pl=Xl});function ud(i,l){var u=Wl(this,i),m=u.size;return u.set(i,l),this.size+=u.size==m?0:1,this}var Gu,Eh=A(()=>{ks(),Gu=ud});function yu(i){var l=-1,u=i==null?0:i.length;for(this.clear();++l<u;){var m=i[l];this.set(m[0],m[1])}}var Oi,Uo=A(()=>{ss(),Hu(),Ia(),dl(),Eh(),yu.prototype.clear=ra,yu.prototype.delete=Df,yu.prototype.get=zc,yu.prototype.has=Pl,yu.prototype.set=Gu,Oi=yu});function Hs(i,l){if(typeof i!="function"||l!=null&&typeof l!="function")throw new TypeError(Xa);var u=function(){var m=arguments,w=l?l.apply(this,m):m[0],E=u.cache;if(E.has(w))return E.get(w);var T=i.apply(this,m);return u.cache=E.set(w,T)||E,T};return u.cache=new(Hs.Cache||Oi),u}var Xa,Js,Ka=A(()=>{Uo(),Xa="Expected a function",Hs.Cache=Oi,Js=Hs});function Uc(i){var l=Js(i,function(m){return u.size===Yo&&u.clear(),m}),u=l.cache;return l}var Yo,Zs,ds=A(()=>{Ka(),Yo=500,Zs=Uc}),_u,Lf,Vd,cd,Gs=A(()=>{ds(),_u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lf=/\\(\\)?/g,Vd=Zs(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(_u,function(u,m,w,E){l.push(w?E.replace(Lf,"$1"):m||u)}),l}),cd=Vd});function Kp(i){return i==null?"":Cs(i)}var dd,Wd=A(()=>{ms(),dd=Kp});function Vu(i,l){return qi(i)?i:Fd(i,l)?[i]:cd(dd(i))}var kl,Nf=A(()=>{po(),Fu(),Gs(),Wd(),kl=Vu});function Ah(i){if(typeof i=="string"||Gn(i))return i;var l=i+"";return l=="0"&&1/i==-jc?"-0":l}var jc,Wu,gc=A(()=>{Ei(),jc=1/0,Wu=Ah});function Xd(i,l){l=kl(l,i);for(var u=0,m=l.length;i!=null&&u<m;)i=i[Wu(l[u++])];return u&&u==m?i:void 0}var _a,fl=A(()=>{Nf(),gc(),_a=Xd});function Rg(i,l,u){var m=i==null?void 0:_a(i,l);return m===void 0?u:m}var Kd,Ch=A(()=>{fl(),Kd=Rg});function dp(i,l){for(var u=-1,m=l.length,w=i.length;++u<m;)i[w+u]=l[u];return i}var Ff,fp=A(()=>{Ff=dp});function Kl(i){return qi(i)||js(i)||!!(hl&&i&&i[hl])}var hl,zf,Yd=A(()=>{tr(),Ys(),po(),hl=Wn?Wn.isConcatSpreadable:void 0,zf=Kl});function Yl(i,l,u,m,w){var E=-1,T=i.length;for(u||(u=zf),w||(w=[]);++E<T;){var P=i[E];l>0&&u(P)?l>1?Yl(P,l-1,u,m,w):Ff(w,P):m||(w[w.length]=P)}return w}var vc,Xu=A(()=>{fp(),Yd(),vc=Yl}),fd,Mh,Yp=A(()=>{vs(),fd=lo(Object.getPrototypeOf,Object),Mh=fd});function Fm(i){if(!Ct(i)||vr(i)!=Qp)return!1;var l=Mh(i);if(l===null)return!0;var u=qp.call(l,"constructor")&&l.constructor;return typeof u=="function"&&u instanceof u&&pp.call(u)==Og}var Qp,hp,zm,pp,qp,Og,S,s=A(()=>{Wr(),Yp(),Kt(),Qp="[object Object]",hp=Function.prototype,zm=Object.prototype,pp=hp.toString,qp=zm.hasOwnProperty,Og=pp.call(Object),S=Fm});function d(i){var l=Math[i];return function(u,m){if(u=lr(u),m=m==null?0:I(ri(m),292),m&&x(u)){var w=(dd(u)+"e").split("e"),E=l(w[0]+"e"+(+w[1]+m));return w=(dd(E)+"e").split("e"),+(w[0]+"e"+(+w[1]-m))}return l(u)}}var x,I,U,ne=A(()=>{mn(),Hr(),Lr(),Wd(),x=Zt.isFinite,I=Math.min,U=d});function Pe(i,l,u){return i===i&&(u!==void 0&&(i=i<=u?i:u),l!==void 0&&(i=i>=l?i:l)),i}var Je,Tt=A(()=>{Je=Pe});function hn(i,l,u){return u===void 0&&(u=l,l=void 0),u!==void 0&&(u=lr(u),u=u===u?u:0),l!==void 0&&(l=lr(l),l=l===l?l:0),Je(lr(i),l,u)}var kn,dr=A(()=>{Tt(),Lr(),kn=hn});function Dr(){this.__data__=new Mo,this.size=0}var Pr,Ar=A(()=>{Jr(),Pr=Dr});function Zi(i){var l=this.__data__,u=l.delete(i);return this.size=l.size,u}var on,Qe=A(()=>{on=Zi});function tt(i){return this.__data__.get(i)}var kt,In=A(()=>{kt=tt});function sr(i){return this.__data__.has(i)}var kr,Fr=A(()=>{kr=sr});function Ri(i,l){var u=this.__data__;if(u instanceof Mo){var m=u.__data__;if(!Fi||m.length<Ti-1)return m.push([i,l]),this.size=++u.size,this;u=this.__data__=new Oi(m)}return u.set(i,l),this.size=u.size,this}var Ti,$i,hd=A(()=>{Jr(),uo(),Uo(),Ti=200,$i=Ri});function Jp(i){var l=this.__data__=new Mo(i);this.size=l.size}var Bg,Vv=A(()=>{Jr(),Ar(),Qe(),In(),Fr(),hd(),Jp.prototype.clear=Pr,Jp.prototype.delete=on,Jp.prototype.get=kt,Jp.prototype.has=kr,Jp.prototype.set=$i,Bg=Jp});function XM(i,l){for(var u=-1,m=i==null?0:i.length,w=0,E=[];++u<m;){var T=i[u];l(T,u,i)&&(E[w++]=T)}return E}var Jw,Zw=A(()=>{Jw=XM});function Lb(){return[]}var Wv,Zp=A(()=>{Wv=Lb}),Nb,$w,Xv,eS,tS,Kv=A(()=>{Zw(),Zp(),Nb=Object.prototype,$w=Nb.propertyIsEnumerable,Xv=Object.getOwnPropertySymbols,eS=Xv?function(i){return i==null?[]:(i=Object(i),Jw(Xv(i),function(l){return $w.call(i,l)}))}:Wv,tS=eS});function yc(i,l,u){var m=l(i);return qi(i)?m:Ff(m,u(i))}var Fb,KM=A(()=>{fp(),po(),Fb=yc});function C1(i){return Fb(i,Nd,tS)}var Ql,YM=A(()=>{KM(),Kv(),nd(),Ql=C1}),ei,$p,zb=A(()=>{Ca(),mn(),ei=ji(Zt,"DataView"),$p=ei}),nS,Yv,Qv=A(()=>{Ca(),mn(),nS=ji(Zt,"Promise"),Yv=nS}),qv,em,rS=A(()=>{Ca(),mn(),qv=ji(Zt,"Set"),em=qv}),M1,T1,Jv,Zv,ql,Qd,mp,iS,oS,Uf,P1,Ku,sS,Ub=A(()=>{zb(),uo(),Qv(),rS(),cs(),Wr(),La(),M1="[object Map]",T1="[object Object]",Jv="[object Promise]",Zv="[object Set]",ql="[object WeakMap]",Qd="[object DataView]",mp=No($p),iS=No(Fi),oS=No(Yv),Uf=No(em),P1=No(Po),Ku=vr,($p&&Ku(new $p(new ArrayBuffer(1)))!=Qd||Fi&&Ku(new Fi)!=M1||Yv&&Ku(Yv.resolve())!=Jv||em&&Ku(new em)!=Zv||Po&&Ku(new Po)!=ql)&&(Ku=function(i){var l=vr(i),u=l==T1?i.constructor:void 0,m=u?No(u):"";if(m)switch(m){case mp:return Qd;case iS:return M1;case oS:return Jv;case Uf:return Zv;case P1:return ql}return l}),sS=Ku}),aS,k1,jb=A(()=>{mn(),aS=Zt.Uint8Array,k1=aS});function QM(i){return this.__data__.set(i,$v),this}var $v,I1,jf=A(()=>{$v="__lodash_hash_undefined__",I1=QM});function Qo(i){return this.__data__.has(i)}var Jl,Il=A(()=>{Jl=Qo});function Rl(i){var l=-1,u=i==null?0:i.length;for(this.__data__=new Oi;++l<u;)this.add(i[l])}var Hc,Dg=A(()=>{Uo(),jf(),Il(),Rl.prototype.add=Rl.prototype.push=I1,Rl.prototype.has=Jl,Hc=Rl});function ro(i,l){for(var u=-1,m=i==null?0:i.length;++u<m;)if(l(i[u],u,i))return!0;return!1}var tm,Lg=A(()=>{tm=ro});function R1(i,l){return i.has(l)}var ey,H0=A(()=>{ey=R1});function pd(i,l,u,m,w,E){var T=u&O1,P=i.length,L=l.length;if(P!=L&&!(T&&L>P))return!1;var j=E.get(i),K=E.get(l);if(j&&K)return j==l&&K==i;var Z=-1,q=!0,X=u&Ng?new Hc:void 0;for(E.set(i,l),E.set(l,i);++Z<P;){var ee=i[Z],$=l[Z];if(m)var re=T?m($,ee,Z,l,i,E):m(ee,$,Z,i,l,E);if(re!==void 0){if(re)continue;q=!1;break}if(X){if(!tm(l,function(se,fe){if(!ey(X,fe)&&(ee===se||w(ee,se,u,m,E)))return X.push(fe)})){q=!1;break}}else if(!(ee===$||w(ee,$,u,m,E))){q=!1;break}}return E.delete(i),E.delete(l),q}var O1,Ng,Th,ty=A(()=>{Dg(),Lg(),H0(),O1=1,Ng=2,Th=pd});function lS(i){var l=-1,u=Array(i.size);return i.forEach(function(m,w){u[++l]=[w,m]}),u}var Hf,B1=A(()=>{Hf=lS});function Um(i){var l=-1,u=Array(i.size);return i.forEach(function(m){u[++l]=m}),u}var Fg,zg=A(()=>{Fg=Um});function uS(i,l,u,m,w,E,T){switch(u){case N1:if(i.byteLength!=l.byteLength||i.byteOffset!=l.byteOffset)return!1;i=i.buffer,l=l.buffer;case dS:return!(i.byteLength!=l.byteLength||!E(new k1(i),new k1(l)));case _c:case gp:case cS:return Nr(+i,+l);case Gf:return i.name==l.name&&i.message==l.message;case D1:case Hb:return i==l+"";case Gc:var P=Hf;case L1:var L=m&ny;if(P||(P=Fg),i.size!=l.size&&!L)return!1;var j=T.get(i);if(j)return j==l;m|=ry,T.set(i,l);var K=Th(P(i),P(l),m,w,E,T);return T.delete(i),K;case nm:if(G0)return G0.call(i)==G0.call(l)}return!1}var ny,ry,_c,gp,Gf,Gc,cS,D1,L1,Hb,nm,dS,N1,rm,G0,jm,Gb=A(()=>{tr(),jb(),ao(),ty(),B1(),zg(),ny=1,ry=2,_c="[object Boolean]",gp="[object Date]",Gf="[object Error]",Gc="[object Map]",cS="[object Number]",D1="[object RegExp]",L1="[object Set]",Hb="[object String]",nm="[object Symbol]",dS="[object ArrayBuffer]",N1="[object DataView]",rm=Wn?Wn.prototype:void 0,G0=rm?rm.valueOf:void 0,jm=uS});function Vb(i,l,u,m,w,E){var T=u&F1,P=Ql(i),L=P.length,j=Ql(l),K=j.length;if(L!=K&&!T)return!1;for(var Z=L;Z--;){var q=P[Z];if(!(T?q in l:Wb.call(l,q)))return!1}var X=E.get(i),ee=E.get(l);if(X&&ee)return X==l&&ee==i;var $=!0;E.set(i,l),E.set(l,i);for(var re=T;++Z<L;){q=P[Z];var se=i[q],fe=l[q];if(m)var ye=T?m(fe,se,q,l,i,E):m(se,fe,q,i,l,E);if(!(ye===void 0?se===fe||w(se,fe,u,m,E):ye)){$=!1;break}re||(re=q=="constructor")}if($&&!re){var Oe=i.constructor,Ie=l.constructor;Oe!=Ie&&"constructor"in i&&"constructor"in l&&!(typeof Oe=="function"&&Oe instanceof Oe&&typeof Ie=="function"&&Ie instanceof Ie)&&($=!1)}return E.delete(i),E.delete(l),$}var F1,iy,Wb,fS,z1=A(()=>{YM(),F1=1,iy=Object.prototype,Wb=iy.hasOwnProperty,fS=Vb});function Xb(i,l,u,m,w,E){var T=qi(i),P=qi(l),L=T?Gm:sS(i),j=P?Gm:sS(l);L=L==hS?V0:L,j=j==hS?V0:j;var K=L==V0,Z=j==V0,q=L==j;if(q&&ph(i)){if(!ph(l))return!1;T=!0,K=!1}if(q&&!K)return E||(E=new Bg),T||dc(i)?Th(i,l,u,m,w,E):jm(i,l,L,u,m,w,E);if(!(u&Hm)){var X=K&&pS.call(i,"__wrapped__"),ee=Z&&pS.call(l,"__wrapped__");if(X||ee){var $=X?i.value():i,re=ee?l.value():l;return E||(E=new Bg),w($,re,u,m,E)}}return q?(E||(E=new Bg),fS(i,l,u,m,w,E)):!1}var Hm,hS,Gm,V0,Ra,pS,mS,Kb=A(()=>{Vv(),ty(),Gb(),z1(),Ub(),po(),qh(),If(),Hm=1,hS="[object Arguments]",Gm="[object Array]",V0="[object Object]",Ra=Object.prototype,pS=Ra.hasOwnProperty,mS=Xb});function gS(i,l,u,m,w){return i===l?!0:i==null||l==null||!Ct(i)&&!Ct(l)?i!==i&&l!==l:mS(i,l,u,m,gS,w)}var Ug,vS=A(()=>{Kb(),Kt(),Ug=gS});function Yb(i,l,u,m){var w=u.length,E=w,T=!m;if(i==null)return!E;for(i=Object(i);w--;){var P=u[w];if(T&&P[2]?P[1]!==i[P[0]]:!(P[0]in i))return!1}for(;++w<E;){P=u[w];var L=P[0],j=i[L],K=P[1];if(T&&P[2]){if(j===void 0&&!(L in i))return!1}else{var Z=new Bg;if(m)var q=m(j,K,L,i,l,Z);if(!(q===void 0?Ug(K,j,qd|U1,m,Z):q))return!1}}return!0}var qd,U1,yS,im=A(()=>{Vv(),vS(),qd=1,U1=2,yS=Yb});function j1(i){return i===i&&!tn(i)}var om,oy=A(()=>{rn(),om=j1});function _S(i){for(var l=Nd(i),u=l.length;u--;){var m=l[u],w=i[m];l[u]=[m,w,om(w)]}return l}var H1,Qb=A(()=>{oy(),nd(),H1=_S});function wS(i,l){return function(u){return u==null?!1:u[i]===l&&(l!==void 0||i in Object(u))}}var SS,xS=A(()=>{SS=wS});function bS(i){var l=H1(i);return l.length==1&&l[0][2]?SS(l[0][0],l[0][1]):function(u){return u===i||yS(u,i,l)}}var sy,G1=A(()=>{im(),Qb(),xS(),sy=bS});function qb(i,l){return i!=null&&l in Object(i)}var V1,qM=A(()=>{V1=qb});function Jb(i,l,u){l=kl(l,i);for(var m=-1,w=l.length,E=!1;++m<w;){var T=Wu(l[m]);if(!(E=i!=null&&u(i,T)))break;i=i[T]}return E||++m!=w?E:(w=i==null?0:i.length,!!w&&lc(w)&&jt(T,w)&&(qi(i)||js(i)))}var W1,X1=A(()=>{Nf(),Ys(),po(),Dn(),na(),gc(),W1=Jb});function ES(i,l){return i!=null&&W1(i,l,V1)}var ay,Zb=A(()=>{qM(),X1(),ay=ES});function JM(i,l){return Fd(i)&&om(l)?SS(Wu(i),l):function(u){var m=Kd(u,i);return m===void 0&&m===l?ay(u,i):Ug(l,m,ly|AS)}}var ly,AS,W0,ZM=A(()=>{vS(),Ch(),Zb(),Fu(),oy(),xS(),gc(),ly=1,AS=2,W0=JM});function uy(i){return function(l){return l==null?void 0:l[i]}}var f,v=A(()=>{f=uy});function R(i){return function(l){return _a(l,i)}}var V,ie=A(()=>{fl(),V=R});function he(i){return Fd(i)?f(Wu(i)):V(i)}var Ne,St=A(()=>{v(),ie(),Fu(),gc(),Ne=he});function Bt(i){return typeof i=="function"?i:i==null?Ai:typeof i=="object"?qi(i)?W0(i[0],i[1]):sy(i):Ne(i)}var wn,Zn=A(()=>{G1(),ZM(),Ni(),po(),St(),wn=Bt});function yr(i,l,u,m){for(var w=-1,E=i==null?0:i.length;++w<E;){var T=i[w];l(m,T,u(T),i)}return m}var ar,qr=A(()=>{ar=yr});function oi(i){return function(l,u,m){for(var w=-1,E=Object(l),T=m(l),P=T.length;P--;){var L=T[i?P:++w];if(u(E[L],L,E)===!1)break}return l}}var li,pl=A(()=>{li=oi}),sn,zt,yn=A(()=>{pl(),sn=li(),zt=sn});function Cr(i,l){return i&&zt(i,l,Nd)}var fi,Bi=A(()=>{yn(),nd(),fi=Cr});function zi(i,l){return function(u,m){if(u==null)return u;if(!Me(u))return i(u,m);for(var w=u.length,E=l?w:-1,T=Object(u);(l?E--:++E<w)&&m(T[E],E,T)!==!1;);return u}}var Wi,wu=A(()=>{rt(),Wi=zi}),qo,vp,$b=A(()=>{Bi(),wu(),qo=Wi(fi),vp=qo});function n3(i,l,u,m){return vp(i,function(w,E,T){l(m,w,u(w),T)}),m}var r3,jF=A(()=>{$b(),r3=n3});function i3(i,l){return function(u,m){var w=qi(u)?ar:r3,E=l?l():{};return w(u,i,wn(m,2),E)}}var o3,HF=A(()=>{qr(),jF(),Zn(),po(),o3=i3}),s3,eE,GF=A(()=>{mn(),s3=function(){return Zt.Date.now()},eE=s3});function VF(i,l,u){var m,w,E,T,P,L,j=0,K=!1,Z=!1,q=!0;if(typeof i!="function")throw new TypeError(tE);l=lr(l)||0,tn(u)&&(K=!!u.leading,Z="maxWait"in u,E=Z?nE(lr(u.maxWait)||0,l):E,q="trailing"in u?!!u.trailing:q);function X(je){var yt=m,st=w;return m=w=void 0,j=je,T=i.apply(st,yt),T}function ee(je){return j=je,P=setTimeout(se,l),K?X(je):T}function $(je){var yt=je-L,st=je-j,ft=l-yt;return Z?a3(ft,E-st):ft}function re(je){var yt=je-L,st=je-j;return L===void 0||yt>=l||yt<0||Z&&st>=E}function se(){var je=eE();if(re(je))return fe(je);P=setTimeout(se,$(je))}function fe(je){return P=void 0,q&&m?X(je):(m=w=void 0,T)}function ye(){P!==void 0&&clearTimeout(P),j=0,m=L=w=P=void 0}function Oe(){return P===void 0?T:fe(eE())}function Ie(){var je=eE(),yt=re(je);if(m=arguments,w=this,L=je,yt){if(P===void 0)return ee(L);if(Z)return clearTimeout(P),P=setTimeout(se,l),X(L)}return P===void 0&&(P=setTimeout(se,l)),T}return Ie.cancel=ye,Ie.flush=Oe,Ie}var tE,nE,a3,rE,$M=A(()=>{rn(),GF(),Lr(),tE="Expected a function",nE=Math.max,a3=Math.min,rE=VF});function l3(i,l,u){for(var m=-1,w=i==null?0:i.length;++m<w;)if(u(l,i[m]))return!0;return!1}var u3,c3=A(()=>{u3=l3});function d3(i){var l=i==null?0:i.length;return l?i[l-1]:void 0}var cy,iE=A(()=>{cy=d3});function WF(i,l,u){var m=i==null?0:i.length;if(!m)return-1;var w=u==null?0:ri(u);return w<0&&(w=eT(m+w,0)),fu(i,wn(l,3),w)}var eT,tT,XF=A(()=>{kc(),Zn(),Hr(),eT=Math.max,tT=WF});function KF(i,l,u){var m=i==null?0:i.length;if(!m)return-1;var w=m-1;return u!==void 0&&(w=ri(u),w=u<0?nT(m+w,0):f3(w,m-1)),fu(i,wn(l,3),w,!0)}var nT,f3,h3,YF=A(()=>{kc(),Zn(),Hr(),nT=Math.max,f3=Math.min,h3=KF});function QF(i,l){var u=-1,m=Me(i)?Array(i.length):[];return vp(i,function(w,E,T){m[++u]=l(w,E,T)}),m}var K1,qF=A(()=>{$b(),rt(),K1=QF});function p3(i,l,u){return i>=g3(l,u)&&i<m3(l,u)}var m3,g3,v3,oE=A(()=>{m3=Math.max,g3=Math.min,v3=p3});function rT(i,l,u){return l=jr(l),u===void 0?(u=l,l=0):u=jr(u),i=lr(i),v3(i,l,u)}var iT,JF=A(()=>{oE(),Qn(),Lr(),iT=rT});function wa(i){return typeof i=="number"&&i==ri(i)}var Vf,Ph=A(()=>{Hr(),Vf=wa}),X0,Is,jg=A(()=>{Gr(),HF(),X0=o3(function(i,l,u){Xr(i,u,l)}),Is=X0});function y3(i,l){var u={};return l=wn(l,3),fi(i,function(m,w,E){Xr(u,w,l(m,w,E))}),u}var dy,_3=A(()=>{Gr(),Bi(),Zn(),dy=y3});function ZF(i,l,u,m){if(!tn(i))return i;l=kl(l,i);for(var w=-1,E=l.length,T=E-1,P=i;P!=null&&++w<E;){var L=Wu(l[w]),j=u;if(L==="__proto__"||L==="constructor"||L==="prototype")return i;if(w!=T){var K=P[L];j=m?m(K,L,P):void 0,j===void 0&&(j=tn(K)?K:jt(l[w+1])?[]:{})}mo(P,L,j),P=P[L]}return i}var w3,$F=A(()=>{il(),Nf(),Dn(),rn(),gc(),w3=ZF});function S3(i,l){var u=i.length;for(i.sort(l);u--;)i[u]=i[u].value;return i}var oT,sE=A(()=>{oT=S3});function x3(i,l){if(i!==l){var u=i!==void 0,m=i===null,w=i===i,E=Gn(i),T=l!==void 0,P=l===null,L=l===l,j=Gn(l);if(!P&&!j&&!E&&i>l||E&&T&&L&&!P&&!j||m&&T&&L||!u&&L||!w)return 1;if(!m&&!E&&!j&&i<l||j&&u&&w&&!m&&!E||P&&u&&w||!T&&w||!L)return-1}return 0}var b3,E3=A(()=>{Ei(),b3=x3});function A3(i,l,u){for(var m=-1,w=i.criteria,E=l.criteria,T=w.length,P=u.length;++m<T;){var L=b3(w[m],E[m]);if(L){if(m>=P)return L;var j=u[m];return L*(j=="desc"?-1:1)}}return i.index-l.index}var sT,ez=A(()=>{E3(),sT=A3});function tz(i,l,u){l.length?l=eo(l,function(E){return qi(E)?function(T){return _a(T,E.length===1?E[0]:E)}:E}):l=[Ai];var m=-1;l=eo(l,Pf(wn));var w=K1(i,function(E,T,P){var L=eo(l,function(j){return j(E)});return{criteria:L,index:++m,value:E}});return oT(w,function(E,T){return sT(E,T,u)})}var aT,nz=A(()=>{Vo(),fl(),Zn(),qF(),sE(),tp(),ez(),Ni(),po(),aT=tz});function rz(i,l,u,m){for(var w=u-1,E=i.length;++w<E;)if(m(i[w],l))return w;return-1}var Y1,C3=A(()=>{Y1=rz});function iz(i,l,u,m){var w=m?Y1:Pa,E=-1,T=l.length,P=i;for(i===l&&(l=fa(l)),u&&(P=eo(i,Pf(u)));++E<T;)for(var L=0,j=l[E],K=u?u(j):j;(L=w(P,K,L,m))>-1;)P!==i&&Yu.call(P,L,1),Yu.call(i,L,1);return i}var M3,Yu,Hg,oz=A(()=>{Vo(),zl(),C3(),tp(),Ws(),M3=Array.prototype,Yu=M3.splice,Hg=iz});function aE(i,l){return i&&i.length&&l&&l.length?Hg(i,l):i}var T3,sz=A(()=>{oz(),T3=aE}),P3,k3,lT=A(()=>{ac(),sz(),P3=Ml(T3),k3=P3}),I3,CS,Q1=A(()=>{ne(),I3=U("round"),CS=I3});function az(i,l,u){return i==null?i:w3(i,l,u)}var q1,lE=A(()=>{$F(),q1=az}),uE,R3,cE=A(()=>{Xu(),nz(),ac(),gi(),uE=Ml(function(i,l){if(i==null)return[];var u=l.length;return u>1&&Sn(i,l[0],l[1])?l=[]:u>2&&Sn(l[0],l[1],l[2])&&(l=[l[0]]),aT(i,vc(l,1),[])}),R3=uE}),uT,cT,O3,lz=A(()=>{rS(),Pc(),zg(),uT=1/0,cT=em&&1/Fg(new em([,-0]))[1]==uT?function(i){return new em(i)}:Ta,O3=cT});function uz(i,l,u){var m=-1,w=ue,E=i.length,T=!0,P=[],L=P;if(u)T=!1,w=u3;else if(E>=B3){var j=l?null:O3(i);if(j)return Fg(j);T=!1,w=ey,L=new Hc}else L=l?[]:P;e:for(;++m<E;){var K=i[m],Z=l?l(K):K;if(K=u||K!==0?K:0,T&&Z===Z){for(var q=L.length;q--;)if(L[q]===Z)continue e;l&&L.push(Z),P.push(K)}else w(L,Z,u)||(L!==P&&L.push(Z),P.push(K))}return P}var B3,D3,cz=A(()=>{Dg(),Ce(),c3(),H0(),lz(),zg(),B3=200,D3=uz});function dz(i){return i&&i.length?D3(i):[]}var Wf,fy=A(()=>{cz(),Wf=dz}),Ya=A(()=>{dr(),$M(),XF(),JF(),Ph(),s(),iE(),_3(),Ka(),Q1(),fy()}),dT=G((i,l)=>{var u;l.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:ru):m=>(u||(u=Promise.resolve())).then(m).catch(w=>setTimeout(()=>{throw w},0))}),L3=G(i=>{var l=Symbol.for("react.element"),u=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),P=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),q=Symbol.iterator;function X(Xe){return Xe===null||typeof Xe!="object"?null:(Xe=q&&Xe[q]||Xe["@@iterator"],typeof Xe=="function"?Xe:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,re={};function se(Xe,nt,un){this.props=Xe,this.context=nt,this.refs=re,this.updater=un||ee}se.prototype.isReactComponent={},se.prototype.setState=function(Xe,nt){if(typeof Xe!="object"&&typeof Xe!="function"&&Xe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Xe,nt,"setState")},se.prototype.forceUpdate=function(Xe){this.updater.enqueueForceUpdate(this,Xe,"forceUpdate")};function fe(){}fe.prototype=se.prototype;function ye(Xe,nt,un){this.props=Xe,this.context=nt,this.refs=re,this.updater=un||ee}var Oe=ye.prototype=new fe;Oe.constructor=ye,$(Oe,se.prototype),Oe.isPureReactComponent=!0;var Ie=Array.isArray,je=Object.prototype.hasOwnProperty,yt={current:null},st={key:!0,ref:!0,__self:!0,__source:!0};function ft(Xe,nt,un){var pn,xn={},Yt=null,Yr=null;if(nt!=null)for(pn in nt.ref!==void 0&&(Yr=nt.ref),nt.key!==void 0&&(Yt=""+nt.key),nt)je.call(nt,pn)&&!st.hasOwnProperty(pn)&&(xn[pn]=nt[pn]);var Nn=arguments.length-2;if(Nn===1)xn.children=un;else if(1<Nn){for(var Ur=Array(Nn),vi=0;vi<Nn;vi++)Ur[vi]=arguments[vi+2];xn.children=Ur}if(Xe&&Xe.defaultProps)for(pn in Nn=Xe.defaultProps,Nn)xn[pn]===void 0&&(xn[pn]=Nn[pn]);return{$$typeof:l,type:Xe,key:Yt,ref:Yr,props:xn,_owner:yt.current}}function It(Xe,nt){return{$$typeof:l,type:Xe.type,key:nt,ref:Xe.ref,props:Xe.props,_owner:Xe._owner}}function vn(Xe){return typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===l}function We(Xe){var nt={"=":"=0",":":"=2"};return"$"+Xe.replace(/[=:]/g,function(un){return nt[un]})}var Pt=/\/+/g;function be(Xe,nt){return typeof Xe=="object"&&Xe!==null&&Xe.key!=null?We(""+Xe.key):nt.toString(36)}function Ht(Xe,nt,un,pn,xn){var Yt=typeof Xe;(Yt==="undefined"||Yt==="boolean")&&(Xe=null);var Yr=!1;if(Xe===null)Yr=!0;else switch(Yt){case"string":case"number":Yr=!0;break;case"object":switch(Xe.$$typeof){case l:case u:Yr=!0}}if(Yr)return Yr=Xe,xn=xn(Yr),Xe=pn===""?"."+be(Yr,0):pn,Ie(xn)?(un="",Xe!=null&&(un=Xe.replace(Pt,"$&/")+"/"),Ht(xn,nt,un,"",function(vi){return vi})):xn!=null&&(vn(xn)&&(xn=It(xn,un+(!xn.key||Yr&&Yr.key===xn.key?"":(""+xn.key).replace(Pt,"$&/")+"/")+Xe)),nt.push(xn)),1;if(Yr=0,pn=pn===""?".":pn+":",Ie(Xe))for(var Nn=0;Nn<Xe.length;Nn++){Yt=Xe[Nn];var Ur=pn+be(Yt,Nn);Yr+=Ht(Yt,nt,un,Ur,xn)}else if(Ur=X(Xe),typeof Ur=="function")for(Xe=Ur.call(Xe),Nn=0;!(Yt=Xe.next()).done;)Yt=Yt.value,Ur=pn+be(Yt,Nn++),Yr+=Ht(Yt,nt,un,Ur,xn);else if(Yt==="object")throw nt=String(Xe),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(Xe).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.");return Yr}function hr(Xe,nt,un){if(Xe==null)return Xe;var pn=[],xn=0;return Ht(Xe,pn,"","",function(Yt){return nt.call(un,Yt,xn++)}),pn}function bt(Xe){if(Xe._status===-1){var nt=Xe._result;nt=nt(),nt.then(function(un){(Xe._status===0||Xe._status===-1)&&(Xe._status=1,Xe._result=un)},function(un){(Xe._status===0||Xe._status===-1)&&(Xe._status=2,Xe._result=un)}),Xe._status===-1&&(Xe._status=0,Xe._result=nt)}if(Xe._status===1)return Xe._result.default;throw Xe._result}var Et={current:null},Vt={transition:null},zn={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Vt,ReactCurrentOwner:yt};i.Children={map:hr,forEach:function(Xe,nt,un){hr(Xe,function(){nt.apply(this,arguments)},un)},count:function(Xe){var nt=0;return hr(Xe,function(){nt++}),nt},toArray:function(Xe){return hr(Xe,function(nt){return nt})||[]},only:function(Xe){if(!vn(Xe))throw Error("React.Children.only expected to receive a single React element child.");return Xe}},i.Component=se,i.Fragment=m,i.Profiler=E,i.PureComponent=ye,i.StrictMode=w,i.Suspense=j,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zn,i.cloneElement=function(Xe,nt,un){if(Xe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Xe+".");var pn=$({},Xe.props),xn=Xe.key,Yt=Xe.ref,Yr=Xe._owner;if(nt!=null){if(nt.ref!==void 0&&(Yt=nt.ref,Yr=yt.current),nt.key!==void 0&&(xn=""+nt.key),Xe.type&&Xe.type.defaultProps)var Nn=Xe.type.defaultProps;for(Ur in nt)je.call(nt,Ur)&&!st.hasOwnProperty(Ur)&&(pn[Ur]=nt[Ur]===void 0&&Nn!==void 0?Nn[Ur]:nt[Ur])}var Ur=arguments.length-2;if(Ur===1)pn.children=un;else if(1<Ur){Nn=Array(Ur);for(var vi=0;vi<Ur;vi++)Nn[vi]=arguments[vi+2];pn.children=Nn}return{$$typeof:l,type:Xe.type,key:xn,ref:Yt,props:pn,_owner:Yr}},i.createContext=function(Xe){return Xe={$$typeof:P,_currentValue:Xe,_currentValue2:Xe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Xe.Provider={$$typeof:T,_context:Xe},Xe.Consumer=Xe},i.createElement=ft,i.createFactory=function(Xe){var nt=ft.bind(null,Xe);return nt.type=Xe,nt},i.createRef=function(){return{current:null}},i.forwardRef=function(Xe){return{$$typeof:L,render:Xe}},i.isValidElement=vn,i.lazy=function(Xe){return{$$typeof:Z,_payload:{_status:-1,_result:Xe},_init:bt}},i.memo=function(Xe,nt){return{$$typeof:K,type:Xe,compare:nt===void 0?null:nt}},i.startTransition=function(Xe){var nt=Vt.transition;Vt.transition={};try{Xe()}finally{Vt.transition=nt}},i.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},i.useCallback=function(Xe,nt){return Et.current.useCallback(Xe,nt)},i.useContext=function(Xe){return Et.current.useContext(Xe)},i.useDebugValue=function(){},i.useDeferredValue=function(Xe){return Et.current.useDeferredValue(Xe)},i.useEffect=function(Xe,nt){return Et.current.useEffect(Xe,nt)},i.useId=function(){return Et.current.useId()},i.useImperativeHandle=function(Xe,nt,un){return Et.current.useImperativeHandle(Xe,nt,un)},i.useInsertionEffect=function(Xe,nt){return Et.current.useInsertionEffect(Xe,nt)},i.useLayoutEffect=function(Xe,nt){return Et.current.useLayoutEffect(Xe,nt)},i.useMemo=function(Xe,nt){return Et.current.useMemo(Xe,nt)},i.useReducer=function(Xe,nt,un){return Et.current.useReducer(Xe,nt,un)},i.useRef=function(Xe){return Et.current.useRef(Xe)},i.useState=function(Xe){return Et.current.useState(Xe)},i.useSyncExternalStore=function(Xe,nt,un){return Et.current.useSyncExternalStore(Xe,nt,un)},i.useTransition=function(){return Et.current.useTransition()},i.version="18.2.0"}),Rt=G((i,l)=>{l.exports=L3()}),N3=G(i=>{function l(Et,Vt){var zn=Et.length;Et.push(Vt);e:for(;0<zn;){var Xe=zn-1>>>1,nt=Et[Xe];if(0<w(nt,Vt))Et[Xe]=Vt,Et[zn]=nt,zn=Xe;else break e}}function u(Et){return Et.length===0?null:Et[0]}function m(Et){if(Et.length===0)return null;var Vt=Et[0],zn=Et.pop();if(zn!==Vt){Et[0]=zn;e:for(var Xe=0,nt=Et.length,un=nt>>>1;Xe<un;){var pn=2*(Xe+1)-1,xn=Et[pn],Yt=pn+1,Yr=Et[Yt];if(0>w(xn,zn))Yt<nt&&0>w(Yr,xn)?(Et[Xe]=Yr,Et[Yt]=zn,Xe=Yt):(Et[Xe]=xn,Et[pn]=zn,Xe=pn);else if(Yt<nt&&0>w(Yr,zn))Et[Xe]=Yr,Et[Yt]=zn,Xe=Yt;else break e}}return Vt}function w(Et,Vt){var zn=Et.sortIndex-Vt.sortIndex;return zn!==0?zn:Et.id-Vt.id}typeof performance=="object"&&typeof performance.now=="function"?(E=performance,i.unstable_now=function(){return E.now()}):(T=Date,P=T.now(),i.unstable_now=function(){return T.now()-P});var E,T,P,L=[],j=[],K=1,Z=null,q=3,X=!1,ee=!1,$=!1,re=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ye(Et){for(var Vt=u(j);Vt!==null;){if(Vt.callback===null)m(j);else if(Vt.startTime<=Et)m(j),Vt.sortIndex=Vt.expirationTime,l(L,Vt);else break;Vt=u(j)}}function Oe(Et){if($=!1,ye(Et),!ee)if(u(L)!==null)ee=!0,hr(Ie);else{var Vt=u(j);Vt!==null&&bt(Oe,Vt.startTime-Et)}}function Ie(Et,Vt){ee=!1,$&&($=!1,se(st),st=-1),X=!0;var zn=q;try{for(ye(Vt),Z=u(L);Z!==null&&(!(Z.expirationTime>Vt)||Et&&!vn());){var Xe=Z.callback;if(typeof Xe=="function"){Z.callback=null,q=Z.priorityLevel;var nt=Xe(Z.expirationTime<=Vt);Vt=i.unstable_now(),typeof nt=="function"?Z.callback=nt:Z===u(L)&&m(L),ye(Vt)}else m(L);Z=u(L)}if(Z!==null)var un=!0;else{var pn=u(j);pn!==null&&bt(Oe,pn.startTime-Vt),un=!1}return un}finally{Z=null,q=zn,X=!1}}var je=!1,yt=null,st=-1,ft=5,It=-1;function vn(){return!(i.unstable_now()-It<ft)}function We(){if(yt!==null){var Et=i.unstable_now();It=Et;var Vt=!0;try{Vt=yt(!0,Et)}finally{Vt?Pt():(je=!1,yt=null)}}else je=!1}var Pt;typeof fe=="function"?Pt=function(){fe(We)}:typeof MessageChannel<"u"?(be=new MessageChannel,Ht=be.port2,be.port1.onmessage=We,Pt=function(){Ht.postMessage(null)}):Pt=function(){re(We,0)};var be,Ht;function hr(Et){yt=Et,je||(je=!0,Pt())}function bt(Et,Vt){st=re(function(){Et(i.unstable_now())},Vt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Et){Et.callback=null},i.unstable_continueExecution=function(){ee||X||(ee=!0,hr(Ie))},i.unstable_forceFrameRate=function(Et){0>Et||125<Et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<Et?Math.floor(1e3/Et):5},i.unstable_getCurrentPriorityLevel=function(){return q},i.unstable_getFirstCallbackNode=function(){return u(L)},i.unstable_next=function(Et){switch(q){case 1:case 2:case 3:var Vt=3;break;default:Vt=q}var zn=q;q=Vt;try{return Et()}finally{q=zn}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(Et,Vt){switch(Et){case 1:case 2:case 3:case 4:case 5:break;default:Et=3}var zn=q;q=Et;try{return Vt()}finally{q=zn}},i.unstable_scheduleCallback=function(Et,Vt,zn){var Xe=i.unstable_now();switch(typeof zn=="object"&&zn!==null?(zn=zn.delay,zn=typeof zn=="number"&&0<zn?Xe+zn:Xe):zn=Xe,Et){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=zn+nt,Et={id:K++,callback:Vt,priorityLevel:Et,startTime:zn,expirationTime:nt,sortIndex:-1},zn>Xe?(Et.sortIndex=zn,l(j,Et),u(L)===null&&Et===u(j)&&($?(se(st),st=-1):$=!0,bt(Oe,zn-Xe))):(Et.sortIndex=nt,l(L,Et),ee||X||(ee=!0,hr(Ie))),Et},i.unstable_shouldYield=vn,i.unstable_wrapCallback=function(Et){var Vt=q;return function(){var zn=q;q=Vt;try{return Et.apply(this,arguments)}finally{q=zn}}}}),fz=G((i,l)=>{l.exports=N3()}),fT=G(i=>{var l=Rt(),u=fz();function m(h){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+h,O=1;O<arguments.length;O++)y+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+h+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w=new Set,E={};function T(h,y){P(h,y),P(h+"Capture",y)}function P(h,y){for(E[h]=y,h=0;h<y.length;h++)w.add(y[h])}var L=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j=Object.prototype.hasOwnProperty,K=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z={},q={};function X(h){return j.call(q,h)?!0:j.call(Z,h)?!1:K.test(h)?q[h]=!0:(Z[h]=!0,!1)}function ee(h,y,O,W){if(O!==null&&O.type===0)return!1;switch(typeof y){case"function":case"symbol":return!0;case"boolean":return W?!1:O!==null?!O.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function $(h,y,O,W){if(y===null||typeof y>"u"||ee(h,y,O,W))return!0;if(W)return!1;if(O!==null)switch(O.type){case 3:return!y;case 4:return y===!1;case 5:return isNaN(y);case 6:return isNaN(y)||1>y}return!1}function re(h,y,O,W,oe,pe,ze){this.acceptsBooleans=y===2||y===3||y===4,this.attributeName=W,this.attributeNamespace=oe,this.mustUseProperty=O,this.propertyName=h,this.type=y,this.sanitizeURL=pe,this.removeEmptyString=ze}var se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){se[h]=new re(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var y=h[0];se[y]=new re(y,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){se[h]=new re(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){se[h]=new re(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){se[h]=new re(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){se[h]=new re(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){se[h]=new re(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){se[h]=new re(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){se[h]=new re(h,5,!1,h.toLowerCase(),null,!1,!1)});var fe=/[\-:]([a-z])/g;function ye(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var y=h.replace(fe,ye);se[y]=new re(y,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var y=h.replace(fe,ye);se[y]=new re(y,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var y=h.replace(fe,ye);se[y]=new re(y,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){se[h]=new re(h,1,!1,h.toLowerCase(),null,!1,!1)}),se.xlinkHref=new re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){se[h]=new re(h,1,!1,h.toLowerCase(),null,!0,!0)});function Oe(h,y,O,W){var oe=se.hasOwnProperty(y)?se[y]:null;(oe!==null?oe.type!==0:W||!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&($(y,O,oe,W)&&(O=null),W||oe===null?X(y)&&(O===null?h.removeAttribute(y):h.setAttribute(y,""+O)):oe.mustUseProperty?h[oe.propertyName]=O===null?oe.type===3?!1:"":O:(y=oe.attributeName,W=oe.attributeNamespace,O===null?h.removeAttribute(y):(oe=oe.type,O=oe===3||oe===4&&O===!0?"":""+O,W?h.setAttributeNS(W,y,O):h.setAttribute(y,O))))}var Ie=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,je=Symbol.for("react.element"),yt=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),ft=Symbol.for("react.strict_mode"),It=Symbol.for("react.profiler"),vn=Symbol.for("react.provider"),We=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Ht=Symbol.for("react.suspense_list"),hr=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),Vt=Symbol.iterator;function zn(h){return h===null||typeof h!="object"?null:(h=Vt&&h[Vt]||h["@@iterator"],typeof h=="function"?h:null)}var Xe=Object.assign,nt;function un(h){if(nt===void 0)try{throw Error()}catch(O){var y=O.stack.trim().match(/\n( *(at )?)/);nt=y&&y[1]||""}return`
`+nt+h}var pn=!1;function xn(h,y){if(!h||pn)return"";pn=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(Pn){var W=Pn}Reflect.construct(h,[],y)}else{try{y.call()}catch(Pn){W=Pn}h.call(y.prototype)}else{try{throw Error()}catch(Pn){W=Pn}h()}}catch(Pn){if(Pn&&W&&typeof Pn.stack=="string"){for(var oe=Pn.stack.split(`
`),pe=W.stack.split(`
`),ze=oe.length-1,xt=pe.length-1;1<=ze&&0<=xt&&oe[ze]!==pe[xt];)xt--;for(;1<=ze&&0<=xt;ze--,xt--)if(oe[ze]!==pe[xt]){if(ze!==1||xt!==1)do if(ze--,xt--,0>xt||oe[ze]!==pe[xt]){var Dt=`
`+oe[ze].replace(" at new "," at ");return h.displayName&&Dt.includes("<anonymous>")&&(Dt=Dt.replace("<anonymous>",h.displayName)),Dt}while(1<=ze&&0<=xt);break}}}finally{pn=!1,Error.prepareStackTrace=O}return(h=h?h.displayName||h.name:"")?un(h):""}function Yt(h){switch(h.tag){case 5:return un(h.type);case 16:return un("Lazy");case 13:return un("Suspense");case 19:return un("SuspenseList");case 0:case 2:case 15:return h=xn(h.type,!1),h;case 11:return h=xn(h.type.render,!1),h;case 1:return h=xn(h.type,!0),h;default:return""}}function Yr(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case st:return"Fragment";case yt:return"Portal";case It:return"Profiler";case ft:return"StrictMode";case be:return"Suspense";case Ht:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case We:return(h.displayName||"Context")+".Consumer";case vn:return(h._context.displayName||"Context")+".Provider";case Pt:var y=h.render;return h=h.displayName,h||(h=y.displayName||y.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case hr:return y=h.displayName||null,y!==null?y:Yr(h.type)||"Memo";case bt:y=h._payload,h=h._init;try{return Yr(h(y))}catch{}}return null}function Nn(h){var y=h.type;switch(h.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=y.render,h=h.displayName||h.name||"",y.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yr(y);case 8:return y===ft?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function Ur(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function vi(h){var y=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Gi(h){var y=vi(h)?"checked":"value",O=Object.getOwnPropertyDescriptor(h.constructor.prototype,y),W=""+h[y];if(!h.hasOwnProperty(y)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var oe=O.get,pe=O.set;return Object.defineProperty(h,y,{configurable:!0,get:function(){return oe.call(this)},set:function(ze){W=""+ze,pe.call(this,ze)}}),Object.defineProperty(h,y,{enumerable:O.enumerable}),{getValue:function(){return W},setValue:function(ze){W=""+ze},stopTracking:function(){h._valueTracker=null,delete h[y]}}}}function Di(h){h._valueTracker||(h._valueTracker=Gi(h))}function Rs(h){if(!h)return!1;var y=h._valueTracker;if(!y)return!0;var O=y.getValue(),W="";return h&&(W=vi(h)?h.checked?"true":"false":h.value),h=W,h!==O?(y.setValue(h),!0):!1}function ke(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function An(h,y){var O=y.checked;return Xe({},y,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:O??h._wrapperState.initialChecked})}function bn(h,y){var O=y.defaultValue==null?"":y.defaultValue,W=y.checked!=null?y.checked:y.defaultChecked;O=Ur(y.value!=null?y.value:O),h._wrapperState={initialChecked:W,initialValue:O,controlled:y.type==="checkbox"||y.type==="radio"?y.checked!=null:y.value!=null}}function gt(h,y){y=y.checked,y!=null&&Oe(h,"checked",y,!1)}function pt(h,y){gt(h,y);var O=Ur(y.value),W=y.type;if(O!=null)W==="number"?(O===0&&h.value===""||h.value!=O)&&(h.value=""+O):h.value!==""+O&&(h.value=""+O);else if(W==="submit"||W==="reset"){h.removeAttribute("value");return}y.hasOwnProperty("value")?Hn(h,y.type,O):y.hasOwnProperty("defaultValue")&&Hn(h,y.type,Ur(y.defaultValue)),y.checked==null&&y.defaultChecked!=null&&(h.defaultChecked=!!y.defaultChecked)}function Qt(h,y,O){if(y.hasOwnProperty("value")||y.hasOwnProperty("defaultValue")){var W=y.type;if(!(W!=="submit"&&W!=="reset"||y.value!==void 0&&y.value!==null))return;y=""+h._wrapperState.initialValue,O||y===h.value||(h.value=y),h.defaultValue=y}O=h.name,O!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,O!==""&&(h.name=O)}function Hn(h,y,O){(y!=="number"||ke(h.ownerDocument)!==h)&&(O==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+O&&(h.defaultValue=""+O))}var er=Array.isArray;function cn(h,y,O,W){if(h=h.options,y){y={};for(var oe=0;oe<O.length;oe++)y["$"+O[oe]]=!0;for(O=0;O<h.length;O++)oe=y.hasOwnProperty("$"+h[O].value),h[O].selected!==oe&&(h[O].selected=oe),oe&&W&&(h[O].defaultSelected=!0)}else{for(O=""+Ur(O),y=null,oe=0;oe<h.length;oe++){if(h[oe].value===O){h[oe].selected=!0,W&&(h[oe].defaultSelected=!0);return}y!==null||h[oe].disabled||(y=h[oe])}y!==null&&(y.selected=!0)}}function pr(h,y){if(y.dangerouslySetInnerHTML!=null)throw Error(m(91));return Xe({},y,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Jn(h,y){var O=y.value;if(O==null){if(O=y.children,y=y.defaultValue,O!=null){if(y!=null)throw Error(m(92));if(er(O)){if(1<O.length)throw Error(m(93));O=O[0]}y=O}y==null&&(y=""),O=y}h._wrapperState={initialValue:Ur(O)}}function or(h,y){var O=Ur(y.value),W=Ur(y.defaultValue);O!=null&&(O=""+O,O!==h.value&&(h.value=O),y.defaultValue==null&&h.defaultValue!==O&&(h.defaultValue=O)),W!=null&&(h.defaultValue=""+W)}function ki(h){var y=h.textContent;y===h._wrapperState.initialValue&&y!==""&&y!==null&&(h.value=y)}function Ss(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fo(h,y){return h==null||h==="http://www.w3.org/1999/xhtml"?Ss(y):h==="http://www.w3.org/2000/svg"&&y==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var cf,O_=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(y,O,W,oe){MSApp.execUnsafeLocalFunction(function(){return h(y,O,W,oe)})}:h}(function(h,y){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=y;else{for(cf=cf||document.createElement("div"),cf.innerHTML="<svg>"+y.valueOf().toString()+"</svg>",y=cf.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;y.firstChild;)h.appendChild(y.firstChild)}});function qf(h,y){if(y){var O=h.firstChild;if(O&&O===h.lastChild&&O.nodeType===3){O.nodeValue=y;return}}h.textContent=y}var d0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eu=["Webkit","ms","Moz","O"];Object.keys(d0).forEach(function(h){eu.forEach(function(y){y=y+h.charAt(0).toUpperCase()+h.substring(1),d0[y]=d0[h]})});function _x(h,y,O){return y==null||typeof y=="boolean"||y===""?"":O||typeof y!="number"||y===0||d0.hasOwnProperty(h)&&d0[h]?(""+y).trim():y+"px"}function xA(h,y){h=h.style;for(var O in y)if(y.hasOwnProperty(O)){var W=O.indexOf("--")===0,oe=_x(O,y[O],W);O==="float"&&(O="cssFloat"),W?h.setProperty(O,oe):h[O]=oe}}var f0=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bA(h,y){if(y){if(f0[h]&&(y.children!=null||y.dangerouslySetInnerHTML!=null))throw Error(m(137,h));if(y.dangerouslySetInnerHTML!=null){if(y.children!=null)throw Error(m(60));if(typeof y.dangerouslySetInnerHTML!="object"||!("__html"in y.dangerouslySetInnerHTML))throw Error(m(61))}if(y.style!=null&&typeof y.style!="object")throw Error(m(62))}}function lk(h,y){if(h.indexOf("-")===-1)return typeof y.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uk=null;function ck(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var EA=null,rg=null,h0=null;function ipe(h){if(h=Ik(h)){if(typeof EA!="function")throw Error(m(280));var y=h.stateNode;y&&(y=y5(y),EA(h.stateNode,h.type,y))}}function ope(h){rg?h0?h0.push(h):h0=[h]:rg=h}function spe(){if(rg){var h=rg,y=h0;if(h0=rg=null,ipe(h),y)for(h=0;h<y.length;h++)ipe(y[h])}}function ape(h,y){return h(y)}function lpe(){}var Cj=!1;function upe(h,y,O){if(Cj)return h(y,O);Cj=!0;try{return ape(h,y,O)}finally{Cj=!1,(rg!==null||h0!==null)&&(lpe(),spe())}}function dk(h,y){var O=h.stateNode;if(O===null)return null;var W=y5(O);if(W===null)return null;O=W[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(W=!W.disabled)||(h=h.type,W=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!W;break e;default:h=!1}if(h)return null;if(O&&typeof O!="function")throw Error(m(231,y,typeof O));return O}var Mj=!1;if(L)try{AA={},Object.defineProperty(AA,"passive",{get:function(){Mj=!0}}),window.addEventListener("test",AA,AA),window.removeEventListener("test",AA,AA)}catch{Mj=!1}var AA;function nBe(h,y,O,W,oe,pe,ze,xt,Dt){var Pn=Array.prototype.slice.call(arguments,3);try{y.apply(O,Pn)}catch(gr){this.onError(gr)}}var fk=!1,KD=null,YD=!1,Tj=null,rBe={onError:function(h){fk=!0,KD=h}};function iBe(h,y,O,W,oe,pe,ze,xt,Dt){fk=!1,KD=null,nBe.apply(rBe,arguments)}function oBe(h,y,O,W,oe,pe,ze,xt,Dt){if(iBe.apply(this,arguments),fk){if(fk){var Pn=KD;fk=!1,KD=null}else throw Error(m(198));YD||(YD=!0,Tj=Pn)}}function wx(h){var y=h,O=h;if(h.alternate)for(;y.return;)y=y.return;else{h=y;do y=h,y.flags&4098&&(O=y.return),h=y.return;while(h)}return y.tag===3?O:null}function cpe(h){if(h.tag===13){var y=h.memoizedState;if(y===null&&(h=h.alternate,h!==null&&(y=h.memoizedState)),y!==null)return y.dehydrated}return null}function dpe(h){if(wx(h)!==h)throw Error(m(188))}function sBe(h){var y=h.alternate;if(!y){if(y=wx(h),y===null)throw Error(m(188));return y!==h?null:h}for(var O=h,W=y;;){var oe=O.return;if(oe===null)break;var pe=oe.alternate;if(pe===null){if(W=oe.return,W!==null){O=W;continue}break}if(oe.child===pe.child){for(pe=oe.child;pe;){if(pe===O)return dpe(oe),h;if(pe===W)return dpe(oe),y;pe=pe.sibling}throw Error(m(188))}if(O.return!==W.return)O=oe,W=pe;else{for(var ze=!1,xt=oe.child;xt;){if(xt===O){ze=!0,O=oe,W=pe;break}if(xt===W){ze=!0,W=oe,O=pe;break}xt=xt.sibling}if(!ze){for(xt=pe.child;xt;){if(xt===O){ze=!0,O=pe,W=oe;break}if(xt===W){ze=!0,W=pe,O=oe;break}xt=xt.sibling}if(!ze)throw Error(m(189))}}if(O.alternate!==W)throw Error(m(190))}if(O.tag!==3)throw Error(m(188));return O.stateNode.current===O?h:y}function fpe(h){return h=sBe(h),h!==null?hpe(h):null}function hpe(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var y=hpe(h);if(y!==null)return y;h=h.sibling}return null}var ppe=u.unstable_scheduleCallback,mpe=u.unstable_cancelCallback,aBe=u.unstable_shouldYield,lBe=u.unstable_requestPaint,Zu=u.unstable_now,uBe=u.unstable_getCurrentPriorityLevel,Pj=u.unstable_ImmediatePriority,gpe=u.unstable_UserBlockingPriority,QD=u.unstable_NormalPriority,cBe=u.unstable_LowPriority,vpe=u.unstable_IdlePriority,qD=null,_v=null;function dBe(h){if(_v&&typeof _v.onCommitFiberRoot=="function")try{_v.onCommitFiberRoot(qD,h,void 0,(h.current.flags&128)===128)}catch{}}var p0=Math.clz32?Math.clz32:pBe,fBe=Math.log,hBe=Math.LN2;function pBe(h){return h>>>=0,h===0?32:31-(fBe(h)/hBe|0)|0}var JD=64,ZD=4194304;function hk(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function $D(h,y){var O=h.pendingLanes;if(O===0)return 0;var W=0,oe=h.suspendedLanes,pe=h.pingedLanes,ze=O&268435455;if(ze!==0){var xt=ze&~oe;xt!==0?W=hk(xt):(pe&=ze,pe!==0&&(W=hk(pe)))}else ze=O&~oe,ze!==0?W=hk(ze):pe!==0&&(W=hk(pe));if(W===0)return 0;if(y!==0&&y!==W&&!(y&oe)&&(oe=W&-W,pe=y&-y,oe>=pe||oe===16&&(pe&4194240)!==0))return y;if(W&4&&(W|=O&16),y=h.entangledLanes,y!==0)for(h=h.entanglements,y&=W;0<y;)O=31-p0(y),oe=1<<O,W|=h[O],y&=~oe;return W}function mBe(h,y){switch(h){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gBe(h,y){for(var O=h.suspendedLanes,W=h.pingedLanes,oe=h.expirationTimes,pe=h.pendingLanes;0<pe;){var ze=31-p0(pe),xt=1<<ze,Dt=oe[ze];Dt===-1?(!(xt&O)||xt&W)&&(oe[ze]=mBe(xt,y)):Dt<=y&&(h.expiredLanes|=xt),pe&=~xt}}function kj(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function ype(){var h=JD;return JD<<=1,!(JD&4194240)&&(JD=64),h}function Ij(h){for(var y=[],O=0;31>O;O++)y.push(h);return y}function pk(h,y,O){h.pendingLanes|=y,y!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,y=31-p0(y),h[y]=O}function vBe(h,y){var O=h.pendingLanes&~y;h.pendingLanes=y,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=y,h.mutableReadLanes&=y,h.entangledLanes&=y,y=h.entanglements;var W=h.eventTimes;for(h=h.expirationTimes;0<O;){var oe=31-p0(O),pe=1<<oe;y[oe]=0,W[oe]=-1,h[oe]=-1,O&=~pe}}function Rj(h,y){var O=h.entangledLanes|=y;for(h=h.entanglements;O;){var W=31-p0(O),oe=1<<W;oe&y|h[W]&y&&(h[W]|=y),O&=~oe}}var sa=0;function _pe(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var wpe,Oj,Spe,xpe,bpe,Bj=!1,e5=[],B_=null,D_=null,L_=null,mk=new Map,gk=new Map,N_=[],yBe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Epe(h,y){switch(h){case"focusin":case"focusout":B_=null;break;case"dragenter":case"dragleave":D_=null;break;case"mouseover":case"mouseout":L_=null;break;case"pointerover":case"pointerout":mk.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":gk.delete(y.pointerId)}}function vk(h,y,O,W,oe,pe){return h===null||h.nativeEvent!==pe?(h={blockedOn:y,domEventName:O,eventSystemFlags:W,nativeEvent:pe,targetContainers:[oe]},y!==null&&(y=Ik(y),y!==null&&Oj(y)),h):(h.eventSystemFlags|=W,y=h.targetContainers,oe!==null&&y.indexOf(oe)===-1&&y.push(oe),h)}function _Be(h,y,O,W,oe){switch(y){case"focusin":return B_=vk(B_,h,y,O,W,oe),!0;case"dragenter":return D_=vk(D_,h,y,O,W,oe),!0;case"mouseover":return L_=vk(L_,h,y,O,W,oe),!0;case"pointerover":var pe=oe.pointerId;return mk.set(pe,vk(mk.get(pe)||null,h,y,O,W,oe)),!0;case"gotpointercapture":return pe=oe.pointerId,gk.set(pe,vk(gk.get(pe)||null,h,y,O,W,oe)),!0}return!1}function Ape(h){var y=Sx(h.target);if(y!==null){var O=wx(y);if(O!==null){if(y=O.tag,y===13){if(y=cpe(O),y!==null){h.blockedOn=y,bpe(h.priority,function(){Spe(O)});return}}else if(y===3&&O.stateNode.current.memoizedState.isDehydrated){h.blockedOn=O.tag===3?O.stateNode.containerInfo:null;return}}}h.blockedOn=null}function t5(h){if(h.blockedOn!==null)return!1;for(var y=h.targetContainers;0<y.length;){var O=Lj(h.domEventName,h.eventSystemFlags,y[0],h.nativeEvent);if(O===null){O=h.nativeEvent;var W=new O.constructor(O.type,O);uk=W,O.target.dispatchEvent(W),uk=null}else return y=Ik(O),y!==null&&Oj(y),h.blockedOn=O,!1;y.shift()}return!0}function Cpe(h,y,O){t5(h)&&O.delete(y)}function wBe(){Bj=!1,B_!==null&&t5(B_)&&(B_=null),D_!==null&&t5(D_)&&(D_=null),L_!==null&&t5(L_)&&(L_=null),mk.forEach(Cpe),gk.forEach(Cpe)}function yk(h,y){h.blockedOn===y&&(h.blockedOn=null,Bj||(Bj=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,wBe)))}function _k(h){function y(oe){return yk(oe,h)}if(0<e5.length){yk(e5[0],h);for(var O=1;O<e5.length;O++){var W=e5[O];W.blockedOn===h&&(W.blockedOn=null)}}for(B_!==null&&yk(B_,h),D_!==null&&yk(D_,h),L_!==null&&yk(L_,h),mk.forEach(y),gk.forEach(y),O=0;O<N_.length;O++)W=N_[O],W.blockedOn===h&&(W.blockedOn=null);for(;0<N_.length&&(O=N_[0],O.blockedOn===null);)Ape(O),O.blockedOn===null&&N_.shift()}var CA=Ie.ReactCurrentBatchConfig,n5=!0;function SBe(h,y,O,W){var oe=sa,pe=CA.transition;CA.transition=null;try{sa=1,Dj(h,y,O,W)}finally{sa=oe,CA.transition=pe}}function xBe(h,y,O,W){var oe=sa,pe=CA.transition;CA.transition=null;try{sa=4,Dj(h,y,O,W)}finally{sa=oe,CA.transition=pe}}function Dj(h,y,O,W){if(n5){var oe=Lj(h,y,O,W);if(oe===null)Jj(h,y,W,r5,O),Epe(h,W);else if(_Be(oe,h,y,O,W))W.stopPropagation();else if(Epe(h,W),y&4&&-1<yBe.indexOf(h)){for(;oe!==null;){var pe=Ik(oe);if(pe!==null&&wpe(pe),pe=Lj(h,y,O,W),pe===null&&Jj(h,y,W,r5,O),pe===oe)break;oe=pe}oe!==null&&W.stopPropagation()}else Jj(h,y,W,null,O)}}var r5=null;function Lj(h,y,O,W){if(r5=null,h=ck(W),h=Sx(h),h!==null)if(y=wx(h),y===null)h=null;else if(O=y.tag,O===13){if(h=cpe(y),h!==null)return h;h=null}else if(O===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;h=null}else y!==h&&(h=null);return r5=h,null}function Mpe(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uBe()){case Pj:return 1;case gpe:return 4;case QD:case cBe:return 16;case vpe:return 536870912;default:return 16}default:return 16}}var F_=null,Nj=null,i5=null;function Tpe(){if(i5)return i5;var h,y=Nj,O=y.length,W,oe="value"in F_?F_.value:F_.textContent,pe=oe.length;for(h=0;h<O&&y[h]===oe[h];h++);var ze=O-h;for(W=1;W<=ze&&y[O-W]===oe[pe-W];W++);return i5=oe.slice(h,1<W?1-W:void 0)}function o5(h){var y=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&y===13&&(h=13)):h=y,h===10&&(h=13),32<=h||h===13?h:0}function s5(){return!0}function Ppe(){return!1}function mm(h){function y(O,W,oe,pe,ze){this._reactName=O,this._targetInst=oe,this.type=W,this.nativeEvent=pe,this.target=ze,this.currentTarget=null;for(var xt in h)h.hasOwnProperty(xt)&&(O=h[xt],this[xt]=O?O(pe):pe[xt]);return this.isDefaultPrevented=(pe.defaultPrevented!=null?pe.defaultPrevented:pe.returnValue===!1)?s5:Ppe,this.isPropagationStopped=Ppe,this}return Xe(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var O=this.nativeEvent;O&&(O.preventDefault?O.preventDefault():typeof O.returnValue!="unknown"&&(O.returnValue=!1),this.isDefaultPrevented=s5)},stopPropagation:function(){var O=this.nativeEvent;O&&(O.stopPropagation?O.stopPropagation():typeof O.cancelBubble!="unknown"&&(O.cancelBubble=!0),this.isPropagationStopped=s5)},persist:function(){},isPersistent:s5}),y}var MA={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fj=mm(MA),wk=Xe({},MA,{view:0,detail:0}),bBe=mm(wk),zj,Uj,Sk,a5=Xe({},wk,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hj,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Sk&&(Sk&&h.type==="mousemove"?(zj=h.screenX-Sk.screenX,Uj=h.screenY-Sk.screenY):Uj=zj=0,Sk=h),zj)},movementY:function(h){return"movementY"in h?h.movementY:Uj}}),kpe=mm(a5),EBe=Xe({},a5,{dataTransfer:0}),ABe=mm(EBe),CBe=Xe({},wk,{relatedTarget:0}),jj=mm(CBe),MBe=Xe({},MA,{animationName:0,elapsedTime:0,pseudoElement:0}),TBe=mm(MBe),PBe=Xe({},MA,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),kBe=mm(PBe),IBe=Xe({},MA,{data:0}),Ipe=mm(IBe),RBe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OBe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BBe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DBe(h){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(h):(h=BBe[h])?!!y[h]:!1}function Hj(){return DBe}var LBe=Xe({},wk,{key:function(h){if(h.key){var y=RBe[h.key]||h.key;if(y!=="Unidentified")return y}return h.type==="keypress"?(h=o5(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?OBe[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hj,charCode:function(h){return h.type==="keypress"?o5(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?o5(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),NBe=mm(LBe),FBe=Xe({},a5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rpe=mm(FBe),zBe=Xe({},wk,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hj}),UBe=mm(zBe),jBe=Xe({},MA,{propertyName:0,elapsedTime:0,pseudoElement:0}),HBe=mm(jBe),GBe=Xe({},a5,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),VBe=mm(GBe),WBe=[9,13,27,32],Gj=L&&"CompositionEvent"in window,xk=null;L&&"documentMode"in document&&(xk=document.documentMode);var XBe=L&&"TextEvent"in window&&!xk,Ope=L&&(!Gj||xk&&8<xk&&11>=xk),Bpe=String.fromCharCode(32),Dpe=!1;function Lpe(h,y){switch(h){case"keyup":return WBe.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Npe(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var TA=!1;function KBe(h,y){switch(h){case"compositionend":return Npe(y);case"keypress":return y.which!==32?null:(Dpe=!0,Bpe);case"textInput":return h=y.data,h===Bpe&&Dpe?null:h;default:return null}}function YBe(h,y){if(TA)return h==="compositionend"||!Gj&&Lpe(h,y)?(h=Tpe(),i5=Nj=F_=null,TA=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return Ope&&y.locale!=="ko"?null:y.data;default:return null}}var QBe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fpe(h){var y=h&&h.nodeName&&h.nodeName.toLowerCase();return y==="input"?!!QBe[h.type]:y==="textarea"}function zpe(h,y,O,W){ope(W),y=m5(y,"onChange"),0<y.length&&(O=new Fj("onChange","change",null,O,W),h.push({event:O,listeners:y}))}var bk=null,Ek=null;function qBe(h){ime(h,0)}function l5(h){var y=OA(h);if(Rs(y))return h}function JBe(h,y){if(h==="change")return y}var Upe=!1;L&&(L?(u5="oninput"in document,u5||(Wj=document.createElement("div"),Wj.setAttribute("oninput","return;"),u5=typeof Wj.oninput=="function"),Vj=u5):Vj=!1,Upe=Vj&&(!document.documentMode||9<document.documentMode));var Vj,u5,Wj;function jpe(){bk&&(bk.detachEvent("onpropertychange",Hpe),Ek=bk=null)}function Hpe(h){if(h.propertyName==="value"&&l5(Ek)){var y=[];zpe(y,Ek,h,ck(h)),upe(qBe,y)}}function ZBe(h,y,O){h==="focusin"?(jpe(),bk=y,Ek=O,bk.attachEvent("onpropertychange",Hpe)):h==="focusout"&&jpe()}function $Be(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return l5(Ek)}function eDe(h,y){if(h==="click")return l5(y)}function tDe(h,y){if(h==="input"||h==="change")return l5(y)}function nDe(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var m0=typeof Object.is=="function"?Object.is:nDe;function Ak(h,y){if(m0(h,y))return!0;if(typeof h!="object"||h===null||typeof y!="object"||y===null)return!1;var O=Object.keys(h),W=Object.keys(y);if(O.length!==W.length)return!1;for(W=0;W<O.length;W++){var oe=O[W];if(!j.call(y,oe)||!m0(h[oe],y[oe]))return!1}return!0}function Gpe(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Vpe(h,y){var O=Gpe(h);h=0;for(var W;O;){if(O.nodeType===3){if(W=h+O.textContent.length,h<=y&&W>=y)return{node:O,offset:y-h};h=W}e:{for(;O;){if(O.nextSibling){O=O.nextSibling;break e}O=O.parentNode}O=void 0}O=Gpe(O)}}function Wpe(h,y){return h&&y?h===y?!0:h&&h.nodeType===3?!1:y&&y.nodeType===3?Wpe(h,y.parentNode):"contains"in h?h.contains(y):h.compareDocumentPosition?!!(h.compareDocumentPosition(y)&16):!1:!1}function Xpe(){for(var h=window,y=ke();y instanceof h.HTMLIFrameElement;){try{var O=typeof y.contentWindow.location.href=="string"}catch{O=!1}if(O)h=y.contentWindow;else break;y=ke(h.document)}return y}function Xj(h){var y=h&&h.nodeName&&h.nodeName.toLowerCase();return y&&(y==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||y==="textarea"||h.contentEditable==="true")}function rDe(h){var y=Xpe(),O=h.focusedElem,W=h.selectionRange;if(y!==O&&O&&O.ownerDocument&&Wpe(O.ownerDocument.documentElement,O)){if(W!==null&&Xj(O)){if(y=W.start,h=W.end,h===void 0&&(h=y),"selectionStart"in O)O.selectionStart=y,O.selectionEnd=Math.min(h,O.value.length);else if(h=(y=O.ownerDocument||document)&&y.defaultView||window,h.getSelection){h=h.getSelection();var oe=O.textContent.length,pe=Math.min(W.start,oe);W=W.end===void 0?pe:Math.min(W.end,oe),!h.extend&&pe>W&&(oe=W,W=pe,pe=oe),oe=Vpe(O,pe);var ze=Vpe(O,W);oe&&ze&&(h.rangeCount!==1||h.anchorNode!==oe.node||h.anchorOffset!==oe.offset||h.focusNode!==ze.node||h.focusOffset!==ze.offset)&&(y=y.createRange(),y.setStart(oe.node,oe.offset),h.removeAllRanges(),pe>W?(h.addRange(y),h.extend(ze.node,ze.offset)):(y.setEnd(ze.node,ze.offset),h.addRange(y)))}}for(y=[],h=O;h=h.parentNode;)h.nodeType===1&&y.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<y.length;O++)h=y[O],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var iDe=L&&"documentMode"in document&&11>=document.documentMode,PA=null,Kj=null,Ck=null,Yj=!1;function Kpe(h,y,O){var W=O.window===O?O.document:O.nodeType===9?O:O.ownerDocument;Yj||PA==null||PA!==ke(W)||(W=PA,"selectionStart"in W&&Xj(W)?W={start:W.selectionStart,end:W.selectionEnd}:(W=(W.ownerDocument&&W.ownerDocument.defaultView||window).getSelection(),W={anchorNode:W.anchorNode,anchorOffset:W.anchorOffset,focusNode:W.focusNode,focusOffset:W.focusOffset}),Ck&&Ak(Ck,W)||(Ck=W,W=m5(Kj,"onSelect"),0<W.length&&(y=new Fj("onSelect","select",null,y,O),h.push({event:y,listeners:W}),y.target=PA)))}function c5(h,y){var O={};return O[h.toLowerCase()]=y.toLowerCase(),O["Webkit"+h]="webkit"+y,O["Moz"+h]="moz"+y,O}var kA={animationend:c5("Animation","AnimationEnd"),animationiteration:c5("Animation","AnimationIteration"),animationstart:c5("Animation","AnimationStart"),transitionend:c5("Transition","TransitionEnd")},Qj={},Ype={};L&&(Ype=document.createElement("div").style,"AnimationEvent"in window||(delete kA.animationend.animation,delete kA.animationiteration.animation,delete kA.animationstart.animation),"TransitionEvent"in window||delete kA.transitionend.transition);function d5(h){if(Qj[h])return Qj[h];if(!kA[h])return h;var y=kA[h],O;for(O in y)if(y.hasOwnProperty(O)&&O in Ype)return Qj[h]=y[O];return h}var Qpe=d5("animationend"),qpe=d5("animationiteration"),Jpe=d5("animationstart"),Zpe=d5("transitionend"),$pe=new Map,eme="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function z_(h,y){$pe.set(h,y),T(y,[h])}for(h5=0;h5<eme.length;h5++)f5=eme[h5],tme=f5.toLowerCase(),nme=f5[0].toUpperCase()+f5.slice(1),z_(tme,"on"+nme);var f5,tme,nme,h5;z_(Qpe,"onAnimationEnd"),z_(qpe,"onAnimationIteration"),z_(Jpe,"onAnimationStart"),z_("dblclick","onDoubleClick"),z_("focusin","onFocus"),z_("focusout","onBlur"),z_(Zpe,"onTransitionEnd"),P("onMouseEnter",["mouseout","mouseover"]),P("onMouseLeave",["mouseout","mouseover"]),P("onPointerEnter",["pointerout","pointerover"]),P("onPointerLeave",["pointerout","pointerover"]),T("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),T("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),T("onBeforeInput",["compositionend","keypress","textInput","paste"]),T("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),T("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),T("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mk="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oDe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mk));function rme(h,y,O){var W=h.type||"unknown-event";h.currentTarget=O,oBe(W,y,void 0,h),h.currentTarget=null}function ime(h,y){y=(y&4)!==0;for(var O=0;O<h.length;O++){var W=h[O],oe=W.event;W=W.listeners;e:{var pe=void 0;if(y)for(var ze=W.length-1;0<=ze;ze--){var xt=W[ze],Dt=xt.instance,Pn=xt.currentTarget;if(xt=xt.listener,Dt!==pe&&oe.isPropagationStopped())break e;rme(oe,xt,Pn),pe=Dt}else for(ze=0;ze<W.length;ze++){if(xt=W[ze],Dt=xt.instance,Pn=xt.currentTarget,xt=xt.listener,Dt!==pe&&oe.isPropagationStopped())break e;rme(oe,xt,Pn),pe=Dt}}}if(YD)throw h=Tj,YD=!1,Tj=null,h}function yl(h,y){var O=y[rH];O===void 0&&(O=y[rH]=new Set);var W=h+"__bubble";O.has(W)||(ome(y,h,2,!1),O.add(W))}function qj(h,y,O){var W=0;y&&(W|=4),ome(O,h,W,y)}var p5="_reactListening"+Math.random().toString(36).slice(2);function Tk(h){if(!h[p5]){h[p5]=!0,w.forEach(function(O){O!=="selectionchange"&&(oDe.has(O)||qj(O,!1,h),qj(O,!0,h))});var y=h.nodeType===9?h:h.ownerDocument;y===null||y[p5]||(y[p5]=!0,qj("selectionchange",!1,y))}}function ome(h,y,O,W){switch(Mpe(y)){case 1:var oe=SBe;break;case 4:oe=xBe;break;default:oe=Dj}O=oe.bind(null,y,O,h),oe=void 0,!Mj||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(oe=!0),W?oe!==void 0?h.addEventListener(y,O,{capture:!0,passive:oe}):h.addEventListener(y,O,!0):oe!==void 0?h.addEventListener(y,O,{passive:oe}):h.addEventListener(y,O,!1)}function Jj(h,y,O,W,oe){var pe=W;if(!(y&1)&&!(y&2)&&W!==null)e:for(;;){if(W===null)return;var ze=W.tag;if(ze===3||ze===4){var xt=W.stateNode.containerInfo;if(xt===oe||xt.nodeType===8&&xt.parentNode===oe)break;if(ze===4)for(ze=W.return;ze!==null;){var Dt=ze.tag;if((Dt===3||Dt===4)&&(Dt=ze.stateNode.containerInfo,Dt===oe||Dt.nodeType===8&&Dt.parentNode===oe))return;ze=ze.return}for(;xt!==null;){if(ze=Sx(xt),ze===null)return;if(Dt=ze.tag,Dt===5||Dt===6){W=pe=ze;continue e}xt=xt.parentNode}}W=W.return}upe(function(){var Pn=pe,gr=ck(O),Sr=[];e:{var mr=$pe.get(h);if(mr!==void 0){var ti=Fj,yi=h;switch(h){case"keypress":if(o5(O)===0)break e;case"keydown":case"keyup":ti=NBe;break;case"focusin":yi="focus",ti=jj;break;case"focusout":yi="blur",ti=jj;break;case"beforeblur":case"afterblur":ti=jj;break;case"click":if(O.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ti=kpe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ti=ABe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ti=UBe;break;case Qpe:case qpe:case Jpe:ti=TBe;break;case Zpe:ti=HBe;break;case"scroll":ti=bBe;break;case"wheel":ti=VBe;break;case"copy":case"cut":case"paste":ti=kBe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ti=Rpe}var xi=(y&4)!==0,$u=!xi&&h==="scroll",dn=xi?mr!==null?mr+"Capture":null:mr;xi=[];for(var Gt=Pn,_n;Gt!==null;){_n=Gt;var Or=_n.stateNode;if(_n.tag===5&&Or!==null&&(_n=Or,dn!==null&&(Or=dk(Gt,dn),Or!=null&&xi.push(Pk(Gt,Or,_n)))),$u)break;Gt=Gt.return}0<xi.length&&(mr=new ti(mr,yi,null,O,gr),Sr.push({event:mr,listeners:xi}))}}if(!(y&7)){e:{if(mr=h==="mouseover"||h==="pointerover",ti=h==="mouseout"||h==="pointerout",mr&&O!==uk&&(yi=O.relatedTarget||O.fromElement)&&(Sx(yi)||yi[jy]))break e;if((ti||mr)&&(mr=gr.window===gr?gr:(mr=gr.ownerDocument)?mr.defaultView||mr.parentWindow:window,ti?(yi=O.relatedTarget||O.toElement,ti=Pn,yi=yi?Sx(yi):null,yi!==null&&($u=wx(yi),yi!==$u||yi.tag!==5&&yi.tag!==6)&&(yi=null)):(ti=null,yi=Pn),ti!==yi)){if(xi=kpe,Or="onMouseLeave",dn="onMouseEnter",Gt="mouse",(h==="pointerout"||h==="pointerover")&&(xi=Rpe,Or="onPointerLeave",dn="onPointerEnter",Gt="pointer"),$u=ti==null?mr:OA(ti),_n=yi==null?mr:OA(yi),mr=new xi(Or,Gt+"leave",ti,O,gr),mr.target=$u,mr.relatedTarget=_n,Or=null,Sx(gr)===Pn&&(xi=new xi(dn,Gt+"enter",yi,O,gr),xi.target=_n,xi.relatedTarget=$u,Or=xi),$u=Or,ti&&yi)t:{for(xi=ti,dn=yi,Gt=0,_n=xi;_n;_n=IA(_n))Gt++;for(_n=0,Or=dn;Or;Or=IA(Or))_n++;for(;0<Gt-_n;)xi=IA(xi),Gt--;for(;0<_n-Gt;)dn=IA(dn),_n--;for(;Gt--;){if(xi===dn||dn!==null&&xi===dn.alternate)break t;xi=IA(xi),dn=IA(dn)}xi=null}else xi=null;ti!==null&&sme(Sr,mr,ti,xi,!1),yi!==null&&$u!==null&&sme(Sr,$u,yi,xi,!0)}}e:{if(mr=Pn?OA(Pn):window,ti=mr.nodeName&&mr.nodeName.toLowerCase(),ti==="select"||ti==="input"&&mr.type==="file")var Mi=JBe;else if(Fpe(mr))if(Upe)Mi=tDe;else{Mi=$Be;var Xi=ZBe}else(ti=mr.nodeName)&&ti.toLowerCase()==="input"&&(mr.type==="checkbox"||mr.type==="radio")&&(Mi=eDe);if(Mi&&(Mi=Mi(h,Pn))){zpe(Sr,Mi,O,gr);break e}Xi&&Xi(h,mr,Pn),h==="focusout"&&(Xi=mr._wrapperState)&&Xi.controlled&&mr.type==="number"&&Hn(mr,"number",mr.value)}switch(Xi=Pn?OA(Pn):window,h){case"focusin":(Fpe(Xi)||Xi.contentEditable==="true")&&(PA=Xi,Kj=Pn,Ck=null);break;case"focusout":Ck=Kj=PA=null;break;case"mousedown":Yj=!0;break;case"contextmenu":case"mouseup":case"dragend":Yj=!1,Kpe(Sr,O,gr);break;case"selectionchange":if(iDe)break;case"keydown":case"keyup":Kpe(Sr,O,gr)}var Ki;if(Gj)e:{switch(h){case"compositionstart":var ho="onCompositionStart";break e;case"compositionend":ho="onCompositionEnd";break e;case"compositionupdate":ho="onCompositionUpdate";break e}ho=void 0}else TA?Lpe(h,O)&&(ho="onCompositionEnd"):h==="keydown"&&O.keyCode===229&&(ho="onCompositionStart");ho&&(Ope&&O.locale!=="ko"&&(TA||ho!=="onCompositionStart"?ho==="onCompositionEnd"&&TA&&(Ki=Tpe()):(F_=gr,Nj="value"in F_?F_.value:F_.textContent,TA=!0)),Xi=m5(Pn,ho),0<Xi.length&&(ho=new Ipe(ho,h,null,O,gr),Sr.push({event:ho,listeners:Xi}),Ki?ho.data=Ki:(Ki=Npe(O),Ki!==null&&(ho.data=Ki)))),(Ki=XBe?KBe(h,O):YBe(h,O))&&(Pn=m5(Pn,"onBeforeInput"),0<Pn.length&&(gr=new Ipe("onBeforeInput","beforeinput",null,O,gr),Sr.push({event:gr,listeners:Pn}),gr.data=Ki))}ime(Sr,y)})}function Pk(h,y,O){return{instance:h,listener:y,currentTarget:O}}function m5(h,y){for(var O=y+"Capture",W=[];h!==null;){var oe=h,pe=oe.stateNode;oe.tag===5&&pe!==null&&(oe=pe,pe=dk(h,O),pe!=null&&W.unshift(Pk(h,pe,oe)),pe=dk(h,y),pe!=null&&W.push(Pk(h,pe,oe))),h=h.return}return W}function IA(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function sme(h,y,O,W,oe){for(var pe=y._reactName,ze=[];O!==null&&O!==W;){var xt=O,Dt=xt.alternate,Pn=xt.stateNode;if(Dt!==null&&Dt===W)break;xt.tag===5&&Pn!==null&&(xt=Pn,oe?(Dt=dk(O,pe),Dt!=null&&ze.unshift(Pk(O,Dt,xt))):oe||(Dt=dk(O,pe),Dt!=null&&ze.push(Pk(O,Dt,xt)))),O=O.return}ze.length!==0&&h.push({event:y,listeners:ze})}var sDe=/\r\n?/g,aDe=/\u0000|\uFFFD/g;function ame(h){return(typeof h=="string"?h:""+h).replace(sDe,`
`).replace(aDe,"")}function g5(h,y,O){if(y=ame(y),ame(h)!==y&&O)throw Error(m(425))}function v5(){}var Zj=null,$j=null;function eH(h,y){return h==="textarea"||h==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var tH=typeof setTimeout=="function"?setTimeout:void 0,lDe=typeof clearTimeout=="function"?clearTimeout:void 0,lme=typeof Promise=="function"?Promise:void 0,uDe=typeof queueMicrotask=="function"?queueMicrotask:typeof lme<"u"?function(h){return lme.resolve(null).then(h).catch(cDe)}:tH;function cDe(h){setTimeout(function(){throw h})}function nH(h,y){var O=y,W=0;do{var oe=O.nextSibling;if(h.removeChild(O),oe&&oe.nodeType===8)if(O=oe.data,O==="/$"){if(W===0){h.removeChild(oe),_k(y);return}W--}else O!=="$"&&O!=="$?"&&O!=="$!"||W++;O=oe}while(O);_k(y)}function U_(h){for(;h!=null;h=h.nextSibling){var y=h.nodeType;if(y===1||y===3)break;if(y===8){if(y=h.data,y==="$"||y==="$!"||y==="$?")break;if(y==="/$")return null}}return h}function ume(h){h=h.previousSibling;for(var y=0;h;){if(h.nodeType===8){var O=h.data;if(O==="$"||O==="$!"||O==="$?"){if(y===0)return h;y--}else O==="/$"&&y++}h=h.previousSibling}return null}var RA=Math.random().toString(36).slice(2),wv="__reactFiber$"+RA,kk="__reactProps$"+RA,jy="__reactContainer$"+RA,rH="__reactEvents$"+RA,dDe="__reactListeners$"+RA,fDe="__reactHandles$"+RA;function Sx(h){var y=h[wv];if(y)return y;for(var O=h.parentNode;O;){if(y=O[jy]||O[wv]){if(O=y.alternate,y.child!==null||O!==null&&O.child!==null)for(h=ume(h);h!==null;){if(O=h[wv])return O;h=ume(h)}return y}h=O,O=h.parentNode}return null}function Ik(h){return h=h[wv]||h[jy],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function OA(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(m(33))}function y5(h){return h[kk]||null}var iH=[],BA=-1;function j_(h){return{current:h}}function _l(h){0>BA||(h.current=iH[BA],iH[BA]=null,BA--)}function Za(h,y){BA++,iH[BA]=h.current,h.current=y}var H_={},Jf=j_(H_),Ep=j_(!1),xx=H_;function DA(h,y){var O=h.type.contextTypes;if(!O)return H_;var W=h.stateNode;if(W&&W.__reactInternalMemoizedUnmaskedChildContext===y)return W.__reactInternalMemoizedMaskedChildContext;var oe={},pe;for(pe in O)oe[pe]=y[pe];return W&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=y,h.__reactInternalMemoizedMaskedChildContext=oe),oe}function Ap(h){return h=h.childContextTypes,h!=null}function _5(){_l(Ep),_l(Jf)}function cme(h,y,O){if(Jf.current!==H_)throw Error(m(168));Za(Jf,y),Za(Ep,O)}function dme(h,y,O){var W=h.stateNode;if(y=y.childContextTypes,typeof W.getChildContext!="function")return O;W=W.getChildContext();for(var oe in W)if(!(oe in y))throw Error(m(108,Nn(h)||"Unknown",oe));return Xe({},O,W)}function w5(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||H_,xx=Jf.current,Za(Jf,h),Za(Ep,Ep.current),!0}function fme(h,y,O){var W=h.stateNode;if(!W)throw Error(m(169));O?(h=dme(h,y,xx),W.__reactInternalMemoizedMergedChildContext=h,_l(Ep),_l(Jf),Za(Jf,h)):_l(Ep),Za(Ep,O)}var Hy=null,S5=!1,oH=!1;function hme(h){Hy===null?Hy=[h]:Hy.push(h)}function hDe(h){S5=!0,hme(h)}function G_(){if(!oH&&Hy!==null){oH=!0;var h=0,y=sa;try{var O=Hy;for(sa=1;h<O.length;h++){var W=O[h];do W=W(!0);while(W!==null)}Hy=null,S5=!1}catch(oe){throw Hy!==null&&(Hy=Hy.slice(h+1)),ppe(Pj,G_),oe}finally{sa=y,oH=!1}}return null}var LA=[],NA=0,x5=null,b5=0,ig=[],og=0,bx=null,Gy=1,Vy="";function Ex(h,y){LA[NA++]=b5,LA[NA++]=x5,x5=h,b5=y}function pme(h,y,O){ig[og++]=Gy,ig[og++]=Vy,ig[og++]=bx,bx=h;var W=Gy;h=Vy;var oe=32-p0(W)-1;W&=~(1<<oe),O+=1;var pe=32-p0(y)+oe;if(30<pe){var ze=oe-oe%5;pe=(W&(1<<ze)-1).toString(32),W>>=ze,oe-=ze,Gy=1<<32-p0(y)+oe|O<<oe|W,Vy=pe+h}else Gy=1<<pe|O<<oe|W,Vy=h}function sH(h){h.return!==null&&(Ex(h,1),pme(h,1,0))}function aH(h){for(;h===x5;)x5=LA[--NA],LA[NA]=null,b5=LA[--NA],LA[NA]=null;for(;h===bx;)bx=ig[--og],ig[og]=null,Vy=ig[--og],ig[og]=null,Gy=ig[--og],ig[og]=null}var gm=null,vm=null,Ol=!1,g0=null;function mme(h,y){var O=ug(5,null,null,0);O.elementType="DELETED",O.stateNode=y,O.return=h,y=h.deletions,y===null?(h.deletions=[O],h.flags|=16):y.push(O)}function gme(h,y){switch(h.tag){case 5:var O=h.type;return y=y.nodeType!==1||O.toLowerCase()!==y.nodeName.toLowerCase()?null:y,y!==null?(h.stateNode=y,gm=h,vm=U_(y.firstChild),!0):!1;case 6:return y=h.pendingProps===""||y.nodeType!==3?null:y,y!==null?(h.stateNode=y,gm=h,vm=null,!0):!1;case 13:return y=y.nodeType!==8?null:y,y!==null?(O=bx!==null?{id:Gy,overflow:Vy}:null,h.memoizedState={dehydrated:y,treeContext:O,retryLane:1073741824},O=ug(18,null,null,0),O.stateNode=y,O.return=h,h.child=O,gm=h,vm=null,!0):!1;default:return!1}}function lH(h){return(h.mode&1)!==0&&(h.flags&128)===0}function uH(h){if(Ol){var y=vm;if(y){var O=y;if(!gme(h,y)){if(lH(h))throw Error(m(418));y=U_(O.nextSibling);var W=gm;y&&gme(h,y)?mme(W,O):(h.flags=h.flags&-4097|2,Ol=!1,gm=h)}}else{if(lH(h))throw Error(m(418));h.flags=h.flags&-4097|2,Ol=!1,gm=h}}}function vme(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;gm=h}function E5(h){if(h!==gm)return!1;if(!Ol)return vme(h),Ol=!0,!1;var y;if((y=h.tag!==3)&&!(y=h.tag!==5)&&(y=h.type,y=y!=="head"&&y!=="body"&&!eH(h.type,h.memoizedProps)),y&&(y=vm)){if(lH(h))throw yme(),Error(m(418));for(;y;)mme(h,y),y=U_(y.nextSibling)}if(vme(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(m(317));e:{for(h=h.nextSibling,y=0;h;){if(h.nodeType===8){var O=h.data;if(O==="/$"){if(y===0){vm=U_(h.nextSibling);break e}y--}else O!=="$"&&O!=="$!"&&O!=="$?"||y++}h=h.nextSibling}vm=null}}else vm=gm?U_(h.stateNode.nextSibling):null;return!0}function yme(){for(var h=vm;h;)h=U_(h.nextSibling)}function FA(){vm=gm=null,Ol=!1}function cH(h){g0===null?g0=[h]:g0.push(h)}var pDe=Ie.ReactCurrentBatchConfig;function v0(h,y){if(h&&h.defaultProps){y=Xe({},y),h=h.defaultProps;for(var O in h)y[O]===void 0&&(y[O]=h[O]);return y}return y}var A5=j_(null),C5=null,zA=null,dH=null;function fH(){dH=zA=C5=null}function hH(h){var y=A5.current;_l(A5),h._currentValue=y}function pH(h,y,O){for(;h!==null;){var W=h.alternate;if((h.childLanes&y)!==y?(h.childLanes|=y,W!==null&&(W.childLanes|=y)):W!==null&&(W.childLanes&y)!==y&&(W.childLanes|=y),h===O)break;h=h.return}}function UA(h,y){C5=h,dH=zA=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&y&&(Cp=!0),h.firstContext=null)}function sg(h){var y=h._currentValue;if(dH!==h)if(h={context:h,memoizedValue:y,next:null},zA===null){if(C5===null)throw Error(m(308));zA=h,C5.dependencies={lanes:0,firstContext:h}}else zA=zA.next=h;return y}var Ax=null;function mH(h){Ax===null?Ax=[h]:Ax.push(h)}function _me(h,y,O,W){var oe=y.interleaved;return oe===null?(O.next=O,mH(y)):(O.next=oe.next,oe.next=O),y.interleaved=O,Wy(h,W)}function Wy(h,y){h.lanes|=y;var O=h.alternate;for(O!==null&&(O.lanes|=y),O=h,h=h.return;h!==null;)h.childLanes|=y,O=h.alternate,O!==null&&(O.childLanes|=y),O=h,h=h.return;return O.tag===3?O.stateNode:null}var V_=!1;function gH(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wme(h,y){h=h.updateQueue,y.updateQueue===h&&(y.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Xy(h,y){return{eventTime:h,lane:y,tag:0,payload:null,callback:null,next:null}}function W_(h,y,O){var W=h.updateQueue;if(W===null)return null;if(W=W.shared,xs&2){var oe=W.pending;return oe===null?y.next=y:(y.next=oe.next,oe.next=y),W.pending=y,Wy(h,O)}return oe=W.interleaved,oe===null?(y.next=y,mH(W)):(y.next=oe.next,oe.next=y),W.interleaved=y,Wy(h,O)}function M5(h,y,O){if(y=y.updateQueue,y!==null&&(y=y.shared,(O&4194240)!==0)){var W=y.lanes;W&=h.pendingLanes,O|=W,y.lanes=O,Rj(h,O)}}function Sme(h,y){var O=h.updateQueue,W=h.alternate;if(W!==null&&(W=W.updateQueue,O===W)){var oe=null,pe=null;if(O=O.firstBaseUpdate,O!==null){do{var ze={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};pe===null?oe=pe=ze:pe=pe.next=ze,O=O.next}while(O!==null);pe===null?oe=pe=y:pe=pe.next=y}else oe=pe=y;O={baseState:W.baseState,firstBaseUpdate:oe,lastBaseUpdate:pe,shared:W.shared,effects:W.effects},h.updateQueue=O;return}h=O.lastBaseUpdate,h===null?O.firstBaseUpdate=y:h.next=y,O.lastBaseUpdate=y}function T5(h,y,O,W){var oe=h.updateQueue;V_=!1;var pe=oe.firstBaseUpdate,ze=oe.lastBaseUpdate,xt=oe.shared.pending;if(xt!==null){oe.shared.pending=null;var Dt=xt,Pn=Dt.next;Dt.next=null,ze===null?pe=Pn:ze.next=Pn,ze=Dt;var gr=h.alternate;gr!==null&&(gr=gr.updateQueue,xt=gr.lastBaseUpdate,xt!==ze&&(xt===null?gr.firstBaseUpdate=Pn:xt.next=Pn,gr.lastBaseUpdate=Dt))}if(pe!==null){var Sr=oe.baseState;ze=0,gr=Pn=Dt=null,xt=pe;do{var mr=xt.lane,ti=xt.eventTime;if((W&mr)===mr){gr!==null&&(gr=gr.next={eventTime:ti,lane:0,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null});e:{var yi=h,xi=xt;switch(mr=y,ti=O,xi.tag){case 1:if(yi=xi.payload,typeof yi=="function"){Sr=yi.call(ti,Sr,mr);break e}Sr=yi;break e;case 3:yi.flags=yi.flags&-65537|128;case 0:if(yi=xi.payload,mr=typeof yi=="function"?yi.call(ti,Sr,mr):yi,mr==null)break e;Sr=Xe({},Sr,mr);break e;case 2:V_=!0}}xt.callback!==null&&xt.lane!==0&&(h.flags|=64,mr=oe.effects,mr===null?oe.effects=[xt]:mr.push(xt))}else ti={eventTime:ti,lane:mr,tag:xt.tag,payload:xt.payload,callback:xt.callback,next:null},gr===null?(Pn=gr=ti,Dt=Sr):gr=gr.next=ti,ze|=mr;if(xt=xt.next,xt===null){if(xt=oe.shared.pending,xt===null)break;mr=xt,xt=mr.next,mr.next=null,oe.lastBaseUpdate=mr,oe.shared.pending=null}}while(1);if(gr===null&&(Dt=Sr),oe.baseState=Dt,oe.firstBaseUpdate=Pn,oe.lastBaseUpdate=gr,y=oe.shared.interleaved,y!==null){oe=y;do ze|=oe.lane,oe=oe.next;while(oe!==y)}else pe===null&&(oe.shared.lanes=0);Tx|=ze,h.lanes=ze,h.memoizedState=Sr}}function xme(h,y,O){if(h=y.effects,y.effects=null,h!==null)for(y=0;y<h.length;y++){var W=h[y],oe=W.callback;if(oe!==null){if(W.callback=null,W=O,typeof oe!="function")throw Error(m(191,oe));oe.call(W)}}}var bme=new l.Component().refs;function vH(h,y,O,W){y=h.memoizedState,O=O(W,y),O=O==null?y:Xe({},y,O),h.memoizedState=O,h.lanes===0&&(h.updateQueue.baseState=O)}var P5={isMounted:function(h){return(h=h._reactInternals)?wx(h)===h:!1},enqueueSetState:function(h,y,O){h=h._reactInternals;var W=jh(),oe=Q_(h),pe=Xy(W,oe);pe.payload=y,O!=null&&(pe.callback=O),y=W_(h,pe,oe),y!==null&&(w0(y,h,oe,W),M5(y,h,oe))},enqueueReplaceState:function(h,y,O){h=h._reactInternals;var W=jh(),oe=Q_(h),pe=Xy(W,oe);pe.tag=1,pe.payload=y,O!=null&&(pe.callback=O),y=W_(h,pe,oe),y!==null&&(w0(y,h,oe,W),M5(y,h,oe))},enqueueForceUpdate:function(h,y){h=h._reactInternals;var O=jh(),W=Q_(h),oe=Xy(O,W);oe.tag=2,y!=null&&(oe.callback=y),y=W_(h,oe,W),y!==null&&(w0(y,h,W,O),M5(y,h,W))}};function Eme(h,y,O,W,oe,pe,ze){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(W,pe,ze):y.prototype&&y.prototype.isPureReactComponent?!Ak(O,W)||!Ak(oe,pe):!0}function Ame(h,y,O){var W=!1,oe=H_,pe=y.contextType;return typeof pe=="object"&&pe!==null?pe=sg(pe):(oe=Ap(y)?xx:Jf.current,W=y.contextTypes,pe=(W=W!=null)?DA(h,oe):H_),y=new y(O,pe),h.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=P5,h.stateNode=y,y._reactInternals=h,W&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=oe,h.__reactInternalMemoizedMaskedChildContext=pe),y}function Cme(h,y,O,W){h=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(O,W),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(O,W),y.state!==h&&P5.enqueueReplaceState(y,y.state,null)}function yH(h,y,O,W){var oe=h.stateNode;oe.props=O,oe.state=h.memoizedState,oe.refs=bme,gH(h);var pe=y.contextType;typeof pe=="object"&&pe!==null?oe.context=sg(pe):(pe=Ap(y)?xx:Jf.current,oe.context=DA(h,pe)),oe.state=h.memoizedState,pe=y.getDerivedStateFromProps,typeof pe=="function"&&(vH(h,y,pe,O),oe.state=h.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof oe.getSnapshotBeforeUpdate=="function"||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(y=oe.state,typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount(),y!==oe.state&&P5.enqueueReplaceState(oe,oe.state,null),T5(h,O,oe,W),oe.state=h.memoizedState),typeof oe.componentDidMount=="function"&&(h.flags|=4194308)}function Rk(h,y,O){if(h=O.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(m(309));var W=O.stateNode}if(!W)throw Error(m(147,h));var oe=W,pe=""+h;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===pe?y.ref:(y=function(ze){var xt=oe.refs;xt===bme&&(xt=oe.refs={}),ze===null?delete xt[pe]:xt[pe]=ze},y._stringRef=pe,y)}if(typeof h!="string")throw Error(m(284));if(!O._owner)throw Error(m(290,h))}return h}function k5(h,y){throw h=Object.prototype.toString.call(y),Error(m(31,h==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":h))}function Mme(h){var y=h._init;return y(h._payload)}function Tme(h){function y(dn,Gt){if(h){var _n=dn.deletions;_n===null?(dn.deletions=[Gt],dn.flags|=16):_n.push(Gt)}}function O(dn,Gt){if(!h)return null;for(;Gt!==null;)y(dn,Gt),Gt=Gt.sibling;return null}function W(dn,Gt){for(dn=new Map;Gt!==null;)Gt.key!==null?dn.set(Gt.key,Gt):dn.set(Gt.index,Gt),Gt=Gt.sibling;return dn}function oe(dn,Gt){return dn=J_(dn,Gt),dn.index=0,dn.sibling=null,dn}function pe(dn,Gt,_n){return dn.index=_n,h?(_n=dn.alternate,_n!==null?(_n=_n.index,_n<Gt?(dn.flags|=2,Gt):_n):(dn.flags|=2,Gt)):(dn.flags|=1048576,Gt)}function ze(dn){return h&&dn.alternate===null&&(dn.flags|=2),dn}function xt(dn,Gt,_n,Or){return Gt===null||Gt.tag!==6?(Gt=e7(_n,dn.mode,Or),Gt.return=dn,Gt):(Gt=oe(Gt,_n),Gt.return=dn,Gt)}function Dt(dn,Gt,_n,Or){var Mi=_n.type;return Mi===st?gr(dn,Gt,_n.props.children,Or,_n.key):Gt!==null&&(Gt.elementType===Mi||typeof Mi=="object"&&Mi!==null&&Mi.$$typeof===bt&&Mme(Mi)===Gt.type)?(Or=oe(Gt,_n.props),Or.ref=Rk(dn,Gt,_n),Or.return=dn,Or):(Or=Q5(_n.type,_n.key,_n.props,null,dn.mode,Or),Or.ref=Rk(dn,Gt,_n),Or.return=dn,Or)}function Pn(dn,Gt,_n,Or){return Gt===null||Gt.tag!==4||Gt.stateNode.containerInfo!==_n.containerInfo||Gt.stateNode.implementation!==_n.implementation?(Gt=t7(_n,dn.mode,Or),Gt.return=dn,Gt):(Gt=oe(Gt,_n.children||[]),Gt.return=dn,Gt)}function gr(dn,Gt,_n,Or,Mi){return Gt===null||Gt.tag!==7?(Gt=Rx(_n,dn.mode,Or,Mi),Gt.return=dn,Gt):(Gt=oe(Gt,_n),Gt.return=dn,Gt)}function Sr(dn,Gt,_n){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number")return Gt=e7(""+Gt,dn.mode,_n),Gt.return=dn,Gt;if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case je:return _n=Q5(Gt.type,Gt.key,Gt.props,null,dn.mode,_n),_n.ref=Rk(dn,null,Gt),_n.return=dn,_n;case yt:return Gt=t7(Gt,dn.mode,_n),Gt.return=dn,Gt;case bt:var Or=Gt._init;return Sr(dn,Or(Gt._payload),_n)}if(er(Gt)||zn(Gt))return Gt=Rx(Gt,dn.mode,_n,null),Gt.return=dn,Gt;k5(dn,Gt)}return null}function mr(dn,Gt,_n,Or){var Mi=Gt!==null?Gt.key:null;if(typeof _n=="string"&&_n!==""||typeof _n=="number")return Mi!==null?null:xt(dn,Gt,""+_n,Or);if(typeof _n=="object"&&_n!==null){switch(_n.$$typeof){case je:return _n.key===Mi?Dt(dn,Gt,_n,Or):null;case yt:return _n.key===Mi?Pn(dn,Gt,_n,Or):null;case bt:return Mi=_n._init,mr(dn,Gt,Mi(_n._payload),Or)}if(er(_n)||zn(_n))return Mi!==null?null:gr(dn,Gt,_n,Or,null);k5(dn,_n)}return null}function ti(dn,Gt,_n,Or,Mi){if(typeof Or=="string"&&Or!==""||typeof Or=="number")return dn=dn.get(_n)||null,xt(Gt,dn,""+Or,Mi);if(typeof Or=="object"&&Or!==null){switch(Or.$$typeof){case je:return dn=dn.get(Or.key===null?_n:Or.key)||null,Dt(Gt,dn,Or,Mi);case yt:return dn=dn.get(Or.key===null?_n:Or.key)||null,Pn(Gt,dn,Or,Mi);case bt:var Xi=Or._init;return ti(dn,Gt,_n,Xi(Or._payload),Mi)}if(er(Or)||zn(Or))return dn=dn.get(_n)||null,gr(Gt,dn,Or,Mi,null);k5(Gt,Or)}return null}function yi(dn,Gt,_n,Or){for(var Mi=null,Xi=null,Ki=Gt,ho=Gt=0,xd=null;Ki!==null&&ho<_n.length;ho++){Ki.index>ho?(xd=Ki,Ki=null):xd=Ki.sibling;var Os=mr(dn,Ki,_n[ho],Or);if(Os===null){Ki===null&&(Ki=xd);break}h&&Ki&&Os.alternate===null&&y(dn,Ki),Gt=pe(Os,Gt,ho),Xi===null?Mi=Os:Xi.sibling=Os,Xi=Os,Ki=xd}if(ho===_n.length)return O(dn,Ki),Ol&&Ex(dn,ho),Mi;if(Ki===null){for(;ho<_n.length;ho++)Ki=Sr(dn,_n[ho],Or),Ki!==null&&(Gt=pe(Ki,Gt,ho),Xi===null?Mi=Ki:Xi.sibling=Ki,Xi=Ki);return Ol&&Ex(dn,ho),Mi}for(Ki=W(dn,Ki);ho<_n.length;ho++)xd=ti(Ki,dn,ho,_n[ho],Or),xd!==null&&(h&&xd.alternate!==null&&Ki.delete(xd.key===null?ho:xd.key),Gt=pe(xd,Gt,ho),Xi===null?Mi=xd:Xi.sibling=xd,Xi=xd);return h&&Ki.forEach(function(Z_){return y(dn,Z_)}),Ol&&Ex(dn,ho),Mi}function xi(dn,Gt,_n,Or){var Mi=zn(_n);if(typeof Mi!="function")throw Error(m(150));if(_n=Mi.call(_n),_n==null)throw Error(m(151));for(var Xi=Mi=null,Ki=Gt,ho=Gt=0,xd=null,Os=_n.next();Ki!==null&&!Os.done;ho++,Os=_n.next()){Ki.index>ho?(xd=Ki,Ki=null):xd=Ki.sibling;var Z_=mr(dn,Ki,Os.value,Or);if(Z_===null){Ki===null&&(Ki=xd);break}h&&Ki&&Z_.alternate===null&&y(dn,Ki),Gt=pe(Z_,Gt,ho),Xi===null?Mi=Z_:Xi.sibling=Z_,Xi=Z_,Ki=xd}if(Os.done)return O(dn,Ki),Ol&&Ex(dn,ho),Mi;if(Ki===null){for(;!Os.done;ho++,Os=_n.next())Os=Sr(dn,Os.value,Or),Os!==null&&(Gt=pe(Os,Gt,ho),Xi===null?Mi=Os:Xi.sibling=Os,Xi=Os);return Ol&&Ex(dn,ho),Mi}for(Ki=W(dn,Ki);!Os.done;ho++,Os=_n.next())Os=ti(Ki,dn,ho,Os.value,Or),Os!==null&&(h&&Os.alternate!==null&&Ki.delete(Os.key===null?ho:Os.key),Gt=pe(Os,Gt,ho),Xi===null?Mi=Os:Xi.sibling=Os,Xi=Os);return h&&Ki.forEach(function(KDe){return y(dn,KDe)}),Ol&&Ex(dn,ho),Mi}function $u(dn,Gt,_n,Or){if(typeof _n=="object"&&_n!==null&&_n.type===st&&_n.key===null&&(_n=_n.props.children),typeof _n=="object"&&_n!==null){switch(_n.$$typeof){case je:e:{for(var Mi=_n.key,Xi=Gt;Xi!==null;){if(Xi.key===Mi){if(Mi=_n.type,Mi===st){if(Xi.tag===7){O(dn,Xi.sibling),Gt=oe(Xi,_n.props.children),Gt.return=dn,dn=Gt;break e}}else if(Xi.elementType===Mi||typeof Mi=="object"&&Mi!==null&&Mi.$$typeof===bt&&Mme(Mi)===Xi.type){O(dn,Xi.sibling),Gt=oe(Xi,_n.props),Gt.ref=Rk(dn,Xi,_n),Gt.return=dn,dn=Gt;break e}O(dn,Xi);break}else y(dn,Xi);Xi=Xi.sibling}_n.type===st?(Gt=Rx(_n.props.children,dn.mode,Or,_n.key),Gt.return=dn,dn=Gt):(Or=Q5(_n.type,_n.key,_n.props,null,dn.mode,Or),Or.ref=Rk(dn,Gt,_n),Or.return=dn,dn=Or)}return ze(dn);case yt:e:{for(Xi=_n.key;Gt!==null;){if(Gt.key===Xi)if(Gt.tag===4&&Gt.stateNode.containerInfo===_n.containerInfo&&Gt.stateNode.implementation===_n.implementation){O(dn,Gt.sibling),Gt=oe(Gt,_n.children||[]),Gt.return=dn,dn=Gt;break e}else{O(dn,Gt);break}else y(dn,Gt);Gt=Gt.sibling}Gt=t7(_n,dn.mode,Or),Gt.return=dn,dn=Gt}return ze(dn);case bt:return Xi=_n._init,$u(dn,Gt,Xi(_n._payload),Or)}if(er(_n))return yi(dn,Gt,_n,Or);if(zn(_n))return xi(dn,Gt,_n,Or);k5(dn,_n)}return typeof _n=="string"&&_n!==""||typeof _n=="number"?(_n=""+_n,Gt!==null&&Gt.tag===6?(O(dn,Gt.sibling),Gt=oe(Gt,_n),Gt.return=dn,dn=Gt):(O(dn,Gt),Gt=e7(_n,dn.mode,Or),Gt.return=dn,dn=Gt),ze(dn)):O(dn,Gt)}return $u}var jA=Tme(!0),Pme=Tme(!1),Ok={},Sv=j_(Ok),Bk=j_(Ok),Dk=j_(Ok);function Cx(h){if(h===Ok)throw Error(m(174));return h}function _H(h,y){switch(Za(Dk,y),Za(Bk,h),Za(Sv,Ok),h=y.nodeType,h){case 9:case 11:y=(y=y.documentElement)?y.namespaceURI:fo(null,"");break;default:h=h===8?y.parentNode:y,y=h.namespaceURI||null,h=h.tagName,y=fo(y,h)}_l(Sv),Za(Sv,y)}function HA(){_l(Sv),_l(Bk),_l(Dk)}function kme(h){Cx(Dk.current);var y=Cx(Sv.current),O=fo(y,h.type);y!==O&&(Za(Bk,h),Za(Sv,O))}function wH(h){Bk.current===h&&(_l(Sv),_l(Bk))}var tu=j_(0);function I5(h){for(var y=h;y!==null;){if(y.tag===13){var O=y.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||O.data==="$?"||O.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if(y.flags&128)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var SH=[];function xH(){for(var h=0;h<SH.length;h++)SH[h]._workInProgressVersionPrimary=null;SH.length=0}var R5=Ie.ReactCurrentDispatcher,bH=Ie.ReactCurrentBatchConfig,Mx=0,nu=null,Wc=null,wd=null,O5=!1,Lk=!1,Nk=0,mDe=0;function Zf(){throw Error(m(321))}function EH(h,y){if(y===null)return!1;for(var O=0;O<y.length&&O<h.length;O++)if(!m0(h[O],y[O]))return!1;return!0}function AH(h,y,O,W,oe,pe){if(Mx=pe,nu=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,R5.current=h===null||h.memoizedState===null?_De:wDe,h=O(W,oe),Lk){pe=0;do{if(Lk=!1,Nk=0,25<=pe)throw Error(m(301));pe+=1,wd=Wc=null,y.updateQueue=null,R5.current=SDe,h=O(W,oe)}while(Lk)}if(R5.current=L5,y=Wc!==null&&Wc.next!==null,Mx=0,wd=Wc=nu=null,O5=!1,y)throw Error(m(300));return h}function CH(){var h=Nk!==0;return Nk=0,h}function xv(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wd===null?nu.memoizedState=wd=h:wd=wd.next=h,wd}function ag(){if(Wc===null){var h=nu.alternate;h=h!==null?h.memoizedState:null}else h=Wc.next;var y=wd===null?nu.memoizedState:wd.next;if(y!==null)wd=y,Wc=h;else{if(h===null)throw Error(m(310));Wc=h,h={memoizedState:Wc.memoizedState,baseState:Wc.baseState,baseQueue:Wc.baseQueue,queue:Wc.queue,next:null},wd===null?nu.memoizedState=wd=h:wd=wd.next=h}return wd}function Fk(h,y){return typeof y=="function"?y(h):y}function MH(h){var y=ag(),O=y.queue;if(O===null)throw Error(m(311));O.lastRenderedReducer=h;var W=Wc,oe=W.baseQueue,pe=O.pending;if(pe!==null){if(oe!==null){var ze=oe.next;oe.next=pe.next,pe.next=ze}W.baseQueue=oe=pe,O.pending=null}if(oe!==null){pe=oe.next,W=W.baseState;var xt=ze=null,Dt=null,Pn=pe;do{var gr=Pn.lane;if((Mx&gr)===gr)Dt!==null&&(Dt=Dt.next={lane:0,action:Pn.action,hasEagerState:Pn.hasEagerState,eagerState:Pn.eagerState,next:null}),W=Pn.hasEagerState?Pn.eagerState:h(W,Pn.action);else{var Sr={lane:gr,action:Pn.action,hasEagerState:Pn.hasEagerState,eagerState:Pn.eagerState,next:null};Dt===null?(xt=Dt=Sr,ze=W):Dt=Dt.next=Sr,nu.lanes|=gr,Tx|=gr}Pn=Pn.next}while(Pn!==null&&Pn!==pe);Dt===null?ze=W:Dt.next=xt,m0(W,y.memoizedState)||(Cp=!0),y.memoizedState=W,y.baseState=ze,y.baseQueue=Dt,O.lastRenderedState=W}if(h=O.interleaved,h!==null){oe=h;do pe=oe.lane,nu.lanes|=pe,Tx|=pe,oe=oe.next;while(oe!==h)}else oe===null&&(O.lanes=0);return[y.memoizedState,O.dispatch]}function TH(h){var y=ag(),O=y.queue;if(O===null)throw Error(m(311));O.lastRenderedReducer=h;var W=O.dispatch,oe=O.pending,pe=y.memoizedState;if(oe!==null){O.pending=null;var ze=oe=oe.next;do pe=h(pe,ze.action),ze=ze.next;while(ze!==oe);m0(pe,y.memoizedState)||(Cp=!0),y.memoizedState=pe,y.baseQueue===null&&(y.baseState=pe),O.lastRenderedState=pe}return[pe,W]}function Ime(){}function Rme(h,y){var O=nu,W=ag(),oe=y(),pe=!m0(W.memoizedState,oe);if(pe&&(W.memoizedState=oe,Cp=!0),W=W.queue,PH(Dme.bind(null,O,W,h),[h]),W.getSnapshot!==y||pe||wd!==null&&wd.memoizedState.tag&1){if(O.flags|=2048,zk(9,Bme.bind(null,O,W,oe,y),void 0,null),Sd===null)throw Error(m(349));Mx&30||Ome(O,y,oe)}return oe}function Ome(h,y,O){h.flags|=16384,h={getSnapshot:y,value:O},y=nu.updateQueue,y===null?(y={lastEffect:null,stores:null},nu.updateQueue=y,y.stores=[h]):(O=y.stores,O===null?y.stores=[h]:O.push(h))}function Bme(h,y,O,W){y.value=O,y.getSnapshot=W,Lme(y)&&Nme(h)}function Dme(h,y,O){return O(function(){Lme(y)&&Nme(h)})}function Lme(h){var y=h.getSnapshot;h=h.value;try{var O=y();return!m0(h,O)}catch{return!0}}function Nme(h){var y=Wy(h,1);y!==null&&w0(y,h,1,-1)}function Fme(h){var y=xv();return typeof h=="function"&&(h=h()),y.memoizedState=y.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fk,lastRenderedState:h},y.queue=h,h=h.dispatch=yDe.bind(null,nu,h),[y.memoizedState,h]}function zk(h,y,O,W){return h={tag:h,create:y,destroy:O,deps:W,next:null},y=nu.updateQueue,y===null?(y={lastEffect:null,stores:null},nu.updateQueue=y,y.lastEffect=h.next=h):(O=y.lastEffect,O===null?y.lastEffect=h.next=h:(W=O.next,O.next=h,h.next=W,y.lastEffect=h)),h}function zme(){return ag().memoizedState}function B5(h,y,O,W){var oe=xv();nu.flags|=h,oe.memoizedState=zk(1|y,O,void 0,W===void 0?null:W)}function D5(h,y,O,W){var oe=ag();W=W===void 0?null:W;var pe=void 0;if(Wc!==null){var ze=Wc.memoizedState;if(pe=ze.destroy,W!==null&&EH(W,ze.deps)){oe.memoizedState=zk(y,O,pe,W);return}}nu.flags|=h,oe.memoizedState=zk(1|y,O,pe,W)}function Ume(h,y){return B5(8390656,8,h,y)}function PH(h,y){return D5(2048,8,h,y)}function jme(h,y){return D5(4,2,h,y)}function Hme(h,y){return D5(4,4,h,y)}function Gme(h,y){if(typeof y=="function")return h=h(),y(h),function(){y(null)};if(y!=null)return h=h(),y.current=h,function(){y.current=null}}function Vme(h,y,O){return O=O!=null?O.concat([h]):null,D5(4,4,Gme.bind(null,y,h),O)}function kH(){}function Wme(h,y){var O=ag();y=y===void 0?null:y;var W=O.memoizedState;return W!==null&&y!==null&&EH(y,W[1])?W[0]:(O.memoizedState=[h,y],h)}function Xme(h,y){var O=ag();y=y===void 0?null:y;var W=O.memoizedState;return W!==null&&y!==null&&EH(y,W[1])?W[0]:(h=h(),O.memoizedState=[h,y],h)}function Kme(h,y,O){return Mx&21?(m0(O,y)||(O=ype(),nu.lanes|=O,Tx|=O,h.baseState=!0),y):(h.baseState&&(h.baseState=!1,Cp=!0),h.memoizedState=O)}function gDe(h,y){var O=sa;sa=O!==0&&4>O?O:4,h(!0);var W=bH.transition;bH.transition={};try{h(!1),y()}finally{sa=O,bH.transition=W}}function Yme(){return ag().memoizedState}function vDe(h,y,O){var W=Q_(h);if(O={lane:W,action:O,hasEagerState:!1,eagerState:null,next:null},Qme(h))qme(y,O);else if(O=_me(h,y,O,W),O!==null){var oe=jh();w0(O,h,W,oe),Jme(O,y,W)}}function yDe(h,y,O){var W=Q_(h),oe={lane:W,action:O,hasEagerState:!1,eagerState:null,next:null};if(Qme(h))qme(y,oe);else{var pe=h.alternate;if(h.lanes===0&&(pe===null||pe.lanes===0)&&(pe=y.lastRenderedReducer,pe!==null))try{var ze=y.lastRenderedState,xt=pe(ze,O);if(oe.hasEagerState=!0,oe.eagerState=xt,m0(xt,ze)){var Dt=y.interleaved;Dt===null?(oe.next=oe,mH(y)):(oe.next=Dt.next,Dt.next=oe),y.interleaved=oe;return}}catch{}finally{}O=_me(h,y,oe,W),O!==null&&(oe=jh(),w0(O,h,W,oe),Jme(O,y,W))}}function Qme(h){var y=h.alternate;return h===nu||y!==null&&y===nu}function qme(h,y){Lk=O5=!0;var O=h.pending;O===null?y.next=y:(y.next=O.next,O.next=y),h.pending=y}function Jme(h,y,O){if(O&4194240){var W=y.lanes;W&=h.pendingLanes,O|=W,y.lanes=O,Rj(h,O)}}var L5={readContext:sg,useCallback:Zf,useContext:Zf,useEffect:Zf,useImperativeHandle:Zf,useInsertionEffect:Zf,useLayoutEffect:Zf,useMemo:Zf,useReducer:Zf,useRef:Zf,useState:Zf,useDebugValue:Zf,useDeferredValue:Zf,useTransition:Zf,useMutableSource:Zf,useSyncExternalStore:Zf,useId:Zf,unstable_isNewReconciler:!1},_De={readContext:sg,useCallback:function(h,y){return xv().memoizedState=[h,y===void 0?null:y],h},useContext:sg,useEffect:Ume,useImperativeHandle:function(h,y,O){return O=O!=null?O.concat([h]):null,B5(4194308,4,Gme.bind(null,y,h),O)},useLayoutEffect:function(h,y){return B5(4194308,4,h,y)},useInsertionEffect:function(h,y){return B5(4,2,h,y)},useMemo:function(h,y){var O=xv();return y=y===void 0?null:y,h=h(),O.memoizedState=[h,y],h},useReducer:function(h,y,O){var W=xv();return y=O!==void 0?O(y):y,W.memoizedState=W.baseState=y,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:y},W.queue=h,h=h.dispatch=vDe.bind(null,nu,h),[W.memoizedState,h]},useRef:function(h){var y=xv();return h={current:h},y.memoizedState=h},useState:Fme,useDebugValue:kH,useDeferredValue:function(h){return xv().memoizedState=h},useTransition:function(){var h=Fme(!1),y=h[0];return h=gDe.bind(null,h[1]),xv().memoizedState=h,[y,h]},useMutableSource:function(){},useSyncExternalStore:function(h,y,O){var W=nu,oe=xv();if(Ol){if(O===void 0)throw Error(m(407));O=O()}else{if(O=y(),Sd===null)throw Error(m(349));Mx&30||Ome(W,y,O)}oe.memoizedState=O;var pe={value:O,getSnapshot:y};return oe.queue=pe,Ume(Dme.bind(null,W,pe,h),[h]),W.flags|=2048,zk(9,Bme.bind(null,W,pe,O,y),void 0,null),O},useId:function(){var h=xv(),y=Sd.identifierPrefix;if(Ol){var O=Vy,W=Gy;O=(W&~(1<<32-p0(W)-1)).toString(32)+O,y=":"+y+"R"+O,O=Nk++,0<O&&(y+="H"+O.toString(32)),y+=":"}else O=mDe++,y=":"+y+"r"+O.toString(32)+":";return h.memoizedState=y},unstable_isNewReconciler:!1},wDe={readContext:sg,useCallback:Wme,useContext:sg,useEffect:PH,useImperativeHandle:Vme,useInsertionEffect:jme,useLayoutEffect:Hme,useMemo:Xme,useReducer:MH,useRef:zme,useState:function(){return MH(Fk)},useDebugValue:kH,useDeferredValue:function(h){var y=ag();return Kme(y,Wc.memoizedState,h)},useTransition:function(){var h=MH(Fk)[0],y=ag().memoizedState;return[h,y]},useMutableSource:Ime,useSyncExternalStore:Rme,useId:Yme,unstable_isNewReconciler:!1},SDe={readContext:sg,useCallback:Wme,useContext:sg,useEffect:PH,useImperativeHandle:Vme,useInsertionEffect:jme,useLayoutEffect:Hme,useMemo:Xme,useReducer:TH,useRef:zme,useState:function(){return TH(Fk)},useDebugValue:kH,useDeferredValue:function(h){var y=ag();return Wc===null?y.memoizedState=h:Kme(y,Wc.memoizedState,h)},useTransition:function(){var h=TH(Fk)[0],y=ag().memoizedState;return[h,y]},useMutableSource:Ime,useSyncExternalStore:Rme,useId:Yme,unstable_isNewReconciler:!1};function GA(h,y){try{var O="",W=y;do O+=Yt(W),W=W.return;while(W);var oe=O}catch(pe){oe=`
Error generating stack: `+pe.message+`
`+pe.stack}return{value:h,source:y,stack:oe,digest:null}}function IH(h,y,O){return{value:h,source:null,stack:O??null,digest:y??null}}function RH(h,y){try{console.error(y.value)}catch(O){setTimeout(function(){throw O})}}var xDe=typeof WeakMap=="function"?WeakMap:Map;function Zme(h,y,O){O=Xy(-1,O),O.tag=3,O.payload={element:null};var W=y.value;return O.callback=function(){G5||(G5=!0,XH=W),RH(h,y)},O}function $me(h,y,O){O=Xy(-1,O),O.tag=3;var W=h.type.getDerivedStateFromError;if(typeof W=="function"){var oe=y.value;O.payload=function(){return W(oe)},O.callback=function(){RH(h,y)}}var pe=h.stateNode;return pe!==null&&typeof pe.componentDidCatch=="function"&&(O.callback=function(){RH(h,y),typeof W!="function"&&(K_===null?K_=new Set([this]):K_.add(this));var ze=y.stack;this.componentDidCatch(y.value,{componentStack:ze!==null?ze:""})}),O}function ege(h,y,O){var W=h.pingCache;if(W===null){W=h.pingCache=new xDe;var oe=new Set;W.set(y,oe)}else oe=W.get(y),oe===void 0&&(oe=new Set,W.set(y,oe));oe.has(O)||(oe.add(O),h=LDe.bind(null,h,y,O),y.then(h,h))}function tge(h){do{var y;if((y=h.tag===13)&&(y=h.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return h;h=h.return}while(h!==null);return null}function nge(h,y,O,W,oe){return h.mode&1?(h.flags|=65536,h.lanes=oe,h):(h===y?h.flags|=65536:(h.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(y=Xy(-1,1),y.tag=2,W_(O,y,1))),O.lanes|=1),h)}var bDe=Ie.ReactCurrentOwner,Cp=!1;function Uh(h,y,O,W){y.child=h===null?Pme(y,null,O,W):jA(y,h.child,O,W)}function rge(h,y,O,W,oe){O=O.render;var pe=y.ref;return UA(y,oe),W=AH(h,y,O,W,pe,oe),O=CH(),h!==null&&!Cp?(y.updateQueue=h.updateQueue,y.flags&=-2053,h.lanes&=~oe,Ky(h,y,oe)):(Ol&&O&&sH(y),y.flags|=1,Uh(h,y,W,oe),y.child)}function ige(h,y,O,W,oe){if(h===null){var pe=O.type;return typeof pe=="function"&&!$H(pe)&&pe.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(y.tag=15,y.type=pe,oge(h,y,pe,W,oe)):(h=Q5(O.type,null,W,y,y.mode,oe),h.ref=y.ref,h.return=y,y.child=h)}if(pe=h.child,!(h.lanes&oe)){var ze=pe.memoizedProps;if(O=O.compare,O=O!==null?O:Ak,O(ze,W)&&h.ref===y.ref)return Ky(h,y,oe)}return y.flags|=1,h=J_(pe,W),h.ref=y.ref,h.return=y,y.child=h}function oge(h,y,O,W,oe){if(h!==null){var pe=h.memoizedProps;if(Ak(pe,W)&&h.ref===y.ref)if(Cp=!1,y.pendingProps=W=pe,(h.lanes&oe)!==0)h.flags&131072&&(Cp=!0);else return y.lanes=h.lanes,Ky(h,y,oe)}return OH(h,y,O,W,oe)}function sge(h,y,O){var W=y.pendingProps,oe=W.children,pe=h!==null?h.memoizedState:null;if(W.mode==="hidden")if(!(y.mode&1))y.memoizedState={baseLanes:0,cachePool:null,transitions:null},Za(WA,ym),ym|=O;else{if(!(O&1073741824))return h=pe!==null?pe.baseLanes|O:O,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:h,cachePool:null,transitions:null},y.updateQueue=null,Za(WA,ym),ym|=h,null;y.memoizedState={baseLanes:0,cachePool:null,transitions:null},W=pe!==null?pe.baseLanes:O,Za(WA,ym),ym|=W}else pe!==null?(W=pe.baseLanes|O,y.memoizedState=null):W=O,Za(WA,ym),ym|=W;return Uh(h,y,oe,O),y.child}function age(h,y){var O=y.ref;(h===null&&O!==null||h!==null&&h.ref!==O)&&(y.flags|=512,y.flags|=2097152)}function OH(h,y,O,W,oe){var pe=Ap(O)?xx:Jf.current;return pe=DA(y,pe),UA(y,oe),O=AH(h,y,O,W,pe,oe),W=CH(),h!==null&&!Cp?(y.updateQueue=h.updateQueue,y.flags&=-2053,h.lanes&=~oe,Ky(h,y,oe)):(Ol&&W&&sH(y),y.flags|=1,Uh(h,y,O,oe),y.child)}function lge(h,y,O,W,oe){if(Ap(O)){var pe=!0;w5(y)}else pe=!1;if(UA(y,oe),y.stateNode===null)F5(h,y),Ame(y,O,W),yH(y,O,W,oe),W=!0;else if(h===null){var ze=y.stateNode,xt=y.memoizedProps;ze.props=xt;var Dt=ze.context,Pn=O.contextType;typeof Pn=="object"&&Pn!==null?Pn=sg(Pn):(Pn=Ap(O)?xx:Jf.current,Pn=DA(y,Pn));var gr=O.getDerivedStateFromProps,Sr=typeof gr=="function"||typeof ze.getSnapshotBeforeUpdate=="function";Sr||typeof ze.UNSAFE_componentWillReceiveProps!="function"&&typeof ze.componentWillReceiveProps!="function"||(xt!==W||Dt!==Pn)&&Cme(y,ze,W,Pn),V_=!1;var mr=y.memoizedState;ze.state=mr,T5(y,W,ze,oe),Dt=y.memoizedState,xt!==W||mr!==Dt||Ep.current||V_?(typeof gr=="function"&&(vH(y,O,gr,W),Dt=y.memoizedState),(xt=V_||Eme(y,O,xt,W,mr,Dt,Pn))?(Sr||typeof ze.UNSAFE_componentWillMount!="function"&&typeof ze.componentWillMount!="function"||(typeof ze.componentWillMount=="function"&&ze.componentWillMount(),typeof ze.UNSAFE_componentWillMount=="function"&&ze.UNSAFE_componentWillMount()),typeof ze.componentDidMount=="function"&&(y.flags|=4194308)):(typeof ze.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=W,y.memoizedState=Dt),ze.props=W,ze.state=Dt,ze.context=Pn,W=xt):(typeof ze.componentDidMount=="function"&&(y.flags|=4194308),W=!1)}else{ze=y.stateNode,wme(h,y),xt=y.memoizedProps,Pn=y.type===y.elementType?xt:v0(y.type,xt),ze.props=Pn,Sr=y.pendingProps,mr=ze.context,Dt=O.contextType,typeof Dt=="object"&&Dt!==null?Dt=sg(Dt):(Dt=Ap(O)?xx:Jf.current,Dt=DA(y,Dt));var ti=O.getDerivedStateFromProps;(gr=typeof ti=="function"||typeof ze.getSnapshotBeforeUpdate=="function")||typeof ze.UNSAFE_componentWillReceiveProps!="function"&&typeof ze.componentWillReceiveProps!="function"||(xt!==Sr||mr!==Dt)&&Cme(y,ze,W,Dt),V_=!1,mr=y.memoizedState,ze.state=mr,T5(y,W,ze,oe);var yi=y.memoizedState;xt!==Sr||mr!==yi||Ep.current||V_?(typeof ti=="function"&&(vH(y,O,ti,W),yi=y.memoizedState),(Pn=V_||Eme(y,O,Pn,W,mr,yi,Dt)||!1)?(gr||typeof ze.UNSAFE_componentWillUpdate!="function"&&typeof ze.componentWillUpdate!="function"||(typeof ze.componentWillUpdate=="function"&&ze.componentWillUpdate(W,yi,Dt),typeof ze.UNSAFE_componentWillUpdate=="function"&&ze.UNSAFE_componentWillUpdate(W,yi,Dt)),typeof ze.componentDidUpdate=="function"&&(y.flags|=4),typeof ze.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof ze.componentDidUpdate!="function"||xt===h.memoizedProps&&mr===h.memoizedState||(y.flags|=4),typeof ze.getSnapshotBeforeUpdate!="function"||xt===h.memoizedProps&&mr===h.memoizedState||(y.flags|=1024),y.memoizedProps=W,y.memoizedState=yi),ze.props=W,ze.state=yi,ze.context=Dt,W=Pn):(typeof ze.componentDidUpdate!="function"||xt===h.memoizedProps&&mr===h.memoizedState||(y.flags|=4),typeof ze.getSnapshotBeforeUpdate!="function"||xt===h.memoizedProps&&mr===h.memoizedState||(y.flags|=1024),W=!1)}return BH(h,y,O,W,pe,oe)}function BH(h,y,O,W,oe,pe){age(h,y);var ze=(y.flags&128)!==0;if(!W&&!ze)return oe&&fme(y,O,!1),Ky(h,y,pe);W=y.stateNode,bDe.current=y;var xt=ze&&typeof O.getDerivedStateFromError!="function"?null:W.render();return y.flags|=1,h!==null&&ze?(y.child=jA(y,h.child,null,pe),y.child=jA(y,null,xt,pe)):Uh(h,y,xt,pe),y.memoizedState=W.state,oe&&fme(y,O,!0),y.child}function uge(h){var y=h.stateNode;y.pendingContext?cme(h,y.pendingContext,y.pendingContext!==y.context):y.context&&cme(h,y.context,!1),_H(h,y.containerInfo)}function cge(h,y,O,W,oe){return FA(),cH(oe),y.flags|=256,Uh(h,y,O,W),y.child}var DH={dehydrated:null,treeContext:null,retryLane:0};function LH(h){return{baseLanes:h,cachePool:null,transitions:null}}function dge(h,y,O){var W=y.pendingProps,oe=tu.current,pe=!1,ze=(y.flags&128)!==0,xt;if((xt=ze)||(xt=h!==null&&h.memoizedState===null?!1:(oe&2)!==0),xt?(pe=!0,y.flags&=-129):(h===null||h.memoizedState!==null)&&(oe|=1),Za(tu,oe&1),h===null)return uH(y),h=y.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(y.mode&1?h.data==="$!"?y.lanes=8:y.lanes=1073741824:y.lanes=1,null):(ze=W.children,h=W.fallback,pe?(W=y.mode,pe=y.child,ze={mode:"hidden",children:ze},!(W&1)&&pe!==null?(pe.childLanes=0,pe.pendingProps=ze):pe=q5(ze,W,0,null),h=Rx(h,W,O,null),pe.return=y,h.return=y,pe.sibling=h,y.child=pe,y.child.memoizedState=LH(O),y.memoizedState=DH,h):NH(y,ze));if(oe=h.memoizedState,oe!==null&&(xt=oe.dehydrated,xt!==null))return EDe(h,y,ze,W,xt,oe,O);if(pe){pe=W.fallback,ze=y.mode,oe=h.child,xt=oe.sibling;var Dt={mode:"hidden",children:W.children};return!(ze&1)&&y.child!==oe?(W=y.child,W.childLanes=0,W.pendingProps=Dt,y.deletions=null):(W=J_(oe,Dt),W.subtreeFlags=oe.subtreeFlags&14680064),xt!==null?pe=J_(xt,pe):(pe=Rx(pe,ze,O,null),pe.flags|=2),pe.return=y,W.return=y,W.sibling=pe,y.child=W,W=pe,pe=y.child,ze=h.child.memoizedState,ze=ze===null?LH(O):{baseLanes:ze.baseLanes|O,cachePool:null,transitions:ze.transitions},pe.memoizedState=ze,pe.childLanes=h.childLanes&~O,y.memoizedState=DH,W}return pe=h.child,h=pe.sibling,W=J_(pe,{mode:"visible",children:W.children}),!(y.mode&1)&&(W.lanes=O),W.return=y,W.sibling=null,h!==null&&(O=y.deletions,O===null?(y.deletions=[h],y.flags|=16):O.push(h)),y.child=W,y.memoizedState=null,W}function NH(h,y){return y=q5({mode:"visible",children:y},h.mode,0,null),y.return=h,h.child=y}function N5(h,y,O,W){return W!==null&&cH(W),jA(y,h.child,null,O),h=NH(y,y.pendingProps.children),h.flags|=2,y.memoizedState=null,h}function EDe(h,y,O,W,oe,pe,ze){if(O)return y.flags&256?(y.flags&=-257,W=IH(Error(m(422))),N5(h,y,ze,W)):y.memoizedState!==null?(y.child=h.child,y.flags|=128,null):(pe=W.fallback,oe=y.mode,W=q5({mode:"visible",children:W.children},oe,0,null),pe=Rx(pe,oe,ze,null),pe.flags|=2,W.return=y,pe.return=y,W.sibling=pe,y.child=W,y.mode&1&&jA(y,h.child,null,ze),y.child.memoizedState=LH(ze),y.memoizedState=DH,pe);if(!(y.mode&1))return N5(h,y,ze,null);if(oe.data==="$!"){if(W=oe.nextSibling&&oe.nextSibling.dataset,W)var xt=W.dgst;return W=xt,pe=Error(m(419)),W=IH(pe,W,void 0),N5(h,y,ze,W)}if(xt=(ze&h.childLanes)!==0,Cp||xt){if(W=Sd,W!==null){switch(ze&-ze){case 4:oe=2;break;case 16:oe=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:oe=32;break;case 536870912:oe=268435456;break;default:oe=0}oe=oe&(W.suspendedLanes|ze)?0:oe,oe!==0&&oe!==pe.retryLane&&(pe.retryLane=oe,Wy(h,oe),w0(W,h,oe,-1))}return ZH(),W=IH(Error(m(421))),N5(h,y,ze,W)}return oe.data==="$?"?(y.flags|=128,y.child=h.child,y=NDe.bind(null,h),oe._reactRetry=y,null):(h=pe.treeContext,vm=U_(oe.nextSibling),gm=y,Ol=!0,g0=null,h!==null&&(ig[og++]=Gy,ig[og++]=Vy,ig[og++]=bx,Gy=h.id,Vy=h.overflow,bx=y),y=NH(y,W.children),y.flags|=4096,y)}function fge(h,y,O){h.lanes|=y;var W=h.alternate;W!==null&&(W.lanes|=y),pH(h.return,y,O)}function FH(h,y,O,W,oe){var pe=h.memoizedState;pe===null?h.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:W,tail:O,tailMode:oe}:(pe.isBackwards=y,pe.rendering=null,pe.renderingStartTime=0,pe.last=W,pe.tail=O,pe.tailMode=oe)}function hge(h,y,O){var W=y.pendingProps,oe=W.revealOrder,pe=W.tail;if(Uh(h,y,W.children,O),W=tu.current,W&2)W=W&1|2,y.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=y.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&fge(h,O,y);else if(h.tag===19)fge(h,O,y);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===y)break e;for(;h.sibling===null;){if(h.return===null||h.return===y)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}W&=1}if(Za(tu,W),!(y.mode&1))y.memoizedState=null;else switch(oe){case"forwards":for(O=y.child,oe=null;O!==null;)h=O.alternate,h!==null&&I5(h)===null&&(oe=O),O=O.sibling;O=oe,O===null?(oe=y.child,y.child=null):(oe=O.sibling,O.sibling=null),FH(y,!1,oe,O,pe);break;case"backwards":for(O=null,oe=y.child,y.child=null;oe!==null;){if(h=oe.alternate,h!==null&&I5(h)===null){y.child=oe;break}h=oe.sibling,oe.sibling=O,O=oe,oe=h}FH(y,!0,O,null,pe);break;case"together":FH(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function F5(h,y){!(y.mode&1)&&h!==null&&(h.alternate=null,y.alternate=null,y.flags|=2)}function Ky(h,y,O){if(h!==null&&(y.dependencies=h.dependencies),Tx|=y.lanes,!(O&y.childLanes))return null;if(h!==null&&y.child!==h.child)throw Error(m(153));if(y.child!==null){for(h=y.child,O=J_(h,h.pendingProps),y.child=O,O.return=y;h.sibling!==null;)h=h.sibling,O=O.sibling=J_(h,h.pendingProps),O.return=y;O.sibling=null}return y.child}function ADe(h,y,O){switch(y.tag){case 3:uge(y),FA();break;case 5:kme(y);break;case 1:Ap(y.type)&&w5(y);break;case 4:_H(y,y.stateNode.containerInfo);break;case 10:var W=y.type._context,oe=y.memoizedProps.value;Za(A5,W._currentValue),W._currentValue=oe;break;case 13:if(W=y.memoizedState,W!==null)return W.dehydrated!==null?(Za(tu,tu.current&1),y.flags|=128,null):O&y.child.childLanes?dge(h,y,O):(Za(tu,tu.current&1),h=Ky(h,y,O),h!==null?h.sibling:null);Za(tu,tu.current&1);break;case 19:if(W=(O&y.childLanes)!==0,h.flags&128){if(W)return hge(h,y,O);y.flags|=128}if(oe=y.memoizedState,oe!==null&&(oe.rendering=null,oe.tail=null,oe.lastEffect=null),Za(tu,tu.current),W)break;return null;case 22:case 23:return y.lanes=0,sge(h,y,O)}return Ky(h,y,O)}var pge,zH,mge,gge;pge=function(h,y){for(var O=y.child;O!==null;){if(O.tag===5||O.tag===6)h.appendChild(O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===y)break;for(;O.sibling===null;){if(O.return===null||O.return===y)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},zH=function(){},mge=function(h,y,O,W){var oe=h.memoizedProps;if(oe!==W){h=y.stateNode,Cx(Sv.current);var pe=null;switch(O){case"input":oe=An(h,oe),W=An(h,W),pe=[];break;case"select":oe=Xe({},oe,{value:void 0}),W=Xe({},W,{value:void 0}),pe=[];break;case"textarea":oe=pr(h,oe),W=pr(h,W),pe=[];break;default:typeof oe.onClick!="function"&&typeof W.onClick=="function"&&(h.onclick=v5)}bA(O,W);var ze;O=null;for(Pn in oe)if(!W.hasOwnProperty(Pn)&&oe.hasOwnProperty(Pn)&&oe[Pn]!=null)if(Pn==="style"){var xt=oe[Pn];for(ze in xt)xt.hasOwnProperty(ze)&&(O||(O={}),O[ze]="")}else Pn!=="dangerouslySetInnerHTML"&&Pn!=="children"&&Pn!=="suppressContentEditableWarning"&&Pn!=="suppressHydrationWarning"&&Pn!=="autoFocus"&&(E.hasOwnProperty(Pn)?pe||(pe=[]):(pe=pe||[]).push(Pn,null));for(Pn in W){var Dt=W[Pn];if(xt=oe!=null?oe[Pn]:void 0,W.hasOwnProperty(Pn)&&Dt!==xt&&(Dt!=null||xt!=null))if(Pn==="style")if(xt){for(ze in xt)!xt.hasOwnProperty(ze)||Dt&&Dt.hasOwnProperty(ze)||(O||(O={}),O[ze]="");for(ze in Dt)Dt.hasOwnProperty(ze)&&xt[ze]!==Dt[ze]&&(O||(O={}),O[ze]=Dt[ze])}else O||(pe||(pe=[]),pe.push(Pn,O)),O=Dt;else Pn==="dangerouslySetInnerHTML"?(Dt=Dt?Dt.__html:void 0,xt=xt?xt.__html:void 0,Dt!=null&&xt!==Dt&&(pe=pe||[]).push(Pn,Dt)):Pn==="children"?typeof Dt!="string"&&typeof Dt!="number"||(pe=pe||[]).push(Pn,""+Dt):Pn!=="suppressContentEditableWarning"&&Pn!=="suppressHydrationWarning"&&(E.hasOwnProperty(Pn)?(Dt!=null&&Pn==="onScroll"&&yl("scroll",h),pe||xt===Dt||(pe=[])):(pe=pe||[]).push(Pn,Dt))}O&&(pe=pe||[]).push("style",O);var Pn=pe;(y.updateQueue=Pn)&&(y.flags|=4)}},gge=function(h,y,O,W){O!==W&&(y.flags|=4)};function Uk(h,y){if(!Ol)switch(h.tailMode){case"hidden":y=h.tail;for(var O=null;y!==null;)y.alternate!==null&&(O=y),y=y.sibling;O===null?h.tail=null:O.sibling=null;break;case"collapsed":O=h.tail;for(var W=null;O!==null;)O.alternate!==null&&(W=O),O=O.sibling;W===null?y||h.tail===null?h.tail=null:h.tail.sibling=null:W.sibling=null}}function $f(h){var y=h.alternate!==null&&h.alternate.child===h.child,O=0,W=0;if(y)for(var oe=h.child;oe!==null;)O|=oe.lanes|oe.childLanes,W|=oe.subtreeFlags&14680064,W|=oe.flags&14680064,oe.return=h,oe=oe.sibling;else for(oe=h.child;oe!==null;)O|=oe.lanes|oe.childLanes,W|=oe.subtreeFlags,W|=oe.flags,oe.return=h,oe=oe.sibling;return h.subtreeFlags|=W,h.childLanes=O,y}function CDe(h,y,O){var W=y.pendingProps;switch(aH(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $f(y),null;case 1:return Ap(y.type)&&_5(),$f(y),null;case 3:return W=y.stateNode,HA(),_l(Ep),_l(Jf),xH(),W.pendingContext&&(W.context=W.pendingContext,W.pendingContext=null),(h===null||h.child===null)&&(E5(y)?y.flags|=4:h===null||h.memoizedState.isDehydrated&&!(y.flags&256)||(y.flags|=1024,g0!==null&&(QH(g0),g0=null))),zH(h,y),$f(y),null;case 5:wH(y);var oe=Cx(Dk.current);if(O=y.type,h!==null&&y.stateNode!=null)mge(h,y,O,W,oe),h.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!W){if(y.stateNode===null)throw Error(m(166));return $f(y),null}if(h=Cx(Sv.current),E5(y)){W=y.stateNode,O=y.type;var pe=y.memoizedProps;switch(W[wv]=y,W[kk]=pe,h=(y.mode&1)!==0,O){case"dialog":yl("cancel",W),yl("close",W);break;case"iframe":case"object":case"embed":yl("load",W);break;case"video":case"audio":for(oe=0;oe<Mk.length;oe++)yl(Mk[oe],W);break;case"source":yl("error",W);break;case"img":case"image":case"link":yl("error",W),yl("load",W);break;case"details":yl("toggle",W);break;case"input":bn(W,pe),yl("invalid",W);break;case"select":W._wrapperState={wasMultiple:!!pe.multiple},yl("invalid",W);break;case"textarea":Jn(W,pe),yl("invalid",W)}bA(O,pe),oe=null;for(var ze in pe)if(pe.hasOwnProperty(ze)){var xt=pe[ze];ze==="children"?typeof xt=="string"?W.textContent!==xt&&(pe.suppressHydrationWarning!==!0&&g5(W.textContent,xt,h),oe=["children",xt]):typeof xt=="number"&&W.textContent!==""+xt&&(pe.suppressHydrationWarning!==!0&&g5(W.textContent,xt,h),oe=["children",""+xt]):E.hasOwnProperty(ze)&&xt!=null&&ze==="onScroll"&&yl("scroll",W)}switch(O){case"input":Di(W),Qt(W,pe,!0);break;case"textarea":Di(W),ki(W);break;case"select":case"option":break;default:typeof pe.onClick=="function"&&(W.onclick=v5)}W=oe,y.updateQueue=W,W!==null&&(y.flags|=4)}else{ze=oe.nodeType===9?oe:oe.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ss(O)),h==="http://www.w3.org/1999/xhtml"?O==="script"?(h=ze.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof W.is=="string"?h=ze.createElement(O,{is:W.is}):(h=ze.createElement(O),O==="select"&&(ze=h,W.multiple?ze.multiple=!0:W.size&&(ze.size=W.size))):h=ze.createElementNS(h,O),h[wv]=y,h[kk]=W,pge(h,y,!1,!1),y.stateNode=h;e:{switch(ze=lk(O,W),O){case"dialog":yl("cancel",h),yl("close",h),oe=W;break;case"iframe":case"object":case"embed":yl("load",h),oe=W;break;case"video":case"audio":for(oe=0;oe<Mk.length;oe++)yl(Mk[oe],h);oe=W;break;case"source":yl("error",h),oe=W;break;case"img":case"image":case"link":yl("error",h),yl("load",h),oe=W;break;case"details":yl("toggle",h),oe=W;break;case"input":bn(h,W),oe=An(h,W),yl("invalid",h);break;case"option":oe=W;break;case"select":h._wrapperState={wasMultiple:!!W.multiple},oe=Xe({},W,{value:void 0}),yl("invalid",h);break;case"textarea":Jn(h,W),oe=pr(h,W),yl("invalid",h);break;default:oe=W}bA(O,oe),xt=oe;for(pe in xt)if(xt.hasOwnProperty(pe)){var Dt=xt[pe];pe==="style"?xA(h,Dt):pe==="dangerouslySetInnerHTML"?(Dt=Dt?Dt.__html:void 0,Dt!=null&&O_(h,Dt)):pe==="children"?typeof Dt=="string"?(O!=="textarea"||Dt!=="")&&qf(h,Dt):typeof Dt=="number"&&qf(h,""+Dt):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(E.hasOwnProperty(pe)?Dt!=null&&pe==="onScroll"&&yl("scroll",h):Dt!=null&&Oe(h,pe,Dt,ze))}switch(O){case"input":Di(h),Qt(h,W,!1);break;case"textarea":Di(h),ki(h);break;case"option":W.value!=null&&h.setAttribute("value",""+Ur(W.value));break;case"select":h.multiple=!!W.multiple,pe=W.value,pe!=null?cn(h,!!W.multiple,pe,!1):W.defaultValue!=null&&cn(h,!!W.multiple,W.defaultValue,!0);break;default:typeof oe.onClick=="function"&&(h.onclick=v5)}switch(O){case"button":case"input":case"select":case"textarea":W=!!W.autoFocus;break e;case"img":W=!0;break e;default:W=!1}}W&&(y.flags|=4)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return $f(y),null;case 6:if(h&&y.stateNode!=null)gge(h,y,h.memoizedProps,W);else{if(typeof W!="string"&&y.stateNode===null)throw Error(m(166));if(O=Cx(Dk.current),Cx(Sv.current),E5(y)){if(W=y.stateNode,O=y.memoizedProps,W[wv]=y,(pe=W.nodeValue!==O)&&(h=gm,h!==null))switch(h.tag){case 3:g5(W.nodeValue,O,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&g5(W.nodeValue,O,(h.mode&1)!==0)}pe&&(y.flags|=4)}else W=(O.nodeType===9?O:O.ownerDocument).createTextNode(W),W[wv]=y,y.stateNode=W}return $f(y),null;case 13:if(_l(tu),W=y.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Ol&&vm!==null&&y.mode&1&&!(y.flags&128))yme(),FA(),y.flags|=98560,pe=!1;else if(pe=E5(y),W!==null&&W.dehydrated!==null){if(h===null){if(!pe)throw Error(m(318));if(pe=y.memoizedState,pe=pe!==null?pe.dehydrated:null,!pe)throw Error(m(317));pe[wv]=y}else FA(),!(y.flags&128)&&(y.memoizedState=null),y.flags|=4;$f(y),pe=!1}else g0!==null&&(QH(g0),g0=null),pe=!0;if(!pe)return y.flags&65536?y:null}return y.flags&128?(y.lanes=O,y):(W=W!==null,W!==(h!==null&&h.memoizedState!==null)&&W&&(y.child.flags|=8192,y.mode&1&&(h===null||tu.current&1?Xc===0&&(Xc=3):ZH())),y.updateQueue!==null&&(y.flags|=4),$f(y),null);case 4:return HA(),zH(h,y),h===null&&Tk(y.stateNode.containerInfo),$f(y),null;case 10:return hH(y.type._context),$f(y),null;case 17:return Ap(y.type)&&_5(),$f(y),null;case 19:if(_l(tu),pe=y.memoizedState,pe===null)return $f(y),null;if(W=(y.flags&128)!==0,ze=pe.rendering,ze===null)if(W)Uk(pe,!1);else{if(Xc!==0||h!==null&&h.flags&128)for(h=y.child;h!==null;){if(ze=I5(h),ze!==null){for(y.flags|=128,Uk(pe,!1),W=ze.updateQueue,W!==null&&(y.updateQueue=W,y.flags|=4),y.subtreeFlags=0,W=O,O=y.child;O!==null;)pe=O,h=W,pe.flags&=14680066,ze=pe.alternate,ze===null?(pe.childLanes=0,pe.lanes=h,pe.child=null,pe.subtreeFlags=0,pe.memoizedProps=null,pe.memoizedState=null,pe.updateQueue=null,pe.dependencies=null,pe.stateNode=null):(pe.childLanes=ze.childLanes,pe.lanes=ze.lanes,pe.child=ze.child,pe.subtreeFlags=0,pe.deletions=null,pe.memoizedProps=ze.memoizedProps,pe.memoizedState=ze.memoizedState,pe.updateQueue=ze.updateQueue,pe.type=ze.type,h=ze.dependencies,pe.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),O=O.sibling;return Za(tu,tu.current&1|2),y.child}h=h.sibling}pe.tail!==null&&Zu()>XA&&(y.flags|=128,W=!0,Uk(pe,!1),y.lanes=4194304)}else{if(!W)if(h=I5(ze),h!==null){if(y.flags|=128,W=!0,O=h.updateQueue,O!==null&&(y.updateQueue=O,y.flags|=4),Uk(pe,!0),pe.tail===null&&pe.tailMode==="hidden"&&!ze.alternate&&!Ol)return $f(y),null}else 2*Zu()-pe.renderingStartTime>XA&&O!==1073741824&&(y.flags|=128,W=!0,Uk(pe,!1),y.lanes=4194304);pe.isBackwards?(ze.sibling=y.child,y.child=ze):(O=pe.last,O!==null?O.sibling=ze:y.child=ze,pe.last=ze)}return pe.tail!==null?(y=pe.tail,pe.rendering=y,pe.tail=y.sibling,pe.renderingStartTime=Zu(),y.sibling=null,O=tu.current,Za(tu,W?O&1|2:O&1),y):($f(y),null);case 22:case 23:return JH(),W=y.memoizedState!==null,h!==null&&h.memoizedState!==null!==W&&(y.flags|=8192),W&&y.mode&1?ym&1073741824&&($f(y),y.subtreeFlags&6&&(y.flags|=8192)):$f(y),null;case 24:return null;case 25:return null}throw Error(m(156,y.tag))}function MDe(h,y){switch(aH(y),y.tag){case 1:return Ap(y.type)&&_5(),h=y.flags,h&65536?(y.flags=h&-65537|128,y):null;case 3:return HA(),_l(Ep),_l(Jf),xH(),h=y.flags,h&65536&&!(h&128)?(y.flags=h&-65537|128,y):null;case 5:return wH(y),null;case 13:if(_l(tu),h=y.memoizedState,h!==null&&h.dehydrated!==null){if(y.alternate===null)throw Error(m(340));FA()}return h=y.flags,h&65536?(y.flags=h&-65537|128,y):null;case 19:return _l(tu),null;case 4:return HA(),null;case 10:return hH(y.type._context),null;case 22:case 23:return JH(),null;case 24:return null;default:return null}}var z5=!1,eh=!1,TDe=typeof WeakSet=="function"?WeakSet:Set,hi=null;function VA(h,y){var O=h.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(W){xu(h,y,W)}else O.current=null}function vge(h,y,O){try{O()}catch(W){xu(h,y,W)}}var yge=!1;function PDe(h,y){if(Zj=n5,h=Xpe(),Xj(h)){if("selectionStart"in h)var O={start:h.selectionStart,end:h.selectionEnd};else e:{O=(O=h.ownerDocument)&&O.defaultView||window;var W=O.getSelection&&O.getSelection();if(W&&W.rangeCount!==0){O=W.anchorNode;var oe=W.anchorOffset,pe=W.focusNode;W=W.focusOffset;try{O.nodeType,pe.nodeType}catch{O=null;break e}var ze=0,xt=-1,Dt=-1,Pn=0,gr=0,Sr=h,mr=null;t:for(;;){for(var ti;Sr!==O||oe!==0&&Sr.nodeType!==3||(xt=ze+oe),Sr!==pe||W!==0&&Sr.nodeType!==3||(Dt=ze+W),Sr.nodeType===3&&(ze+=Sr.nodeValue.length),(ti=Sr.firstChild)!==null;)mr=Sr,Sr=ti;for(;;){if(Sr===h)break t;if(mr===O&&++Pn===oe&&(xt=ze),mr===pe&&++gr===W&&(Dt=ze),(ti=Sr.nextSibling)!==null)break;Sr=mr,mr=Sr.parentNode}Sr=ti}O=xt===-1||Dt===-1?null:{start:xt,end:Dt}}else O=null}O=O||{start:0,end:0}}else O=null;for($j={focusedElem:h,selectionRange:O},n5=!1,hi=y;hi!==null;)if(y=hi,h=y.child,(y.subtreeFlags&1028)!==0&&h!==null)h.return=y,hi=h;else for(;hi!==null;){y=hi;try{var yi=y.alternate;if(y.flags&1024)switch(y.tag){case 0:case 11:case 15:break;case 1:if(yi!==null){var xi=yi.memoizedProps,$u=yi.memoizedState,dn=y.stateNode,Gt=dn.getSnapshotBeforeUpdate(y.elementType===y.type?xi:v0(y.type,xi),$u);dn.__reactInternalSnapshotBeforeUpdate=Gt}break;case 3:var _n=y.stateNode.containerInfo;_n.nodeType===1?_n.textContent="":_n.nodeType===9&&_n.documentElement&&_n.removeChild(_n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(m(163))}}catch(Or){xu(y,y.return,Or)}if(h=y.sibling,h!==null){h.return=y.return,hi=h;break}hi=y.return}return yi=yge,yge=!1,yi}function jk(h,y,O){var W=y.updateQueue;if(W=W!==null?W.lastEffect:null,W!==null){var oe=W=W.next;do{if((oe.tag&h)===h){var pe=oe.destroy;oe.destroy=void 0,pe!==void 0&&vge(y,O,pe)}oe=oe.next}while(oe!==W)}}function U5(h,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var O=y=y.next;do{if((O.tag&h)===h){var W=O.create;O.destroy=W()}O=O.next}while(O!==y)}}function UH(h){var y=h.ref;if(y!==null){var O=h.stateNode;switch(h.tag){case 5:h=O;break;default:h=O}typeof y=="function"?y(h):y.current=h}}function _ge(h){var y=h.alternate;y!==null&&(h.alternate=null,_ge(y)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(y=h.stateNode,y!==null&&(delete y[wv],delete y[kk],delete y[rH],delete y[dDe],delete y[fDe])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function wge(h){return h.tag===5||h.tag===3||h.tag===4}function Sge(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||wge(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function jH(h,y,O){var W=h.tag;if(W===5||W===6)h=h.stateNode,y?O.nodeType===8?O.parentNode.insertBefore(h,y):O.insertBefore(h,y):(O.nodeType===8?(y=O.parentNode,y.insertBefore(h,O)):(y=O,y.appendChild(h)),O=O._reactRootContainer,O!=null||y.onclick!==null||(y.onclick=v5));else if(W!==4&&(h=h.child,h!==null))for(jH(h,y,O),h=h.sibling;h!==null;)jH(h,y,O),h=h.sibling}function HH(h,y,O){var W=h.tag;if(W===5||W===6)h=h.stateNode,y?O.insertBefore(h,y):O.appendChild(h);else if(W!==4&&(h=h.child,h!==null))for(HH(h,y,O),h=h.sibling;h!==null;)HH(h,y,O),h=h.sibling}var df=null,y0=!1;function X_(h,y,O){for(O=O.child;O!==null;)xge(h,y,O),O=O.sibling}function xge(h,y,O){if(_v&&typeof _v.onCommitFiberUnmount=="function")try{_v.onCommitFiberUnmount(qD,O)}catch{}switch(O.tag){case 5:eh||VA(O,y);case 6:var W=df,oe=y0;df=null,X_(h,y,O),df=W,y0=oe,df!==null&&(y0?(h=df,O=O.stateNode,h.nodeType===8?h.parentNode.removeChild(O):h.removeChild(O)):df.removeChild(O.stateNode));break;case 18:df!==null&&(y0?(h=df,O=O.stateNode,h.nodeType===8?nH(h.parentNode,O):h.nodeType===1&&nH(h,O),_k(h)):nH(df,O.stateNode));break;case 4:W=df,oe=y0,df=O.stateNode.containerInfo,y0=!0,X_(h,y,O),df=W,y0=oe;break;case 0:case 11:case 14:case 15:if(!eh&&(W=O.updateQueue,W!==null&&(W=W.lastEffect,W!==null))){oe=W=W.next;do{var pe=oe,ze=pe.destroy;pe=pe.tag,ze!==void 0&&(pe&2||pe&4)&&vge(O,y,ze),oe=oe.next}while(oe!==W)}X_(h,y,O);break;case 1:if(!eh&&(VA(O,y),W=O.stateNode,typeof W.componentWillUnmount=="function"))try{W.props=O.memoizedProps,W.state=O.memoizedState,W.componentWillUnmount()}catch(xt){xu(O,y,xt)}X_(h,y,O);break;case 21:X_(h,y,O);break;case 22:O.mode&1?(eh=(W=eh)||O.memoizedState!==null,X_(h,y,O),eh=W):X_(h,y,O);break;default:X_(h,y,O)}}function bge(h){var y=h.updateQueue;if(y!==null){h.updateQueue=null;var O=h.stateNode;O===null&&(O=h.stateNode=new TDe),y.forEach(function(W){var oe=FDe.bind(null,h,W);O.has(W)||(O.add(W),W.then(oe,oe))})}}function _0(h,y){var O=y.deletions;if(O!==null)for(var W=0;W<O.length;W++){var oe=O[W];try{var pe=h,ze=y,xt=ze;e:for(;xt!==null;){switch(xt.tag){case 5:df=xt.stateNode,y0=!1;break e;case 3:df=xt.stateNode.containerInfo,y0=!0;break e;case 4:df=xt.stateNode.containerInfo,y0=!0;break e}xt=xt.return}if(df===null)throw Error(m(160));xge(pe,ze,oe),df=null,y0=!1;var Dt=oe.alternate;Dt!==null&&(Dt.return=null),oe.return=null}catch(Pn){xu(oe,y,Pn)}}if(y.subtreeFlags&12854)for(y=y.child;y!==null;)Ege(y,h),y=y.sibling}function Ege(h,y){var O=h.alternate,W=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(_0(y,h),bv(h),W&4){try{jk(3,h,h.return),U5(3,h)}catch(xi){xu(h,h.return,xi)}try{jk(5,h,h.return)}catch(xi){xu(h,h.return,xi)}}break;case 1:_0(y,h),bv(h),W&512&&O!==null&&VA(O,O.return);break;case 5:if(_0(y,h),bv(h),W&512&&O!==null&&VA(O,O.return),h.flags&32){var oe=h.stateNode;try{qf(oe,"")}catch(xi){xu(h,h.return,xi)}}if(W&4&&(oe=h.stateNode,oe!=null)){var pe=h.memoizedProps,ze=O!==null?O.memoizedProps:pe,xt=h.type,Dt=h.updateQueue;if(h.updateQueue=null,Dt!==null)try{xt==="input"&&pe.type==="radio"&&pe.name!=null&&gt(oe,pe),lk(xt,ze);var Pn=lk(xt,pe);for(ze=0;ze<Dt.length;ze+=2){var gr=Dt[ze],Sr=Dt[ze+1];gr==="style"?xA(oe,Sr):gr==="dangerouslySetInnerHTML"?O_(oe,Sr):gr==="children"?qf(oe,Sr):Oe(oe,gr,Sr,Pn)}switch(xt){case"input":pt(oe,pe);break;case"textarea":or(oe,pe);break;case"select":var mr=oe._wrapperState.wasMultiple;oe._wrapperState.wasMultiple=!!pe.multiple;var ti=pe.value;ti!=null?cn(oe,!!pe.multiple,ti,!1):mr!==!!pe.multiple&&(pe.defaultValue!=null?cn(oe,!!pe.multiple,pe.defaultValue,!0):cn(oe,!!pe.multiple,pe.multiple?[]:"",!1))}oe[kk]=pe}catch(xi){xu(h,h.return,xi)}}break;case 6:if(_0(y,h),bv(h),W&4){if(h.stateNode===null)throw Error(m(162));oe=h.stateNode,pe=h.memoizedProps;try{oe.nodeValue=pe}catch(xi){xu(h,h.return,xi)}}break;case 3:if(_0(y,h),bv(h),W&4&&O!==null&&O.memoizedState.isDehydrated)try{_k(y.containerInfo)}catch(xi){xu(h,h.return,xi)}break;case 4:_0(y,h),bv(h);break;case 13:_0(y,h),bv(h),oe=h.child,oe.flags&8192&&(pe=oe.memoizedState!==null,oe.stateNode.isHidden=pe,!pe||oe.alternate!==null&&oe.alternate.memoizedState!==null||(WH=Zu())),W&4&&bge(h);break;case 22:if(gr=O!==null&&O.memoizedState!==null,h.mode&1?(eh=(Pn=eh)||gr,_0(y,h),eh=Pn):_0(y,h),bv(h),W&8192){if(Pn=h.memoizedState!==null,(h.stateNode.isHidden=Pn)&&!gr&&h.mode&1)for(hi=h,gr=h.child;gr!==null;){for(Sr=hi=gr;hi!==null;){switch(mr=hi,ti=mr.child,mr.tag){case 0:case 11:case 14:case 15:jk(4,mr,mr.return);break;case 1:VA(mr,mr.return);var yi=mr.stateNode;if(typeof yi.componentWillUnmount=="function"){W=mr,O=mr.return;try{y=W,yi.props=y.memoizedProps,yi.state=y.memoizedState,yi.componentWillUnmount()}catch(xi){xu(W,O,xi)}}break;case 5:VA(mr,mr.return);break;case 22:if(mr.memoizedState!==null){Mge(Sr);continue}}ti!==null?(ti.return=mr,hi=ti):Mge(Sr)}gr=gr.sibling}e:for(gr=null,Sr=h;;){if(Sr.tag===5){if(gr===null){gr=Sr;try{oe=Sr.stateNode,Pn?(pe=oe.style,typeof pe.setProperty=="function"?pe.setProperty("display","none","important"):pe.display="none"):(xt=Sr.stateNode,Dt=Sr.memoizedProps.style,ze=Dt!=null&&Dt.hasOwnProperty("display")?Dt.display:null,xt.style.display=_x("display",ze))}catch(xi){xu(h,h.return,xi)}}}else if(Sr.tag===6){if(gr===null)try{Sr.stateNode.nodeValue=Pn?"":Sr.memoizedProps}catch(xi){xu(h,h.return,xi)}}else if((Sr.tag!==22&&Sr.tag!==23||Sr.memoizedState===null||Sr===h)&&Sr.child!==null){Sr.child.return=Sr,Sr=Sr.child;continue}if(Sr===h)break e;for(;Sr.sibling===null;){if(Sr.return===null||Sr.return===h)break e;gr===Sr&&(gr=null),Sr=Sr.return}gr===Sr&&(gr=null),Sr.sibling.return=Sr.return,Sr=Sr.sibling}}break;case 19:_0(y,h),bv(h),W&4&&bge(h);break;case 21:break;default:_0(y,h),bv(h)}}function bv(h){var y=h.flags;if(y&2){try{e:{for(var O=h.return;O!==null;){if(wge(O)){var W=O;break e}O=O.return}throw Error(m(160))}switch(W.tag){case 5:var oe=W.stateNode;W.flags&32&&(qf(oe,""),W.flags&=-33);var pe=Sge(h);HH(h,pe,oe);break;case 3:case 4:var ze=W.stateNode.containerInfo,xt=Sge(h);jH(h,xt,ze);break;default:throw Error(m(161))}}catch(Dt){xu(h,h.return,Dt)}h.flags&=-3}y&4096&&(h.flags&=-4097)}function kDe(h,y,O){hi=h,Age(h)}function Age(h,y,O){for(var W=(h.mode&1)!==0;hi!==null;){var oe=hi,pe=oe.child;if(oe.tag===22&&W){var ze=oe.memoizedState!==null||z5;if(!ze){var xt=oe.alternate,Dt=xt!==null&&xt.memoizedState!==null||eh;xt=z5;var Pn=eh;if(z5=ze,(eh=Dt)&&!Pn)for(hi=oe;hi!==null;)ze=hi,Dt=ze.child,ze.tag===22&&ze.memoizedState!==null?Tge(oe):Dt!==null?(Dt.return=ze,hi=Dt):Tge(oe);for(;pe!==null;)hi=pe,Age(pe),pe=pe.sibling;hi=oe,z5=xt,eh=Pn}Cge(h)}else oe.subtreeFlags&8772&&pe!==null?(pe.return=oe,hi=pe):Cge(h)}}function Cge(h){for(;hi!==null;){var y=hi;if(y.flags&8772){var O=y.alternate;try{if(y.flags&8772)switch(y.tag){case 0:case 11:case 15:eh||U5(5,y);break;case 1:var W=y.stateNode;if(y.flags&4&&!eh)if(O===null)W.componentDidMount();else{var oe=y.elementType===y.type?O.memoizedProps:v0(y.type,O.memoizedProps);W.componentDidUpdate(oe,O.memoizedState,W.__reactInternalSnapshotBeforeUpdate)}var pe=y.updateQueue;pe!==null&&xme(y,pe,W);break;case 3:var ze=y.updateQueue;if(ze!==null){if(O=null,y.child!==null)switch(y.child.tag){case 5:O=y.child.stateNode;break;case 1:O=y.child.stateNode}xme(y,ze,O)}break;case 5:var xt=y.stateNode;if(O===null&&y.flags&4){O=xt;var Dt=y.memoizedProps;switch(y.type){case"button":case"input":case"select":case"textarea":Dt.autoFocus&&O.focus();break;case"img":Dt.src&&(O.src=Dt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(y.memoizedState===null){var Pn=y.alternate;if(Pn!==null){var gr=Pn.memoizedState;if(gr!==null){var Sr=gr.dehydrated;Sr!==null&&_k(Sr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(m(163))}eh||y.flags&512&&UH(y)}catch(mr){xu(y,y.return,mr)}}if(y===h){hi=null;break}if(O=y.sibling,O!==null){O.return=y.return,hi=O;break}hi=y.return}}function Mge(h){for(;hi!==null;){var y=hi;if(y===h){hi=null;break}var O=y.sibling;if(O!==null){O.return=y.return,hi=O;break}hi=y.return}}function Tge(h){for(;hi!==null;){var y=hi;try{switch(y.tag){case 0:case 11:case 15:var O=y.return;try{U5(4,y)}catch(Dt){xu(y,O,Dt)}break;case 1:var W=y.stateNode;if(typeof W.componentDidMount=="function"){var oe=y.return;try{W.componentDidMount()}catch(Dt){xu(y,oe,Dt)}}var pe=y.return;try{UH(y)}catch(Dt){xu(y,pe,Dt)}break;case 5:var ze=y.return;try{UH(y)}catch(Dt){xu(y,ze,Dt)}}}catch(Dt){xu(y,y.return,Dt)}if(y===h){hi=null;break}var xt=y.sibling;if(xt!==null){xt.return=y.return,hi=xt;break}hi=y.return}}var IDe=Math.ceil,j5=Ie.ReactCurrentDispatcher,GH=Ie.ReactCurrentOwner,lg=Ie.ReactCurrentBatchConfig,xs=0,Sd=null,bc=null,ff=0,ym=0,WA=j_(0),Xc=0,Hk=null,Tx=0,H5=0,VH=0,Gk=null,Mp=null,WH=0,XA=1/0,Yy=null,G5=!1,XH=null,K_=null,V5=!1,Y_=null,W5=0,Vk=0,KH=null,X5=-1,K5=0;function jh(){return xs&6?Zu():X5!==-1?X5:X5=Zu()}function Q_(h){return h.mode&1?xs&2&&ff!==0?ff&-ff:pDe.transition!==null?(K5===0&&(K5=ype()),K5):(h=sa,h!==0||(h=window.event,h=h===void 0?16:Mpe(h.type)),h):1}function w0(h,y,O,W){if(50<Vk)throw Vk=0,KH=null,Error(m(185));pk(h,O,W),(!(xs&2)||h!==Sd)&&(h===Sd&&(!(xs&2)&&(H5|=O),Xc===4&&q_(h,ff)),Tp(h,W),O===1&&xs===0&&!(y.mode&1)&&(XA=Zu()+500,S5&&G_()))}function Tp(h,y){var O=h.callbackNode;gBe(h,y);var W=$D(h,h===Sd?ff:0);if(W===0)O!==null&&mpe(O),h.callbackNode=null,h.callbackPriority=0;else if(y=W&-W,h.callbackPriority!==y){if(O!=null&&mpe(O),y===1)h.tag===0?hDe(kge.bind(null,h)):hme(kge.bind(null,h)),uDe(function(){!(xs&6)&&G_()}),O=null;else{switch(_pe(W)){case 1:O=Pj;break;case 4:O=gpe;break;case 16:O=QD;break;case 536870912:O=vpe;break;default:O=QD}O=Fge(O,Pge.bind(null,h))}h.callbackPriority=y,h.callbackNode=O}}function Pge(h,y){if(X5=-1,K5=0,xs&6)throw Error(m(327));var O=h.callbackNode;if(KA()&&h.callbackNode!==O)return null;var W=$D(h,h===Sd?ff:0);if(W===0)return null;if(W&30||W&h.expiredLanes||y)y=Y5(h,W);else{y=W;var oe=xs;xs|=2;var pe=Rge();(Sd!==h||ff!==y)&&(Yy=null,XA=Zu()+500,kx(h,y));do try{BDe();break}catch(xt){Ige(h,xt)}while(1);fH(),j5.current=pe,xs=oe,bc!==null?y=0:(Sd=null,ff=0,y=Xc)}if(y!==0){if(y===2&&(oe=kj(h),oe!==0&&(W=oe,y=YH(h,oe))),y===1)throw O=Hk,kx(h,0),q_(h,W),Tp(h,Zu()),O;if(y===6)q_(h,W);else{if(oe=h.current.alternate,!(W&30)&&!RDe(oe)&&(y=Y5(h,W),y===2&&(pe=kj(h),pe!==0&&(W=pe,y=YH(h,pe))),y===1))throw O=Hk,kx(h,0),q_(h,W),Tp(h,Zu()),O;switch(h.finishedWork=oe,h.finishedLanes=W,y){case 0:case 1:throw Error(m(345));case 2:Ix(h,Mp,Yy);break;case 3:if(q_(h,W),(W&130023424)===W&&(y=WH+500-Zu(),10<y)){if($D(h,0)!==0)break;if(oe=h.suspendedLanes,(oe&W)!==W){jh(),h.pingedLanes|=h.suspendedLanes&oe;break}h.timeoutHandle=tH(Ix.bind(null,h,Mp,Yy),y);break}Ix(h,Mp,Yy);break;case 4:if(q_(h,W),(W&4194240)===W)break;for(y=h.eventTimes,oe=-1;0<W;){var ze=31-p0(W);pe=1<<ze,ze=y[ze],ze>oe&&(oe=ze),W&=~pe}if(W=oe,W=Zu()-W,W=(120>W?120:480>W?480:1080>W?1080:1920>W?1920:3e3>W?3e3:4320>W?4320:1960*IDe(W/1960))-W,10<W){h.timeoutHandle=tH(Ix.bind(null,h,Mp,Yy),W);break}Ix(h,Mp,Yy);break;case 5:Ix(h,Mp,Yy);break;default:throw Error(m(329))}}}return Tp(h,Zu()),h.callbackNode===O?Pge.bind(null,h):null}function YH(h,y){var O=Gk;return h.current.memoizedState.isDehydrated&&(kx(h,y).flags|=256),h=Y5(h,y),h!==2&&(y=Mp,Mp=O,y!==null&&QH(y)),h}function QH(h){Mp===null?Mp=h:Mp.push.apply(Mp,h)}function RDe(h){for(var y=h;;){if(y.flags&16384){var O=y.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var W=0;W<O.length;W++){var oe=O[W],pe=oe.getSnapshot;oe=oe.value;try{if(!m0(pe(),oe))return!1}catch{return!1}}}if(O=y.child,y.subtreeFlags&16384&&O!==null)O.return=y,y=O;else{if(y===h)break;for(;y.sibling===null;){if(y.return===null||y.return===h)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function q_(h,y){for(y&=~VH,y&=~H5,h.suspendedLanes|=y,h.pingedLanes&=~y,h=h.expirationTimes;0<y;){var O=31-p0(y),W=1<<O;h[O]=-1,y&=~W}}function kge(h){if(xs&6)throw Error(m(327));KA();var y=$D(h,0);if(!(y&1))return Tp(h,Zu()),null;var O=Y5(h,y);if(h.tag!==0&&O===2){var W=kj(h);W!==0&&(y=W,O=YH(h,W))}if(O===1)throw O=Hk,kx(h,0),q_(h,y),Tp(h,Zu()),O;if(O===6)throw Error(m(345));return h.finishedWork=h.current.alternate,h.finishedLanes=y,Ix(h,Mp,Yy),Tp(h,Zu()),null}function qH(h,y){var O=xs;xs|=1;try{return h(y)}finally{xs=O,xs===0&&(XA=Zu()+500,S5&&G_())}}function Px(h){Y_!==null&&Y_.tag===0&&!(xs&6)&&KA();var y=xs;xs|=1;var O=lg.transition,W=sa;try{if(lg.transition=null,sa=1,h)return h()}finally{sa=W,lg.transition=O,xs=y,!(xs&6)&&G_()}}function JH(){ym=WA.current,_l(WA)}function kx(h,y){h.finishedWork=null,h.finishedLanes=0;var O=h.timeoutHandle;if(O!==-1&&(h.timeoutHandle=-1,lDe(O)),bc!==null)for(O=bc.return;O!==null;){var W=O;switch(aH(W),W.tag){case 1:W=W.type.childContextTypes,W!=null&&_5();break;case 3:HA(),_l(Ep),_l(Jf),xH();break;case 5:wH(W);break;case 4:HA();break;case 13:_l(tu);break;case 19:_l(tu);break;case 10:hH(W.type._context);break;case 22:case 23:JH()}O=O.return}if(Sd=h,bc=h=J_(h.current,null),ff=ym=y,Xc=0,Hk=null,VH=H5=Tx=0,Mp=Gk=null,Ax!==null){for(y=0;y<Ax.length;y++)if(O=Ax[y],W=O.interleaved,W!==null){O.interleaved=null;var oe=W.next,pe=O.pending;if(pe!==null){var ze=pe.next;pe.next=oe,W.next=ze}O.pending=W}Ax=null}return h}function Ige(h,y){do{var O=bc;try{if(fH(),R5.current=L5,O5){for(var W=nu.memoizedState;W!==null;){var oe=W.queue;oe!==null&&(oe.pending=null),W=W.next}O5=!1}if(Mx=0,wd=Wc=nu=null,Lk=!1,Nk=0,GH.current=null,O===null||O.return===null){Xc=1,Hk=y,bc=null;break}e:{var pe=h,ze=O.return,xt=O,Dt=y;if(y=ff,xt.flags|=32768,Dt!==null&&typeof Dt=="object"&&typeof Dt.then=="function"){var Pn=Dt,gr=xt,Sr=gr.tag;if(!(gr.mode&1)&&(Sr===0||Sr===11||Sr===15)){var mr=gr.alternate;mr?(gr.updateQueue=mr.updateQueue,gr.memoizedState=mr.memoizedState,gr.lanes=mr.lanes):(gr.updateQueue=null,gr.memoizedState=null)}var ti=tge(ze);if(ti!==null){ti.flags&=-257,nge(ti,ze,xt,pe,y),ti.mode&1&&ege(pe,Pn,y),y=ti,Dt=Pn;var yi=y.updateQueue;if(yi===null){var xi=new Set;xi.add(Dt),y.updateQueue=xi}else yi.add(Dt);break e}else{if(!(y&1)){ege(pe,Pn,y),ZH();break e}Dt=Error(m(426))}}else if(Ol&&xt.mode&1){var $u=tge(ze);if($u!==null){!($u.flags&65536)&&($u.flags|=256),nge($u,ze,xt,pe,y),cH(GA(Dt,xt));break e}}pe=Dt=GA(Dt,xt),Xc!==4&&(Xc=2),Gk===null?Gk=[pe]:Gk.push(pe),pe=ze;do{switch(pe.tag){case 3:pe.flags|=65536,y&=-y,pe.lanes|=y;var dn=Zme(pe,Dt,y);Sme(pe,dn);break e;case 1:xt=Dt;var Gt=pe.type,_n=pe.stateNode;if(!(pe.flags&128)&&(typeof Gt.getDerivedStateFromError=="function"||_n!==null&&typeof _n.componentDidCatch=="function"&&(K_===null||!K_.has(_n)))){pe.flags|=65536,y&=-y,pe.lanes|=y;var Or=$me(pe,xt,y);Sme(pe,Or);break e}}pe=pe.return}while(pe!==null)}Bge(O)}catch(Mi){y=Mi,bc===O&&O!==null&&(bc=O=O.return);continue}break}while(1)}function Rge(){var h=j5.current;return j5.current=L5,h===null?L5:h}function ZH(){(Xc===0||Xc===3||Xc===2)&&(Xc=4),Sd===null||!(Tx&268435455)&&!(H5&268435455)||q_(Sd,ff)}function Y5(h,y){var O=xs;xs|=2;var W=Rge();(Sd!==h||ff!==y)&&(Yy=null,kx(h,y));do try{ODe();break}catch(oe){Ige(h,oe)}while(1);if(fH(),xs=O,j5.current=W,bc!==null)throw Error(m(261));return Sd=null,ff=0,Xc}function ODe(){for(;bc!==null;)Oge(bc)}function BDe(){for(;bc!==null&&!aBe();)Oge(bc)}function Oge(h){var y=Nge(h.alternate,h,ym);h.memoizedProps=h.pendingProps,y===null?Bge(h):bc=y,GH.current=null}function Bge(h){var y=h;do{var O=y.alternate;if(h=y.return,y.flags&32768){if(O=MDe(O,y),O!==null){O.flags&=32767,bc=O;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Xc=6,bc=null;return}}else if(O=CDe(O,y,ym),O!==null){bc=O;return}if(y=y.sibling,y!==null){bc=y;return}bc=y=h}while(y!==null);Xc===0&&(Xc=5)}function Ix(h,y,O){var W=sa,oe=lg.transition;try{lg.transition=null,sa=1,DDe(h,y,O,W)}finally{lg.transition=oe,sa=W}return null}function DDe(h,y,O,W){do KA();while(Y_!==null);if(xs&6)throw Error(m(327));O=h.finishedWork;var oe=h.finishedLanes;if(O===null)return null;if(h.finishedWork=null,h.finishedLanes=0,O===h.current)throw Error(m(177));h.callbackNode=null,h.callbackPriority=0;var pe=O.lanes|O.childLanes;if(vBe(h,pe),h===Sd&&(bc=Sd=null,ff=0),!(O.subtreeFlags&2064)&&!(O.flags&2064)||V5||(V5=!0,Fge(QD,function(){return KA(),null})),pe=(O.flags&15990)!==0,O.subtreeFlags&15990||pe){pe=lg.transition,lg.transition=null;var ze=sa;sa=1;var xt=xs;xs|=4,GH.current=null,PDe(h,O),Ege(O,h),rDe($j),n5=!!Zj,$j=Zj=null,h.current=O,kDe(O),lBe(),xs=xt,sa=ze,lg.transition=pe}else h.current=O;if(V5&&(V5=!1,Y_=h,W5=oe),pe=h.pendingLanes,pe===0&&(K_=null),dBe(O.stateNode),Tp(h,Zu()),y!==null)for(W=h.onRecoverableError,O=0;O<y.length;O++)oe=y[O],W(oe.value,{componentStack:oe.stack,digest:oe.digest});if(G5)throw G5=!1,h=XH,XH=null,h;return W5&1&&h.tag!==0&&KA(),pe=h.pendingLanes,pe&1?h===KH?Vk++:(Vk=0,KH=h):Vk=0,G_(),null}function KA(){if(Y_!==null){var h=_pe(W5),y=lg.transition,O=sa;try{if(lg.transition=null,sa=16>h?16:h,Y_===null)var W=!1;else{if(h=Y_,Y_=null,W5=0,xs&6)throw Error(m(331));var oe=xs;for(xs|=4,hi=h.current;hi!==null;){var pe=hi,ze=pe.child;if(hi.flags&16){var xt=pe.deletions;if(xt!==null){for(var Dt=0;Dt<xt.length;Dt++){var Pn=xt[Dt];for(hi=Pn;hi!==null;){var gr=hi;switch(gr.tag){case 0:case 11:case 15:jk(8,gr,pe)}var Sr=gr.child;if(Sr!==null)Sr.return=gr,hi=Sr;else for(;hi!==null;){gr=hi;var mr=gr.sibling,ti=gr.return;if(_ge(gr),gr===Pn){hi=null;break}if(mr!==null){mr.return=ti,hi=mr;break}hi=ti}}}var yi=pe.alternate;if(yi!==null){var xi=yi.child;if(xi!==null){yi.child=null;do{var $u=xi.sibling;xi.sibling=null,xi=$u}while(xi!==null)}}hi=pe}}if(pe.subtreeFlags&2064&&ze!==null)ze.return=pe,hi=ze;else e:for(;hi!==null;){if(pe=hi,pe.flags&2048)switch(pe.tag){case 0:case 11:case 15:jk(9,pe,pe.return)}var dn=pe.sibling;if(dn!==null){dn.return=pe.return,hi=dn;break e}hi=pe.return}}var Gt=h.current;for(hi=Gt;hi!==null;){ze=hi;var _n=ze.child;if(ze.subtreeFlags&2064&&_n!==null)_n.return=ze,hi=_n;else e:for(ze=Gt;hi!==null;){if(xt=hi,xt.flags&2048)try{switch(xt.tag){case 0:case 11:case 15:U5(9,xt)}}catch(Mi){xu(xt,xt.return,Mi)}if(xt===ze){hi=null;break e}var Or=xt.sibling;if(Or!==null){Or.return=xt.return,hi=Or;break e}hi=xt.return}}if(xs=oe,G_(),_v&&typeof _v.onPostCommitFiberRoot=="function")try{_v.onPostCommitFiberRoot(qD,h)}catch{}W=!0}return W}finally{sa=O,lg.transition=y}}return!1}function Dge(h,y,O){y=GA(O,y),y=Zme(h,y,1),h=W_(h,y,1),y=jh(),h!==null&&(pk(h,1,y),Tp(h,y))}function xu(h,y,O){if(h.tag===3)Dge(h,h,O);else for(;y!==null;){if(y.tag===3){Dge(y,h,O);break}else if(y.tag===1){var W=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof W.componentDidCatch=="function"&&(K_===null||!K_.has(W))){h=GA(O,h),h=$me(y,h,1),y=W_(y,h,1),h=jh(),y!==null&&(pk(y,1,h),Tp(y,h));break}}y=y.return}}function LDe(h,y,O){var W=h.pingCache;W!==null&&W.delete(y),y=jh(),h.pingedLanes|=h.suspendedLanes&O,Sd===h&&(ff&O)===O&&(Xc===4||Xc===3&&(ff&130023424)===ff&&500>Zu()-WH?kx(h,0):VH|=O),Tp(h,y)}function Lge(h,y){y===0&&(h.mode&1?(y=ZD,ZD<<=1,!(ZD&130023424)&&(ZD=4194304)):y=1);var O=jh();h=Wy(h,y),h!==null&&(pk(h,y,O),Tp(h,O))}function NDe(h){var y=h.memoizedState,O=0;y!==null&&(O=y.retryLane),Lge(h,O)}function FDe(h,y){var O=0;switch(h.tag){case 13:var W=h.stateNode,oe=h.memoizedState;oe!==null&&(O=oe.retryLane);break;case 19:W=h.stateNode;break;default:throw Error(m(314))}W!==null&&W.delete(y),Lge(h,O)}var Nge;Nge=function(h,y,O){if(h!==null)if(h.memoizedProps!==y.pendingProps||Ep.current)Cp=!0;else{if(!(h.lanes&O)&&!(y.flags&128))return Cp=!1,ADe(h,y,O);Cp=!!(h.flags&131072)}else Cp=!1,Ol&&y.flags&1048576&&pme(y,b5,y.index);switch(y.lanes=0,y.tag){case 2:var W=y.type;F5(h,y),h=y.pendingProps;var oe=DA(y,Jf.current);UA(y,O),oe=AH(null,y,W,h,oe,O);var pe=CH();return y.flags|=1,typeof oe=="object"&&oe!==null&&typeof oe.render=="function"&&oe.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,Ap(W)?(pe=!0,w5(y)):pe=!1,y.memoizedState=oe.state!==null&&oe.state!==void 0?oe.state:null,gH(y),oe.updater=P5,y.stateNode=oe,oe._reactInternals=y,yH(y,W,h,O),y=BH(null,y,W,!0,pe,O)):(y.tag=0,Ol&&pe&&sH(y),Uh(null,y,oe,O),y=y.child),y;case 16:W=y.elementType;e:{switch(F5(h,y),h=y.pendingProps,oe=W._init,W=oe(W._payload),y.type=W,oe=y.tag=UDe(W),h=v0(W,h),oe){case 0:y=OH(null,y,W,h,O);break e;case 1:y=lge(null,y,W,h,O);break e;case 11:y=rge(null,y,W,h,O);break e;case 14:y=ige(null,y,W,v0(W.type,h),O);break e}throw Error(m(306,W,""))}return y;case 0:return W=y.type,oe=y.pendingProps,oe=y.elementType===W?oe:v0(W,oe),OH(h,y,W,oe,O);case 1:return W=y.type,oe=y.pendingProps,oe=y.elementType===W?oe:v0(W,oe),lge(h,y,W,oe,O);case 3:e:{if(uge(y),h===null)throw Error(m(387));W=y.pendingProps,pe=y.memoizedState,oe=pe.element,wme(h,y),T5(y,W,null,O);var ze=y.memoizedState;if(W=ze.element,pe.isDehydrated)if(pe={element:W,isDehydrated:!1,cache:ze.cache,pendingSuspenseBoundaries:ze.pendingSuspenseBoundaries,transitions:ze.transitions},y.updateQueue.baseState=pe,y.memoizedState=pe,y.flags&256){oe=GA(Error(m(423)),y),y=cge(h,y,W,O,oe);break e}else if(W!==oe){oe=GA(Error(m(424)),y),y=cge(h,y,W,O,oe);break e}else for(vm=U_(y.stateNode.containerInfo.firstChild),gm=y,Ol=!0,g0=null,O=Pme(y,null,W,O),y.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(FA(),W===oe){y=Ky(h,y,O);break e}Uh(h,y,W,O)}y=y.child}return y;case 5:return kme(y),h===null&&uH(y),W=y.type,oe=y.pendingProps,pe=h!==null?h.memoizedProps:null,ze=oe.children,eH(W,oe)?ze=null:pe!==null&&eH(W,pe)&&(y.flags|=32),age(h,y),Uh(h,y,ze,O),y.child;case 6:return h===null&&uH(y),null;case 13:return dge(h,y,O);case 4:return _H(y,y.stateNode.containerInfo),W=y.pendingProps,h===null?y.child=jA(y,null,W,O):Uh(h,y,W,O),y.child;case 11:return W=y.type,oe=y.pendingProps,oe=y.elementType===W?oe:v0(W,oe),rge(h,y,W,oe,O);case 7:return Uh(h,y,y.pendingProps,O),y.child;case 8:return Uh(h,y,y.pendingProps.children,O),y.child;case 12:return Uh(h,y,y.pendingProps.children,O),y.child;case 10:e:{if(W=y.type._context,oe=y.pendingProps,pe=y.memoizedProps,ze=oe.value,Za(A5,W._currentValue),W._currentValue=ze,pe!==null)if(m0(pe.value,ze)){if(pe.children===oe.children&&!Ep.current){y=Ky(h,y,O);break e}}else for(pe=y.child,pe!==null&&(pe.return=y);pe!==null;){var xt=pe.dependencies;if(xt!==null){ze=pe.child;for(var Dt=xt.firstContext;Dt!==null;){if(Dt.context===W){if(pe.tag===1){Dt=Xy(-1,O&-O),Dt.tag=2;var Pn=pe.updateQueue;if(Pn!==null){Pn=Pn.shared;var gr=Pn.pending;gr===null?Dt.next=Dt:(Dt.next=gr.next,gr.next=Dt),Pn.pending=Dt}}pe.lanes|=O,Dt=pe.alternate,Dt!==null&&(Dt.lanes|=O),pH(pe.return,O,y),xt.lanes|=O;break}Dt=Dt.next}}else if(pe.tag===10)ze=pe.type===y.type?null:pe.child;else if(pe.tag===18){if(ze=pe.return,ze===null)throw Error(m(341));ze.lanes|=O,xt=ze.alternate,xt!==null&&(xt.lanes|=O),pH(ze,O,y),ze=pe.sibling}else ze=pe.child;if(ze!==null)ze.return=pe;else for(ze=pe;ze!==null;){if(ze===y){ze=null;break}if(pe=ze.sibling,pe!==null){pe.return=ze.return,ze=pe;break}ze=ze.return}pe=ze}Uh(h,y,oe.children,O),y=y.child}return y;case 9:return oe=y.type,W=y.pendingProps.children,UA(y,O),oe=sg(oe),W=W(oe),y.flags|=1,Uh(h,y,W,O),y.child;case 14:return W=y.type,oe=v0(W,y.pendingProps),oe=v0(W.type,oe),ige(h,y,W,oe,O);case 15:return oge(h,y,y.type,y.pendingProps,O);case 17:return W=y.type,oe=y.pendingProps,oe=y.elementType===W?oe:v0(W,oe),F5(h,y),y.tag=1,Ap(W)?(h=!0,w5(y)):h=!1,UA(y,O),Ame(y,W,oe),yH(y,W,oe,O),BH(null,y,W,!0,h,O);case 19:return hge(h,y,O);case 22:return sge(h,y,O)}throw Error(m(156,y.tag))};function Fge(h,y){return ppe(h,y)}function zDe(h,y,O,W){this.tag=h,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=W,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ug(h,y,O,W){return new zDe(h,y,O,W)}function $H(h){return h=h.prototype,!(!h||!h.isReactComponent)}function UDe(h){if(typeof h=="function")return $H(h)?1:0;if(h!=null){if(h=h.$$typeof,h===Pt)return 11;if(h===hr)return 14}return 2}function J_(h,y){var O=h.alternate;return O===null?(O=ug(h.tag,y,h.key,h.mode),O.elementType=h.elementType,O.type=h.type,O.stateNode=h.stateNode,O.alternate=h,h.alternate=O):(O.pendingProps=y,O.type=h.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=h.flags&14680064,O.childLanes=h.childLanes,O.lanes=h.lanes,O.child=h.child,O.memoizedProps=h.memoizedProps,O.memoizedState=h.memoizedState,O.updateQueue=h.updateQueue,y=h.dependencies,O.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},O.sibling=h.sibling,O.index=h.index,O.ref=h.ref,O}function Q5(h,y,O,W,oe,pe){var ze=2;if(W=h,typeof h=="function")$H(h)&&(ze=1);else if(typeof h=="string")ze=5;else e:switch(h){case st:return Rx(O.children,oe,pe,y);case ft:ze=8,oe|=8;break;case It:return h=ug(12,O,y,oe|2),h.elementType=It,h.lanes=pe,h;case be:return h=ug(13,O,y,oe),h.elementType=be,h.lanes=pe,h;case Ht:return h=ug(19,O,y,oe),h.elementType=Ht,h.lanes=pe,h;case Et:return q5(O,oe,pe,y);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case vn:ze=10;break e;case We:ze=9;break e;case Pt:ze=11;break e;case hr:ze=14;break e;case bt:ze=16,W=null;break e}throw Error(m(130,h==null?h:typeof h,""))}return y=ug(ze,O,y,oe),y.elementType=h,y.type=W,y.lanes=pe,y}function Rx(h,y,O,W){return h=ug(7,h,W,y),h.lanes=O,h}function q5(h,y,O,W){return h=ug(22,h,W,y),h.elementType=Et,h.lanes=O,h.stateNode={isHidden:!1},h}function e7(h,y,O){return h=ug(6,h,null,y),h.lanes=O,h}function t7(h,y,O){return y=ug(4,h.children!==null?h.children:[],h.key,y),y.lanes=O,y.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},y}function jDe(h,y,O,W,oe){this.tag=y,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ij(0),this.expirationTimes=Ij(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ij(0),this.identifierPrefix=W,this.onRecoverableError=oe,this.mutableSourceEagerHydrationData=null}function n7(h,y,O,W,oe,pe,ze,xt,Dt){return h=new jDe(h,y,O,xt,Dt),y===1?(y=1,pe===!0&&(y|=8)):y=0,pe=ug(3,null,null,y),h.current=pe,pe.stateNode=h,pe.memoizedState={element:W,isDehydrated:O,cache:null,transitions:null,pendingSuspenseBoundaries:null},gH(pe),h}function HDe(h,y,O){var W=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yt,key:W==null?null:""+W,children:h,containerInfo:y,implementation:O}}function zge(h){if(!h)return H_;h=h._reactInternals;e:{if(wx(h)!==h||h.tag!==1)throw Error(m(170));var y=h;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(Ap(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(m(171))}if(h.tag===1){var O=h.type;if(Ap(O))return dme(h,O,y)}return y}function Uge(h,y,O,W,oe,pe,ze,xt,Dt){return h=n7(O,W,!0,h,oe,pe,ze,xt,Dt),h.context=zge(null),O=h.current,W=jh(),oe=Q_(O),pe=Xy(W,oe),pe.callback=y??null,W_(O,pe,oe),h.current.lanes=oe,pk(h,oe,W),Tp(h,W),h}function J5(h,y,O,W){var oe=y.current,pe=jh(),ze=Q_(oe);return O=zge(O),y.context===null?y.context=O:y.pendingContext=O,y=Xy(pe,ze),y.payload={element:h},W=W===void 0?null:W,W!==null&&(y.callback=W),h=W_(oe,y,ze),h!==null&&(w0(h,oe,ze,pe),M5(h,oe,ze)),ze}function Z5(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function jge(h,y){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var O=h.retryLane;h.retryLane=O!==0&&O<y?O:y}}function r7(h,y){jge(h,y),(h=h.alternate)&&jge(h,y)}function GDe(){return null}var Hge=typeof reportError=="function"?reportError:function(h){console.error(h)};function i7(h){this._internalRoot=h}$5.prototype.render=i7.prototype.render=function(h){var y=this._internalRoot;if(y===null)throw Error(m(409));J5(h,y,null,null)},$5.prototype.unmount=i7.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var y=h.containerInfo;Px(function(){J5(null,h,null,null)}),y[jy]=null}};function $5(h){this._internalRoot=h}$5.prototype.unstable_scheduleHydration=function(h){if(h){var y=xpe();h={blockedOn:null,target:h,priority:y};for(var O=0;O<N_.length&&y!==0&&y<N_[O].priority;O++);N_.splice(O,0,h),O===0&&Ape(h)}};function o7(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function e4(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function Gge(){}function VDe(h,y,O,W,oe){if(oe){if(typeof W=="function"){var pe=W;W=function(){var Pn=Z5(ze);pe.call(Pn)}}var ze=Uge(y,W,h,0,null,!1,!1,"",Gge);return h._reactRootContainer=ze,h[jy]=ze.current,Tk(h.nodeType===8?h.parentNode:h),Px(),ze}for(;oe=h.lastChild;)h.removeChild(oe);if(typeof W=="function"){var xt=W;W=function(){var Pn=Z5(Dt);xt.call(Pn)}}var Dt=n7(h,0,!1,null,null,!1,!1,"",Gge);return h._reactRootContainer=Dt,h[jy]=Dt.current,Tk(h.nodeType===8?h.parentNode:h),Px(function(){J5(y,Dt,O,W)}),Dt}function t4(h,y,O,W,oe){var pe=O._reactRootContainer;if(pe){var ze=pe;if(typeof oe=="function"){var xt=oe;oe=function(){var Dt=Z5(ze);xt.call(Dt)}}J5(y,ze,h,oe)}else ze=VDe(O,y,h,oe,W);return Z5(ze)}wpe=function(h){switch(h.tag){case 3:var y=h.stateNode;if(y.current.memoizedState.isDehydrated){var O=hk(y.pendingLanes);O!==0&&(Rj(y,O|1),Tp(y,Zu()),!(xs&6)&&(XA=Zu()+500,G_()))}break;case 13:Px(function(){var W=Wy(h,1);if(W!==null){var oe=jh();w0(W,h,1,oe)}}),r7(h,1)}},Oj=function(h){if(h.tag===13){var y=Wy(h,134217728);if(y!==null){var O=jh();w0(y,h,134217728,O)}r7(h,134217728)}},Spe=function(h){if(h.tag===13){var y=Q_(h),O=Wy(h,y);if(O!==null){var W=jh();w0(O,h,y,W)}r7(h,y)}},xpe=function(){return sa},bpe=function(h,y){var O=sa;try{return sa=h,y()}finally{sa=O}},EA=function(h,y,O){switch(y){case"input":if(pt(h,O),y=O.name,O.type==="radio"&&y!=null){for(O=h;O.parentNode;)O=O.parentNode;for(O=O.querySelectorAll("input[name="+JSON.stringify(""+y)+'][type="radio"]'),y=0;y<O.length;y++){var W=O[y];if(W!==h&&W.form===h.form){var oe=y5(W);if(!oe)throw Error(m(90));Rs(W),pt(W,oe)}}}break;case"textarea":or(h,O);break;case"select":y=O.value,y!=null&&cn(h,!!O.multiple,y,!1)}},ape=qH,lpe=Px;var WDe={usingClientEntryPoint:!1,Events:[Ik,OA,y5,ope,spe,qH]},Wk={findFiberByHostInstance:Sx,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XDe={bundleType:Wk.bundleType,version:Wk.version,rendererPackageName:Wk.rendererPackageName,rendererConfig:Wk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=fpe(h),h===null?null:h.stateNode},findFiberByHostInstance:Wk.findFiberByHostInstance||GDe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Xk=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Xk.isDisabled&&Xk.supportsFiber))try{qD=Xk.inject(XDe),_v=Xk}catch{}var Xk;i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WDe,i.createPortal=function(h,y){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o7(y))throw Error(m(200));return HDe(h,y,null,O)},i.createRoot=function(h,y){if(!o7(h))throw Error(m(299));var O=!1,W="",oe=Hge;return y!=null&&(y.unstable_strictMode===!0&&(O=!0),y.identifierPrefix!==void 0&&(W=y.identifierPrefix),y.onRecoverableError!==void 0&&(oe=y.onRecoverableError)),y=n7(h,1,!1,null,null,O,!1,W,oe),h[jy]=y.current,Tk(h.nodeType===8?h.parentNode:h),new i7(y)},i.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var y=h._reactInternals;if(y===void 0)throw typeof h.render=="function"?Error(m(188)):(h=Object.keys(h).join(","),Error(m(268,h)));return h=fpe(y),h=h===null?null:h.stateNode,h},i.flushSync=function(h){return Px(h)},i.hydrate=function(h,y,O){if(!e4(y))throw Error(m(200));return t4(null,h,y,!0,O)},i.hydrateRoot=function(h,y,O){if(!o7(h))throw Error(m(405));var W=O!=null&&O.hydratedSources||null,oe=!1,pe="",ze=Hge;if(O!=null&&(O.unstable_strictMode===!0&&(oe=!0),O.identifierPrefix!==void 0&&(pe=O.identifierPrefix),O.onRecoverableError!==void 0&&(ze=O.onRecoverableError)),y=Uge(y,null,h,1,O??null,oe,!1,pe,ze),h[jy]=y.current,Tk(h),W)for(h=0;h<W.length;h++)O=W[h],oe=O._getVersion,oe=oe(O._source),y.mutableSourceEagerHydrationData==null?y.mutableSourceEagerHydrationData=[O,oe]:y.mutableSourceEagerHydrationData.push(O,oe);return new $5(y)},i.render=function(h,y,O){if(!e4(y))throw Error(m(200));return t4(null,h,y,!1,O)},i.unmountComponentAtNode=function(h){if(!e4(h))throw Error(m(40));return h._reactRootContainer?(Px(function(){t4(null,null,h,!1,function(){h._reactRootContainer=null,h[jy]=null})}),!0):!1},i.unstable_batchedUpdates=qH,i.unstable_renderSubtreeIntoContainer=function(h,y,O,W){if(!e4(O))throw Error(m(200));if(h==null||h._reactInternals===void 0)throw Error(m(38));return t4(h,y,O,!1,W)},i.version="18.2.0-next-9e3b772b8-20220608"}),Gg=G((i,l)=>{function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(m){console.error(m)}}u(),l.exports=fT()});function hz(i){let[,l]=(0,K0.useState)(0);return(0,K0.useCallback)(()=>{l(u=>u+1)},[])}function io(i,l,u){let m=(0,K0.useCallback)(i,l),w=(0,K0.useRef)(null);w.current?w.current.set(m):w.current=new yp.Atom(m);let E=(0,K0.useRef)(null);return E.current||(E.current=(0,yp.prism)(()=>w.current.prism.getValue()())),dE(E.current,u)}function F3(){MS||(MS=!0,(0,hT.default)(()=>{(0,z3.unstable_batchedUpdates)(function(){for(var i,l;sm.length>0;){let u=sm.shift();J1.delete(u);let m;Vg&&((i=u.debug)==null||i.history.push("queue reached"));try{m=u.der.getValue()}catch(w){Vg&&((l=u.debug)==null||l.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(w),u.runUpdate();continue}m!==u.lastValue&&(u.lastValue=m,u.runUpdate())}MS=!1},1)}))}function dE(i,l){var u;let m=hz(),w=(0,K0.useRef)(void 0);w.current||(pT++,w.current={order:pT,runUpdate:()=>{w.current.unmounted||m()},der:i,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var T;Vg&&((T=w.current.debug)==null||T.history.push("queueUpdate()")),U3(w.current)},untap:i.onStale(()=>{Vg&&w.current.debug.history.push("onStale(cb)"),w.current.queueUpdate()})},Vg&&(w.current.debug={label:l,traceOfFirstTimeRender:new Error,history:[]})),(0,K0.useLayoutEffect)(()=>function(){w.current.unmounted=!0,w.current.untap(),mT(w.current)},[]),mT(w.current);let E=w.current.der.getValue();return w.current.lastValue=E,Vg&&((u=w.current.debug)==null||u.history.push("rendered")),E}var yp,hT,K0,z3,Vg,vo,pT,sm,J1,MS,U3,j3,mT,wi=A(()=>{yp=$n,Ya(),hT=Y(dT()),K0=Y(Rt()),z3=Y(Gg()),Vg=!1,vo=(i,l)=>io(()=>(0,yp.val)(i),[i],l),pT=0,sm=[],J1=new Set,MS=!1,U3=i=>{j3(i),F3()},j3=i=>{if(!J1.has(i))if(J1.add(i),sm.length===0)sm.push(i);else{let l=tT(sm,u=>u.order>=i.order);l===-1?sm.push(i):sm[l].order>i.order&&sm.splice(l,0,i)}},mT=i=>{if(!J1.has(i))return;J1.delete(i);let l=tT(sm,u=>u===i);sm.splice(l,1)}}),pz=G(i=>{var l=60103,u=60106,m=60107,w=60108,E=60114,T=60109,P=60110,L=60112,j=60113,K=60120,Z=60115,q=60116,X=60121,ee=60122,$=60117,re=60129,se=60131;typeof Symbol=="function"&&Symbol.for&&(fe=Symbol.for,l=fe("react.element"),u=fe("react.portal"),m=fe("react.fragment"),w=fe("react.strict_mode"),E=fe("react.profiler"),T=fe("react.provider"),P=fe("react.context"),L=fe("react.forward_ref"),j=fe("react.suspense"),K=fe("react.suspense_list"),Z=fe("react.memo"),q=fe("react.lazy"),X=fe("react.block"),ee=fe("react.server.block"),$=fe("react.fundamental"),re=fe("react.debug_trace_mode"),se=fe("react.legacy_hidden"));var fe;function ye(be){if(typeof be=="object"&&be!==null){var Ht=be.$$typeof;switch(Ht){case l:switch(be=be.type,be){case m:case E:case w:case j:case K:return be;default:switch(be=be&&be.$$typeof,be){case P:case L:case q:case Z:case T:return be;default:return Ht}}case u:return Ht}}}var Oe=T,Ie=l,je=L,yt=m,st=q,ft=Z,It=u,vn=E,We=w,Pt=j;i.ContextConsumer=P,i.ContextProvider=Oe,i.Element=Ie,i.ForwardRef=je,i.Fragment=yt,i.Lazy=st,i.Memo=ft,i.Portal=It,i.Profiler=vn,i.StrictMode=We,i.Suspense=Pt,i.isAsyncMode=function(){return!1},i.isConcurrentMode=function(){return!1},i.isContextConsumer=function(be){return ye(be)===P},i.isContextProvider=function(be){return ye(be)===T},i.isElement=function(be){return typeof be=="object"&&be!==null&&be.$$typeof===l},i.isForwardRef=function(be){return ye(be)===L},i.isFragment=function(be){return ye(be)===m},i.isLazy=function(be){return ye(be)===q},i.isMemo=function(be){return ye(be)===Z},i.isPortal=function(be){return ye(be)===u},i.isProfiler=function(be){return ye(be)===E},i.isStrictMode=function(be){return ye(be)===w},i.isSuspense=function(be){return ye(be)===j},i.isValidElementType=function(be){return typeof be=="string"||typeof be=="function"||be===m||be===E||be===re||be===w||be===j||be===K||be===se||typeof be=="object"&&be!==null&&(be.$$typeof===q||be.$$typeof===Z||be.$$typeof===T||be.$$typeof===P||be.$$typeof===L||be.$$typeof===$||be.$$typeof===X||be[0]===ee)},i.typeOf=ye}),mz=G((i,l)=>{l.exports=pz()}),gT=G((i,l)=>{l.exports=function(u,m,w,E){var T=w?w.call(E,u,m):void 0;if(T!==void 0)return!!T;if(u===m)return!0;if(typeof u!="object"||!u||typeof m!="object"||!m)return!1;var P=Object.keys(u),L=Object.keys(m);if(P.length!==L.length)return!1;for(var j=Object.prototype.hasOwnProperty.bind(m),K=0;K<P.length;K++){var Z=P[K];if(!j(Z))return!1;var q=u[Z],X=m[Z];if(T=w?w.call(E,q,X,Z):void 0,T===!1||T===void 0&&q!==X)return!1}return!0}});function gz(i){function l(nt,un,pn,xn,Yt){for(var Yr=0,Nn=0,Ur=0,vi=0,Gi,Di,Rs=0,ke=0,An,bn=An=Gi=0,gt=0,pt=0,Qt=0,Hn=0,er=pn.length,cn=er-1,pr,Jn="",or="",ki="",Ss="",fo;gt<er;){if(Di=pn.charCodeAt(gt),gt===cn&&Nn+vi+Ur+Yr!==0&&(Nn!==0&&(Di=Nn===47?10:47),vi=Ur=Yr=0,er++,cn++),Nn+vi+Ur+Yr===0){if(gt===cn&&(0<pt&&(Jn=Jn.replace(q,"")),0<Jn.trim().length)){switch(Di){case 32:case 9:case 59:case 13:case 10:break;default:Jn+=pn.charAt(gt)}Di=59}switch(Di){case 123:for(Jn=Jn.trim(),Gi=Jn.charCodeAt(0),An=1,Hn=++gt;gt<er;){switch(Di=pn.charCodeAt(gt)){case 123:An++;break;case 125:An--;break;case 47:switch(Di=pn.charCodeAt(gt+1)){case 42:case 47:e:{for(bn=gt+1;bn<cn;++bn)switch(pn.charCodeAt(bn)){case 47:if(Di===42&&pn.charCodeAt(bn-1)===42&&gt+2!==bn){gt=bn+1;break e}break;case 10:if(Di===47){gt=bn+1;break e}}gt=bn}}break;case 91:Di++;case 40:Di++;case 34:case 39:for(;gt++<cn&&pn.charCodeAt(gt)!==Di;);}if(An===0)break;gt++}switch(An=pn.substring(Hn,gt),Gi===0&&(Gi=(Jn=Jn.replace(Z,"").trim()).charCodeAt(0)),Gi){case 64:switch(0<pt&&(Jn=Jn.replace(q,"")),Di=Jn.charCodeAt(1),Di){case 100:case 109:case 115:case 45:pt=un;break;default:pt=hr}if(An=l(un,pt,An,Di,Yt+1),Hn=An.length,0<Et&&(pt=u(hr,Jn,Qt),fo=P(3,An,pt,un,Pt,We,Hn,Di,Yt,xn),Jn=pt.join(""),fo!==void 0&&(Hn=(An=fo.trim()).length)===0&&(Di=0,An="")),0<Hn)switch(Di){case 115:Jn=Jn.replace(je,T);case 100:case 109:case 45:An=Jn+"{"+An+"}";break;case 107:Jn=Jn.replace(fe,"$1 $2"),An=Jn+"{"+An+"}",An=Ht===1||Ht===2&&E("@"+An,3)?"@-webkit-"+An+"@"+An:"@"+An;break;default:An=Jn+An,xn===112&&(An=(or+=An,""))}else An="";break;default:An=l(un,u(un,Jn,Qt),An,xn,Yt+1)}ki+=An,An=Qt=pt=bn=Gi=0,Jn="",Di=pn.charCodeAt(++gt);break;case 125:case 59:if(Jn=(0<pt?Jn.replace(q,""):Jn).trim(),1<(Hn=Jn.length))switch(bn===0&&(Gi=Jn.charCodeAt(0),Gi===45||96<Gi&&123>Gi)&&(Hn=(Jn=Jn.replace(" ",":")).length),0<Et&&(fo=P(1,Jn,un,nt,Pt,We,or.length,xn,Yt,xn))!==void 0&&(Hn=(Jn=fo.trim()).length)===0&&(Jn="\0\0"),Gi=Jn.charCodeAt(0),Di=Jn.charCodeAt(1),Gi){case 0:break;case 64:if(Di===105||Di===99){Ss+=Jn+pn.charAt(gt);break}default:Jn.charCodeAt(Hn-1)!==58&&(or+=w(Jn,Gi,Di,Jn.charCodeAt(2)))}Qt=pt=bn=Gi=0,Jn="",Di=pn.charCodeAt(++gt)}}switch(Di){case 13:case 10:Nn===47?Nn=0:1+Gi===0&&xn!==107&&0<Jn.length&&(pt=1,Jn+="\0"),0<Et*zn&&P(0,Jn,un,nt,Pt,We,or.length,xn,Yt,xn),We=1,Pt++;break;case 59:case 125:if(Nn+vi+Ur+Yr===0){We++;break}default:switch(We++,pr=pn.charAt(gt),Di){case 9:case 32:if(vi+Yr+Nn===0)switch(Rs){case 44:case 58:case 9:case 32:pr="";break;default:Di!==32&&(pr=" ")}break;case 0:pr="\\0";break;case 12:pr="\\f";break;case 11:pr="\\v";break;case 38:vi+Nn+Yr===0&&(pt=Qt=1,pr="\f"+pr);break;case 108:if(vi+Nn+Yr+be===0&&0<bn)switch(gt-bn){case 2:Rs===112&&pn.charCodeAt(gt-3)===58&&(be=Rs);case 8:ke===111&&(be=ke)}break;case 58:vi+Nn+Yr===0&&(bn=gt);break;case 44:Nn+Ur+vi+Yr===0&&(pt=1,pr+="\r");break;case 34:case 39:Nn===0&&(vi=vi===Di?0:vi===0?Di:vi);break;case 91:vi+Nn+Ur===0&&Yr++;break;case 93:vi+Nn+Ur===0&&Yr--;break;case 41:vi+Nn+Yr===0&&Ur--;break;case 40:if(vi+Nn+Yr===0){if(Gi===0)switch(2*Rs+3*ke){case 533:break;default:Gi=1}Ur++}break;case 64:Nn+Ur+vi+Yr+bn+An===0&&(An=1);break;case 42:case 47:if(!(0<vi+Yr+Ur))switch(Nn){case 0:switch(2*Di+3*pn.charCodeAt(gt+1)){case 235:Nn=47;break;case 220:Hn=gt,Nn=42}break;case 42:Di===47&&Rs===42&&Hn+2!==gt&&(pn.charCodeAt(Hn+2)===33&&(or+=pn.substring(Hn,gt+1)),pr="",Nn=0)}}Nn===0&&(Jn+=pr)}ke=Rs,Rs=Di,gt++}if(Hn=or.length,0<Hn){if(pt=un,0<Et&&(fo=P(2,or,pt,nt,Pt,We,Hn,xn,Yt,xn),fo!==void 0&&(or=fo).length===0))return Ss+or+ki;if(or=pt.join(",")+"{"+or+"}",Ht*be!==0){switch(Ht!==2||E(or,2)||(be=0),be){case 111:or=or.replace(Oe,":-moz-$1")+or;break;case 112:or=or.replace(ye,"::-webkit-input-$1")+or.replace(ye,"::-moz-$1")+or.replace(ye,":-ms-input-$1")+or}be=0}}return Ss+or+ki}function u(nt,un,pn){var xn=un.trim().split(re);un=xn;var Yt=xn.length,Yr=nt.length;switch(Yr){case 0:case 1:var Nn=0;for(nt=Yr===0?"":nt[0]+" ";Nn<Yt;++Nn)un[Nn]=m(nt,un[Nn],pn).trim();break;default:var Ur=Nn=0;for(un=[];Nn<Yt;++Nn)for(var vi=0;vi<Yr;++vi)un[Ur++]=m(nt[vi]+" ",xn[Nn],pn).trim()}return un}function m(nt,un,pn){var xn=un.charCodeAt(0);switch(33>xn&&(xn=(un=un.trim()).charCodeAt(0)),xn){case 38:return un.replace(se,"$1"+nt.trim());case 58:return nt.trim()+un.replace(se,"$1"+nt.trim());default:if(0<1*pn&&0<un.indexOf("\f"))return un.replace(se,(nt.charCodeAt(0)===58?"":"$1")+nt.trim())}return nt+un}function w(nt,un,pn,xn){var Yt=nt+";",Yr=2*un+3*pn+4*xn;if(Yr===944){nt=Yt.indexOf(":",9)+1;var Nn=Yt.substring(nt,Yt.length-1).trim();return Nn=Yt.substring(0,nt).trim()+Nn+";",Ht===1||Ht===2&&E(Nn,1)?"-webkit-"+Nn+Nn:Nn}if(Ht===0||Ht===2&&!E(Yt,1))return Yt;switch(Yr){case 1015:return Yt.charCodeAt(10)===97?"-webkit-"+Yt+Yt:Yt;case 951:return Yt.charCodeAt(3)===116?"-webkit-"+Yt+Yt:Yt;case 963:return Yt.charCodeAt(5)===110?"-webkit-"+Yt+Yt:Yt;case 1009:if(Yt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Yt+Yt;case 978:return"-webkit-"+Yt+"-moz-"+Yt+Yt;case 1019:case 983:return"-webkit-"+Yt+"-moz-"+Yt+"-ms-"+Yt+Yt;case 883:if(Yt.charCodeAt(8)===45)return"-webkit-"+Yt+Yt;if(0<Yt.indexOf("image-set(",11))return Yt.replace(vn,"$1-webkit-$2")+Yt;break;case 932:if(Yt.charCodeAt(4)===45)switch(Yt.charCodeAt(5)){case 103:return"-webkit-box-"+Yt.replace("-grow","")+"-webkit-"+Yt+"-ms-"+Yt.replace("grow","positive")+Yt;case 115:return"-webkit-"+Yt+"-ms-"+Yt.replace("shrink","negative")+Yt;case 98:return"-webkit-"+Yt+"-ms-"+Yt.replace("basis","preferred-size")+Yt}return"-webkit-"+Yt+"-ms-"+Yt+Yt;case 964:return"-webkit-"+Yt+"-ms-flex-"+Yt+Yt;case 1023:if(Yt.charCodeAt(8)!==99)break;return Nn=Yt.substring(Yt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Nn+"-webkit-"+Yt+"-ms-flex-pack"+Nn+Yt;case 1005:return ee.test(Yt)?Yt.replace(X,":-webkit-")+Yt.replace(X,":-moz-")+Yt:Yt;case 1e3:switch(Nn=Yt.substring(13).trim(),un=Nn.indexOf("-")+1,Nn.charCodeAt(0)+Nn.charCodeAt(un)){case 226:Nn=Yt.replace(Ie,"tb");break;case 232:Nn=Yt.replace(Ie,"tb-rl");break;case 220:Nn=Yt.replace(Ie,"lr");break;default:return Yt}return"-webkit-"+Yt+"-ms-"+Nn+Yt;case 1017:if(Yt.indexOf("sticky",9)===-1)break;case 975:switch(un=(Yt=nt).length-10,Nn=(Yt.charCodeAt(un)===33?Yt.substring(0,un):Yt).substring(nt.indexOf(":",7)+1).trim(),Yr=Nn.charCodeAt(0)+(Nn.charCodeAt(7)|0)){case 203:if(111>Nn.charCodeAt(8))break;case 115:Yt=Yt.replace(Nn,"-webkit-"+Nn)+";"+Yt;break;case 207:case 102:Yt=Yt.replace(Nn,"-webkit-"+(102<Yr?"inline-":"")+"box")+";"+Yt.replace(Nn,"-webkit-"+Nn)+";"+Yt.replace(Nn,"-ms-"+Nn+"box")+";"+Yt}return Yt+";";case 938:if(Yt.charCodeAt(5)===45)switch(Yt.charCodeAt(6)){case 105:return Nn=Yt.replace("-items",""),"-webkit-"+Yt+"-webkit-box-"+Nn+"-ms-flex-"+Nn+Yt;case 115:return"-webkit-"+Yt+"-ms-flex-item-"+Yt.replace(st,"")+Yt;default:return"-webkit-"+Yt+"-ms-flex-line-pack"+Yt.replace("align-content","").replace(st,"")+Yt}break;case 973:case 989:if(Yt.charCodeAt(3)!==45||Yt.charCodeAt(4)===122)break;case 931:case 953:if(It.test(nt)===!0)return(Nn=nt.substring(nt.indexOf(":")+1)).charCodeAt(0)===115?w(nt.replace("stretch","fill-available"),un,pn,xn).replace(":fill-available",":stretch"):Yt.replace(Nn,"-webkit-"+Nn)+Yt.replace(Nn,"-moz-"+Nn.replace("fill-",""))+Yt;break;case 962:if(Yt="-webkit-"+Yt+(Yt.charCodeAt(5)===102?"-ms-"+Yt:"")+Yt,pn+xn===211&&Yt.charCodeAt(13)===105&&0<Yt.indexOf("transform",10))return Yt.substring(0,Yt.indexOf(";",27)+1).replace($,"$1-webkit-$2")+Yt}return Yt}function E(nt,un){var pn=nt.indexOf(un===1?":":"{"),xn=nt.substring(0,un!==3?pn:10);return pn=nt.substring(pn+1,nt.length-1),Vt(un!==2?xn:xn.replace(ft,"$1"),pn,un)}function T(nt,un){var pn=w(un,un.charCodeAt(0),un.charCodeAt(1),un.charCodeAt(2));return pn!==un+";"?pn.replace(yt," or ($1)").substring(4):"("+un+")"}function P(nt,un,pn,xn,Yt,Yr,Nn,Ur,vi,Gi){for(var Di=0,Rs=un,ke;Di<Et;++Di)switch(ke=bt[Di].call(K,nt,Rs,pn,xn,Yt,Yr,Nn,Ur,vi,Gi)){case void 0:case!1:case!0:case null:break;default:Rs=ke}if(Rs!==un)return Rs}function L(nt){switch(nt){case void 0:case null:Et=bt.length=0;break;default:if(typeof nt=="function")bt[Et++]=nt;else if(typeof nt=="object")for(var un=0,pn=nt.length;un<pn;++un)L(nt[un]);else zn=!!nt|0}return L}function j(nt){return nt=nt.prefix,nt!==void 0&&(Vt=null,nt?typeof nt!="function"?Ht=1:(Ht=2,Vt=nt):Ht=0),j}function K(nt,un){var pn=nt;if(33>pn.charCodeAt(0)&&(pn=pn.trim()),Xe=pn,pn=[Xe],0<Et){var xn=P(-1,un,pn,pn,Pt,We,0,0,0,0);xn!==void 0&&typeof xn=="string"&&(un=xn)}var Yt=l(hr,pn,un,0,0);return 0<Et&&(xn=P(-2,Yt,pn,pn,Pt,We,Yt.length,0,0,0),xn!==void 0&&(Yt=xn)),Xe="",be=0,We=Pt=1,Yt}var Z=/^\0+/g,q=/[\0\r\f]/g,X=/: */g,ee=/zoo|gra/,$=/([,: ])(transform)/g,re=/,\r+?/g,se=/([\t\r\n ])*\f?&/g,fe=/@(k\w+)\s*(\S*)\s*/,ye=/::(place)/g,Oe=/:(read-only)/g,Ie=/[svh]\w+-[tblr]{2}/,je=/\(\s*(.*)\s*\)/g,yt=/([\s\S]*?);/g,st=/-self|flex-/g,ft=/[^]*?(:[rp][el]a[\w-]+)[^]*/,It=/stretch|:\s*\w+\-(?:conte|avail)/,vn=/([^-])(image-set\()/,We=1,Pt=1,be=0,Ht=1,hr=[],bt=[],Et=0,Vt=null,zn=0,Xe="";return K.use=L,K.set=j,i!==void 0&&j(i),K}var Z1,H3=A(()=>{Z1=gz}),G3,V3,vz=A(()=>{G3={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},V3=G3});function yz(i){var l=Object.create(null);return function(u){return l[u]===void 0&&(l[u]=i(u)),l[u]}}var fE,_z=A(()=>{fE=yz}),$1,W3,vT,wz=A(()=>{_z(),$1=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,W3=fE(function(i){return $1.test(i)||i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)<91}),vT=W3}),Sz=G(i=>{var l=typeof Symbol=="function"&&Symbol.for,u=l?Symbol.for("react.element"):60103,m=l?Symbol.for("react.portal"):60106,w=l?Symbol.for("react.fragment"):60107,E=l?Symbol.for("react.strict_mode"):60108,T=l?Symbol.for("react.profiler"):60114,P=l?Symbol.for("react.provider"):60109,L=l?Symbol.for("react.context"):60110,j=l?Symbol.for("react.async_mode"):60111,K=l?Symbol.for("react.concurrent_mode"):60111,Z=l?Symbol.for("react.forward_ref"):60112,q=l?Symbol.for("react.suspense"):60113,X=l?Symbol.for("react.suspense_list"):60120,ee=l?Symbol.for("react.memo"):60115,$=l?Symbol.for("react.lazy"):60116,re=l?Symbol.for("react.block"):60121,se=l?Symbol.for("react.fundamental"):60117,fe=l?Symbol.for("react.responder"):60118,ye=l?Symbol.for("react.scope"):60119;function Oe(je){if(typeof je=="object"&&je!==null){var yt=je.$$typeof;switch(yt){case u:switch(je=je.type,je){case j:case K:case w:case T:case E:case q:return je;default:switch(je=je&&je.$$typeof,je){case L:case Z:case $:case ee:case P:return je;default:return yt}}case m:return yt}}}function Ie(je){return Oe(je)===K}i.AsyncMode=j,i.ConcurrentMode=K,i.ContextConsumer=L,i.ContextProvider=P,i.Element=u,i.ForwardRef=Z,i.Fragment=w,i.Lazy=$,i.Memo=ee,i.Portal=m,i.Profiler=T,i.StrictMode=E,i.Suspense=q,i.isAsyncMode=function(je){return Ie(je)||Oe(je)===j},i.isConcurrentMode=Ie,i.isContextConsumer=function(je){return Oe(je)===L},i.isContextProvider=function(je){return Oe(je)===P},i.isElement=function(je){return typeof je=="object"&&je!==null&&je.$$typeof===u},i.isForwardRef=function(je){return Oe(je)===Z},i.isFragment=function(je){return Oe(je)===w},i.isLazy=function(je){return Oe(je)===$},i.isMemo=function(je){return Oe(je)===ee},i.isPortal=function(je){return Oe(je)===m},i.isProfiler=function(je){return Oe(je)===T},i.isStrictMode=function(je){return Oe(je)===E},i.isSuspense=function(je){return Oe(je)===q},i.isValidElementType=function(je){return typeof je=="string"||typeof je=="function"||je===w||je===K||je===T||je===E||je===q||je===X||typeof je=="object"&&je!==null&&(je.$$typeof===$||je.$$typeof===ee||je.$$typeof===P||je.$$typeof===L||je.$$typeof===Z||je.$$typeof===se||je.$$typeof===fe||je.$$typeof===ye||je.$$typeof===re)},i.typeOf=Oe}),yT=G((i,l)=>{l.exports=Sz()}),X3=G((i,l)=>{var u=yT(),m={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},w={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},E={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},P={};P[u.ForwardRef]=E,P[u.Memo]=T;function L(re){return u.isMemo(re)?T:P[re.$$typeof]||m}var j=Object.defineProperty,K=Object.getOwnPropertyNames,Z=Object.getOwnPropertySymbols,q=Object.getOwnPropertyDescriptor,X=Object.getPrototypeOf,ee=Object.prototype;function $(re,se,fe){if(typeof se!="string"){if(ee){var ye=X(se);ye&&ye!==ee&&$(re,ye,fe)}var Oe=K(se);Z&&(Oe=Oe.concat(Z(se)));for(var Ie=L(re),je=L(se),yt=0;yt<Oe.length;++yt){var st=Oe[yt];if(!w[st]&&!(fe&&fe[st])&&!(je&&je[st])&&!(Ie&&Ie[st])){var ft=q(se,st);try{j(re,st,ft)}catch{}}}}return re}l.exports=$});function am(){return(am=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(i[m]=u[m])}return i}).apply(this,arguments)}function TS(i){return typeof i=="function"}function kh(i){return i.displayName||i.name||"Component"}function Wg(i){return i&&typeof i.styledComponentId=="string"}function Jd(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];throw new Error("An error occurred. See https://git.io/JUIaE#"+i+" for more information."+(u.length>0?" Args: "+u.join(", "):""))}function _T(i){var l,u="";for(l=Math.abs(i);l>52;l=l/52|0)u=CT(l%52)+u;return(CT(l%52)+u).replace(RS,"$1-$2")}function e_(i){for(var l=0;l<i.length;l+=1){var u=i[l];if(TS(u)&&!Wg(u))return!1}return!0}function hy(i){var l,u,m,w,E=i===void 0?_p:i,T=E.options,P=T===void 0?_p:T,L=E.plugins,j=L===void 0?py:L,K=new Z1(P),Z=[],q=function($){function re(se){if(se)try{$(se+"}")}catch{}}return function(se,fe,ye,Oe,Ie,je,yt,st,ft,It){switch(se){case 1:if(ft===0&&fe.charCodeAt(0)===64)return $(fe+";"),"";break;case 2:if(st===0)return fe+"/*|*/";break;case 3:switch(st){case 102:case 112:return $(ye[0]+fe),"";default:return fe+(It===0?"/*|*/":"")}case-2:fe.split("/*|*/}").forEach(re)}}}(function($){Z.push($)}),X=function($,re,se){return re===0&&PT.indexOf(se[u.length])!==-1||se.match(w)?$:"."+l};function ee($,re,se,fe){fe===void 0&&(fe="&");var ye=$.replace(TT,""),Oe=re&&se?se+" "+re+" { "+ye+" }":ye;return l=fe,u=re,m=new RegExp("\\"+u+"\\b","g"),w=new RegExp("(\\"+u+"\\b){2,}"),K(se||!re?"":re,Oe)}return K.use([].concat(j,[function($,re,se){$===2&&se.length&&se[0].lastIndexOf(u)>0&&(se[0]=se[0].replace(m,X))},q,function($){if($===-2){var re=Z;return Z=[],re}}])),ee.hash=j.length?j.reduce(function($,re){return re.name||Jd(15),Qu($,re.name)},5381).toString():"",ee}function PS(){return(0,ml.useContext)(EE)||kT}function K3(){return(0,ml.useContext)(AE)||o_}function wT(i){var l=(0,ml.useState)(i.stylisPlugins),u=l[0],m=l[1],w=PS(),E=(0,ml.useMemo)(function(){var P=w;return i.sheet?P=i.sheet:i.target&&(P=P.reconstructWithOptions({target:i.target},!1)),i.disableCSSOMInjection&&(P=P.reconstructWithOptions({useCSSOMInjection:!1})),P},[i.disableCSSOMInjection,i.sheet,i.target]),T=(0,ml.useMemo)(function(){return hy({options:{prefix:!i.disableVendorPrefixes},plugins:u})},[i.disableVendorPrefixes,u]);return(0,ml.useEffect)(function(){(0,kS.default)(u,i.stylisPlugins)||m(i.stylisPlugins)},[i.stylisPlugins]),ml.default.createElement(EE.Provider,{value:E},ml.default.createElement(AE.Provider,{value:T},i.children))}function Y3(i){return tO.test(i)?i.replace(nO,RT).replace(CE,"-ms-"):i}function Xg(i,l,u,m){if(Array.isArray(i)){for(var w,E=[],T=0,P=i.length;T<P;T+=1)(w=Xg(i[T],l,u,m))!==""&&(Array.isArray(w)?E.push.apply(E,w):E.push(w));return E}if(OT(i))return"";if(Wg(i))return"."+i.styledComponentId;if(TS(i)){if(typeof(j=i)!="function"||j.prototype&&j.prototype.isReactComponent||!l)return i;var L=i(l);return Xg(L,l,u,m)}var j;return i instanceof IT?u?(i.inject(u,m),i.getName(m)):i:vE(i)?function K(Z,q){var X,ee,$=[];for(var re in Z)Z.hasOwnProperty(re)&&!OT(Z[re])&&(Array.isArray(Z[re])&&Z[re].isCss||TS(Z[re])?$.push(Y3(re)+":",Z[re],";"):vE(Z[re])?$.push.apply($,K(Z[re],re)):$.push(Y3(re)+": "+(X=re,(ee=Z[re])==null||typeof ee=="boolean"||ee===""?"":typeof ee!="number"||ee===0||X in V3||X.startsWith("--")?String(ee).trim():ee+"px")+";"));return q?[q+" {"].concat($,["}"]):$}(i):i.toString()}function Zd(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];return TS(i)||vE(i)?BT(Xg(gE(py,[i].concat(u)))):u.length===0&&i.length===1&&typeof i[0]=="string"?i:BT(Xg(gE(i,u)))}function Kg(i){return i.replace(H,"-").replace(te,"")}function t_(i){return typeof i=="string"&&!0}function ST(i,l,u){var m=i[u];Le(l)&&Le(m)?Q3(m,l):i[u]=l}function Q3(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];for(var w=0,E=u;w<E.length;w++){var T=E[w];if(Le(T))for(var P in T)$e(P)&&ST(i,T[P],P)}return i}function hE(i,l,u){var m=Wg(i),w=!t_(i),E=l.attrs,T=E===void 0?py:E,P=l.componentId,L=P===void 0?function(fe,ye){var Oe=typeof fe!="string"?"sc":Kg(fe);en[Oe]=(en[Oe]||0)+1;var Ie=Oe+"-"+ve("5.3.11"+Oe+en[Oe]);return ye?ye+"-"+Ie:Ie}(l.displayName,l.parentComponentId):P,j=l.displayName,K=j===void 0?function(fe){return t_(fe)?"styled."+fe:"Styled("+kh(fe)+")"}(i):j,Z=l.displayName&&l.componentId?Kg(l.displayName)+"-"+l.componentId:l.componentId||L,q=m&&i.attrs?Array.prototype.concat(i.attrs,T).filter(Boolean):T,X=l.shouldForwardProp;m&&i.shouldForwardProp&&(X=l.shouldForwardProp?function(fe,ye,Oe){return i.shouldForwardProp(fe,ye,Oe)&&l.shouldForwardProp(fe,ye,Oe)}:i.shouldForwardProp);var ee,$=new eO(u,Z,m?i.componentStyle:void 0),re=$.isStatic&&T.length===0,se=function(fe,ye){return function(Oe,Ie,je,yt){var st=Oe.attrs,ft=Oe.componentStyle,It=Oe.defaultProps,vn=Oe.foldedComponentIds,We=Oe.shouldForwardProp,Pt=Oe.styledComponentId,be=Oe.target,Ht=function(xn,Yt,Yr){xn===void 0&&(xn=_p);var Nn=am({},Yt,{theme:xn}),Ur={};return Yr.forEach(function(vi){var Gi,Di,Rs,ke=vi;for(Gi in TS(ke)&&(ke=ke(Nn)),ke)Nn[Gi]=Ur[Gi]=Gi==="className"?(Di=Ur[Gi],Rs=ke[Gi],Di&&Rs?Di+" "+Rs:Di||Rs):ke[Gi]}),[Nn,Ur]}(M(Ie,(0,ml.useContext)(At),It)||_p,Ie,st),hr=Ht[0],bt=Ht[1],Et=function(xn,Yt,Yr,Nn){var Ur=PS(),vi=K3(),Gi=Yt?xn.generateAndInjectStyles(_p,Ur,vi):xn.generateAndInjectStyles(Yr,Ur,vi);return Gi}(ft,yt,hr),Vt=je,zn=bt.$as||Ie.$as||bt.as||Ie.as||be,Xe=t_(zn),nt=bt!==Ie?am({},Ie,{},bt):Ie,un={};for(var pn in nt)pn[0]!=="$"&&pn!=="as"&&(pn==="forwardedAs"?un.as=nt[pn]:(We?We(pn,vT,zn):!Xe||vT(pn))&&(un[pn]=nt[pn]));return Ie.style&&bt.style!==Ie.style&&(un.style=am({},Ie.style,{},bt.style)),un.className=Array.prototype.concat(vn,Pt,Et!==Pt?Et:null,Ie.className,bt.className).filter(Boolean).join(" "),un.ref=Vt,(0,ml.createElement)(zn,un)}(ee,fe,ye,re)};return se.displayName=K,(ee=ml.default.forwardRef(se)).attrs=q,ee.componentStyle=$,ee.displayName=K,ee.shouldForwardProp=X,ee.foldedComponentIds=m?Array.prototype.concat(i.foldedComponentIds,i.styledComponentId):py,ee.styledComponentId=Z,ee.target=m?i.target:i,ee.withComponent=function(fe){var ye=l.componentId,Oe=function(je,yt){if(je==null)return{};var st,ft,It={},vn=Object.keys(je);for(ft=0;ft<vn.length;ft++)st=vn[ft],yt.indexOf(st)>=0||(It[st]=je[st]);return It}(l,["componentId"]),Ie=ye&&ye+"-"+(t_(fe)?fe:Kg(kh(fe)));return hE(fe,am({},Oe,{attrs:q,componentId:Ie}),u)},Object.defineProperty(ee,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(fe){this._foldedDefaultProps=m?Q3({},i.defaultProps,fe):fe}}),Object.defineProperty(ee,"toString",{value:function(){return"."+ee.styledComponentId}}),w&&(0,mE.default)(ee,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),ee}function Vm(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];var w=Zd.apply(void 0,[i].concat(u)),E="sc-global-"+ve(JSON.stringify(w)),T=new Rn(w,E);function P(j){var K=PS(),Z=K3(),q=(0,ml.useContext)(At),X=(0,ml.useRef)(K.allocateGSInstance(E)).current;return K.server&&L(X,j,K,q,Z),(0,ml.useLayoutEffect)(function(){if(!K.server)return L(X,j,K,q,Z),function(){return T.removeStyles(X,K)}},[X,j,K,q,Z]),null}function L(j,K,Z,q,X){if(T.isStatic)T.renderStyles(j,xT,Z,X);else{var ee=am({},K,{theme:M(K,q,P.defaultProps)});T.renderStyles(j,ee,Z,X)}}return ml.default.memo(P)}var pE,ml,kS,mE,gE,vE,py,_p,Wm,my,yE,xT,_E,gy,vy,n_,r_,bT,i_,wE,q3,J3,ET,IS,SE,$d,Z3,xE,AT,$3,Yg,RS,CT,Qu,MT,bE,eO,TT,PT,EE,AE,kT,o_,IT,tO,nO,CE,RT,OT,BT,M,H,te,ve,Le,$e,At,en,ln,Rn,Ue,Lt=A(()=>{pE=Y(mz()),ml=Y(Rt()),kS=Y(gT()),H3(),vz(),wz(),mE=Y(X3()),gE=function(i,l){for(var u=[i[0]],m=0,w=l.length;m<w;m+=1)u.push(l[m],i[m+1]);return u},vE=function(i){return i!==null&&typeof i=="object"&&(i.toString?i.toString():Object.prototype.toString.call(i))==="[object Object]"&&!(0,pE.typeOf)(i)},py=Object.freeze([]),_p=Object.freeze({}),Wm=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",my=typeof window<"u"&&"HTMLElement"in window,yE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),xT={},_E=function(){function i(u){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=u}var l=i.prototype;return l.indexOfGroup=function(u){for(var m=0,w=0;w<u;w++)m+=this.groupSizes[w];return m},l.insertRules=function(u,m){if(u>=this.groupSizes.length){for(var w=this.groupSizes,E=w.length,T=E;u>=T;)(T<<=1)<0&&Jd(16,""+u);this.groupSizes=new Uint32Array(T),this.groupSizes.set(w),this.length=T;for(var P=E;P<T;P++)this.groupSizes[P]=0}for(var L=this.indexOfGroup(u+1),j=0,K=m.length;j<K;j++)this.tag.insertRule(L,m[j])&&(this.groupSizes[u]++,L++)},l.clearGroup=function(u){if(u<this.length){var m=this.groupSizes[u],w=this.indexOfGroup(u),E=w+m;this.groupSizes[u]=0;for(var T=w;T<E;T++)this.tag.deleteRule(w)}},l.getGroup=function(u){var m="";if(u>=this.length||this.groupSizes[u]===0)return m;for(var w=this.groupSizes[u],E=this.indexOfGroup(u),T=E+w,P=E;P<T;P++)m+=this.tag.getRule(P)+`/*!sc*/
`;return m},i}(),gy=new Map,vy=new Map,n_=1,r_=function(i){if(gy.has(i))return gy.get(i);for(;vy.has(n_);)n_++;var l=n_++;return gy.set(i,l),vy.set(l,i),l},bT=function(i){return vy.get(i)},i_=function(i,l){l>=n_&&(n_=l+1),gy.set(i,l),vy.set(l,i)},wE="style["+Wm+'][data-styled-version="5.3.11"]',q3=new RegExp("^"+Wm+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),J3=function(i,l,u){for(var m,w=u.split(","),E=0,T=w.length;E<T;E++)(m=w[E])&&i.registerName(l,m)},ET=function(i,l){for(var u=(l.textContent||"").split(`/*!sc*/
`),m=[],w=0,E=u.length;w<E;w++){var T=u[w].trim();if(T){var P=T.match(q3);if(P){var L=0|parseInt(P[1],10),j=P[2];L!==0&&(i_(j,L),J3(i,j,P[3]),i.getTag().insertRules(L,m)),m.length=0}else m.push(T)}}},IS=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},SE=function(i){var l=document.head,u=i||l,m=document.createElement("style"),w=function(P){for(var L=P.childNodes,j=L.length;j>=0;j--){var K=L[j];if(K&&K.nodeType===1&&K.hasAttribute(Wm))return K}}(u),E=w!==void 0?w.nextSibling:null;m.setAttribute(Wm,"active"),m.setAttribute("data-styled-version","5.3.11");var T=IS();return T&&m.setAttribute("nonce",T),u.insertBefore(m,E),m},$d=function(){function i(u){var m=this.element=SE(u);m.appendChild(document.createTextNode("")),this.sheet=function(w){if(w.sheet)return w.sheet;for(var E=document.styleSheets,T=0,P=E.length;T<P;T++){var L=E[T];if(L.ownerNode===w)return L}Jd(17)}(m),this.length=0}var l=i.prototype;return l.insertRule=function(u,m){try{return this.sheet.insertRule(m,u),this.length++,!0}catch{return!1}},l.deleteRule=function(u){this.sheet.deleteRule(u),this.length--},l.getRule=function(u){var m=this.sheet.cssRules[u];return m!==void 0&&typeof m.cssText=="string"?m.cssText:""},i}(),Z3=function(){function i(u){var m=this.element=SE(u);this.nodes=m.childNodes,this.length=0}var l=i.prototype;return l.insertRule=function(u,m){if(u<=this.length&&u>=0){var w=document.createTextNode(m),E=this.nodes[u];return this.element.insertBefore(w,E||null),this.length++,!0}return!1},l.deleteRule=function(u){this.element.removeChild(this.nodes[u]),this.length--},l.getRule=function(u){return u<this.length?this.nodes[u].textContent:""},i}(),xE=function(){function i(u){this.rules=[],this.length=0}var l=i.prototype;return l.insertRule=function(u,m){return u<=this.length&&(this.rules.splice(u,0,m),this.length++,!0)},l.deleteRule=function(u){this.rules.splice(u,1),this.length--},l.getRule=function(u){return u<this.length?this.rules[u]:""},i}(),AT=my,$3={isServer:!my,useCSSOMInjection:!yE},Yg=function(){function i(u,m,w){u===void 0&&(u=_p),m===void 0&&(m={}),this.options=am({},$3,{},u),this.gs=m,this.names=new Map(w),this.server=!!u.isServer,!this.server&&my&&AT&&(AT=!1,function(E){for(var T=document.querySelectorAll(wE),P=0,L=T.length;P<L;P++){var j=T[P];j&&j.getAttribute(Wm)!=="active"&&(ET(E,j),j.parentNode&&j.parentNode.removeChild(j))}}(this))}i.registerId=function(u){return r_(u)};var l=i.prototype;return l.reconstructWithOptions=function(u,m){return m===void 0&&(m=!0),new i(am({},this.options,{},u),this.gs,m&&this.names||void 0)},l.allocateGSInstance=function(u){return this.gs[u]=(this.gs[u]||0)+1},l.getTag=function(){return this.tag||(this.tag=(w=(m=this.options).isServer,E=m.useCSSOMInjection,T=m.target,u=w?new xE(T):E?new $d(T):new Z3(T),new _E(u)));var u,m,w,E,T},l.hasNameForId=function(u,m){return this.names.has(u)&&this.names.get(u).has(m)},l.registerName=function(u,m){if(r_(u),this.names.has(u))this.names.get(u).add(m);else{var w=new Set;w.add(m),this.names.set(u,w)}},l.insertRules=function(u,m,w){this.registerName(u,m),this.getTag().insertRules(r_(u),w)},l.clearNames=function(u){this.names.has(u)&&this.names.get(u).clear()},l.clearRules=function(u){this.getTag().clearGroup(r_(u)),this.clearNames(u)},l.clearTag=function(){this.tag=void 0},l.toString=function(){return function(u){for(var m=u.getTag(),w=m.length,E="",T=0;T<w;T++){var P=bT(T);if(P!==void 0){var L=u.names.get(P),j=m.getGroup(T);if(L&&j&&L.size){var K=Wm+".g"+T+'[id="'+P+'"]',Z="";L!==void 0&&L.forEach(function(q){q.length>0&&(Z+=q+",")}),E+=""+j+K+'{content:"'+Z+`"}/*!sc*/
`}}}return E}(this)},i}(),RS=/(a)(d)/gi,CT=function(i){return String.fromCharCode(i+(i>25?39:97))},Qu=function(i,l){for(var u=l.length;u;)i=33*i^l.charCodeAt(--u);return i},MT=function(i){return Qu(5381,i)},bE=MT("5.3.11"),eO=function(){function i(l,u,m){this.rules=l,this.staticRulesId="",this.isStatic=(m===void 0||m.isStatic)&&e_(l),this.componentId=u,this.baseHash=Qu(bE,u),this.baseStyle=m,Yg.registerId(u)}return i.prototype.generateAndInjectStyles=function(l,u,m){var w=this.componentId,E=[];if(this.baseStyle&&E.push(this.baseStyle.generateAndInjectStyles(l,u,m)),this.isStatic&&!m.hash)if(this.staticRulesId&&u.hasNameForId(w,this.staticRulesId))E.push(this.staticRulesId);else{var T=Xg(this.rules,l,u,m).join(""),P=_T(Qu(this.baseHash,T)>>>0);if(!u.hasNameForId(w,P)){var L=m(T,"."+P,void 0,w);u.insertRules(w,P,L)}E.push(P),this.staticRulesId=P}else{for(var j=this.rules.length,K=Qu(this.baseHash,m.hash),Z="",q=0;q<j;q++){var X=this.rules[q];if(typeof X=="string")Z+=X;else if(X){var ee=Xg(X,l,u,m),$=Array.isArray(ee)?ee.join(""):ee;K=Qu(K,$+q),Z+=$}}if(Z){var re=_T(K>>>0);if(!u.hasNameForId(w,re)){var se=m(Z,"."+re,void 0,w);u.insertRules(w,re,se)}E.push(re)}}return E.join(" ")},i}(),TT=/^\s*\/\/.*$/gm,PT=[":","[",".","#"],EE=ml.default.createContext(),EE.Consumer,AE=ml.default.createContext(),kT=(AE.Consumer,new Yg),o_=hy(),IT=function(){function i(l,u){var m=this;this.inject=function(w,E){E===void 0&&(E=o_);var T=m.name+E.hash;w.hasNameForId(m.id,T)||w.insertRules(m.id,T,E(m.rules,T,"@keyframes"))},this.toString=function(){return Jd(12,String(m.name))},this.name=l,this.id="sc-keyframes-"+l,this.rules=u}return i.prototype.getName=function(l){return l===void 0&&(l=o_),this.name+l.hash},i}(),tO=/([A-Z])/,nO=/([A-Z])/g,CE=/^ms-/,RT=function(i){return"-"+i.toLowerCase()},OT=function(i){return i==null||i===!1||i===""},BT=function(i){return Array.isArray(i)&&(i.isCss=!0),i},M=function(i,l,u){return u===void 0&&(u=_p),i.theme!==u.theme&&i.theme||l||u.theme},H=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,te=/(^-|-$)/g,ve=function(i){return _T(MT(i)>>>0)},Le=function(i){return typeof i=="function"||typeof i=="object"&&i!==null&&!Array.isArray(i)},$e=function(i){return i!=="__proto__"&&i!=="constructor"&&i!=="prototype"},At=ml.default.createContext(),At.Consumer,en={},ln=function(i){return function l(u,m,w){if(w===void 0&&(w=_p),!(0,pE.isValidElementType)(m))return Jd(1,String(m));var E=function(){return u(m,w,Zd.apply(void 0,arguments))};return E.withConfig=function(T){return l(u,m,am({},w,{},T))},E.attrs=function(T){return l(u,m,am({},w,{attrs:Array.prototype.concat(w.attrs,T).filter(Boolean)}))},E}(hE,i)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(i){ln[i]=ln(i)}),Rn=function(){function i(u,m){this.rules=u,this.componentId=m,this.isStatic=e_(u),Yg.registerId(this.componentId+1)}var l=i.prototype;return l.createStyles=function(u,m,w,E){var T=E(Xg(this.rules,m,w,E).join(""),""),P=this.componentId+u;w.insertRules(P,P,T)},l.removeStyles=function(u,m){m.clearRules(this.componentId+u)},l.renderStyles=function(u,m,w,E){u>2&&Yg.registerId(this.componentId+u),this.removeStyles(u,w),this.createStyles(u,m,w,E)},i}(),function(){function i(){var u=this;this._emitSheetCSS=function(){var m=u.instance.toString();if(!m)return"";var w=IS();return"<style "+[w&&'nonce="'+w+'"',Wm+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+m+"</style>"},this.getStyleTags=function(){return u.sealed?Jd(2):u._emitSheetCSS()},this.getStyleElement=function(){var m;if(u.sealed)return Jd(2);var w=((m={})[Wm]="",m["data-styled-version"]="5.3.11",m.dangerouslySetInnerHTML={__html:u.instance.toString()},m),E=IS();return E&&(w.nonce=E),[ml.default.createElement("style",am({},w,{key:"sc-0-0"}))]},this.seal=function(){u.sealed=!0},this.instance=new Yg({isServer:!0}),this.sealed=!1}var l=i.prototype;return l.collectStyles=function(u){return this.sealed?Jd(2):ml.default.createElement(wT,{sheet:this.instance},u)},l.interleaveWithNodeStream=function(u){return Jd(3)},i}(),Ue=ln});function zr(){return zr=Object.assign||function(i){for(var l=1;l<arguments.length;l++){var u=arguments[l];for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&(i[m]=u[m])}return i},zr.apply(this,arguments)}var Pi=A(()=>{});function mi(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var xo=A(()=>{});function bo(i,l){return bo=Object.setPrototypeOf||function(u,m){return u.__proto__=m,u},bo(i,l)}var co=A(()=>{});function ys(i,l){i.prototype=Object.create(l.prototype),i.prototype.constructor=i,bo(i,l)}var md=A(()=>{co()});function gd(i){return gd=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)},gd(i)}var vd=A(()=>{});function ia(i){return Function.toString.call(i).indexOf("[native code]")!==-1}var yd=A(()=>{});function Ih(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Xm=A(()=>{});function Km(i,l,u){return Ih()?Km=Reflect.construct:Km=function(m,w,E){var T=[null];T.push.apply(T,w);var P=Function.bind.apply(m,T),L=new P;return E&&bo(L,E.prototype),L},Km.apply(null,arguments)}var yy=A(()=>{co(),Xm()});function Qg(i){var l=typeof Map=="function"?new Map:void 0;return Qg=function(u){if(u===null||!ia(u))return u;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(typeof l<"u"){if(l.has(u))return l.get(u);l.set(u,m)}function m(){return Km(u,arguments,gd(this).constructor)}return m.prototype=Object.create(u.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),bo(m,u)},Qg(i)}var _y=A(()=>{vd(),co(),yd(),yy()}),wy=A(()=>{});function Su(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Rh(i,l){if(!i)return l.toLowerCase();var u=i.split("-");if(u.length>1)return u.splice(1,0,l),u.reduce(function(w,E){return""+w+Su(E)});var m=i.replace(/([a-z])([A-Z])/g,"$1"+l+"$2");return i===m?""+i+l:m}function Sa(i,l){for(var u={},m=0;m<l.length;m+=1)(l[m]||l[m]===0)&&(u[Rh(i,TY[m])]=l[m]);return u}function Ym(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];var w=u[0],E=u[1],T=E===void 0?w:E,P=u[2],L=P===void 0?w:P,j=u[3],K=j===void 0?T:j,Z=[w,T,L,K];return Sa(i,Z)}function lm(i){return Math.round(i*255)}function yCe(i,l,u){return lm(i)+","+lm(l)+","+lm(u)}function DT(i,l,u,m){if(m===void 0&&(m=yCe),l===0)return m(u,u,u);var w=(i%360+360)%360/60,E=(1-Math.abs(2*u-1))*l,T=E*(1-Math.abs(w%2-1)),P=0,L=0,j=0;w>=0&&w<1?(P=E,L=T):w>=1&&w<2?(P=T,L=E):w>=2&&w<3?(L=E,j=T):w>=3&&w<4?(L=T,j=E):w>=4&&w<5?(P=T,j=E):w>=5&&w<6&&(P=E,j=T);var K=u-E/2,Z=P+K,q=L+K,X=j+K;return m(Z,q,X)}function _Ce(i){if(typeof i!="string")return i;var l=i.toLowerCase();return Tz[l]?"#"+Tz[l]:i}function xz(i){if(typeof i!="string")throw new qg(3);var l=_Ce(i);if(l.match(PY))return{red:parseInt(""+l[1]+l[2],16),green:parseInt(""+l[3]+l[4],16),blue:parseInt(""+l[5]+l[6],16)};if(l.match(kY)){var u=parseFloat((parseInt(""+l[7]+l[8],16)/255).toFixed(2));return{red:parseInt(""+l[1]+l[2],16),green:parseInt(""+l[3]+l[4],16),blue:parseInt(""+l[5]+l[6],16),alpha:u}}if(l.match(IY))return{red:parseInt(""+l[1]+l[1],16),green:parseInt(""+l[2]+l[2],16),blue:parseInt(""+l[3]+l[3],16)};if(l.match(RY)){var m=parseFloat((parseInt(""+l[4]+l[4],16)/255).toFixed(2));return{red:parseInt(""+l[1]+l[1],16),green:parseInt(""+l[2]+l[2],16),blue:parseInt(""+l[3]+l[3],16),alpha:m}}var w=sO.exec(l);if(w)return{red:parseInt(""+w[1],10),green:parseInt(""+w[2],10),blue:parseInt(""+w[3],10)};var E=OY.exec(l.substring(0,50));if(E)return{red:parseInt(""+E[1],10),green:parseInt(""+E[2],10),blue:parseInt(""+E[3],10),alpha:parseFloat(""+E[4])};var T=BY.exec(l);if(T){var P=parseInt(""+T[1],10),L=parseInt(""+T[2],10)/100,j=parseInt(""+T[3],10)/100,K="rgb("+DT(P,L,j)+")",Z=sO.exec(K);if(!Z)throw new qg(4,l,K);return{red:parseInt(""+Z[1],10),green:parseInt(""+Z[2],10),blue:parseInt(""+Z[3],10)}}var q=DY.exec(l.substring(0,50));if(q){var X=parseInt(""+q[1],10),ee=parseInt(""+q[2],10)/100,$=parseInt(""+q[3],10)/100,re="rgb("+DT(X,ee,$)+")",se=sO.exec(re);if(!se)throw new qg(4,l,re);return{red:parseInt(""+se[1],10),green:parseInt(""+se[2],10),blue:parseInt(""+se[3],10),alpha:parseFloat(""+q[4])}}throw new qg(5)}function wCe(i){var l=i.red/255,u=i.green/255,m=i.blue/255,w=Math.max(l,u,m),E=Math.min(l,u,m),T=(w+E)/2;if(w===E)return i.alpha!==void 0?{hue:0,saturation:0,lightness:T,alpha:i.alpha}:{hue:0,saturation:0,lightness:T};var P,L=w-E,j=T>.5?L/(2-w-E):L/(w+E);switch(w){case l:P=(u-m)/L+(u<m?6:0);break;case u:P=(m-l)/L+2;break;default:P=(l-u)/L+4;break}return P*=60,i.alpha!==void 0?{hue:P,saturation:j,lightness:T,alpha:i.alpha}:{hue:P,saturation:j,lightness:T}}function bz(i){return wCe(xz(i))}function OS(i){var l=i.toString(16);return l.length===1?"0"+l:l}function Ez(i){return OS(Math.round(i*255))}function SCe(i,l,u){return aO("#"+Ez(i)+Ez(l)+Ez(u))}function rO(i,l,u){return DT(i,l,u,SCe)}function xCe(i,l,u){if(typeof i=="number"&&typeof l=="number"&&typeof u=="number")return rO(i,l,u);if(typeof i=="object"&&l===void 0&&u===void 0)return rO(i.hue,i.saturation,i.lightness);throw new qg(1)}function bCe(i,l,u,m){if(typeof i=="number"&&typeof l=="number"&&typeof u=="number"&&typeof m=="number")return m>=1?rO(i,l,u):"rgba("+DT(i,l,u)+","+m+")";if(typeof i=="object"&&l===void 0&&u===void 0&&m===void 0)return i.alpha>=1?rO(i.hue,i.saturation,i.lightness):"rgba("+DT(i.hue,i.saturation,i.lightness)+","+i.alpha+")";throw new qg(2)}function Az(i,l,u){if(typeof i=="number"&&typeof l=="number"&&typeof u=="number")return aO("#"+OS(i)+OS(l)+OS(u));if(typeof i=="object"&&l===void 0&&u===void 0)return aO("#"+OS(i.red)+OS(i.green)+OS(i.blue));throw new qg(6)}function CY(i,l,u,m){if(typeof i=="string"&&typeof l=="number"){var w=xz(i);return"rgba("+w.red+","+w.green+","+w.blue+","+l+")"}else{if(typeof i=="number"&&typeof l=="number"&&typeof u=="number"&&typeof m=="number")return m>=1?Az(i,l,u):"rgba("+i+","+l+","+u+","+m+")";if(typeof i=="object"&&l===void 0&&u===void 0&&m===void 0)return i.alpha>=1?Az(i.red,i.green,i.blue):"rgba("+i.red+","+i.green+","+i.blue+","+i.alpha+")"}throw new qg(7)}function Cz(i){if(typeof i!="object")throw new qg(8);if(NY(i))return CY(i);if(LY(i))return Az(i);if(zY(i))return bCe(i);if(FY(i))return xCe(i);throw new qg(8)}function MY(i,l,u){return function(){var m=u.concat(Array.prototype.slice.call(arguments));return m.length>=l?i.apply(this,m):MY(i,l,m)}}function iO(i){return MY(i,i.length,[])}function oO(i,l,u){return Math.max(i,Math.min(l,u))}function ECe(i,l){if(l==="transparent")return l;var u=bz(l);return Cz(zr({},u,{lightness:oO(0,1,u.lightness-parseFloat(i))}))}function ACe(i,l){if(l==="transparent")return l;var u=bz(l);return Cz(zr({},u,{lightness:oO(0,1,u.lightness+parseFloat(i))}))}function CCe(i,l){if(l==="transparent")return l;var u=bz(l);return Cz(zr({},u,{saturation:oO(0,1,u.saturation+parseFloat(i))}))}function MCe(i,l){if(l==="transparent")return l;var u=xz(l),m=typeof u.alpha=="number"?u.alpha:1,w=zr({},u,{alpha:oO(0,1,+(m*100-parseFloat(i)*100).toFixed(2)/100)});return CY(w)}function Mz(i){for(var l=arguments.length,u=new Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];return UY.indexOf(i)>=0&&i?zr({},Ym.apply(void 0,[""].concat(u)),{position:i}):Ym.apply(void 0,["",i].concat(u))}var qg,TY,Tz,PY,kY,IY,RY,sO,OY,BY,DY,aO,LY,NY,FY,zY,LT,ME,lO,Jg,UY,um=A(()=>{Pi(),xo(),md(),_y(),wy(),qg=function(i){ys(l,i);function l(u){var m;return m=i.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+u+" for more information.")||this,mi(m)}return l}(Qg(Error)),TY=["Top","Right","Bottom","Left"],Tz={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},PY=/^#[a-fA-F0-9]{6}$/,kY=/^#[a-fA-F0-9]{8}$/,IY=/^#[a-fA-F0-9]{3}$/,RY=/^#[a-fA-F0-9]{4}$/,sO=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,OY=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,BY=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,DY=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,aO=function(i){return i.length===7&&i[1]===i[2]&&i[3]===i[4]&&i[5]===i[6]?"#"+i[1]+i[3]+i[5]:i},LY=function(i){return typeof i.red=="number"&&typeof i.green=="number"&&typeof i.blue=="number"&&(typeof i.alpha!="number"||typeof i.alpha>"u")},NY=function(i){return typeof i.red=="number"&&typeof i.green=="number"&&typeof i.blue=="number"&&typeof i.alpha=="number"},FY=function(i){return typeof i.hue=="number"&&typeof i.saturation=="number"&&typeof i.lightness=="number"&&(typeof i.alpha!="number"||typeof i.alpha>"u")},zY=function(i){return typeof i.hue=="number"&&typeof i.saturation=="number"&&typeof i.lightness=="number"&&typeof i.alpha=="number"},LT=iO(ECe),ME=iO(ACe),lO=iO(CCe),Jg=iO(MCe),UY=["absolute","fixed","relative","static","sticky"]});function TCe(i,l,u){return l in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,i}function jY(i,l){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);l&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),u.push.apply(u,m)}return u}function BS(i){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?jY(Object(u),!0).forEach(function(m){TCe(i,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):jY(Object(u)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(u,m))})}return i}function TE(i,l){if(i==null)return{};var u={},m=Object.keys(i),w,E;for(E=0;E<m.length;E++)w=m[E],!(l.indexOf(w)>=0)&&(u[w]=i[w]);return u}var NT=A(()=>{}),HY,Pz,GY=A(()=>{HY=Y(Rt()),Pz=(0,HY.createContext)({})});function PCe(i,l,u){return l in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,i}function VY(i,l){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);l&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),u.push.apply(u,m)}return u}function PE(i){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?VY(Object(u),!0).forEach(function(m){PCe(i,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):VY(Object(u)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(u,m))})}return i}function kz(i,l){if(i==null)return{};var u={},m=Object.keys(i),w,E;for(E=0;E<m.length;E++)w=m[E],!(l.indexOf(w)>=0)&&(u[w]=i[w]);return u}function kCe(i,l){if(i){if(typeof i=="string")return WY(i,l);var u=Object.prototype.toString.call(i).slice(8,-1);if(u==="Object"&&i.constructor&&(u=i.constructor.name),u==="Map"||u==="Set")return Array.from(i);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return WY(i,l)}}function WY(i,l){(l==null||l>i.length)&&(l=i.length);for(var u=0,m=new Array(l);u<l;u++)m[u]=i[u];return m}function XY(i,l){var u;if(typeof Symbol>"u"||i[Symbol.iterator]==null){if(Array.isArray(i)||(u=kCe(i))||l&&i&&typeof i.length=="number"){u&&(i=u);var m=0;return function(){return m>=i.length?{done:!0}:{done:!1,value:i[m++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return u=i[Symbol.iterator](),u.next.bind(u)}var uO=A(()=>{});function ICe(i){return typeof i=="function"}var Iz,KY,RCe=A(()=>{Iz=Y(Rt()),GY(),uO(),KY=function(i,l,u){u===void 0&&(u=l.children);var m=(0,Iz.useContext)(Pz);if(m.useCreateElement)return m.useCreateElement(i,l,u);if(typeof i=="string"&&ICe(u)){l.children;var w=kz(l,["children"]);return u(w)}return(0,Iz.createElement)(i,l,u)}});function OCe(i,l,u){return l in i?Object.defineProperty(i,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[l]=u,i}function YY(i,l){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(i);l&&(m=m.filter(function(w){return Object.getOwnPropertyDescriptor(i,w).enumerable})),u.push.apply(u,m)}return u}function kE(i){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?YY(Object(u),!0).forEach(function(m){OCe(i,m,u[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):YY(Object(u)).forEach(function(m){Object.defineProperty(i,m,Object.getOwnPropertyDescriptor(u,m))})}return i}function BCe(i,l){if(i==null)return{};var u={},m=Object.keys(i),w,E;for(E=0;E<m.length;E++)w=m[E],!(l.indexOf(w)>=0)&&(u[w]=i[w]);return u}var QY=A(()=>{});function DCe(i){return typeof i=="object"&&i!=null}var LCe=A(()=>{});function Rz(i){var l;if(!DCe(i))return!1;var u=Object.getPrototypeOf(i);return u==null?!0:((l=u.constructor)===null||l===void 0?void 0:l.toString())===Object.toString()}var qY=A(()=>{LCe()});function JY(i,l){for(var u=Object.keys(i),m={},w={},E=0,T=u;E<T.length;E++){var P=T[E];l.indexOf(P)>=0?m[P]=i[P]:w[P]=i[P]}return[m,w]}function ZY(i,l){if(l===void 0&&(l=[]),!Rz(i.state))return JY(i,l);var u=JY(i,[].concat(l,["state"])),m=u[0],w=u[1],E=m.state,T=BCe(m,["state"]);return[kE(kE({},E),T),w]}var NCe=A(()=>{QY(),qY()});function cO(i,l){if(i===l)return!0;if(!i||!l||typeof i!="object"||typeof l!="object")return!1;var u=Object.keys(i),m=Object.keys(l),w=u.length;if(m.length!==w)return!1;for(var E=0,T=u;E<T.length;E++){var P=T[E];if(i[P]!==l[P])return!1}return!0}var Oz=A(()=>{});function $Y(i){return i.name==="normalizePropsAreEqualInner"?i:function(l,u){return!Rz(l.state)||!Rz(u.state)?i(l,u):i(kE(kE({},l.state),l),kE(kE({},u.state),u))}}var FCe=A(()=>{QY(),qY()});function zCe(i){return(0,Bz.forwardRef)(i)}function UCe(i,l){return(0,Bz.memo)(i,l)}function FT(i){var l=i.as,u=i.useHook,m=i.memo,w=i.propsAreEqual,E=w===void 0?u==null?void 0:u.unstable_propsAreEqual:w,T=i.keys,P=T===void 0?(u==null?void 0:u.__keys)||[]:T,L=i.useCreateElement,j=L===void 0?KY:L,K=function(Z,q){var X=Z.as,ee=X===void 0?l:X,$=kz(Z,["as"]);if(u){var re,se=ZY($,P),fe=se[0],ye=se[1],Oe=u(fe,PE({ref:q},ye)),Ie=Oe.wrapElement,je=kz(Oe,["wrapElement"]),yt=((re=ee.render)===null||re===void 0?void 0:re.__keys)||ee.__keys,st=yt&&ZY($,yt)[0],ft=st?PE(PE({},je),st):je,It=j(ee,ft);return Ie?Ie(It):It}return j(ee,PE({ref:q},$))};return K=zCe(K),m&&(K=UCe(K,E&&$Y(E))),K.__keys=P,K.unstable_propsAreEqual=$Y(E||cO),K}var Bz,zT=A(()=>{Bz=Y(Rt()),uO(),RCe(),NCe(),Oz(),FCe()});function eQ(i,l){(0,Dz.useDebugValue)(i);var u=(0,Dz.useContext)(Pz);return u[i]!=null?u[i]:l}var Dz,tQ=A(()=>{Dz=Y(Rt()),GY()});function jCe(i,l,u){l===void 0&&(l={}),u===void 0&&(u={});var m="use"+i+"Props";(0,nQ.useDebugValue)(m);var w=eQ(m);return w?w(l,u):u}var nQ,HCe=A(()=>{nQ=Y(Rt()),tQ()});function GCe(i,l,u){l===void 0&&(l={}),u===void 0&&(u={});var m="use"+i+"Options";(0,rQ.useDebugValue)(m);var w=eQ(m);return w?PE(PE({},l),w(l,u)):l}var rQ,VCe=A(()=>{rQ=Y(Rt()),tQ(),uO()});function WCe(i){return Array.isArray(i)?i:typeof i<"u"?[i]:[]}var XCe=A(()=>{});function UT(i){var l,u,m=WCe(i.compose),w=function(P,L){if(i.useOptions&&(P=i.useOptions(P,L)),i.name&&(P=GCe(i.name,P,L)),i.compose)for(var j=XY(m),K;!(K=j()).done;){var Z=K.value;P=Z.__useOptions(P,L)}return P},E=function(P,L,j){if(P===void 0&&(P={}),L===void 0&&(L={}),j===void 0&&(j=!1),j||(P=w(P,L)),i.useProps&&(L=i.useProps(P,L)),i.name&&(L=jCe(i.name,P,L)),i.compose)if(i.useComposeOptions&&(P=i.useComposeOptions(P,L)),i.useComposeProps)L=i.useComposeProps(P,L);else for(var K=XY(m),Z;!(Z=K()).done;){var q=Z.value;L=q(P,L,!0)}var X={},ee=L||{};for(var $ in ee)ee[$]!==void 0&&(X[$]=ee[$]);return X};E.__useOptions=w;var T=m.reduce(function(P,L){return P.push.apply(P,L.__keys||[]),P},[]);return E.__keys=[].concat(T,((l=i.useState)===null||l===void 0?void 0:l.__keys)||[],i.keys||[]),E.unstable_propsAreEqual=i.propsAreEqual||((u=m[0])===null||u===void 0?void 0:u.unstable_propsAreEqual)||cO,E}var jT=A(()=>{Y(Rt()),HCe(),uO(),VCe(),Oz(),XCe()});function iQ(i,l){l===void 0&&(l=null),i&&(typeof i=="function"?i(l):i.current=l)}function oQ(i,l){return(0,sQ.useMemo)(function(){return i==null&&l==null?null:function(u){iQ(i,u),iQ(l,u)}},[i,l])}var sQ,aQ=A(()=>{sQ=Y(Rt())});function Lz(i){if(i.tagName==="BUTTON")return!0;if(i.tagName==="INPUT"){var l=i;return lQ.indexOf(l.type)!==-1}return!1}var lQ,Nz=A(()=>{lQ=["button","color","file","image","reset","submit"]}),Fz=A(()=>{}),KCe=A(()=>{Fz(),Y(Rt())}),dO=A(()=>{Fz(),Y(Rt()),KCe()});function uQ(i){return i?i.ownerDocument||i:document}var cQ=A(()=>{});function YCe(i){return i&&uQ(i).defaultView||dQ}var dQ,QCe=A(()=>{cQ();try{dQ=window}catch{}});function qCe(){var i=YCe();return!!(typeof i<"u"&&i.document&&i.document.createElement)}var fO,zz=A(()=>{QCe(),fO=qCe()}),Uz,jz,Hz=A(()=>{Uz=Y(Rt()),zz(),jz=fO?Uz.useLayoutEffect:Uz.useEffect});function IE(i){var l=(0,fQ.useRef)(i);return jz(function(){l.current=i}),l}var fQ,hQ=A(()=>{fQ=Y(Rt()),Hz()});function JCe(i){return i.target===i.currentTarget}var ZCe=A(()=>{});function $Ce(i){var l=uQ(i),u=l.activeElement;return u!=null&&u.nodeName?u:null}var eMe=A(()=>{cQ()});function pQ(i,l){return i===l||i.contains(l)}var mQ=A(()=>{});function tMe(i){var l=$Ce(i);if(!l)return!1;if(pQ(i,l))return!0;var u=l.getAttribute("aria-activedescendant");return u?u===i.id?!0:!!i.querySelector("#"+u):!1}var nMe=A(()=>{eMe(),mQ()});function rMe(i){return!pQ(i.currentTarget,i.target)}var iMe=A(()=>{mQ()});function hO(i){return fO?window.navigator.userAgent.indexOf(i)!==-1:!1}var oMe=A(()=>{zz()});function sMe(i,l){return"matches"in i?i.matches(l):"msMatchesSelector"in i?i.msMatchesSelector(l):i.webkitMatchesSelector(l)}var aMe=A(()=>{});function lMe(i){var l=i;return l.offsetWidth>0||l.offsetHeight>0||i.getClientRects().length>0}function uMe(i){return sMe(i,gQ)&&lMe(i)}var gQ,cMe=A(()=>{aMe(),gQ="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),vQ,pO,yQ=A(()=>{NT(),zT(),jT(),Oz(),vQ=["unstable_system"],pO=UT({name:"Role",keys:vQ,propsAreEqual:function(i,l){var u=i.unstable_system,m=TE(i,["unstable_system"]),w=l.unstable_system,E=TE(l,["unstable_system"]);return u!==w&&!cO(u,w)?!1:cO(m,E)}}),FT({as:"div",useHook:pO})});function _Q(i){!tMe(i)&&uMe(i)&&i.focus()}function dMe(i){return i.tagName==="BUTTON"||i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.tagName==="A"}function fMe(i){return i.tagName==="BUTTON"||i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"}function hMe(i,l,u,m){return i?l&&!u?-1:void 0:l?m:m||0}function Gz(i,l){return(0,RE.useCallback)(function(u){var m;(m=i.current)===null||m===void 0||m.call(i,u),!u.defaultPrevented&&l&&(u.stopPropagation(),u.preventDefault())},[i,l])}var RE,wQ,SQ,Vz,pMe=A(()=>{NT(),zT(),jT(),RE=Y(Rt()),aQ(),Nz(),dO(),hQ(),Hz(),nMe(),iMe(),oMe(),cMe(),yQ(),wQ=["disabled","focusable"],SQ=hO("Mac")&&!hO("Chrome")&&(hO("Safari")||hO("Firefox")),Vz=UT({name:"Tabbable",compose:pO,keys:wQ,useOptions:function(i,l){var u=l.disabled;return BS({disabled:u},i)},useProps:function(i,l){var u=l.ref,m=l.tabIndex,w=l.onClickCapture,E=l.onMouseDownCapture,T=l.onMouseDown,P=l.onKeyPressCapture,L=l.style,j=TE(l,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),K=(0,RE.useRef)(null),Z=IE(w),q=IE(E),X=IE(T),ee=IE(P),$=!!i.disabled&&!i.focusable,re=(0,RE.useState)(!0),se=re[0],fe=re[1],ye=(0,RE.useState)(!0),Oe=ye[0],Ie=ye[1],je=i.disabled?BS({pointerEvents:"none"},L):L;jz(function(){var vn=K.current;vn&&(dMe(vn)||fe(!1),fMe(vn)||Ie(!1))},[]);var yt=Gz(Z,i.disabled),st=Gz(q,i.disabled),ft=Gz(ee,i.disabled),It=(0,RE.useCallback)(function(vn){var We;(We=X.current)===null||We===void 0||We.call(X,vn);var Pt=vn.currentTarget;if(!vn.defaultPrevented&&SQ&&!rMe(vn)&&Lz(Pt)){var be=requestAnimationFrame(function(){Pt.removeEventListener("mouseup",Ht,!0),_Q(Pt)}),Ht=function(){cancelAnimationFrame(be),_Q(Pt)};Pt.addEventListener("mouseup",Ht,{once:!0,capture:!0})}},[]);return BS({ref:oQ(K,u),style:je,tabIndex:hMe($,se,Oe,m),disabled:$&&Oe?!0:void 0,"aria-disabled":i.disabled?!0:void 0,onClickCapture:yt,onMouseDownCapture:st,onMouseDown:It,onKeyPressCapture:ft},j)}}),FT({as:"div",useHook:Vz})});function mMe(i){var l=i.currentTarget;return i.isTrusted?Lz(l)||l.tagName==="INPUT"||l.tagName==="TEXTAREA"||l.tagName==="A"||l.tagName==="SELECT":!1}var mO,xQ,Wz,gMe=A(()=>{NT(),zT(),jT(),mO=Y(Rt()),Nz(),dO(),hQ(),ZCe(),pMe(),xQ=["unstable_clickOnEnter","unstable_clickOnSpace"],Wz=UT({name:"Clickable",compose:Vz,keys:xQ,useOptions:function(i){var l=i.unstable_clickOnEnter,u=l===void 0?!0:l,m=i.unstable_clickOnSpace,w=m===void 0?!0:m,E=TE(i,["unstable_clickOnEnter","unstable_clickOnSpace"]);return BS({unstable_clickOnEnter:u,unstable_clickOnSpace:w},E)},useProps:function(i,l){var u=l.onKeyDown,m=l.onKeyUp,w=TE(l,["onKeyDown","onKeyUp"]),E=(0,mO.useState)(!1),T=E[0],P=E[1],L=IE(u),j=IE(m),K=(0,mO.useCallback)(function(q){var X;if((X=L.current)===null||X===void 0||X.call(L,q),!q.defaultPrevented&&!i.disabled&&!q.metaKey&&JCe(q)){var ee=i.unstable_clickOnEnter&&q.key==="Enter",$=i.unstable_clickOnSpace&&q.key===" ";if(ee||$){if(mMe(q))return;q.preventDefault(),ee?q.currentTarget.click():$&&P(!0)}}},[i.disabled,i.unstable_clickOnEnter,i.unstable_clickOnSpace]),Z=(0,mO.useCallback)(function(q){var X;if((X=j.current)===null||X===void 0||X.call(j,q),!q.defaultPrevented&&!i.disabled&&!q.metaKey){var ee=i.unstable_clickOnSpace&&q.key===" ";T&&ee&&(P(!1),q.currentTarget.click())}},[i.disabled,i.unstable_clickOnSpace,T]);return BS({"data-active":T||void 0,onKeyDown:K,onKeyUp:Z},w)}}),FT({as:"button",memo:!0,useHook:Wz})}),HT,bQ,EQ,AQ,vMe=A(()=>{NT(),zT(),jT(),HT=Y(Rt()),aQ(),Nz(),dO(),gMe(),bQ=[],EQ=UT({name:"Button",compose:Wz,keys:bQ,useProps:function(i,l){var u=l.ref,m=TE(l,["ref"]),w=(0,HT.useRef)(null),E=(0,HT.useState)(void 0),T=E[0],P=E[1],L=(0,HT.useState)("button"),j=L[0],K=L[1];return(0,HT.useEffect)(function(){var Z=w.current;Z&&(Lz(Z)||(Z.tagName!=="A"&&P("button"),K(void 0)))},[]),BS({ref:oQ(w,u),role:T,type:j},m)}}),AQ=FT({as:"button",memo:!0,useHook:EQ})}),CQ,MQ,TQ,yMe=A(()=>{NT(),zT(),jT(),yQ(),CQ=[],MQ=UT({name:"Group",compose:pO,keys:CQ,useProps:function(i,l){return BS({role:"group"},l)}}),TQ=FT({as:"div",useHook:MQ})});function _Me(){return fO?document.body:null}var PQ,OE,wMe=A(()=>{PQ=Y(Rt()),Hz(),zz(),Y(Gg()),OE=(0,PQ.createContext)(_Me())}),Xz,SMe=A(()=>{typeof window<"u"&&(Xz={get passive(){}},window.addEventListener("testPassive",null,Xz),window.removeEventListener("testPassive",null,Xz))}),DS=A(()=>{Y(Rt()),dO(),vMe(),yMe(),Y(Gg()),wMe(),SMe(),Fz()});function es(i){let l=(0,Kz.useMemo)(()=>{let w=i;return{get current(){return w},set current(E){w=E,m(E)}}},[]),[u,m]=(0,Kz.useState)(()=>i);return[l,u]}var Kz,_s=A(()=>{Kz=Y(Rt())});function xMe(i){return l=>Xf.default.createElement(DQ,null,Xf.default.createElement(i,F({},l)))}var Xf,kQ,IQ,fs,BE,RQ,OQ,BQ,Yz,Qz,DQ,ws=A(()=>{um(),Lt(),Lt(),Xf=Y(Rt()),kQ=Y(Gg()),DS(),_s(),fs=Zd(IQ||(IQ=J([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),BE={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return ME(.6,BE.panel.bg)}}}}}},OQ=typeof window<"u"?Vm(RQ||(RQ=J([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},Yz=Ue.div(BQ||(BQ=J([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),Qz=i=>Xf.default.createElement(wT,{disableVendorPrefixes:!0,target:i.target},Xf.default.createElement(Xf.default.Fragment,null,Xf.default.createElement(OQ,null),i.children)),DQ=i=>{let[l,u]=(0,Xf.useState)(null),[m,w]=(0,Xf.useState)(null);(0,Xf.useLayoutEffect)(()=>{if(!l)return;let{parentNode:P}=l;if(!P)return;let L=P.shadowRoot?parent.shadowRoot:P.attachShadow({mode:"open"});w(L)},[l]);let[E,T]=es(void 0);return m?kQ.default.createPortal(Xf.default.createElement(Qz,{target:m},Xf.default.createElement(Xf.default.Fragment,null,Xf.default.createElement(Yz,{ref:E}),Xf.default.createElement(OE.Provider,{value:T},i.children))),m):Xf.default.createElement("template",{ref:u,"shadow-root":"open"},i.children)}}),DE,LQ,NQ,s_,FQ,GT,zQ,UQ,gO,jQ,qz,Y0,Sy=A(()=>{ws(),Lt(),DE={get outlinePanel(){return 1},get propsPanel(){return DE.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},LQ=BE.panel.bg,s_=Ue.span(NQ||(NQ=J([`
  white-space: nowrap;
`]))),GT=Ue.span(FQ||(FQ=J([`
  white-space: nowrap;
  color: `,`;
`])),BE.panel.head.punctuation.color),UQ=Ue.div(zQ||(zQ=J([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),LQ),gO=18,qz=Ue.div(jQ||(jQ=J([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),gO),Y0=100}),HQ,Zg,LE=A(()=>{HQ=()=>{},Zg=HQ});function bMe(i){return Jz.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),Jz.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var Jz,Zz,EMe=A(()=>{Jz=Y(Rt()),Zz=bMe});function AMe(i){return $z.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),$z.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var $z,GQ,CMe=A(()=>{$z=Y(Rt()),GQ=AMe});function MMe(i){return e6.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),e6.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var e6,VQ,TMe=A(()=>{e6=Y(Rt()),VQ=MMe});function PMe(i){return t6.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),t6.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var t6,WQ,kMe=A(()=>{t6=Y(Rt()),WQ=PMe});function IMe(i){return n6.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),n6.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var n6,r6,RMe=A(()=>{n6=Y(Rt()),r6=IMe});function OMe(i){return i6.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),i6.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var i6,vO,BMe=A(()=>{i6=Y(Rt()),vO=OMe});function DMe(i){return o6.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),o6.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var o6,s6,LMe=A(()=>{o6=Y(Rt()),s6=DMe}),VT=A(()=>{EMe(),CMe(),TMe(),kMe(),RMe(),BMe(),LMe()}),Q0,XQ,yO,KQ,YQ,QQ,qQ,JQ,ZQ,$Q,eq,tq,nq,rq,iq,oq,sq,aq,WT,_O=A(()=>{Q0=Y(Rt()),Lt(),LE(),ws(),VT(),yO=Ue.li(XQ||(XQ=J([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),YQ=Ue.div(KQ||(KQ=J([""]))),qQ=Ue(YQ)(QQ||(QQ=J([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),fs),ZQ=Zd(JQ||(JQ=J([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),eq=Ue.span($Q||($Q=J([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),ZQ,fs),nq=Ue.div(tq||(tq=J([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),iq=Ue.span(rq||(rq=J([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),yO),sq=Ue.ul(oq||(oq=J([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),yO),aq=({label:i,children:l,depth:u,select:m,selectionStatus:w,labelDecoration:E,collapsed:T=!1,setIsCollapsed:P})=>{let L=l!==void 0;return Q0.default.createElement(yO,{style:{"--depth":u},className:T?"collapsed":""},Q0.default.createElement(qQ,{className:w,onClick:m??Zg,"data-header":!0},Q0.default.createElement(nq,null,L?Q0.default.createElement(iq,{onClick:j=>{j.stopPropagation(),j.preventDefault(),P==null||P(!T)}},Q0.default.createElement(GQ,null)):Q0.default.createElement(r6,null)),Q0.default.createElement(eq,null,Q0.default.createElement("span",null,i)),E),L&&Q0.default.createElement(sq,null,l))},WT=aq});function NMe(i){return Object.keys(i)}function FMe(i){return Object.keys((0,q0.val)(i.sheetTemplatesP))}function zMe(){let i=Wf(a_().filter(l=>qe(l)||wt(l)).map(l=>wt(l)?l.sheet:l))[0];if(i)return i.getSequence()}var q0,a_,lq,l_=A(()=>{q0=$n,an(),Ya(),Ze(),a_=()=>{var i;let l=(0,q0.val)(xe().projectsP),u=((i=(0,q0.val)(xe().atomP.historic.panels.outlinePanel.selection))!=null?i:[]).map(m=>{let w=l[m.projectId];if(!w)return;if(m.type==="Project")return w;if(!(0,q0.val)(w.sheetTemplatesP[m.sheetId]))return;let E=lq(w,m.sheetId);if(!E)return;if(m.type==="Sheet")return E;let T=(0,q0.val)(E.objectsP[m.objectKey]);if(T)return T});return Wf(u.filter(m=>typeof m<"u"))},lq=(i,l)=>{let u=xe().atomP.historic.projects.stateByProjectId[i.address.projectId],m=(0,q0.val)(u.stateBySheetId[l].selectedInstanceId),w=(0,q0.val)(i.sheetTemplatesP[l]);if(w){if(m)return(0,q0.val)(w.instancesP[m]);{let E=(0,q0.val)(w.instancesP);return E[NMe(E)[0]]}}}}),uq,cq,UMe=A(()=>{Ze(),uq=Y(Rt()),_O(),wi(),l_(),cq=({sheetObject:i,depth:l,overrideLabel:u})=>{let m=()=>{xe().transaction(({stateEditors:E})=>{E.studio.historic.panels.outline.selection.set([i])})},w=io(()=>a_(),[]);return uq.default.createElement(WT,{select:m,label:u??i.address.objectKey,depth:l,selectionStatus:w.includes(i)?"selected":"not-selected"})}});function a6(i){var l;let u=i.type==="namespace"?"namespace:".concat(i.sheet.address.sheetId,":").concat(i.path.join("/")):i.type==="Theatre_Project"?"project":i.type==="Theatre_Sheet"?"sheetInstance:".concat(i.address.sheetId,":").concat(i.address.sheetInstanceId):"unknown",m=i.type==="namespace"?i.sheet.address.projectId:i.address.projectId,w=(l=vo(xe().atomP.ahistoric.projects.stateByProjectId[m].collapsedItemsInOutline[u]))!=null?l:!1,E=(0,dq.useCallback)(T=>{xe().transaction(({stateEditors:P})=>{P.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:m,isCollapsed:T,itemKey:u})})},[u]);return{collapsed:w,setCollapsed:E}}var dq,l6=A(()=>{dq=Y(Rt()),Ze(),wi()});function fq(i){return J0.default.createElement(J0.default.Fragment,null,[...i.namespace.entries()].map(([l,{object:u,nested:m}])=>J0.default.createElement(jMe,{key:l,label:l,object:u,nested:m,visualIndentation:i.visualIndentation,path:i.path,sheet:i.sheet})))}function jMe(i){let{nested:l,label:u,object:m,sheet:w}=i,{collapsed:E,setCollapsed:T}=a6({type:"namespace",sheet:w,path:[...i.path,u]}),P=l&&J0.default.createElement(fq,{namespace:l,path:[...i.path,u],key:"namespaceTree("+u+")",visualIndentation:i.visualIndentation+1,sheet:w}),L=m&&J0.default.createElement(cq,{depth:i.visualIndentation,key:"objectPath("+m.address.objectKey+")",sheetObject:m,overrideLabel:u});return J0.default.createElement(J0.default.Fragment,{key:"".concat(u," - ").concat(i.visualIndentation)},L,P&&J0.default.createElement(WT,{selectionStatus:"not-selectable",label:u,key:"baseItem(".concat(u,")"),depth:i.visualIndentation,children:P,collapsed:E,setIsCollapsed:T}))}function hq(i,l,u=HMe(l)){let[m,...w]=u,E=i.get(m);E||(E={nested:void 0,object:void 0,path:[...u]},i.set(m,E)),w.length===0?(console.assert(!E.object,"expect not to have existing object with same name",{existing:E,object:l}),E.object=l):(E.nested||(E.nested=new Map),hq(E.nested,l,w))}function HMe(i){let l=u6.get(i);return l||(l=i.address.objectKey.split(yq),console.assert(l.length>0,"expected not empty"),u6.set(i,l)),l}var pq,J0,mq,gq,vq,yq,u6,GMe=A(()=>{wi(),pq=$n,J0=Y(Rt()),Lt(),UMe(),_O(),l6(),Ue.li(mq||(mq=J([`
  color: `,`;
`])),i=>i.isSelected?"white":"hsl(1, 1%, 80%)"),gq=({sheet:i,depth:l})=>io(()=>{let u=(0,pq.val)(i.objectsP),m=Object.values(u).filter(E=>E!=null),w=new Map;return m.forEach(E=>{hq(w,E)}),J0.default.createElement(fq,{namespace:w,visualIndentation:l,path:[],sheet:i})},[i,l]),vq=gq,yq=/\s*\/\s*/g,u6=new WeakMap}),NE,_q,wq,Sq,xq,bq,Eq,VMe=A(()=>{Ze(),l_(),wi(),NE=Y(Rt()),Lt(),GMe(),_O(),l6(),wq=Ue.div(_q||(_q=J([`
  display: flex;
`]))),Ue.li(Sq||(Sq=J([`
  color: `,`;
`])),i=>i.isSelected?"white":"hsl(1, 1%, 80%)"),bq=Ue.div(xq||(xq=J([""]))),Eq=({sheet:i,depth:l})=>{let{collapsed:u,setCollapsed:m}=a6(i),w=(0,NE.useCallback)(()=>{xe().transaction(({stateEditors:E})=>{E.studio.historic.panels.outline.selection.set([i])})},[i]);return io(()=>{let E=a_();return NE.default.createElement(WT,{depth:l,select:w,setIsCollapsed:m,collapsed:u,selectionStatus:E.some(T=>T===i)?"selected":E.some(T=>T.type==="Theatre_SheetObject"&&T.sheet===i)?"descendant-is-selected":"not-selected",label:NE.default.createElement(wq,null,i.address.sheetId,": ",i.address.sheetInstanceId)},NE.default.createElement(bq,null,NE.default.createElement(vq,{depth:l+1,sheet:i,key:"objectList"+i.address.sheetInstanceId})))},[l,u])}}),c6,FE,Aq,Cq,Mq,Tq,WMe=A(()=>{wi(),c6=$n,FE=Y(Rt()),Lt(),VMe(),Ue.div(Aq||(Aq=J([`
  display: flex;
`]))),Ue.li(Cq||(Cq=J([`
  color: `,`;
`])),i=>i.isSelected?"white":"hsl(1, 1%, 80%)"),Ue.div(Mq||(Mq=J([""]))),Tq=({sheetId:i,depth:l,project:u})=>io(()=>{let m=(0,c6.val)(u.sheetTemplatesP[i]);if(!m)return FE.default.createElement(FE.default.Fragment,null);let w=(0,c6.val)(m.instancesP);return FE.default.createElement(FE.default.Fragment,null,Object.entries(w).map(([E,T])=>FE.default.createElement(Eq,{key:T.address.sheetInstanceId,sheet:T,depth:l})))},[l,i,u])}),wO,Pq,kq,XMe=A(()=>{l_(),wi(),wO=Y(Rt()),WMe(),Pq=({project:i,depth:l})=>io(()=>{if(!i)return null;let u=FMe(i);return wO.default.createElement(wO.default.Fragment,null,u.map(m=>wO.default.createElement(Tq,{depth:l,sheetId:m,key:"sheet-".concat(m),project:i})))},[i,l]),kq=Pq}),XT,Iq,Rq,Oq,Bq,Dq,KMe=A(()=>{XT=Y(Rt()),_O(),XMe(),Ze(),wi(),l_(),Iq=$n,Lt(),l6(),Oq=Ue.div(Rq||(Rq=J([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),Bq=({depth:i,project:l})=>{let u=io(()=>a_(),[]),m=io(()=>{let P=l.address.projectId,L=(0,Iq.val)(xe().atomP.ephemeral.coreByProject[P].loadingState);return(L==null?void 0:L.type)==="browserStateIsNotBasedOnDiskState"},[l]),w=(0,XT.useCallback)(()=>{xe().transaction(({stateEditors:P})=>{P.studio.historic.panels.outline.selection.set([l])})},[l]),{collapsed:E,setCollapsed:T}=a6(l);return XT.default.createElement(WT,{depth:i,label:l.address.projectId,setIsCollapsed:T,collapsed:E,labelDecoration:m?XT.default.createElement(Oq,null,"Has Conflicts"):null,children:XT.default.createElement(kq,{project:l,depth:i+1}),selectionStatus:u.includes(l)?"selected":u.some(P=>P.address.projectId===l.address.projectId)?"descendant-is-selected":"not-selected",select:w})},Dq=Bq}),Lq,d6,Nq,Fq,zq,Uq,YMe=A(()=>{Lq=$n,wi(),Ze(),d6=Y(Rt()),Lt(),KMe(),Fq=Ue.ul(Nq||(Nq=J([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),zq=i=>io(()=>{let l=(0,Lq.val)(xe().projectsP);return d6.default.createElement(Fq,null,Object.keys(l).map(u=>{let m=l[u];return d6.default.createElement(Dq,{depth:0,project:m,key:"projectListItem-".concat(u)})}))},[]),Uq=zq});function jq(i){let[l,u]=(0,f6.useState)(!1);return(0,f6.useEffect)(()=>{let m=E=>{let T=l?200:50,P=56,L=i==="left"?E.x<T:E.x>window.innerWidth-T;L&&(L=E.y>P),u(!!L)};document.addEventListener("mousemove",m);let w=()=>{u(!1)};return document.addEventListener("mouseleave",w),()=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseleave",w)}},[l]),l}var f6,Hq=A(()=>{f6=Y(Rt())}),KT,zE,h6,Gq,Vq,Wq,Xq,SO,YT,Kq,QMe=A(()=>{KT=Y(Rt()),Lt(),Sy(),YMe(),wi(),Ze(),Hq(),zE=$n,ws(),h6="44px",Vq=Ue.div(Gq||(Gq=J([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),fs,DE.outlinePanel,h6,h6,({pin:i})=>i?"block":"none"),Wq=()=>{var i;let l=(i=vo(xe().atomP.ahistoric.pinOutline))!=null?i:!0,u=vo(Kq),m=jq("left");return(0,KT.useLayoutEffect)(()=>{SO.set(m)},[m]),(0,KT.useEffect)(()=>()=>{YT.set(!1),SO.set(!1)},[]),KT.default.createElement(Vq,{pin:l||u,onMouseEnter:()=>{YT.set(!0)},onMouseLeave:()=>{YT.set(!1)}},KT.default.createElement(Uq,null))},Xq=Wq,SO=new zE.Atom(!1),YT=new zE.Atom(!1),Kq=(0,zE.prism)(()=>{let i=(0,zE.val)(YT.prism),l=(0,zE.val)(SO.prism);return i||l})}),Yq,Qq,qq,qMe=A(()=>{Lt(),Qq=Ue.input.attrs({type:"checkbox"})(Yq||(Yq=J([`
  outline: none;
`]))),qq=Qq});function JMe({propConfig:i,editingTools:l,value:u,autoFocus:m}){let w=(0,p6.useCallback)(E=>{l.permanentlySetValue(!!E.target.checked)},[i,l]);return p6.default.createElement(Zq,{checked:u,onChange:w,autoFocus:m})}var p6,Jq,Zq,$q,ZMe=A(()=>{p6=Y(Rt()),Lt(),qMe(),Zq=Ue(qq)(Jq||(Jq=J([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),$q=JMe});function xO(i){return l=>{i.forEach(u=>{typeof u=="function"?u(l):u!=null&&(u.current=l)})}}var bO=A(()=>{});function m6(i,l,u){(0,eJ.useEffect)(()=>{if(!i||u===!1)return;let m=Array.isArray(i)?i.filter(E=>E):[i],w=E=>{m.every(T=>!E.composedPath().includes(T))&&l(E)};return window.addEventListener("mousedown",w,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",w,{capture:!0,passive:!1})}},[i,u])}var eJ,g6=A(()=>{eJ=Y(Rt())}),xy,tJ,by,nJ,rJ,iJ,oJ,v6,sJ,Qm,aJ,cm=A(()=>{xy=Y(Rt()),Lt(),tJ="pointer-root",by="--lockedCursor",rJ=Ue.div(nJ||(nJ=J([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),oJ=Ue.div(iJ||(iJ=J([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),v6=(0,xy.createContext)({}),sJ=i=>{var l,u,m,w;let[E,T]=(0,xy.useState)([]),P=(0,xy.useMemo)(()=>({getLock:(j,K)=>{let Z={className:j,cursor:K};return T(q=>[...q,Z]),()=>{T(q=>q.filter(X=>X!==Z))}}}),[]),L=(u=(l=E[0])==null?void 0:l.cursor)!=null?u:"";return xy.default.createElement(v6.Provider,{value:P},xy.default.createElement(rJ,{id:tJ,className:((w=(m=E[0])==null?void 0:m.className)!=null?w:"normal")+" "+i.className},xy.default.createElement(oJ,{style:{cursor:L,[by]:L}},i.children)))},Qm=(i,l,u)=>{let m=(0,xy.useContext)(v6);(0,xy.useLayoutEffect)(()=>{if(i)return m.getLock(l,u)},[i,l,u])},aJ=sJ});function lJ(i){return QT.default.createElement(y6.Provider,{value:i.logger},i.children)}function u_(i,l){let u=(0,QT.useContext)(y6);return(0,QT.useMemo)(()=>i?u.named(i,l):u,[u,i,l])}var QT,y6,c_=A(()=>{QT=Y(Rt()),y6=QT.default.createContext(null)});function $Me(){let i=u_("PointerCapturing"),l=$g.default.useRef(null),u=()=>l.current!=null;return m=>{let w,E=T=>(w=T,l.current=T,T);return{capturing:{capturePointer(T){if(i._debug("Capturing pointer",{forDebugName:m,reason:T}),l.current!=null)throw new Error('"'.concat(m,'" attempted capturing pointer for "').concat(T,'" while already captured by "').concat(l.current.debugOwnerName,'" for "').concat(l.current.debugReason,'"'));let P=E({debugOwnerName:m,debugReason:T});return{isCapturing(){return P===l.current},release(){return P===l.current?(i._debug("Releasing pointer",{forDebugName:m,reason:T}),E(null),!0):!1}}},isPointerBeingCaptured:u},forceRelease(){w&&l.current===w&&(i._debug("Force releasing pointer",{localCapture:w}),E(null))}}}}function eTe(i){let l=$Me();return $g.default.createElement(_6.Provider,{value:l},$g.default.createElement(cJ,{children:i.children}))}function uJ(i){let l=(0,$g.useContext)(_6),u=(0,$g.useMemo)(()=>l(i),[i,l]);return(0,$g.useEffect)(()=>()=>{u.forceRelease()},[u]),u.capturing}var $g,_6,cJ,w6=A(()=>{$g=Y(Rt()),c_(),_6=$g.default.createContext(null),cJ=$g.default.memo(({children:i})=>$g.default.createElement($g.default.Fragment,null,i))}),S6,tTe=A(()=>{S6=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function Zl(i,l){let u=(0,UE.useRef)(l);u.current=l;let m=l.shouldPointerLock&&!S6,w=(0,UE.useRef)({domDragStarted:!1}),{capturePointer:E}=uJ("useDrag for ".concat(l.debugName)),T=(0,UE.useRef)({onDrag:Zg,onDragEnd:Zg,onClick:Zg}),P=(0,UE.useRef)(),[L,j]=es(!1);return(0,UE.useLayoutEffect)(()=>{if(!i)return;let K=()=>{let fe=w.current.domDragStarted&&w.current.detection.detected;L.current!==fe&&(L.current=fe)},Z=fe=>{if(!w.current.domDragStarted)return;let ye=w.current;if(!nTe(fe,ye)&&(ye.detection.detected||(ye.detection.totalDistanceMoved+=Math.abs(fe.movementY)+Math.abs(fe.movementX),ye.detection.totalDistanceMoved>dJ&&(m&&i.requestPointerLock(),ye.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},K())),ye.detection.detected)){ye.detection.dragEventCount+=1;let{dragMovement:Oe}=ye.detection;if(m)Oe.x+=fe.movementX,Oe.y+=fe.movementY;else{let{startPos:Ie}=ye;Oe.x=fe.screenX-Ie.x,Oe.y=fe.screenY-Ie.y}T.current.onDrag(Oe.x,Oe.y,fe,fe.movementX,fe.movementY)}},q=fe=>{if(ee(),!w.current.domDragStarted)return;let ye=w.current.detection.detected;w.current={domDragStarted:!1},l.shouldPointerLock&&!S6&&document.exitPointerLock(),T.current.onDragEnd(ye),window.focus(),ye||T.current.onClick(fe),K()},X=()=>{document.addEventListener("mousemove",Z),document.addEventListener("mouseup",q)},ee=()=>{var fe;(fe=P.current)==null||fe.release(),document.removeEventListener("mousemove",Z),document.removeEventListener("mouseup",q)},$=fe=>{u.current.disabled||w.current.domDragStarted&&w.current.detection.detected&&(u.current.dontBlockMouseDown||(fe.stopPropagation(),fe.preventDefault()),w.current.detection={detected:!1,totalDistanceMoved:0},K())},re=fe=>{var ye,Oe,Ie,je;(ye=P.current)==null||ye.release();let yt=u.current;if(yt.disabled===!0||!((Oe=yt.buttons)!=null?Oe:[0]).includes(fe.button))return;let st=yt.onDragStart(fe);st!==!1&&(T.current.onDrag=st.onDrag,T.current.onDragEnd=(Ie=st.onDragEnd)!=null?Ie:Zg,T.current.onClick=(je=st.onClick)!=null?je:Zg,P.current=E("Drag start"),yt.dontBlockMouseDown||(fe.stopPropagation(),fe.preventDefault()),w.current={domDragStarted:!0,startPos:{x:fe.screenX,y:fe.screenY},detection:{detected:!1,totalDistanceMoved:0}},K(),X())},se=fe=>{re(fe)};return i.addEventListener("mousedown",se),i.addEventListener("click",$),()=>{var fe,ye;ee(),i.removeEventListener("mousedown",se),i.removeEventListener("click",$),w.current.domDragStarted&&((ye=(fe=T.current).onDragEnd)==null||ye.call(fe,w.current.detection.detected)),w.current={domDragStarted:!1},K()}},[i]),Qm(j&&!!l.lockCSSCursorTo,"dragging",l.lockCSSCursorTo),[j]}function nTe(i,l){return(!l.detection.detected||l.detection.detected&&l.detection.dragEventCount<3)&&(Math.abs(i.movementX)>x6||Math.abs(i.movementY)>x6)}var UE,dJ,x6,wc=A(()=>{UE=Y(Rt()),cm(),w6(),LE(),tTe(),_s(),dJ=3,x6=100});function rTe(i){return isNaN(i)?"NaN":Vf(i)?i.toFixed(0):CS(i,3).toString()}var fJ,hJ,Ey,pJ,EO,mJ,gJ,vJ,yJ,_J,wJ,SJ,xJ,AO,b6=A(()=>{Ya(),fJ=Y(Rt()),hJ=Y(Rt()),Ey=Y(Rt()),Lt(),bO(),_s(),g6(),wc(),EO=Ue.div(pJ||(pJ=J([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),gJ=Ue.input(mJ||(mJ=J([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),yJ=Ue.div(vJ||(vJ=J([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),EO,EO),wJ=Ue.div(_J||(_J=J([`
  display: contents;
`]))),SJ=i=>!0,xJ=i=>{var l;let[u]=es({mode:"noFocus"}),m=(l=i.isValid)!=null?l:SJ,w=(0,Ey.useRef)(i);w.current=i;let E=(0,Ey.useRef)(null);m6(E.current,()=>{E.current.blur()},u.current.mode==="editingViaKeyboard");let T=(0,Ey.useRef)(null),P=(0,Ey.useMemo)(()=>{let re=st=>{let ft=st.target,{value:It}=ft,vn=u.current;u.current=N(F({},vn),{currentEditedValueInString:It});let We=parseFloat(It);!isFinite(We)||!m(We)||w.current.temporarilySetValue(We)},se=()=>{u.current.mode==="editingViaKeyboard"&&(fe(),u.current={mode:"noFocus"}),i.onBlur&&i.onBlur()},fe=()=>{let st=u.current,ft=parseFloat(st.currentEditedValueInString);!isFinite(ft)||!m(ft)||st.valueBeforeEditing===ft?w.current.discardTemporaryValue():w.current.permanentlySetValue(ft)},ye=st=>{st.key==="Escape"?(w.current.discardTemporaryValue(),u.current={mode:"noFocus"},E.current.blur()):(st.key==="Enter"||st.key==="Tab")&&(fe(),E.current.blur())},Oe=st=>{u.current.mode==="noFocus"&&(E.current.focus(),st.preventDefault()),st.stopPropagation()},Ie=()=>{u.current.mode==="noFocus"?je():u.current.mode},je=()=>{let st=w.current.value;u.current={mode:"editingViaKeyboard",currentEditedValueInString:String(st),valueBeforeEditing:st},setTimeout(()=>{E.current.focus(),E.current.setSelectionRange(0,100)})},yt;return{inputChange:re,onBlur:se,transitionToDraggingMode:()=>{var st;let ft=w.current.value;yt=(st=E.current)==null?void 0:st.getBoundingClientRect().width,u.current={mode:"dragging"};let It=ft,vn=ft;return T.current=document.body.style.cursor,{onDrag(We,Pt,be,Ht){let hr=be.altKey?Ht/10:Ht,bt=vn+i.nudge({deltaX:hr,deltaFraction:hr/yt,magnitude:1});vn=i.range?kn(bt,i.range[0],i.range[1]):bt,w.current.temporarilySetValue(vn)},onDragEnd(We){We?(It===vn?w.current.discardTemporaryValue():w.current.permanentlySetValue(vn),u.current={mode:"noFocus"}):(w.current.discardTemporaryValue(),u.current={mode:"noFocus"})},onClick(){E.current.focus(),E.current.setSelectionRange(0,100)}}},onInputKeyDown:ye,onClick:Oe,onFocus:Ie}},[]);(0,fJ.useEffect)(()=>()=>{P.onBlur()},[]);let L=u.current.mode!=="editingViaKeyboard"?rTe(i.value):u.current.currentEditedValueInString;typeof L=="number"&&isNaN(L)&&(L="NaN");let j=[E];i.inputRef&&j.push(i.inputRef);let K=Ey.default.createElement(gJ,{key:"input",type:"text",onChange:P.inputChange,value:L,onBlur:P.onBlur,onKeyDown:P.onInputKeyDown,onClick:P.onClick,onFocus:P.onFocus,ref:xO(j),onMouseDown:re=>{re.stopPropagation()},onDoubleClick:re=>{re.preventDefault(),re.stopPropagation()},autoFocus:i.autoFocus}),{range:Z}=i,q=parseFloat(L),X=Z?Ey.default.createElement(yJ,{style:{"--percentage":kn((q-Z[0])/(Z[1]-Z[0]),0,1)}}):null,[ee,$]=(0,hJ.useState)(null);return Zl(ee,{debugName:"form/BasicNumberInput",onDragStart:P.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:u.current.mode==="editingViaKeyboard"}),Ey.default.createElement(EO,{className:i.className+" "+u.current.mode},Ey.default.createElement(wJ,{ref:$},K),X)},AO=xJ});function iTe({propConfig:i,editingTools:l,value:u,autoFocus:m}){let w=(0,E6.useCallback)(E=>i.nudgeFn(N(F({},E),{config:i})),[i]);return E6.default.createElement(AO,{value:u,temporarilySetValue:l.temporarilySetValue,discardTemporaryValue:l.discardTemporaryValue,permanentlySetValue:l.permanentlySetValue,range:i.range,nudge:w,autoFocus:m})}var E6,A6,bJ=A(()=>{b6(),E6=Y(Rt()),A6=iTe});function oTe({value:i,onChange:l,options:u,autoFocus:m}){let w=(0,qT.useCallback)(E=>{l(String(E.target.value))},[l]);return qT.default.createElement(C6,{role:"radiogroup"},Object.keys(u).map((E,T)=>qT.default.createElement(CJ,{key:"label-"+T,"data-checked":i===E},u[E],qT.default.createElement(TJ,{type:"radio",checked:i===E,value:E,onChange:w,name:"switchbox",autoFocus:m}))))}var qT,EJ,C6,AJ,CJ,MJ,TJ,PJ,sTe=A(()=>{um(),qT=Y(Rt()),Lt(),C6=Ue.form(EJ||(EJ=J([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),CJ=Ue.label(AJ||(AJ=J([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),C6,LT(.1,"white")),TJ=Ue.input(MJ||(MJ=J([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),PJ=oTe}),aTe=A(()=>{}),M6,T6,P6,kJ=A(()=>{M6=Y(Rt()),T6={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},P6=M6.default.createContext&&M6.default.createContext(T6)});function IJ(i){return i&&i.map(function(l,u){return HE.default.createElement(l.tag,Ay({key:u},l.attr),IJ(l.child))})}function jE(i){return function(l){return HE.default.createElement(lTe,Ay({attr:Ay({},i.attr)},l),IJ(i.child))}}function lTe(i){var l=function(u){var m=i.attr,w=i.size,E=i.title,T=RJ(i,["attr","size","title"]),P=w||u.size||"1em",L;return u.className&&(L=u.className),i.className&&(L=(L?L+" ":"")+i.className),HE.default.createElement("svg",Ay({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},u.attr,m,T,{className:L,style:Ay(Ay({color:i.color||u.color},u.style),i.style),height:P,width:P,xmlns:"http://www.w3.org/2000/svg"}),E&&HE.default.createElement("title",null,E),i.children)};return P6!==void 0?HE.default.createElement(P6.Consumer,null,function(u){return l(u)}):l(T6)}var HE,Ay,RJ,uTe=A(()=>{HE=Y(Rt()),kJ(),Ay=function(){return Ay=Object.assign||function(i){for(var l,u=1,m=arguments.length;u<m;u++){l=arguments[u];for(var w in l)Object.prototype.hasOwnProperty.call(l,w)&&(i[w]=l[w])}return i},Ay.apply(this,arguments)},RJ=function(i,l){var u={};for(var m in i)Object.prototype.hasOwnProperty.call(i,m)&&l.indexOf(m)<0&&(u[m]=i[m]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,m=Object.getOwnPropertySymbols(i);w<m.length;w++)l.indexOf(m[w])<0&&Object.prototype.propertyIsEnumerable.call(i,m[w])&&(u[m[w]]=i[m[w]]);return u}}),qu=A(()=>{aTe(),uTe(),kJ()}),cTe=A(()=>{qu()}),dTe=A(()=>{qu()});function fTe(i){return jE({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(i)}var hTe=A(()=>{qu()}),pTe=A(()=>{qu()}),mTe=A(()=>{qu()});function gTe(i){return jE({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(i)}function vTe(i){return jE({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(i)}var yTe=A(()=>{qu()}),_Te=A(()=>{qu()}),wTe=A(()=>{qu()}),STe=A(()=>{qu()}),xTe=A(()=>{qu()}),bTe=A(()=>{qu()}),ETe=A(()=>{qu()}),ATe=A(()=>{qu()}),CTe=A(()=>{qu()}),MTe=A(()=>{qu()});function OJ(i){return jE({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(i)}var TTe=A(()=>{qu()}),PTe=A(()=>{qu()}),kTe=A(()=>{qu()}),ITe=A(()=>{qu()});function RTe(i){return jE({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(i)}var OTe=A(()=>{qu()});function BTe(i){return jE({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(i)}var DTe=A(()=>{qu()}),GE=A(()=>{cTe(),dTe(),hTe(),pTe(),mTe(),yTe(),_Te(),wTe(),STe(),xTe(),bTe(),ETe(),ATe(),CTe(),MTe(),TTe(),PTe(),kTe(),ITe(),OTe(),DTe()});function LTe({value:i,onChange:l,options:u,className:m,autoFocus:w}){let E=(0,LS.useCallback)(T=>{l(String(T.target.value))},[l]);return LS.default.createElement(DJ,null,LS.default.createElement(zJ,{className:m,value:i,onChange:E,autoFocus:w},Object.keys(u).map((T,P)=>LS.default.createElement("option",{key:"option-"+P,value:T},u[T]))),LS.default.createElement(NJ,null,LS.default.createElement(RTe,null)))}var LS,BJ,DJ,LJ,NJ,FJ,zJ,UJ,NTe=A(()=>{LS=Y(Rt()),Lt(),GE(),DJ=Ue.div(BJ||(BJ=J([`
  width: 100%;
  position: relative;
`]))),NJ=Ue.div(LJ||(LJ=J([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),zJ=Ue.select(FJ||(FJ=J([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),UJ=LTe});function FTe({propConfig:i,editingTools:l,value:u,autoFocus:m}){let w=(0,CO.useCallback)(E=>{l.permanentlySetValue(E)},[i,l]);return i.as==="menu"?CO.default.createElement(UJ,{value:u,onChange:w,options:i.valuesAndLabels,autoFocus:m}):CO.default.createElement(PJ,{value:u,onChange:w,options:i.valuesAndLabels,autoFocus:m})}var CO,jJ,zTe=A(()=>{CO=Y(Rt()),sTe(),NTe(),jJ=FTe}),HJ,JT,GJ,VJ,WJ,XJ,MO,k6=A(()=>{Lt(),HJ=Y(Rt()),JT=Y(Rt()),bO(),_s(),g6(),VJ=Ue.input.attrs({type:"text"})(GJ||(GJ=J([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),WJ=i=>!0,XJ=i=>{var l,u;let[m]=es({mode:"noFocus"}),w=(l=i.isValid)!=null?l:WJ,E=(0,JT.useRef)(i);E.current=i;let T=(0,JT.useRef)(null);m6(T.current,()=>{T.current.blur()},m.current.mode==="editingViaKeyboard");let P=(0,JT.useMemo)(()=>{let K=se=>{let fe=se.target,{value:ye}=fe,Oe=m.current;m.current=N(F({},Oe),{currentEditedValueInString:ye}),w(ye)&&E.current.temporarilySetValue(ye)},Z=()=>{var se,fe;m.current.mode==="editingViaKeyboard"&&(q(),m.current={mode:"noFocus"}),(fe=(se=E.current).onBlur)==null||fe.call(se)},q=()=>{let se=m.current,fe=se.currentEditedValueInString;w(fe)?se.valueBeforeEditing===fe?E.current.discardTemporaryValue():E.current.permanentlySetValue(fe):E.current.discardTemporaryValue()},X=se=>{se.key==="Escape"?(E.current.discardTemporaryValue(),m.current={mode:"noFocus"},T.current.blur()):(se.key==="Enter"||se.key==="Tab")&&(q(),T.current.blur())},ee=se=>{m.current.mode==="noFocus"&&(T.current.focus(),se.preventDefault()),se.stopPropagation()},$=()=>{m.current.mode==="noFocus"?re():m.current.mode},re=()=>{let se=E.current.value;m.current={mode:"editingViaKeyboard",currentEditedValueInString:String(se),valueBeforeEditing:se},setTimeout(()=>{T.current.focus()})};return{inputChange:K,onBlur:Z,onInputKeyDown:X,onClick:ee,onFocus:$}},[]);(0,HJ.useEffect)(()=>()=>{P.onBlur()},[]);let L=m.current.mode!=="editingViaKeyboard"?i.value:m.current.currentEditedValueInString,j=[T];return i.inputRef&&j.push(i.inputRef),JT.default.createElement(VJ,{key:"input",type:"text",className:"".concat((u=i.className)!=null?u:""," ").concat(w(L)?"":"invalid"),onChange:P.inputChange,value:L,onBlur:P.onBlur,onKeyDown:P.onInputKeyDown,onClick:P.onClick,onFocus:P.onFocus,ref:xO(j),onMouseDown:K=>{K.stopPropagation()},onDoubleClick:K=>{K.preventDefault(),K.stopPropagation()},autoFocus:i.autoFocus})},MO=XJ});function UTe({editingTools:i,value:l,autoFocus:u}){return KJ.default.createElement(MO,{value:l,temporarilySetValue:i.temporarilySetValue,discardTemporaryValue:i.discardTemporaryValue,permanentlySetValue:i.permanentlySetValue,autoFocus:u})}var KJ,YJ,jTe=A(()=>{KJ=Y(Rt()),k6(),YJ=UTe});function HTe(i){i=i.trim().toLowerCase();let l=i.match(O6);if(!l)return{r:0,g:0,b:0,a:1};let u=GTe(l[1]);return{r:parseInt(u.substr(0,2),16)/255,g:parseInt(u.substr(2,2),16)/255,b:parseInt(u.substr(4,2),16)/255,a:parseInt(u.substr(6,2),16)/255}}function I6(i,{removeAlphaIfOpaque:l=!1}={}){let u=(i.a*255|256).toString(16).slice(1),m=(i.r*255|256).toString(16).slice(1)+(i.g*255|256).toString(16).slice(1)+(i.b*255|256).toString(16).slice(1)+(l&&u==="ff"?"":u);return"#".concat(m)}function R6(i){return N(F({},i),{toString(){return I6(this,{removeAlphaIfOpaque:!0})}})}function GTe(i){switch(i.length){case 3:return"".concat(i.repeat(2),"ff");case 4:let l=i.substr(0,3),u=i[3];return"".concat(l.repeat(2)).concat(u.repeat(2));case 6:return"".concat(i,"ff")}return i}var O6,QJ=A(()=>{O6=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function TO(i){let l=(0,B6.useRef)(i),u=(0,B6.useRef)(m=>{l.current&&l.current(m)});return l.current=i,u.current}var B6,qJ=A(()=>{B6=Y(Rt())}),NS,PO=A(()=>{NS=(i,l=0,u=1)=>i>u?u:i<l?l:i}),ZT,D6,JJ,L6,N6=A(()=>{ZT=Y(Rt()),D6=(0,ZT.createContext)(void 0),JJ=({children:i})=>{let[l,u]=(0,ZT.useState)(!1);return ZT.default.createElement(D6.Provider,{value:{editing:l,setEditing:u}},i)},L6=()=>(0,ZT.useContext)(D6)}),d_,VE,ZJ,kO,F6,z6,$J,eZ,tZ,nZ,$T,IO=A(()=>{d_=Y(Rt()),qJ(),PO(),Lt(),N6(),VE=i=>"touches"in i,ZJ=(i,l)=>{for(let u=0;u<i.length;u++)if(i[u].identifier===l)return i[u];return i[0]},kO=i=>i&&i.ownerDocument.defaultView||self,F6=(i,l,u)=>{let m=i.getBoundingClientRect(),w=VE(l)?ZJ(l.touches,u):l;return{left:NS((w.pageX-(m.left+kO(i).pageXOffset))/m.width),top:NS((w.pageY-(m.top+kO(i).pageYOffset))/m.height)}},z6=i=>{!VE(i)&&i.preventDefault()},$J=(i,l)=>l&&!VE(i),tZ=Ue.div(eZ||(eZ=J([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),nZ=i=>{var l=i,{onMove:u,onKey:m}=l,w=D(l,["onMove","onKey"]);let E=(0,d_.useRef)(null),T=TO(u),P=TO(m),L=(0,d_.useRef)(null),j=(0,d_.useRef)(!1),{setEditing:K}=L6(),[Z,q,X]=(0,d_.useMemo)(()=>{let ee=({nativeEvent:ye})=>{let Oe=E.current;if(Oe&&(z6(ye),!($J(ye,j.current)||!Oe))){if(VE(ye)){j.current=!0;let Ie=ye.changedTouches||[];Ie.length&&(L.current=Ie[0].identifier)}Oe.focus(),K(!0),T(F6(Oe,ye,L.current)),fe(!0)}},$=ye=>{z6(ye),(VE(ye)?ye.touches.length>0:ye.buttons>0)&&E.current?T(F6(E.current,ye,L.current)):(K(!1),fe(!1))},re=ye=>{K(!1),fe(!1)},se=ye=>{let Oe=ye.which||ye.keyCode;Oe<37||Oe>40||(ye.preventDefault(),P({left:Oe===39?.05:Oe===37?-.05:0,top:Oe===40?.05:Oe===38?-.05:0}))};function fe(ye){let Oe=j.current,Ie=E.current,je=kO(Ie),yt=ye?je.addEventListener:je.removeEventListener;yt(Oe?"touchmove":"mousemove",$),yt(Oe?"touchend":"mouseup",re)}return[ee,se,fe]},[P,T]);return(0,d_.useEffect)(()=>X,[X]),d_.default.createElement(tZ,N(F({},w),{onTouchStart:Z,onMouseDown:Z,ref:E,onKeyDown:q,tabIndex:0,role:"slider"}))},$T=d_.default.memo(nZ)}),U6,rZ,iZ,oZ,sZ,aZ,lZ,RO,j6=A(()=>{U6=Y(Rt()),Lt(),IO(),iZ=Ue($T)(rZ||(rZ=J([""]))),sZ=Ue.div(oZ||(oZ=J([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),iZ),lZ=Ue.div(aZ||(aZ=J([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),RO=({className:i,color:l,left:u,top:m=.5})=>{let w={top:"".concat(m*100,"%"),left:"".concat(u*100,"%")};return U6.default.createElement(sZ,{style:w,className:i},U6.default.createElement(lZ,{style:{backgroundColor:l}}))}}),Kf,OO=A(()=>{Kf=(i,l=0,u=Math.pow(10,l))=>Math.round(u*i)/u}),H6,BO,DO,uZ,cZ,LO=A(()=>{OO(),H6=({h:i,s:l,v:u,a:m})=>{let w=(200-l)*u/100;return{h:Kf(i),s:Kf(w>0&&w<200?l*u/100/(w<=100?w:200-w)*100:0),l:Kf(w/2),a:Kf(m,2)}},BO=i=>{let{h:l,s:u,l:m}=H6(i);return"hsl(".concat(l,", ").concat(u,"%, ").concat(m,"%)")},DO=i=>{let{h:l,s:u,l:m,a:w}=H6(i);return"hsla(".concat(l,", ").concat(u,"%, ").concat(m,"%, ").concat(w,")")},uZ=({h:i,s:l,v:u,a:m})=>{i=i/360*6,l=l/100,u=u/100;let w=Math.floor(i),E=u*(1-l),T=u*(1-(i-w)*l),P=u*(1-(1-i+w)*l),L=w%6;return{r:Kf([u,T,E,E,P,u][L]*255),g:Kf([P,u,u,T,E,E][L]*255),b:Kf([E,E,P,u,u,T][L]*255),a:Kf(m,2)}},cZ=({r:i,g:l,b:u,a:m})=>{let w=Math.max(i,l,u),E=w-Math.min(i,l,u),T=E?w===i?(l-u)/E:w===l?2+(u-i)/E:4+(i-l)/E:0;return{h:Kf(60*(T<0?T+6:T)),s:Kf(w?E/w*100:0),v:Kf(w/255*100),a:m}}}),eP,dZ,fZ,hZ,pZ,mZ,gZ,VTe=A(()=>{eP=Y(Rt()),IO(),j6(),LO(),PO(),OO(),Lt(),fZ=Ue.div(dZ||(dZ=J([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),pZ=Ue(RO)(hZ||(hZ=J([`
  z-index: 2;
`]))),mZ=({className:i,hue:l,onChange:u})=>eP.default.createElement(fZ,{className:i},eP.default.createElement($T,{onMove:m=>{u({h:360*m.left})},onKey:m=>{u({h:NS(l+m.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":Kf(l)},eP.default.createElement(pZ,{left:l/360,color:BO({h:l,s:100,v:100,a:1})}))),gZ=eP.default.memo(mZ)}),tP,vZ,yZ,_Z,wZ,SZ,xZ,WTe=A(()=>{tP=Y(Rt()),IO(),j6(),LO(),PO(),OO(),Lt(),yZ=Ue.div(vZ||(vZ=J([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),wZ=Ue(RO)(_Z||(_Z=J([`
  z-index: 3;
`]))),SZ=({hsva:i,onChange:l})=>{let u=E=>{l({s:E.left*100,v:100-E.top*100})},m=E=>{l({s:NS(i.s+E.left*100,0,100),v:NS(i.v-E.top*100,0,100)})},w={backgroundColor:BO({h:i.h,s:100,v:100,a:1})};return tP.default.createElement(yZ,{style:w},tP.default.createElement($T,{onMove:u,onKey:m,"aria-label":"Color","aria-valuetext":"Saturation ".concat(Kf(i.s),"%, Brightness ").concat(Kf(i.v),"%")},tP.default.createElement(wZ,{top:1-i.v/100,left:i.s/100,color:BO(i)})))},xZ=tP.default.memo(SZ)}),nP,bZ,EZ,AZ,CZ,MZ,TZ,PZ,XTe=A(()=>{nP=Y(Rt()),IO(),j6(),LO(),PO(),OO(),Lt(),EZ=Ue.div(bZ||(bZ=J([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),CZ=Ue.div.attrs(({colorFrom:i,colorTo:l})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(i,", ").concat(l,")")}}))(AZ||(AZ=J([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),TZ=Ue(RO)(MZ||(MZ=J([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),PZ=({className:i,hsva:l,onChange:u})=>{let m=P=>{u({a:P.left})},w=P=>{u({a:NS(l.a+P.left)})},E=DO(Object.assign({},l,{a:0})),T=DO(Object.assign({},l,{a:1}));return nP.default.createElement(EZ,{className:i},nP.default.createElement(CZ,{colorFrom:E,colorTo:T}),nP.default.createElement($T,{onMove:m,onKey:w,"aria-label":"Alpha","aria-valuetext":"".concat(Kf(l.a*100),"%")},nP.default.createElement(TZ,{left:l.a,color:DO(l)})))}}),NO,kZ=A(()=>{NO=(i,l)=>{if(i===l)return!0;for(let u in i)if(i[u]!==l[u])return!1;return!0}});function KTe(i,l,u,m){let{editing:w}=L6(),[E,T]=(0,Cy.useState)(l),P=TO(u),L=TO(m),j=w?E:l,[K,Z]=(0,Cy.useState)(()=>i.toHsva(j)),q=(0,Cy.useRef)({color:j,hsva:K}),X=(0,Cy.useRef)({color:j,hsva:K});(0,Cy.useEffect)(()=>{w&&T(q.current.color)},[w]),(0,Cy.useEffect)(()=>{let $=i.fromHsva(K);w?!NO(K,q.current.hsva)&&!i.equal($,q.current.color)&&(q.current={hsva:K,color:$},T($),P($)):!NO(K,X.current.hsva)&&!i.equal($,X.current.color)&&(X.current={hsva:K,color:$},q.current={hsva:K,color:$},L($))},[w,K,i,P,L]),(0,Cy.useEffect)(()=>{if(!w&&!i.equal(j,X.current.color)){let $=i.toHsva(j);X.current={hsva:$,color:j},Z($)}},[w,j,i]);let ee=(0,Cy.useCallback)($=>{Z(re=>Object.assign({},re,$))},[]);return[K,ee]}var Cy,YTe=A(()=>{Cy=Y(Rt()),kZ(),qJ(),N6()}),WE,IZ,RZ,OZ,QTe=A(()=>{WE=Y(Rt()),VTe(),WTe(),XTe(),YTe(),Lt(),RZ=Ue.div(IZ||(IZ=J([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),OZ=i=>{var l=i,{className:u,colorModel:m,color:w=m.defaultColor,temporarilySetValue:E,permanentlySetValue:T,discardTemporaryValue:P}=l,L=D(l,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[j,K]=KTe(m,w,E,T);return(0,WE.useEffect)(()=>()=>{P()},[]),WE.default.createElement(RZ,F({},L),WE.default.createElement(xZ,{hsva:j,onChange:K}),WE.default.createElement(gZ,{hue:j.h,onChange:K}),WE.default.createElement(PZ,{hsva:j,onChange:K}))}}),G6,BZ,DZ,LZ,NZ,qTe=A(()=>{G6=Y(Rt()),QTe(),kZ(),LO(),N6(),BZ=i=>({r:i.r/255,g:i.g/255,b:i.b/255,a:i.a}),DZ=i=>({r:i.r*255,g:i.g*255,b:i.b*255,a:i.a}),LZ={defaultColor:{r:0,g:0,b:0,a:1},toHsva:i=>cZ(DZ(i)),fromHsva:i=>BZ(uZ(i)),equal:NO},NZ=i=>G6.default.createElement(JJ,null,G6.default.createElement(OZ,N(F({},i),{permanentlySetValue:l=>{i.permanentlySetValue(l)},colorModel:LZ})))}),JTe=A(()=>{qTe()}),FZ,zZ,UZ,ZTe=A(()=>{FZ=Y(Rt()),zZ=function(i){(0,FZ.useEffect)(i,[])},UZ=zZ}),jZ,HZ,GZ,$Te=A(()=>{jZ=Y(Rt()),ZTe(),HZ=function(i){var l=(0,jZ.useRef)(i);l.current=i,UZ(function(){return function(){return l.current()}})},GZ=HZ}),FO,VZ,WZ,ePe=A(()=>{FO=Y(Rt()),$Te(),VZ=function(i){var l=(0,FO.useRef)(0),u=(0,FO.useState)(i),m=u[0],w=u[1],E=(0,FO.useCallback)(function(T){cancelAnimationFrame(l.current),l.current=requestAnimationFrame(function(){w(T)})},[]);return GZ(function(){cancelAnimationFrame(l.current)}),[m,E]},WZ=VZ});function tPe(i){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];i&&i.addEventListener&&i.addEventListener.apply(i,l)}function nPe(i){for(var l=[],u=1;u<arguments.length;u++)l[u-1]=arguments[u];i&&i.removeEventListener&&i.removeEventListener.apply(i,l)}var zO,rPe=A(()=>{zO=typeof window<"u"}),XZ,KZ,UO,V6=A(()=>{XZ=Y(Rt()),ePe(),rPe(),KZ=function(i,l){i===void 0&&(i=1/0),l===void 0&&(l=1/0);var u=WZ({width:zO?window.innerWidth:i,height:zO?window.innerHeight:l}),m=u[0],w=u[1];return(0,XZ.useEffect)(function(){if(zO){var E=function(){w({width:window.innerWidth,height:window.innerHeight})};return tPe(window,"resize",E),function(){nPe(window,"resize",E)}}},[]),m},UO=KZ});function W6(i){let[l,u]=(0,X6.useState)(null);return(0,X6.useLayoutEffect)(()=>(i&&u(i.getBoundingClientRect()),()=>{u(null)}),[i]),l}var X6,YZ=A(()=>{X6=Y(Rt())}),QZ,qZ,K6,JZ=A(()=>{QZ=Y(Rt()),qZ=(0,QZ.createContext)({}),K6=qZ});function iPe(i,l,u){let m=i.getBoundingClientRect(),w=E=>{(E.clientX<m.left-l||E.clientX>m.left+m.width+l||E.clientY<m.top-l||E.clientY>m.top+m.height+l)&&u(E)};return window.addEventListener("mousemove",w),()=>{window.removeEventListener("mousemove",w)}}var oPe=A(()=>{}),ZZ,jO,Y6,$Z,Q6,e$=A(()=>{ZZ=Y(Rt()),jO=Y(Rt()),V6(),YZ(),JZ(),_s(),g6(),oPe(),LE(),Ya(),Y6=8,$Z=i=>{var l,u;let m=i.children(),[w,E]=es(null),T=m.props.style?F({},m.props.style):{};T.position="absolute";let P=W6(E),L=W6(i.target),j=UO(),[K,Z]=(0,jO.useState)({});return(0,jO.useLayoutEffect)(()=>{var q,X,ee;if(!P||!E||!L)return;let $=(q=i.verticalGap)!=null?q:8,re={},se=(X=i.verticalPlacement)!=null?X:"bottom",fe=0,ye=0;se==="bottom"?L.bottom+P.height+$<j.height?(se="bottom",fe=L.bottom+$,re.top="0px"):L.top>P.height+$?(se="top",fe=L.top-(P.height+$),re.bottom="0px",re.transform="rotateZ(180deg)"):se="overlay":se==="top"&&(L.top>P.height+$?(se="top",fe=L.top-(P.height+$),re.bottom="0px",re.transform="rotateZ(180deg)"):L.bottom+P.height+$<j.height?(se="bottom",fe=L.bottom+$,re.top="0px"):se="overlay");let Oe=0;if(se!=="overlay"){let It=L.left+L.width/2;It<P.width/2?(ye=$,Oe=Math.max(It-$,Y6)):It+P.width/2>j.width?(ye=j.width-($+P.width),Oe=Math.min(It-ye,P.width-Y6)):(ye=It-P.width/2,Oe=P.width/2),re.left=Oe+"px"}let{minX:Ie=-1/0,maxX:je=1/0,minY:yt=-1/0,maxY:st=1/0}=(ee=i.constraints)!=null?ee:{},ft={left:kn(ye,Ie,je-P.width),top:kn(fe,yt,st+P.height)};if(E.style.left=ft.left+"px",E.style.top=ft.top+"px",Z(re),i.onPointerOutside)return iPe(E,i.onPointerOutside.threshold,i.onPointerOutside.callback)},[P,E,i.target,L,j,i.onPointerOutside]),m6([E,(l=i.target)!=null?l:null],(u=i.onClickOutside)!=null?u:Zg),ZZ.default.createElement(K6.Provider,{value:K},(0,jO.cloneElement)(m,{ref:w,style:T}))},Q6=$Z});function Z0(i,l){let u=(...X)=>{},{isPointerBeingCaptured:m}=uJ("usePopover"),[w,E]=es({isOpen:!1}),T=(0,Yf.useRef)(i),P=(0,Yf.useCallback)(X=>{w.current={isOpen:!1}},[]),L=(0,Yf.useCallback)((X,ee)=>{var $;let re=typeof T.current=="function"?T.current():T.current;function se(){K.childHasFocusRef.current||re.closeOnClickOutside!==!1&&P("clicked outside popover")}w.current={isOpen:!0,clickPoint:{clientX:X.clientX,clientY:X.clientY},target:ee,opts:re,onClickOutside:se,onPointerOutside:re.closeWhenPointerIsDistant===!1?void 0:{threshold:($=re.pointerDistanceThreshold)!=null?$:100,callback:()=>{K.childHasFocusRef.current||m()||P("pointer outside")}}}},[]),j=(0,Yf.useCallback)((...X)=>{w.current.isOpen?P("toggled"):L(...X)},[]),K=sPe({_debug:u,state:E}),[,Z]=(0,Yf.useContext)(kP);(0,Yf.useEffect)(()=>{let X;return E.isOpen&&(X=Z()),()=>X==null?void 0:X()},[E.isOpen]);let q=(0,Yf.useContext)(OE);return{node:E.isOpen?(0,t$.createPortal)(Yf.default.createElement(q6.Provider,{value:K.childPopoverLock},Yf.default.createElement(Q6,{children:l,target:E.target,onClickOutside:E.onClickOutside,onPointerOutside:E.onPointerOutside,constraints:E.opts.constraints,verticalGap:E.opts.verticalGap})),q):Yf.default.createElement(Yf.default.Fragment,null),open:L,close:P,toggle:j,isOpen:E.isOpen}}function sPe(i){let l=(0,Yf.useContext)(q6);(0,Yf.useEffect)(()=>{if(i.state.isOpen){let m=l.takeFocus();return i._debug("take focus"),()=>{i._debug("release focus"),m.releaseFocus()}}},[i.state.isOpen]);let u=(0,Yf.useRef)(!1);return{childHasFocusRef:u,childPopoverLock:{takeFocus(){return u.current=!0,{releaseFocus(){u.current=!1}}}}}}var Yf,t$,q6,$0=A(()=>{w6(),_s(),Yf=Y(Rt()),t$=Y(Gg()),DS(),e$(),z8(),q6=Yf.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),My,n$,r$,i$,o$,s$,a$,l$,u$,c$,d$,f$,h$,aPe=A(()=>{My=Y(Rt()),Lt(),JZ(),r$=Ue.div(n$||(n$=J([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),o$=Ue.div(i$||(i$=J([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),a$=Ue.path(s$||(s$=J([`
  fill: var(--popover-bg);
`]))),u$=Ue.path(l$||(l$=J([`
  fill: var(--popover-inner-stroke);
`]))),d$=Ue.path(c$||(c$=J([`
  fill: var(--popover-outer-stroke);
`]))),f$=(0,My.forwardRef)(({className:i},l)=>{let u=(0,My.useContext)(K6);return My.default.createElement(r$,{className:i,ref:l,style:F({},u)},My.default.createElement(o$,null,My.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},My.default.createElement(d$,{d:"M6 0L0 6H12L6 0Z"}),My.default.createElement(u$,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),My.default.createElement(a$,{d:"M6 3L0 9H12L6 3Z"}))))}),h$=f$}),HO,J6,p$,m$,g$,ev,tv=A(()=>{ws(),um(),HO=Y(Rt()),Lt(),aPe(),J6=Jg(.05,"#2a2a31"),m$=Ue.div(p$||(p$=J([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),J6,fs),g$=HO.default.forwardRef(({children:i,className:l,showPopoverEdgeTriangle:u=!0},m)=>HO.default.createElement(m$,{className:l,ref:m},u?HO.default.createElement(h$,null):void 0,i)),ev=g$});function lPe({editingTools:i,value:l,autoFocus:u}){let m=(0,nv.useRef)(null),w=(0,nv.useCallback)(T=>{let P=R6(HTe(T));i.permanentlySetValue(P)},[i]),E=Z0({debugName:"RgbaPropEditor"},()=>nv.default.createElement(E$,null,nv.default.createElement(NZ,{color:{r:l.r,g:l.g,b:l.b,a:l.a},temporarilySetValue:T=>{let P=R6(T);i.temporarilySetValue(P)},permanentlySetValue:T=>{let P=R6(T);i.permanentlySetValue(P)},discardTemporaryValue:i.discardTemporaryValue})));return nv.default.createElement(nv.default.Fragment,null,nv.default.createElement(y$,null,nv.default.createElement(w$,{rgbaColor:l,ref:m,onClick:T=>{E.toggle(T,m.current)}}),nv.default.createElement(x$,{value:I6(l,{removeAlphaIfOpaque:!0}),temporarilySetValue:Z6,discardTemporaryValue:Z6,permanentlySetValue:w,isValid:T=>!!T.match(O6),autoFocus:u})),E.node)}var nv,v$,y$,_$,w$,S$,x$,Z6,b$,E$,A$,uPe=A(()=>{QJ(),QJ(),nv=Y(Rt()),JTe(),Lt(),$0(),k6(),tv(),y$=Ue.div(v$||(v$=J([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),w$=Ue.div.attrs(i=>({style:{background:I6(i.rgbaColor)}}))(_$||(_$=J([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),x$=Ue(MO)(S$||(S$=J([`
  flex: 1;
`]))),Z6=()=>{},E$=Ue.div(b$||(b$=J([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),J6),A$=lPe});function cPe({propConfig:i,editingTools:l,value:u,autoFocus:m}){let[w,E]=e0.default.useState();(0,e0.useEffect)(()=>{E(u?l.getAssetUrl(u):void 0)},[u]);let T=(0,e0.useCallback)(L=>Se(this,null,function*(){let j=L.target.files[0];l.permanentlySetValue({type:"image",id:void 0});let K=yield l.createAsset(j);K?l.permanentlySetValue({type:"image",id:K}):l.permanentlySetValue(u),L.target.value=null}),[l,u]),P=!(u!=null&&u.id);return e0.default.createElement($6,{empty:P},e0.default.createElement(R$,{empty:P,title:P?"Upload image":'"'.concat(u.id,'" (Click to upload new image)')},e0.default.createElement(B$,{type:"file",onChange:T,accept:"image/*,.hdr",autoFocus:m}),w?e0.default.createElement(L$,{src:w}):e0.default.createElement(T$,null)),!P&&e0.default.createElement(F$,{title:"Delete image",onClick:()=>{l.permanentlySetValue({type:"image",id:void 0})}},e0.default.createElement(s6,null)))}var e0,C$,$6,M$,T$,P$,k$,I$,R$,O$,B$,D$,L$,N$,F$,z$,dPe=A(()=>{VT(),e0=Y(Rt()),Lt(),$6=Ue.div(C$||(C$=J([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),T$=Ue.div(M$||(M$=J([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),R$=Ue.label(I$||(I$=J([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),i=>i.empty?Zd(P$||(P$=J([""]))):Zd(k$||(k$=J([""])))),B$=Ue.input.attrs({type:"file"})(O$||(O$=J([`
  display: none;
`]))),L$=Ue.img(D$||(D$=J([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),F$=Ue.button(N$||(N$=J([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),$6),z$=cPe});function fPe({propConfig:i,editingTools:l,value:u,autoFocus:m}){let[w,E]=t0.default.useState();(0,t0.useEffect)(()=>{E(u?l.getAssetUrl(u):void 0)},[u]);let T=(0,t0.useCallback)(L=>Se(this,null,function*(){let j=L.target.files[0];l.permanentlySetValue({type:"file",id:void 0});let K=yield l.createAsset(j);K?l.permanentlySetValue({type:"file",id:K}):l.permanentlySetValue(u),L.target.value=null}),[l,u]),P=!(u!=null&&u.id);return t0.default.createElement(e8,{empty:P},t0.default.createElement(X$,{empty:P,title:P?"Upload file":'"'.concat(u.id,'" (Click to upload new file)')},t0.default.createElement(Y$,{type:"file",onChange:T,autoFocus:m}),w?t0.default.createElement(r6,null):t0.default.createElement(H$,null)),!P&&t0.default.createElement(q$,{title:"Delete file",onClick:()=>{l.permanentlySetValue({type:"file",id:void 0})}},t0.default.createElement(s6,null)))}var t0,U$,e8,j$,H$,G$,V$,W$,X$,K$,Y$,Q$,q$,J$,hPe=A(()=>{VT(),t0=Y(Rt()),Lt(),e8=Ue.div(U$||(U$=J([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),H$=Ue.div(j$||(j$=J([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),X$=Ue.label(W$||(W$=J([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),i=>i.empty?Zd(G$||(G$=J([""]))):Zd(V$||(V$=J([""])))),Y$=Ue.input.attrs({type:"file"})(K$||(K$=J([`
  display: none;
`]))),q$=Ue.button(Q$||(Q$=J([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),e8),J$=fPe}),t8,Z$=A(()=>{ZMe(),bJ(),zTe(),jTe(),uPe(),dPe(),hPe(),t8={number:A6,string:YJ,boolean:$q,stringLiteral:jJ,rgba:A$,image:z$,file:J$}});function rP(i){let l=new WeakMap;return u=>(l.has(u)||l.set(u,i(u)),l.get(u))}var GO=A(()=>{});function rv(i){return i.type==="compound"||i.type==="enum"}function VO(i,l){if(!i)return;let[u,...m]=l;if(u===void 0)return i;if(!rv(i))return;let w=i.type==="enum"?i.cases[u]:i.props[u];return VO(w,m)}function WO(i,l){let u=l.deserializeAndSanitize(i);return u===void 0?l.default:u}function pPe(i){return!rv(i)}function*iP(i,l){if(i.type==="compound")for(let u in i.props)yield*_t(iP(i.props[u],[...l,u]));else{if(i.type==="enum")throw new Error("Not implemented yet");return yield{path:l,conf:i}}}var n8,f_=A(()=>{GO(),n8=rP(i=>{if(i.type==="enum")throw new Error("Not implemented yet for enums");for(let l in i.props){let u=i.props[l];if(rv(u)){if(n8(u))return!0}else return!0}return!1})}),r8,$$=A(()=>{r8="calc(var(--left-pad) + var(--depth) * var(--step))"}),e2,h_,FS=A(()=>{Lt(),h_=Zd(e2||(e2=J([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),i=>i.isHighlighted==="self"?"#CCC":"#919191")}),oP,XO,t2,n2,r2,i2,o2,s2,a2=A(()=>{LE(),oP=Y(Rt()),Lt(),XO=26,n2=Ue.li(t2||(t2=J([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),XO,i=>i.enabled?"white":"#8f8f8f",i=>i.enabled?"normal":"not-allowed",i=>i.enabled?"rgba(63, 174, 191, 0.75)":"initial"),i2=Ue.span(r2||(r2=J([""]))),o2=i=>oP.default.createElement(n2,{onClick:i.enabled?i.onClick:Zg,enabled:i.enabled,title:i.enabled?void 0:"Disabled"},oP.default.createElement(i2,null,oP.default.createElement(oP.default.Fragment,null,i.label))),s2=o2});function mPe(i){let l=(0,i8.useRef)(i);l.current=i,(0,i8.useEffect)(()=>{let u=m=>l.current(m);return window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}},[])}var i8,gPe=A(()=>{i8=Y(Rt())}),sP,l2,u2,c2,d2,f2,h2,p2,o8,m2=A(()=>{sP=Y(Rt()),a2(),Lt(),um(),ws(),l2=190,u2=!0,d2=Ue.ul(c2||(c2=J([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),l2,Jg(.2,"#111"),fs),h2=Ue.div(f2||(f2=J([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),p2=sP.default.forwardRef((i,l)=>sP.default.createElement(d2,{ref:l},u2&&i.displayName?sP.default.createElement(h2,null,i.displayName):null,i.items.map((u,m)=>sP.default.createElement(s2,{key:"item-".concat(m),label:u.label,enabled:u.enabled!==!1,onClick:w=>{u.callback&&u.callback(w),i.onRequestClose()}})))),o8=p2}),g2,v2,KO,y2,aP,_2,w2,vPe=A(()=>{YZ(),g2=Y(Rt()),v2=Y(Rt()),KO=Y(Rt()),y2=Y(Gg()),V6(),a2(),DS(),gPe(),m2(),aP=20,_2=i=>{let[l,u]=(0,KO.useState)(null),m=W6(l),w=UO();(0,KO.useLayoutEffect)(()=>{if(!m||!l)return;let P={left:m.width/2,top:XO/2+(i.displayName?XO:0)},L={left:i.clickPoint.clientX-P.left,top:i.clickPoint.clientY-P.top};L.left<0?L.left=0:L.left+m.width>w.width&&(L.left=w.width-m.width),L.top<0?L.top=0:L.top+m.height>w.height&&(L.top=w.height-m.height),l.style.left=L.left+"px",l.style.top=L.top+"px";let j=K=>{(K.clientX<L.left-aP||K.clientX>L.left+m.width+aP||K.clientY<L.top-aP||K.clientY>L.top+m.height+aP)&&i.onRequestClose()};return window.addEventListener("mousemove",j),()=>{window.removeEventListener("mousemove",j)}},[m,l,i.clickPoint,w,i.onRequestClose]);let E=(0,v2.useContext)(OE);mPe(P=>{P.key==="Escape"&&i.onRequestClose()});let T=(0,g2.useMemo)(()=>{let P=Array.isArray(i.items)?i.items:i.items();return P.length>0?P:[{label:i.displayName?"No actions for ".concat(i.displayName):"No actions found",enabled:!1}]},[i.items]);return(0,y2.createPortal)(KO.default.createElement(o8,{items:T,onRequestClose:i.onRequestClose,displayName:i.displayName,ref:u}),E)},w2=_2}),YO,S2,x2,yPe=A(()=>{YO=Y(Rt()),S2=(i,l)=>{let[u,m]=(0,YO.useState)({isOpen:!1}),w=(0,YO.useCallback)(()=>m({isOpen:!1}),[]);return(0,YO.useEffect)(()=>{if(!i||l.disabled===!0){m({isOpen:!1});return}let E=T=>{m({isOpen:!0,event:T}),T.preventDefault(),T.stopPropagation()};return i.addEventListener("contextmenu",E),()=>{i.removeEventListener("contextmenu",E)}},[i,l.disabled]),[u,w]},x2=S2});function Oh(i,l){let[u,m]=x2(i,l),[,w]=(0,XE.useContext)(kP);return(0,XE.useEffect)(()=>{var E;let T;return u.isOpen&&((E=l.onOpen)==null||E.call(l),T=w()),()=>T==null?void 0:T()},[u.isOpen,l.onOpen]),[u.isOpen?XE.default.createElement(w2,{items:l.menuItems,displayName:l.displayName,clickPoint:u.event,onRequestClose:m}):b2,m,u.isOpen]}var XE,b2,Bh=A(()=>{XE=Y(Rt()),vPe(),yPe(),z8(),b2=XE.default.createElement(XE.default.Fragment,null)});function p_(i,l){return l.length===0?i:Kd(i,l)}var QO=A(()=>{Ch()});function E2(i,l){return i==null?null:i instanceof Element&&i.matches(l)?i:E2(i.parentElement,l)}var _Pe=A(()=>{});function lP(i,l){let u=i;for(let m of l)u=u[m];return u}var qO=A(()=>{});function wPe(i){let l=new JO.Atom(void 0),u=new JO.Atom({}),m=new JO.Atom({}),w=0;return{addRelatedFlags(E,T){let P=String(++w),L=T.map(j=>{let K={flag:j.flag},Z=[j.affects,E,P];return m.setByPointer(q=>lP(q,Z),K),Z});return()=>{for(let j of L)m.setByPointer(K=>lP(K,j),void 0)}},usePresenceFlag(E){if(!i.enabled)return;let T=(0,uP.useMemo)(()=>{if(!E)return a8;let P=l.prism,L=(0,cP.pointerToPrism)(u.pointer[E]),j=(0,cP.pointerToPrism)(m.pointer[E]);return(0,cP.prism)(()=>{if(L.getValue())return 2;{let K=j.getValue(),Z=P.getValue(),q=K&&Z&&K[Z];if(q){let X;for(let ee of Object.values(q))ee&&(X&&X>=ee.flag||(X=ee.flag));return X}return}})},[E]);return dE(T)},setUserHover(E){let T=l.get();T!==E&&(T&&u.setByPointer(P=>P[T],!1),l.set(E),E&&u.setByPointer(P=>P[E],!0))}}}function zS(i){let l=uP.default.useContext(l8),u=l.usePresenceFlag(i);return{attrs:{[ZO]:i},flag:u,useRelations(m,w){(0,s8.useEffect)(()=>i&&l.addRelatedFlags(i,m()),[i,...w])}}}function A2(i){let l=uP.default.useContext(l8),u=u_("PresenceListeners");(0,s8.useEffect)(()=>{let m;if(!i)return;let w=E=>{if(E.target instanceof Node){let T=E2(E.target,"[".concat(ZO,"]"));if(T){let P=T.getAttribute(ZO);m!==P&&(m=P,l.setUserHover(P||void 0),u._debug("Updated current hover",{itemKey:P}));return}m!=null&&(m=null,l.setUserHover(void 0),u._debug("Cleared current hover"))}};return i.addEventListener("mouseover",w),()=>{i.removeEventListener("mouseover",w),m!=null&&(m=null,u._debug("Cleared current hover as part of cleanup"))}},[i,l])}var uP,s8,cP,JO,a8,l8,ZO,US=A(()=>{uP=Y(Rt()),s8=Y(Rt()),c_(),cP=$n,JO=$n,wi(),_Pe(),qO(),a8=(0,cP.prism)(()=>{}),a8.keepHot(),l8=uP.default.createContext(wPe({enabled:!1})),ZO="data-pi-key"}),ef,C2,dP,M2,u8,m_,T2,c8,P2,k2,I2,$O,R2,O2,B2,D2,L2,N2,fP,F2,d8,eB=A(()=>{ws(),um(),ef=Y(Rt()),Lt(),US(),dP=Ue.div(C2||(C2=J([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),Jg(.2,"black")),u8=Ue.div(M2||(M2=J([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),dP),m_={offColor:"#555",onColor:"#e0c917"},c8=Ue(u8)(T2||(T2=J([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),i=>i.presence===2?"white":i.isOn?m_.onColor:m_.offColor),k2=Zd(P2||(P2=J([`
  pointer-events: none !important;
`]))),$O=Ue(u8)(I2||(I2=J([`
  color: `,`;

  `,`;
`])),i=>i.flag===2?"white":i.available?m_.onColor:m_.offColor,i=>i.available?fs:k2),O2=Ue($O)(R2||(R2=J([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),dP),D2=Ue($O)(B2||(B2=J([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),dP),(i=>{let l=Ue.g(L2||(L2=J([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),$O);i.Prev=()=>ef.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ef.default.createElement(l,{transform:"translate(6 3)"},ef.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),i.Next=()=>ef.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ef.default.createElement(l,{transform:"translate(1 3)"},ef.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let u=Ue.g(N2||(N2=J([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),c8);i.Cur=()=>ef.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ef.default.createElement(u,{transform:"translate(1 4)"},ef.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(fP||(fP={})),F2=i=>{var l,u,m,w,E;let T=zS((l=i.prev)==null?void 0:l.itemKey),P=zS(((u=i.cur)==null?void 0:u.type)==="on"?i.cur.itemKey:void 0),L=zS((m=i.next)==null?void 0:m.itemKey);return ef.default.createElement(dP,null,ef.default.createElement(O2,F({available:!!i.prev,onClick:(w=i.prev)==null?void 0:w.jump,flag:T.flag},T.attrs),ef.default.createElement(fP.Prev,null)),ef.default.createElement(c8,F({isOn:i.cur.type==="on",onClick:i.cur.toggle,presence:P.flag},P.attrs),ef.default.createElement(fP.Cur,null)),ef.default.createElement(D2,F({available:!!i.next,onClick:(E=i.next)==null?void 0:E.jump,flag:L.flag},L.attrs),ef.default.createElement(fP.Next,null)))},d8=F2}),tB,hP,z2,U2,j2,H2,G2,V2,W2,pP,X2=A(()=>{um(),tB=Y(Rt()),Lt(),Ze(),eB(),f_(),hP={defaultState:{color:Jg(.95,"#C4C4C4"),hoverColor:Jg(.15,m_.onColor)},withStaticOverride:{color:Jg(.85,"#C4C4C4"),hoverColor:Jg(.15,m_.onColor)}},U2=Ue.div(z2||(z2=J([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),i=>i.hasStaticOverride?hP.withStaticOverride.color:hP.defaultState.color,i=>i.hasStaticOverride?hP.withStaticOverride.hoverColor:hP.defaultState.hoverColor),H2=Ue.div(j2||(j2=J([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),V2=Ue.div(G2||(G2=J([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),W2=i=>{let{hasStaticOverride:l,obj:u,propConfig:m,pathToProp:w}=i;return tB.default.createElement(U2,{hasStaticOverride:l,onClick:()=>{xe().transaction(({stateEditors:E})=>{for(let{path:T,conf:P}of iP(m,w)){if(rv(P))continue;let L=N(F({},u.address),{pathToProp:T});E.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(L,m)}})},title:"Sequence this prop"},l?tB.default.createElement(V2,{title:"The default value is overridden"}):tB.default.createElement(H2,{title:"This is the default value for this prop"}))},pP=W2});function mP(i){return JSON.stringify(f8(i))}function f8(i){return S(i)?Object.keys(i).sort().reduce((l,u)=>(l[u]=f8(i[u]),l),{}):Array.isArray(i)?i.map(f8):i}var SPe=A(()=>{Ya()}),K2,gP,Y2=A(()=>{K2="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",gP=(i=21)=>{let l="",u=i;for(;u--;)l+=K2[Math.random()*64|0];return l}});function Q2(){return gP(10)}function xPe(){return gP(10)}function bPe(){return gP(10)}var Vc,Ty=A(()=>{SPe(),Y2(),Vc={forSheet(){return"sheet"},forSheetObject(i){return mP({o:i.address.objectKey})},forSheetObjectProp(i,l){return mP({o:i.address.objectKey,p:l})},forTrackKeyframe(i,l,u){return mP({o:i.address.objectKey,t:l,k:u})},forSheetObjectAggregateKeyframe(i,l){return Vc.forCompoundPropAggregateKeyframe(i,[],l)},forSheetAggregateKeyframe(i,l){return mP({o:i.address.sheetId,pos:l})},forCompoundPropAggregateKeyframe(i,l,u){return mP({o:i.address.objectKey,p:l,pos:u})}}});function q2(i,l,u){if(!l||l.data.keyframes.length===0)return J2;let m=h8.get(l.data);if(m&&m[0]===u)return m[1];function w(T){if(!l)return;let P=l.data.keyframes[T];return P&&{kf:P,track:l,itemKey:Vc.forTrackKeyframe(i,l.id,P.id)}}let E=(()=>{let T=l.data.keyframes.findIndex(L=>L.position>=u);if(T===-1)return{prev:w(l.data.keyframes.length-1)};let P=w(T);return P.kf.position===u?{prev:w(T-1),cur:P,next:w(T+1)}:{next:P,prev:w(T-1)}})();return h8.set(l.data,[u,E]),E}var h8,J2,Z2=A(()=>{Ty(),h8=new WeakMap,J2={}}),p8,$2=A(()=>{p8={}});function EPe(i,l,u){let m=(0,qm.getPointerParts)(i).path;return io(()=>{if(!n8(u))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:jS.default.createElement(pP,{hasStaticOverride:!1,obj:l,pathToProp:m,propConfig:u})};let w=!!(0,qm.val)(Kd(xe().atomP.ephemeral.projects.stateByProjectId[l.address.projectId].stateBySheetId[l.address.sheetId].stateByObjectKey[l.address.objectKey].valuesBeingScrubbed,(0,qm.getPointerParts)(i).path)),E=[],T={beingScrubbed:w,contextMenuItems:E,controlIndicators:jS.default.createElement(jS.default.Fragment,null)},P=(0,qm.val)(l.template.getMapOfValidSequenceTracks_forStudio()),L=p_(P,m),j=L!==void 0&&Object.keys(L).length!==0,K=[],Z=(0,qm.val)(l.template.getStaticButNotSequencedOverrides()),q=p_(Z??p8,m)!==void 0;if(j)for(let X of iP(u,[])){if(rv(X.conf))continue;let ee=p_(L,X.path);typeof ee!="string"?q=!0:K.push(ee)}if((q||j)&&E.push({label:"Reset all to default",callback:()=>{xe().transaction(({unset:X})=>{X(i)})}}),j&&E.push({label:"Make all static",callback:()=>{xe().transaction(({stateEditors:X})=>{for(let{path:ee,conf:$}of iP(u,[])){if(rv($))continue;let re=N(F({},l.address),{pathToProp:[...m,...ee]}),se=lP(i,ee);X.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(N(F({},re),{value:l.getValueByPointer(se)}))}})}}),(!j||j&&q)&&E.push({label:"Sequence all",callback:()=>{xe().transaction(({stateEditors:X})=>{for(let{path:ee,conf:$}of iP(u,m)){if(rv($))continue;let re=N(F({},l.address),{pathToProp:ee});X.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(re,u)}})}}),j){let X=qm.prism.memo("controlIndicators",()=>jS.default.createElement(APe,{pointerToProp:i,obj:l,possibleSequenceTrackIds:L,listOfDescendantTrackIds:K}),[L,K]);return N(F({},T),{type:"HasSequences",controlIndicators:X})}else return N(F({},T),{type:"AllStatic",controlIndicators:jS.default.createElement(pP,{hasStaticOverride:q,obj:l,pathToProp:m,propConfig:u})})},[])}function APe({pointerToProp:i,obj:l,possibleSequenceTrackIds:u,listOfDescendantTrackIds:m}){return io(()=>{let w=(0,qm.getPointerParts)(i).path,E=(0,qm.val)(l.sheet.getSequence().positionPrism),T=m.map(X=>({trackId:X,track:(0,qm.val)(l.template.project.pointers.historic.sheetsById[l.address.sheetId].sequence.tracksByObject[l.address.objectKey].trackData[X])})).filter(({track:X})=>!!X).map(X=>N(F({},X),{nearbies:q2(l,{id:X.trackId,data:X.track,sheetObject:l},E)})),P=T.find(({nearbies:X})=>!!X.cur),L=T.every(({nearbies:X})=>!!X.cur),j=T.reduce((X,ee)=>ee.nearbies.prev&&(X===void 0||ee.nearbies.prev.kf.position>X.kf.position)?ee.nearbies.prev:X,void 0),K=T.reduce((X,ee)=>ee.nearbies.next&&(X===void 0||ee.nearbies.next.kf.position<X.kf.position)?ee.nearbies.next:X,void 0),Z=()=>{L?xe().transaction(X=>{X.unset(i)}):P?xe().transaction(X=>{X.set(i,(0,qm.val)(i))}):xe().transaction(X=>{X.set(i,(0,qm.val)(i))})},q={cur:P?{type:"on",itemKey:Vc.forCompoundPropAggregateKeyframe(l,w,E),toggle:Z}:{toggle:Z,type:"off"},prev:j!==void 0?{position:j.kf.position,itemKey:Vc.forCompoundPropAggregateKeyframe(l,w,j.kf.position),jump:()=>{l.sheet.getSequence().position=j.kf.position}}:void 0,next:K!==void 0?{position:K.kf.position,itemKey:Vc.forCompoundPropAggregateKeyframe(l,w,K.kf.position),jump:()=>{l.sheet.getSequence().position=K.kf.position}}:void 0};return jS.default.createElement(d8,F({},q))},[i,l,u,m])}var qm,jS,CPe=A(()=>{Ze(),QO(),wi(),qm=$n,Ch(),jS=Y(Rt()),X2(),f_(),Ty(),qO(),eB(),Z2(),$2()});function MPe(){let i=0,l=new nee.Atom({hasLock:!1});return{replaceLock(u,m){let w=i++,E=l.get();return E.hasLock&&E.cleanup(),l.set({hasLock:!0,lockId:w,cleanup:m,deepPath:TPe(eee(u))}),function(){let T=l.get();T.hasLock&&T.lockId===w&&(T.cleanup(),l.set({hasLock:!1}))}},getIsPropHighlightedD(u){let m=lP(l.pointer.deepPath,eee(u));return(0,ree.prism)(()=>{let w=(0,tee.val)(m);return w===!0?"self":w?"descendent":null})}}}function eee(i){return[i.projectId,i.sheetId,i.objectKey,...i.pathToProp]}function TPe(i){let l={};return q1(l,i,!0),l}var tee,nee,ree,nB,m8=A(()=>{tee=$n,nee=$n,ree=$n,qO(),lE(),nB=MPe()});function PPe(i,l){return JSON.stringify(i,l,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var kPe=A(()=>{});function iee(i,l=!0){try{return typeof i=="string"?i:typeof i=="function"||i instanceof Error?i.toString():l?PPe(i):JSON.stringify(i)}catch{return(i==null?void 0:i.name)||String(i)}}var IPe=A(()=>{kPe()});function RPe(i,l,u){i||(arguments.length>2?oee(l,u):oee(l))}function oee(i,l){let u=arguments.length>1,m=iee(typeof i=="function"?i():i),w=u?`
Instead found: `.concat(iee(l)):"";throw new cee("Invariant: ".concat(m).concat(w),l)}var see,aee,lee,uee,cee,OPe=A(()=>{IPe(),see=/^\s*at.+node:internal.+/gm,aee=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,lee=/^\s*(at|[^@]+@).+test\-helpers.+/gm,uee=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,cee=class extends Error{constructor(i,l){var u;super(i),_e(this,"found"),l!==void 0&&(this.found=l),this.stack=(u=this.stack)==null?void 0:u.replace(aee,"").replace(uee,"").replace(lee,"").replace(see,"")}}});function BPe(i){return(0,rB.prism)(()=>{if(Array.isArray(i)){let l=new Array(i.length);for(let u=0;u<i.length;u++)l[u]=i[u].getValue();return l}else{let l={};for(let u in i)l[u]=(0,rB.val)(i[u]);return l}})}function g8(i){let l=KE.default.memo(KE.default.forwardRef(function(u,m){let w=[],E={},T={ref:m};for(let K in u){let Z=u[K];(0,rB.isPrism)(Z)?(w.push(Z),E[K]=Z):T[K]=Z}let P=(0,KE.useRef)(w.length);RPe(P.current===w.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:P.current,count:w.length});let L=(0,KE.useMemo)(()=>BPe(E),w),j=dE(L);return j&&KE.default.createElement(i,F(F({},T),j))}));return l.displayName="deriver(".concat(i.displayName,")"),l}var rB,KE,dee=A(()=>{rB=$n,wi(),KE=Y(Rt()),OPe()});function DPe(i,l,u){return(0,n0.prism)(()=>{var m;let w=(0,n0.getPointerParts)(i).path,E=l.getValueByPointer(i),T=n0.prism.memo("editPropValue",()=>{let ee=null;return{temporarilySetValue($){ee||(ee=xe().scrub()),ee.capture(re=>{re.set(i,$)})},discardTemporaryValue(){ee&&(ee.discard(),ee=null)},permanentlySetValue($){ee?(ee.capture(re=>{re.set(i,$)}),ee.commit(),ee=null):xe().transaction(re=>{re.set(i,$)})}}},[]),P={createAsset:ee=>l.sheet.project.assetStorage.createAsset(ee),getAssetUrl:ee=>ee.id?l.sheet.project.assetStorage.getAssetUrl(ee.id):void 0},L=(0,n0.val)(Kd(xe().atomP.ephemeral.projects.stateByProjectId[l.address.projectId].stateBySheetId[l.address.sheetId].stateByObjectKey[l.address.objectKey].valuesBeingScrubbed,(0,n0.getPointerParts)(i).path))===!0,j=[],K=N(F(F({},T),P),{value:E,beingScrubbed:L,contextMenuItems:j,controlIndicators:YE.default.createElement(YE.default.Fragment,null)}),Z=pPe(u);if(Z){let ee=(0,n0.val)(l.template.getMapOfValidSequenceTracks_forStudio()),$=p_(ee,w);if(typeof $=="string"){j.push({label:"Make static",callback:()=>{xe().transaction(({stateEditors:je})=>{let yt=N(F({},l.address),{pathToProp:w});je.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(N(F({},yt),{value:l.getValueByPointer(i)}))})}});let re=$,se=n0.prism.sub("lcr",()=>{let je=(0,n0.val)(l.template.project.pointers.historic.sheetsById[l.address.sheetId].sequence.tracksByObject[l.address.objectKey].trackData[re]),yt=(0,n0.val)(l.sheet.getSequence().positionPrism);return q2(l,je&&{data:je,id:re,sheetObject:l},yt)},[re]),fe;K.beingScrubbed?fe="Sequenced_OnKeyframe_BeingScrubbed":se.cur?fe="Sequenced_OnKeyframe":((m=se.prev)==null?void 0:m.kf.connectedRight)===!0?fe="Sequenced_BeingInterpolated":fe="Sequened_NotBeingInterpolated";let ye=()=>{se.cur?xe().transaction(je=>{je.unset(i)}):xe().transaction(je=>{je.set(i,K.value)})},Oe={cur:se.cur?{type:"on",itemKey:se.cur.itemKey,toggle:ye}:{type:"off",toggle:ye},prev:se.prev!==void 0?{itemKey:se.prev.itemKey,position:se.prev.kf.position,jump:()=>{l.sheet.getSequence().position=se.prev.kf.position}}:void 0,next:se.next!==void 0?{itemKey:se.next.itemKey,position:se.next.kf.position,jump:()=>{l.sheet.getSequence().position=se.next.kf.position}}:void 0},Ie=YE.default.createElement(d8,F({},Oe));return N(F({},K),{type:"Sequenced",shade:fe,nearbyKeyframes:se,controlIndicators:Ie})}}let q=(0,n0.val)(l.template.getStaticValues()),X=p_(q,w);return typeof X<"u"&&j.push({label:"Reset to default",callback:()=>{xe().transaction(({unset:ee})=>{ee(i)})}}),Z&&j.push({label:"Sequence",callback:()=>{xe().transaction(({stateEditors:ee})=>{let $=N(F({},l.address),{pathToProp:w});ee.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced($,u)})}}),typeof X<"u"?N(F({},K),{type:"Static",shade:K.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:YE.default.createElement(pP,{hasStaticOverride:!0,obj:l,pathToProp:w,propConfig:u})}):N(F({},K),{type:"Default",shade:"Default",controlIndicators:YE.default.createElement(pP,{hasStaticOverride:!0,obj:l,pathToProp:w,propConfig:u})})})}function LPe(i,l,u){if(iB.has(i))return iB.get(i);{let m=DPe(i,l,u);return iB.set(i,m),m}}function v8(i,l,u){let m=LPe(i,l,u);return dE(m)}var YE,n0,iB,y8=A(()=>{Ch(),YE=Y(Rt()),n0=$n,Ze(),QO(),wi(),f_(),X2(),Z2(),eB(),iB=new WeakMap});function NPe({propConfig:i,pointerToProp:l,obj:u,SimpleEditorComponent:m}){let w=v8(l,u,i);return tf.default.createElement(A6,{editingTools:w,propConfig:i,value:w.value})}function FPe({pointerToProp:i,obj:l,propConfig:u,visualIndentation:m}){var w;let E=(w=u.label)!=null?w:cy((0,vP.getPointerParts)(i).path),T=Object.entries(u.props),P=T.filter(([ye,Oe])=>rv(Oe)),L=T.filter(([ye,Oe])=>!rv(Oe)),[j,K]=es(null),Z=EPe(i,l,u),[q]=Oh(K,{menuItems:Z.contextMenuItems}),X=P.length>0,ee=(0,tf.useMemo)(()=>nB.getIsPropHighlightedD(N(F({},l.address),{pathToProp:(0,vP.getPointerParts)(i).path})),[i]),$="".concat(l.address.projectId,",").concat(l.address.sheetId,",").concat(l.address.sheetInstanceId,",").concat(l.address.objectKey,",").concat((0,vP.getPointerParts)(i).path.join()),re=Mee(u);(0,tf.useLayoutEffect)(()=>{oB.has($)||oB.set($,new vP.Atom(re))},[$,u]);let se=oB.get($),fe=io(()=>se?(0,fee.val)(se.pointer):re,[se]);return tf.default.createElement(pee,null,q,tf.default.createElement(_8,{style:{"--depth":m-1}},tf.default.createElement(vee,{isVectorProp:re},tf.default.createElement(_ee,null,Z.controlIndicators),tf.default.createElement(See,{isHighlighted:ee,ref:j},tf.default.createElement("span",null,E||"Props")),tf.default.createElement(bee,{isCollapsed:fe,isVector:re,onClick:()=>{se==null||se.set(!se.get())}},tf.default.createElement(OJ,null))),re&&fe&&tf.default.createElement(Pee,null,[...T].map(([ye,Oe])=>tf.default.createElement(NPe,{key:"prop-"+ye,propConfig:Oe,pointerToProp:i[ye],obj:l})))),!fe&&tf.default.createElement(Cee,{style:{"--depth":m},depth:m,lastSubIsComposite:X},[...L,...P].map(([ye,Oe])=>tf.default.createElement(S8,{key:"prop-"+ye,propConfig:Oe,pointerToProp:i[ye],obj:l,visualIndentation:m+1}))))}var vP,tf,fee,hee,pee,mee,_8,gee,vee,yee,_ee,wee,See,xee,bee,Eee,Aee,Cee,Mee,Tee,Pee,kee,oB,zPe=A(()=>{f_(),vP=$n,iE(),um(),tf=Y(Rt()),Lt(),$$(),FS(),ws(),_s(),Vee(),Bh(),CPe(),m8(),dee(),bJ(),y8(),wi(),fee=$n,GE(),GO(),pee=Ue.div(hee||(hee=J([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),fs),_8=Ue.div(mee||(mee=J([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),vee=Ue.div(gee||(gee=J([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),r8,({isVectorProp:i})=>i?"width: calc(100% - var(--right-width))":""),_ee=Ue.div(yee||(yee=J([`
  flexshrink: 0;
`]))),See=g8(Ue.div(wee||(wee=J([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>h_)),bee=Ue.span(xee||(xee=J([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),i=>i.isCollapsed?0:90,i=>!i.isVector&&i.isCollapsed||i.isVector&&!i.isCollapsed?"visible":"hidden",_8,i=>i.isCollapsed?15:75),Eee=Jg(.05,"#282b2f"),Cee=Ue.div(Aee||(Aee=J([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:i})=>LT(i*.03,Eee),i=>i.lastSubIsComposite?0:"4px"),Mee=rP(i=>{let l=Object.entries(i.props);return l.length<=3&&l.every(([u,m])=>m.type==="number"&&["x","y","z"].includes(u))}),Pee=Ue.div(Tee||(Tee=J([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),kee=tf.default.memo(FPe),oB=new Map});function UPe({isHighlighted:i}){return i==="self"?"#1857a4":i==="descendent"?"#0a2f5c":"initial"}var jPe=A(()=>{});function HPe({propConfig:i,pointerToProp:l,editingTools:u,children:m,isPropHighlightedD:w}){var E;let T=(E=i.label)!=null?E:cy((0,w8.getPointerParts)(l).path),[P,L]=es(null),[j]=Oh(L,{menuItems:u.contextMenuItems});return QE.default.createElement(Ree,{isHighlighted:w},j,QE.default.createElement(Bee,null,QE.default.createElement(Fee,null,u.controlIndicators),QE.default.createElement(Lee,{isHighlighted:w,ref:P,title:["obj","props",...(0,w8.getPointerParts)(l).path].join(".")},T)),QE.default.createElement(Uee,null,m))}var w8,QE,Iee,Ree,Oee,Bee,Dee,Lee,Nee,Fee,zee,Uee,GPe=A(()=>{w8=$n,Bh(),_s(),Ya(),QE=Y(Rt()),Lt(),ws(),FS(),dee(),$$(),jPe(),Ree=g8(Ue.div(Iee||(Iee=J([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),fs,UPe)),Bee=Ue.div(Oee||(Oee=J([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),r8),Lee=g8(Ue.div(Dee||(Dee=J([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),h_)),Fee=Ue.div(Nee||(Nee=J([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),Uee=Ue.div(zee||(zee=J([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function VPe({propConfig:i,pointerToProp:l,obj:u,SimpleEditorComponent:m}){let w=v8(l,u,i),E=(0,yP.useMemo)(()=>nB.getIsPropHighlightedD(N(F({},u.address),{pathToProp:(0,jee.getPointerParts)(l).path})),[l]);return yP.default.createElement(HPe,{editingTools:w,propConfig:i,pointerToProp:l,isPropHighlightedD:E},yP.default.createElement(m,{editingTools:w,propConfig:i,value:w.value}))}var yP,jee,Hee,WPe=A(()=>{yP=Y(Rt()),y8(),GPe(),jee=$n,m8(),Hee=yP.default.memo(VPe)}),_P,Gee,S8,Vee=A(()=>{_P=Y(Rt()),Z$(),zPe(),WPe(),Gee=({propConfig:i,visualIndentation:l,pointerToProp:u,obj:m})=>{if(i.type==="compound")return _P.default.createElement(kee,{obj:m,visualIndentation:l,pointerToProp:u,propConfig:i});if(i.type==="enum")return _P.default.createElement(_P.default.Fragment,null);{let w=t8[i.type];return _P.default.createElement(Hee,{SimpleEditorComponent:w,obj:m,visualIndentation:l,pointerToProp:u,propConfig:i})}},S8=Gee});function Wee(i){return sB.has(i)||sB.set(i,(Xee++).toString()),sB.get(i)}var sB,Xee,Kee=A(()=>{sB=new WeakMap,Xee=0}),qE,Yee,Qee,qee,Jee,Zee,$ee,XPe=A(()=>{qE=Y(Rt()),Vee(),wi(),Kee(),Lt(),Qee=Ue.div(Yee||(Yee=J([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),Jee=Ue.button(qee||(qee=J([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),Zee=({objects:i})=>{let l=i[0],u=vo(l.template.configPointer),m=vo(l.template._temp_actionsPointer);return qE.default.createElement(qE.default.Fragment,null,qE.default.createElement(S8,{key:Wee(l),obj:l,pointerToProp:l.propsP,propConfig:u,visualIndentation:1}),qE.default.createElement(Qee,null,m&&Object.entries(m).map(([w,E])=>qE.default.createElement(Jee,{key:w,onClick:()=>{E(l.publicApi)}},w))))},$ee=Zee}),ete,tte,aB,nte=A(()=>{Lt(),tte=Ue.button(ete||(ete=J([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),i=>i.disabled?"none":"pointer",i=>i.disabled?.4:1),aB=tte}),KPe=A(()=>{}),rte,YPe=A(()=>{KPe(),rte=(i=21)=>{let l="",u=crypto.getRandomValues(new Uint8Array(i));for(;i--;){let m=u[i]&63;m<36?l+=m.toString(36):m<62?l+=(m-26).toString(36).toUpperCase():m<63?l+="_":l+="-"}return l}});function ite(){return rte(16)}var ote=A(()=>{YPe()}),ste,Py,x8,ate,lte,ute,cte,dte=A(()=>{ste=$n,_s(),Py=Y(Rt()),x8=(0,Py.createContext)(null),ate=0,lte=()=>{let i=(0,Py.useMemo)(()=>ate++,[]),{cur:l,set:u}=(0,Py.useContext)(x8),[m,w]=es(!1),E=(0,Py.useCallback)((T,P)=>{u(T?i:-1,P)},[]);return(0,Py.useEffect)(()=>l.onStale(()=>{let T=l.getValue()===i;m.current!==T&&(m.current=T)}),[l,i]),[w,E]},ute=({children:i})=>{let l=(0,Py.useMemo)(()=>new ste.Atom(-1),[]),u=l.prism,m=(0,Py.useMemo)(()=>{let w;return(E,T)=>{let P=w!==void 0;w!==void 0&&(clearTimeout(w),w=void 0),T===0||P?l.set(E):w=setTimeout(()=>{l.set(E),w=void 0},T)}},[]);return Py.default.createElement(x8.Provider,{value:{cur:u,set:m}},i)},cte=ute});function JE(i,l){let u=i.enabled!==!1,[m,w]=lte(),[E,T]=es(null);(0,hte.useEffect)(()=>{if(!u)return;let L=E.current;if(!L)return;let j=()=>{var Z;return w(!0,(Z=i.enterDelay)!=null?Z:400)},K=()=>{var Z;return w(!1,(Z=i.exitDelay)!=null?Z:200)};return L.addEventListener("mouseenter",j),L.addEventListener("mouseleave",K),()=>{L.removeEventListener("mouseenter",j),L.removeEventListener("mouseleave",K)}},[E,u,i.enterDelay,i.exitDelay]);let P=(0,fte.useContext)(OE);return[u&&m&&T?(0,pte.createPortal)(lB.default.createElement(Q6,{children:l,target:T,onClickOutside:Zg,verticalPlacement:i.verticalPlacement,verticalGap:i.verticalGap}),P):lB.default.createElement(lB.default.Fragment,null),E,m]}var fte,hte,lB,pte,wP=A(()=>{_s(),fte=Y(Rt()),hte=Y(Rt()),lB=Y(Rt()),e$(),pte=Y(Gg()),dte(),DS(),LE()}),mte,gte,ZE,uB=A(()=>{Lt(),tv(),gte=Ue(ev)(mte||(mte=J([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),ZE=gte}),iv,vte,yte,_te,wte,Ste,xte,bte,Ete,Ate,QPe=A(()=>{wi(),Ze(),iv=Y(Rt()),Lt(),ote(),wP(),uB(),nte(),yte=Ue.div(vte||(vte=J([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),wte=Ue.div(_te||(_te=J([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),xte=Ue.div(Ste||(Ste=J([`
  display: flex;
  gap: 8px;
`]))),bte=({projectId:i})=>{let l=vo(xe().atomP.ephemeral.coreByProject[i].loadingState);return l&&l.type==="browserStateIsNotBasedOnDiskState"?iv.default.createElement(Ete,{loadingState:l,projectId:i}):null},Ete=({projectId:i,loadingState:l})=>{let u=()=>{xe().transaction(({drafts:L,stateEditors:j})=>{j.coreByProject.historic.revisionHistory.add({projectId:i,revision:l.onDiskState.revisionHistory[0]}),j.coreByProject.historic.revisionHistory.add({projectId:i,revision:ite()}),L.ephemeral.coreByProject[i].loadingState={type:"loaded"}})},m=()=>{xe().transaction(({drafts:L})=>{L.historic.coreByProject[i]=l.onDiskState,L.ephemeral.coreByProject[i].loadingState={type:"loaded"}})},[w,E]=JE({},()=>iv.default.createElement(ZE,null,"The browser's state will override the disk state.")),[T,P]=JE({},()=>iv.default.createElement(ZE,null,"The disk's state will override the browser's state."));return iv.default.createElement(yte,null,iv.default.createElement(wte,null,"Browser state is not based on disk state."," ",iv.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),iv.default.createElement(xte,null,w,iv.default.createElement(aB,{onClick:u,ref:E},"Use browser's state"),T,iv.default.createElement(aB,{onClick:m,ref:P},"Use disk state")))},Ate=bte}),qPe=G((i,l)=>{(function(u){typeof i=="object"&&typeof l<"u"?l.exports=u():(typeof window<"u"?window:typeof ru<"u"?ru:typeof self<"u"?self:this).JSZip=u()})(function(){return function u(m,w,E){function T(j,K){if(!w[j]){if(!m[j]){var Z=typeof r4=="function"&&r4;if(!K&&Z)return Z(j,!0);if(P)return P(j,!0);var q=new Error("Cannot find module '"+j+"'");throw q.code="MODULE_NOT_FOUND",q}var X=w[j]={exports:{}};m[j][0].call(X.exports,function(ee){var $=m[j][1][ee];return T($||ee)},X,X.exports,u,m,w,E)}return w[j].exports}for(var P=typeof r4=="function"&&r4,L=0;L<E.length;L++)T(E[L]);return T}({1:[function(u,m,w){var E=u("./utils"),T=u("./support"),P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";w.encode=function(L){for(var j,K,Z,q,X,ee,$,re=[],se=0,fe=L.length,ye=fe,Oe=E.getTypeOf(L)!=="string";se<L.length;)ye=fe-se,Z=Oe?(j=L[se++],K=se<fe?L[se++]:0,se<fe?L[se++]:0):(j=L.charCodeAt(se++),K=se<fe?L.charCodeAt(se++):0,se<fe?L.charCodeAt(se++):0),q=j>>2,X=(3&j)<<4|K>>4,ee=1<ye?(15&K)<<2|Z>>6:64,$=2<ye?63&Z:64,re.push(P.charAt(q)+P.charAt(X)+P.charAt(ee)+P.charAt($));return re.join("")},w.decode=function(L){var j,K,Z,q,X,ee,$=0,re=0,se="data:";if(L.substr(0,se.length)===se)throw new Error("Invalid base64 input, it looks like a data url.");var fe,ye=3*(L=L.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(L.charAt(L.length-1)===P.charAt(64)&&ye--,L.charAt(L.length-2)===P.charAt(64)&&ye--,ye%1!=0)throw new Error("Invalid base64 input, bad content length.");for(fe=T.uint8array?new Uint8Array(0|ye):new Array(0|ye);$<L.length;)j=P.indexOf(L.charAt($++))<<2|(q=P.indexOf(L.charAt($++)))>>4,K=(15&q)<<4|(X=P.indexOf(L.charAt($++)))>>2,Z=(3&X)<<6|(ee=P.indexOf(L.charAt($++))),fe[re++]=j,X!==64&&(fe[re++]=K),ee!==64&&(fe[re++]=Z);return fe}},{"./support":30,"./utils":32}],2:[function(u,m,w){var E=u("./external"),T=u("./stream/DataWorker"),P=u("./stream/Crc32Probe"),L=u("./stream/DataLengthProbe");function j(K,Z,q,X,ee){this.compressedSize=K,this.uncompressedSize=Z,this.crc32=q,this.compression=X,this.compressedContent=ee}j.prototype={getContentWorker:function(){var K=new T(E.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new L("data_length")),Z=this;return K.on("end",function(){if(this.streamInfo.data_length!==Z.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),K},getCompressedWorker:function(){return new T(E.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},j.createWorkerFrom=function(K,Z,q){return K.pipe(new P).pipe(new L("uncompressedSize")).pipe(Z.compressWorker(q)).pipe(new L("compressedSize")).withStreamInfo("compression",Z)},m.exports=j},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,m,w){var E=u("./stream/GenericWorker");w.STORE={magic:"\0\0",compressWorker:function(){return new E("STORE compression")},uncompressWorker:function(){return new E("STORE decompression")}},w.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,m,w){var E=u("./utils"),T=function(){for(var P,L=[],j=0;j<256;j++){P=j;for(var K=0;K<8;K++)P=1&P?3988292384^P>>>1:P>>>1;L[j]=P}return L}();m.exports=function(P,L){return P!==void 0&&P.length?E.getTypeOf(P)!=="string"?function(j,K,Z,q){var X=T,ee=q+Z;j^=-1;for(var $=q;$<ee;$++)j=j>>>8^X[255&(j^K[$])];return-1^j}(0|L,P,P.length,0):function(j,K,Z,q){var X=T,ee=q+Z;j^=-1;for(var $=q;$<ee;$++)j=j>>>8^X[255&(j^K.charCodeAt($))];return-1^j}(0|L,P,P.length,0):0}},{"./utils":32}],5:[function(u,m,w){w.base64=!1,w.binary=!1,w.dir=!1,w.createFolders=!0,w.date=null,w.compression=null,w.compressionOptions=null,w.comment=null,w.unixPermissions=null,w.dosPermissions=null},{}],6:[function(u,m,w){var E=null;E=typeof Promise<"u"?Promise:u("lie"),m.exports={Promise:E}},{lie:37}],7:[function(u,m,w){var E=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",T=u("pako"),P=u("./utils"),L=u("./stream/GenericWorker"),j=E?"uint8array":"array";function K(Z,q){L.call(this,"FlateWorker/"+Z),this._pako=null,this._pakoAction=Z,this._pakoOptions=q,this.meta={}}w.magic="\b\0",P.inherits(K,L),K.prototype.processChunk=function(Z){this.meta=Z.meta,this._pako===null&&this._createPako(),this._pako.push(P.transformTo(j,Z.data),!1)},K.prototype.flush=function(){L.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},K.prototype.cleanUp=function(){L.prototype.cleanUp.call(this),this._pako=null},K.prototype._createPako=function(){this._pako=new T[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var Z=this;this._pako.onData=function(q){Z.push({data:q,meta:Z.meta})}},w.compressWorker=function(Z){return new K("Deflate",Z)},w.uncompressWorker=function(){return new K("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,m,w){function E(X,ee){var $,re="";for($=0;$<ee;$++)re+=String.fromCharCode(255&X),X>>>=8;return re}function T(X,ee,$,re,se,fe){var ye,Oe,Ie=X.file,je=X.compression,yt=fe!==j.utf8encode,st=P.transformTo("string",fe(Ie.name)),ft=P.transformTo("string",j.utf8encode(Ie.name)),It=Ie.comment,vn=P.transformTo("string",fe(It)),We=P.transformTo("string",j.utf8encode(It)),Pt=ft.length!==Ie.name.length,be=We.length!==It.length,Ht="",hr="",bt="",Et=Ie.dir,Vt=Ie.date,zn={crc32:0,compressedSize:0,uncompressedSize:0};ee&&!$||(zn.crc32=X.crc32,zn.compressedSize=X.compressedSize,zn.uncompressedSize=X.uncompressedSize);var Xe=0;ee&&(Xe|=8),yt||!Pt&&!be||(Xe|=2048);var nt=0,un=0;Et&&(nt|=16),se==="UNIX"?(un=798,nt|=function(xn,Yt){var Yr=xn;return xn||(Yr=Yt?16893:33204),(65535&Yr)<<16}(Ie.unixPermissions,Et)):(un=20,nt|=function(xn){return 63&(xn||0)}(Ie.dosPermissions)),ye=Vt.getUTCHours(),ye<<=6,ye|=Vt.getUTCMinutes(),ye<<=5,ye|=Vt.getUTCSeconds()/2,Oe=Vt.getUTCFullYear()-1980,Oe<<=4,Oe|=Vt.getUTCMonth()+1,Oe<<=5,Oe|=Vt.getUTCDate(),Pt&&(hr=E(1,1)+E(K(st),4)+ft,Ht+="up"+E(hr.length,2)+hr),be&&(bt=E(1,1)+E(K(vn),4)+We,Ht+="uc"+E(bt.length,2)+bt);var pn="";return pn+=`
\0`,pn+=E(Xe,2),pn+=je.magic,pn+=E(ye,2),pn+=E(Oe,2),pn+=E(zn.crc32,4),pn+=E(zn.compressedSize,4),pn+=E(zn.uncompressedSize,4),pn+=E(st.length,2),pn+=E(Ht.length,2),{fileRecord:Z.LOCAL_FILE_HEADER+pn+st+Ht,dirRecord:Z.CENTRAL_FILE_HEADER+E(un,2)+pn+E(vn.length,2)+"\0\0\0\0"+E(nt,4)+E(re,4)+st+Ht+vn}}var P=u("../utils"),L=u("../stream/GenericWorker"),j=u("../utf8"),K=u("../crc32"),Z=u("../signature");function q(X,ee,$,re){L.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=ee,this.zipPlatform=$,this.encodeFileName=re,this.streamFiles=X,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}P.inherits(q,L),q.prototype.push=function(X){var ee=X.meta.percent||0,$=this.entriesCount,re=this._sources.length;this.accumulate?this.contentBuffer.push(X):(this.bytesWritten+=X.data.length,L.prototype.push.call(this,{data:X.data,meta:{currentFile:this.currentFile,percent:$?(ee+100*($-re-1))/$:100}}))},q.prototype.openedSource=function(X){this.currentSourceOffset=this.bytesWritten,this.currentFile=X.file.name;var ee=this.streamFiles&&!X.file.dir;if(ee){var $=T(X,ee,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:$.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(X){this.accumulate=!1;var ee=this.streamFiles&&!X.file.dir,$=T(X,ee,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push($.dirRecord),ee)this.push({data:function(re){return Z.DATA_DESCRIPTOR+E(re.crc32,4)+E(re.compressedSize,4)+E(re.uncompressedSize,4)}(X),meta:{percent:100}});else for(this.push({data:$.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var X=this.bytesWritten,ee=0;ee<this.dirRecords.length;ee++)this.push({data:this.dirRecords[ee],meta:{percent:100}});var $=this.bytesWritten-X,re=function(se,fe,ye,Oe,Ie){var je=P.transformTo("string",Ie(Oe));return Z.CENTRAL_DIRECTORY_END+"\0\0\0\0"+E(se,2)+E(se,2)+E(fe,4)+E(ye,4)+E(je.length,2)+je}(this.dirRecords.length,$,X,this.zipComment,this.encodeFileName);this.push({data:re,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(X){this._sources.push(X);var ee=this;return X.on("data",function($){ee.processChunk($)}),X.on("end",function(){ee.closedSource(ee.previous.streamInfo),ee._sources.length?ee.prepareNextSource():ee.end()}),X.on("error",function($){ee.error($)}),this},q.prototype.resume=function(){return!!L.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(X){var ee=this._sources;if(!L.prototype.error.call(this,X))return!1;for(var $=0;$<ee.length;$++)try{ee[$].error(X)}catch{}return!0},q.prototype.lock=function(){L.prototype.lock.call(this);for(var X=this._sources,ee=0;ee<X.length;ee++)X[ee].lock()},m.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,m,w){var E=u("../compressions"),T=u("./ZipFileWorker");w.generateWorker=function(P,L,j){var K=new T(L.streamFiles,j,L.platform,L.encodeFileName),Z=0;try{P.forEach(function(q,X){Z++;var ee=function(fe,ye){var Oe=fe||ye,Ie=E[Oe];if(!Ie)throw new Error(Oe+" is not a valid compression method !");return Ie}(X.options.compression,L.compression),$=X.options.compressionOptions||L.compressionOptions||{},re=X.dir,se=X.date;X._compressWorker(ee,$).withStreamInfo("file",{name:q,dir:re,date:se,comment:X.comment||"",unixPermissions:X.unixPermissions,dosPermissions:X.dosPermissions}).pipe(K)}),K.entriesCount=Z}catch(q){K.error(q)}return K}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,m,w){function E(){if(!(this instanceof E))return new E;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var T=new E;for(var P in this)typeof this[P]!="function"&&(T[P]=this[P]);return T}}(E.prototype=u("./object")).loadAsync=u("./load"),E.support=u("./support"),E.defaults=u("./defaults"),E.version="3.10.1",E.loadAsync=function(T,P){return new E().loadAsync(T,P)},E.external=u("./external"),m.exports=E},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,m,w){var E=u("./utils"),T=u("./external"),P=u("./utf8"),L=u("./zipEntries"),j=u("./stream/Crc32Probe"),K=u("./nodejsUtils");function Z(q){return new T.Promise(function(X,ee){var $=q.decompressed.getContentWorker().pipe(new j);$.on("error",function(re){ee(re)}).on("end",function(){$.streamInfo.crc32!==q.decompressed.crc32?ee(new Error("Corrupted zip : CRC32 mismatch")):X()}).resume()})}m.exports=function(q,X){var ee=this;return X=E.extend(X||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:P.utf8decode}),K.isNode&&K.isStream(q)?T.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):E.prepareContent("the loaded zip file",q,!0,X.optimizedBinaryString,X.base64).then(function($){var re=new L(X);return re.load($),re}).then(function($){var re=[T.Promise.resolve($)],se=$.files;if(X.checkCRC32)for(var fe=0;fe<se.length;fe++)re.push(Z(se[fe]));return T.Promise.all(re)}).then(function($){for(var re=$.shift(),se=re.files,fe=0;fe<se.length;fe++){var ye=se[fe],Oe=ye.fileNameStr,Ie=E.resolve(ye.fileNameStr);ee.file(Ie,ye.decompressed,{binary:!0,optimizedBinaryString:!0,date:ye.date,dir:ye.dir,comment:ye.fileCommentStr.length?ye.fileCommentStr:null,unixPermissions:ye.unixPermissions,dosPermissions:ye.dosPermissions,createFolders:X.createFolders}),ye.dir||(ee.file(Ie).unsafeOriginalName=Oe)}return re.zipComment.length&&(ee.comment=re.zipComment),ee})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,m,w){var E=u("../utils"),T=u("../stream/GenericWorker");function P(L,j){T.call(this,"Nodejs stream input adapter for "+L),this._upstreamEnded=!1,this._bindStream(j)}E.inherits(P,T),P.prototype._bindStream=function(L){var j=this;(this._stream=L).pause(),L.on("data",function(K){j.push({data:K,meta:{percent:0}})}).on("error",function(K){j.isPaused?this.generatedError=K:j.error(K)}).on("end",function(){j.isPaused?j._upstreamEnded=!0:j.end()})},P.prototype.pause=function(){return!!T.prototype.pause.call(this)&&(this._stream.pause(),!0)},P.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},m.exports=P},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,m,w){var E=u("readable-stream").Readable;function T(P,L,j){E.call(this,L),this._helper=P;var K=this;P.on("data",function(Z,q){K.push(Z)||K._helper.pause(),j&&j(q)}).on("error",function(Z){K.emit("error",Z)}).on("end",function(){K.push(null)})}u("../utils").inherits(T,E),T.prototype._read=function(){this._helper.resume()},m.exports=T},{"../utils":32,"readable-stream":16}],14:[function(u,m,w){m.exports={isNode:typeof Buffer<"u",newBufferFrom:function(E,T){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(E,T);if(typeof E=="number")throw new Error('The "data" argument must not be a number');return new Buffer(E,T)},allocBuffer:function(E){if(Buffer.alloc)return Buffer.alloc(E);var T=new Buffer(E);return T.fill(0),T},isBuffer:function(E){return Buffer.isBuffer(E)},isStream:function(E){return E&&typeof E.on=="function"&&typeof E.pause=="function"&&typeof E.resume=="function"}}},{}],15:[function(u,m,w){function E(Ie,je,yt){var st,ft=P.getTypeOf(je),It=P.extend(yt||{},K);It.date=It.date||new Date,It.compression!==null&&(It.compression=It.compression.toUpperCase()),typeof It.unixPermissions=="string"&&(It.unixPermissions=parseInt(It.unixPermissions,8)),It.unixPermissions&&16384&It.unixPermissions&&(It.dir=!0),It.dosPermissions&&16&It.dosPermissions&&(It.dir=!0),It.dir&&(Ie=se(Ie)),It.createFolders&&(st=re(Ie))&&fe.call(this,st,!0);var vn=ft==="string"&&It.binary===!1&&It.base64===!1;yt&&yt.binary!==void 0||(It.binary=!vn),(je instanceof Z&&je.uncompressedSize===0||It.dir||!je||je.length===0)&&(It.base64=!1,It.binary=!0,je="",It.compression="STORE",ft="string");var We=null;We=je instanceof Z||je instanceof L?je:ee.isNode&&ee.isStream(je)?new $(Ie,je):P.prepareContent(Ie,je,It.binary,It.optimizedBinaryString,It.base64);var Pt=new q(Ie,We,It);this.files[Ie]=Pt}var T=u("./utf8"),P=u("./utils"),L=u("./stream/GenericWorker"),j=u("./stream/StreamHelper"),K=u("./defaults"),Z=u("./compressedObject"),q=u("./zipObject"),X=u("./generate"),ee=u("./nodejsUtils"),$=u("./nodejs/NodejsStreamInputAdapter"),re=function(Ie){Ie.slice(-1)==="/"&&(Ie=Ie.substring(0,Ie.length-1));var je=Ie.lastIndexOf("/");return 0<je?Ie.substring(0,je):""},se=function(Ie){return Ie.slice(-1)!=="/"&&(Ie+="/"),Ie},fe=function(Ie,je){return je=je!==void 0?je:K.createFolders,Ie=se(Ie),this.files[Ie]||E.call(this,Ie,null,{dir:!0,createFolders:je}),this.files[Ie]};function ye(Ie){return Object.prototype.toString.call(Ie)==="[object RegExp]"}var Oe={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Ie){var je,yt,st;for(je in this.files)st=this.files[je],(yt=je.slice(this.root.length,je.length))&&je.slice(0,this.root.length)===this.root&&Ie(yt,st)},filter:function(Ie){var je=[];return this.forEach(function(yt,st){Ie(yt,st)&&je.push(st)}),je},file:function(Ie,je,yt){if(arguments.length!==1)return Ie=this.root+Ie,E.call(this,Ie,je,yt),this;if(ye(Ie)){var st=Ie;return this.filter(function(It,vn){return!vn.dir&&st.test(It)})}var ft=this.files[this.root+Ie];return ft&&!ft.dir?ft:null},folder:function(Ie){if(!Ie)return this;if(ye(Ie))return this.filter(function(ft,It){return It.dir&&Ie.test(ft)});var je=this.root+Ie,yt=fe.call(this,je),st=this.clone();return st.root=yt.name,st},remove:function(Ie){Ie=this.root+Ie;var je=this.files[Ie];if(je||(Ie.slice(-1)!=="/"&&(Ie+="/"),je=this.files[Ie]),je&&!je.dir)delete this.files[Ie];else for(var yt=this.filter(function(ft,It){return It.name.slice(0,Ie.length)===Ie}),st=0;st<yt.length;st++)delete this.files[yt[st].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Ie){var je,yt={};try{if((yt=P.extend(Ie||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:T.utf8encode})).type=yt.type.toLowerCase(),yt.compression=yt.compression.toUpperCase(),yt.type==="binarystring"&&(yt.type="string"),!yt.type)throw new Error("No output type specified.");P.checkSupport(yt.type),yt.platform!=="darwin"&&yt.platform!=="freebsd"&&yt.platform!=="linux"&&yt.platform!=="sunos"||(yt.platform="UNIX"),yt.platform==="win32"&&(yt.platform="DOS");var st=yt.comment||this.comment||"";je=X.generateWorker(this,yt,st)}catch(ft){(je=new L("error")).error(ft)}return new j(je,yt.type||"string",yt.mimeType)},generateAsync:function(Ie,je){return this.generateInternalStream(Ie).accumulate(je)},generateNodeStream:function(Ie,je){return(Ie=Ie||{}).type||(Ie.type="nodebuffer"),this.generateInternalStream(Ie).toNodejsStream(je)}};m.exports=Oe},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,m,w){m.exports=u("stream")},{stream:void 0}],17:[function(u,m,w){var E=u("./DataReader");function T(P){E.call(this,P);for(var L=0;L<this.data.length;L++)P[L]=255&P[L]}u("../utils").inherits(T,E),T.prototype.byteAt=function(P){return this.data[this.zero+P]},T.prototype.lastIndexOfSignature=function(P){for(var L=P.charCodeAt(0),j=P.charCodeAt(1),K=P.charCodeAt(2),Z=P.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===L&&this.data[q+1]===j&&this.data[q+2]===K&&this.data[q+3]===Z)return q-this.zero;return-1},T.prototype.readAndCheckSignature=function(P){var L=P.charCodeAt(0),j=P.charCodeAt(1),K=P.charCodeAt(2),Z=P.charCodeAt(3),q=this.readData(4);return L===q[0]&&j===q[1]&&K===q[2]&&Z===q[3]},T.prototype.readData=function(P){if(this.checkOffset(P),P===0)return[];var L=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,L},m.exports=T},{"../utils":32,"./DataReader":18}],18:[function(u,m,w){var E=u("../utils");function T(P){this.data=P,this.length=P.length,this.index=0,this.zero=0}T.prototype={checkOffset:function(P){this.checkIndex(this.index+P)},checkIndex:function(P){if(this.length<this.zero+P||P<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+P+"). Corrupted zip ?")},setIndex:function(P){this.checkIndex(P),this.index=P},skip:function(P){this.setIndex(this.index+P)},byteAt:function(){},readInt:function(P){var L,j=0;for(this.checkOffset(P),L=this.index+P-1;L>=this.index;L--)j=(j<<8)+this.byteAt(L);return this.index+=P,j},readString:function(P){return E.transformTo("string",this.readData(P))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var P=this.readInt(4);return new Date(Date.UTC(1980+(P>>25&127),(P>>21&15)-1,P>>16&31,P>>11&31,P>>5&63,(31&P)<<1))}},m.exports=T},{"../utils":32}],19:[function(u,m,w){var E=u("./Uint8ArrayReader");function T(P){E.call(this,P)}u("../utils").inherits(T,E),T.prototype.readData=function(P){this.checkOffset(P);var L=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,L},m.exports=T},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,m,w){var E=u("./DataReader");function T(P){E.call(this,P)}u("../utils").inherits(T,E),T.prototype.byteAt=function(P){return this.data.charCodeAt(this.zero+P)},T.prototype.lastIndexOfSignature=function(P){return this.data.lastIndexOf(P)-this.zero},T.prototype.readAndCheckSignature=function(P){return P===this.readData(4)},T.prototype.readData=function(P){this.checkOffset(P);var L=this.data.slice(this.zero+this.index,this.zero+this.index+P);return this.index+=P,L},m.exports=T},{"../utils":32,"./DataReader":18}],21:[function(u,m,w){var E=u("./ArrayReader");function T(P){E.call(this,P)}u("../utils").inherits(T,E),T.prototype.readData=function(P){if(this.checkOffset(P),P===0)return new Uint8Array(0);var L=this.data.subarray(this.zero+this.index,this.zero+this.index+P);return this.index+=P,L},m.exports=T},{"../utils":32,"./ArrayReader":17}],22:[function(u,m,w){var E=u("../utils"),T=u("../support"),P=u("./ArrayReader"),L=u("./StringReader"),j=u("./NodeBufferReader"),K=u("./Uint8ArrayReader");m.exports=function(Z){var q=E.getTypeOf(Z);return E.checkSupport(q),q!=="string"||T.uint8array?q==="nodebuffer"?new j(Z):T.uint8array?new K(E.transformTo("uint8array",Z)):new P(E.transformTo("array",Z)):new L(Z)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,m,w){w.LOCAL_FILE_HEADER="PK",w.CENTRAL_FILE_HEADER="PK",w.CENTRAL_DIRECTORY_END="PK",w.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",w.ZIP64_CENTRAL_DIRECTORY_END="PK",w.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,m,w){var E=u("./GenericWorker"),T=u("../utils");function P(L){E.call(this,"ConvertWorker to "+L),this.destType=L}T.inherits(P,E),P.prototype.processChunk=function(L){this.push({data:T.transformTo(this.destType,L.data),meta:L.meta})},m.exports=P},{"../utils":32,"./GenericWorker":28}],25:[function(u,m,w){var E=u("./GenericWorker"),T=u("../crc32");function P(){E.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(P,E),P.prototype.processChunk=function(L){this.streamInfo.crc32=T(L.data,this.streamInfo.crc32||0),this.push(L)},m.exports=P},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,m,w){var E=u("../utils"),T=u("./GenericWorker");function P(L){T.call(this,"DataLengthProbe for "+L),this.propName=L,this.withStreamInfo(L,0)}E.inherits(P,T),P.prototype.processChunk=function(L){if(L){var j=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=j+L.data.length}T.prototype.processChunk.call(this,L)},m.exports=P},{"../utils":32,"./GenericWorker":28}],27:[function(u,m,w){var E=u("../utils"),T=u("./GenericWorker");function P(L){T.call(this,"DataWorker");var j=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,L.then(function(K){j.dataIsReady=!0,j.data=K,j.max=K&&K.length||0,j.type=E.getTypeOf(K),j.isPaused||j._tickAndRepeat()},function(K){j.error(K)})}E.inherits(P,T),P.prototype.cleanUp=function(){T.prototype.cleanUp.call(this),this.data=null},P.prototype.resume=function(){return!!T.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,E.delay(this._tickAndRepeat,[],this)),!0)},P.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(E.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},P.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var L=null,j=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":L=this.data.substring(this.index,j);break;case"uint8array":L=this.data.subarray(this.index,j);break;case"array":case"nodebuffer":L=this.data.slice(this.index,j)}return this.index=j,this.push({data:L,meta:{percent:this.max?this.index/this.max*100:0}})},m.exports=P},{"../utils":32,"./GenericWorker":28}],28:[function(u,m,w){function E(T){this.name=T||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}E.prototype={push:function(T){this.emit("data",T)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(T){this.emit("error",T)}return!0},error:function(T){return!this.isFinished&&(this.isPaused?this.generatedError=T:(this.isFinished=!0,this.emit("error",T),this.previous&&this.previous.error(T),this.cleanUp()),!0)},on:function(T,P){return this._listeners[T].push(P),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(T,P){if(this._listeners[T])for(var L=0;L<this._listeners[T].length;L++)this._listeners[T][L].call(this,P)},pipe:function(T){return T.registerPrevious(this)},registerPrevious:function(T){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=T.streamInfo,this.mergeStreamInfo(),this.previous=T;var P=this;return T.on("data",function(L){P.processChunk(L)}),T.on("end",function(){P.end()}),T.on("error",function(L){P.error(L)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var T=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),T=!0),this.previous&&this.previous.resume(),!T},flush:function(){},processChunk:function(T){this.push(T)},withStreamInfo:function(T,P){return this.extraStreamInfo[T]=P,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var T in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,T)&&(this.streamInfo[T]=this.extraStreamInfo[T])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var T="Worker "+this.name;return this.previous?this.previous+" -> "+T:T}},m.exports=E},{}],29:[function(u,m,w){var E=u("../utils"),T=u("./ConvertWorker"),P=u("./GenericWorker"),L=u("../base64"),j=u("../support"),K=u("../external"),Z=null;if(j.nodestream)try{Z=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function q(ee,$){return new K.Promise(function(re,se){var fe=[],ye=ee._internalType,Oe=ee._outputType,Ie=ee._mimeType;ee.on("data",function(je,yt){fe.push(je),$&&$(yt)}).on("error",function(je){fe=[],se(je)}).on("end",function(){try{var je=function(yt,st,ft){switch(yt){case"blob":return E.newBlob(E.transformTo("arraybuffer",st),ft);case"base64":return L.encode(st);default:return E.transformTo(yt,st)}}(Oe,function(yt,st){var ft,It=0,vn=null,We=0;for(ft=0;ft<st.length;ft++)We+=st[ft].length;switch(yt){case"string":return st.join("");case"array":return Array.prototype.concat.apply([],st);case"uint8array":for(vn=new Uint8Array(We),ft=0;ft<st.length;ft++)vn.set(st[ft],It),It+=st[ft].length;return vn;case"nodebuffer":return Buffer.concat(st);default:throw new Error("concat : unsupported type '"+yt+"'")}}(ye,fe),Ie);re(je)}catch(yt){se(yt)}fe=[]}).resume()})}function X(ee,$,re){var se=$;switch($){case"blob":case"arraybuffer":se="uint8array";break;case"base64":se="string"}try{this._internalType=se,this._outputType=$,this._mimeType=re,E.checkSupport(se),this._worker=ee.pipe(new T(se)),ee.lock()}catch(fe){this._worker=new P("error"),this._worker.error(fe)}}X.prototype={accumulate:function(ee){return q(this,ee)},on:function(ee,$){var re=this;return ee==="data"?this._worker.on(ee,function(se){$.call(re,se.data,se.meta)}):this._worker.on(ee,function(){E.delay($,arguments,re)}),this},resume:function(){return E.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(ee){if(E.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new Z(this,{objectMode:this._outputType!=="nodebuffer"},ee)}},m.exports=X},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,m,w){if(w.base64=!0,w.array=!0,w.string=!0,w.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",w.nodebuffer=typeof Buffer<"u",w.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")w.blob=!1;else{var E=new ArrayBuffer(0);try{w.blob=new Blob([E],{type:"application/zip"}).size===0}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);T.append(E),w.blob=T.getBlob("application/zip").size===0}catch{w.blob=!1}}}try{w.nodestream=!!u("readable-stream").Readable}catch{w.nodestream=!1}},{"readable-stream":16}],31:[function(u,m,w){for(var E=u("./utils"),T=u("./support"),P=u("./nodejsUtils"),L=u("./stream/GenericWorker"),j=new Array(256),K=0;K<256;K++)j[K]=252<=K?6:248<=K?5:240<=K?4:224<=K?3:192<=K?2:1;j[254]=j[254]=1;function Z(){L.call(this,"utf-8 decode"),this.leftOver=null}function q(){L.call(this,"utf-8 encode")}w.utf8encode=function(X){return T.nodebuffer?P.newBufferFrom(X,"utf-8"):function(ee){var $,re,se,fe,ye,Oe=ee.length,Ie=0;for(fe=0;fe<Oe;fe++)(64512&(re=ee.charCodeAt(fe)))==55296&&fe+1<Oe&&(64512&(se=ee.charCodeAt(fe+1)))==56320&&(re=65536+(re-55296<<10)+(se-56320),fe++),Ie+=re<128?1:re<2048?2:re<65536?3:4;for($=T.uint8array?new Uint8Array(Ie):new Array(Ie),fe=ye=0;ye<Ie;fe++)(64512&(re=ee.charCodeAt(fe)))==55296&&fe+1<Oe&&(64512&(se=ee.charCodeAt(fe+1)))==56320&&(re=65536+(re-55296<<10)+(se-56320),fe++),re<128?$[ye++]=re:(re<2048?$[ye++]=192|re>>>6:(re<65536?$[ye++]=224|re>>>12:($[ye++]=240|re>>>18,$[ye++]=128|re>>>12&63),$[ye++]=128|re>>>6&63),$[ye++]=128|63&re);return $}(X)},w.utf8decode=function(X){return T.nodebuffer?E.transformTo("nodebuffer",X).toString("utf-8"):function(ee){var $,re,se,fe,ye=ee.length,Oe=new Array(2*ye);for($=re=0;$<ye;)if((se=ee[$++])<128)Oe[re++]=se;else if(4<(fe=j[se]))Oe[re++]=65533,$+=fe-1;else{for(se&=fe===2?31:fe===3?15:7;1<fe&&$<ye;)se=se<<6|63&ee[$++],fe--;1<fe?Oe[re++]=65533:se<65536?Oe[re++]=se:(se-=65536,Oe[re++]=55296|se>>10&1023,Oe[re++]=56320|1023&se)}return Oe.length!==re&&(Oe.subarray?Oe=Oe.subarray(0,re):Oe.length=re),E.applyFromCharCode(Oe)}(X=E.transformTo(T.uint8array?"uint8array":"array",X))},E.inherits(Z,L),Z.prototype.processChunk=function(X){var ee=E.transformTo(T.uint8array?"uint8array":"array",X.data);if(this.leftOver&&this.leftOver.length){if(T.uint8array){var $=ee;(ee=new Uint8Array($.length+this.leftOver.length)).set(this.leftOver,0),ee.set($,this.leftOver.length)}else ee=this.leftOver.concat(ee);this.leftOver=null}var re=function(fe,ye){var Oe;for((ye=ye||fe.length)>fe.length&&(ye=fe.length),Oe=ye-1;0<=Oe&&(192&fe[Oe])==128;)Oe--;return Oe<0||Oe===0?ye:Oe+j[fe[Oe]]>ye?Oe:ye}(ee),se=ee;re!==ee.length&&(T.uint8array?(se=ee.subarray(0,re),this.leftOver=ee.subarray(re,ee.length)):(se=ee.slice(0,re),this.leftOver=ee.slice(re,ee.length))),this.push({data:w.utf8decode(se),meta:X.meta})},Z.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:w.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},w.Utf8DecodeWorker=Z,E.inherits(q,L),q.prototype.processChunk=function(X){this.push({data:w.utf8encode(X.data),meta:X.meta})},w.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,m,w){var E=u("./support"),T=u("./base64"),P=u("./nodejsUtils"),L=u("./external");function j($){return $}function K($,re){for(var se=0;se<$.length;++se)re[se]=255&$.charCodeAt(se);return re}u("setimmediate"),w.newBlob=function($,re){w.checkSupport("blob");try{return new Blob([$],{type:re})}catch{try{var se=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return se.append($),se.getBlob(re)}catch{throw new Error("Bug : can't construct the Blob.")}}};var Z={stringifyByChunk:function($,re,se){var fe=[],ye=0,Oe=$.length;if(Oe<=se)return String.fromCharCode.apply(null,$);for(;ye<Oe;)re==="array"||re==="nodebuffer"?fe.push(String.fromCharCode.apply(null,$.slice(ye,Math.min(ye+se,Oe)))):fe.push(String.fromCharCode.apply(null,$.subarray(ye,Math.min(ye+se,Oe)))),ye+=se;return fe.join("")},stringifyByChar:function($){for(var re="",se=0;se<$.length;se++)re+=String.fromCharCode($[se]);return re},applyCanBeUsed:{uint8array:function(){try{return E.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return E.nodebuffer&&String.fromCharCode.apply(null,P.allocBuffer(1)).length===1}catch{return!1}}()}};function q($){var re=65536,se=w.getTypeOf($),fe=!0;if(se==="uint8array"?fe=Z.applyCanBeUsed.uint8array:se==="nodebuffer"&&(fe=Z.applyCanBeUsed.nodebuffer),fe)for(;1<re;)try{return Z.stringifyByChunk($,se,re)}catch{re=Math.floor(re/2)}return Z.stringifyByChar($)}function X($,re){for(var se=0;se<$.length;se++)re[se]=$[se];return re}w.applyFromCharCode=q;var ee={};ee.string={string:j,array:function($){return K($,new Array($.length))},arraybuffer:function($){return ee.string.uint8array($).buffer},uint8array:function($){return K($,new Uint8Array($.length))},nodebuffer:function($){return K($,P.allocBuffer($.length))}},ee.array={string:q,array:j,arraybuffer:function($){return new Uint8Array($).buffer},uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return P.newBufferFrom($)}},ee.arraybuffer={string:function($){return q(new Uint8Array($))},array:function($){return X(new Uint8Array($),new Array($.byteLength))},arraybuffer:j,uint8array:function($){return new Uint8Array($)},nodebuffer:function($){return P.newBufferFrom(new Uint8Array($))}},ee.uint8array={string:q,array:function($){return X($,new Array($.length))},arraybuffer:function($){return $.buffer},uint8array:j,nodebuffer:function($){return P.newBufferFrom($)}},ee.nodebuffer={string:q,array:function($){return X($,new Array($.length))},arraybuffer:function($){return ee.nodebuffer.uint8array($).buffer},uint8array:function($){return X($,new Uint8Array($.length))},nodebuffer:j},w.transformTo=function($,re){if(re=re||"",!$)return re;w.checkSupport($);var se=w.getTypeOf(re);return ee[se][$](re)},w.resolve=function($){for(var re=$.split("/"),se=[],fe=0;fe<re.length;fe++){var ye=re[fe];ye==="."||ye===""&&fe!==0&&fe!==re.length-1||(ye===".."?se.pop():se.push(ye))}return se.join("/")},w.getTypeOf=function($){return typeof $=="string"?"string":Object.prototype.toString.call($)==="[object Array]"?"array":E.nodebuffer&&P.isBuffer($)?"nodebuffer":E.uint8array&&$ instanceof Uint8Array?"uint8array":E.arraybuffer&&$ instanceof ArrayBuffer?"arraybuffer":void 0},w.checkSupport=function($){if(!E[$.toLowerCase()])throw new Error($+" is not supported by this platform")},w.MAX_VALUE_16BITS=65535,w.MAX_VALUE_32BITS=-1,w.pretty=function($){var re,se,fe="";for(se=0;se<($||"").length;se++)fe+="\\x"+((re=$.charCodeAt(se))<16?"0":"")+re.toString(16).toUpperCase();return fe},w.delay=function($,re,se){setImmediate(function(){$.apply(se||null,re||[])})},w.inherits=function($,re){function se(){}se.prototype=re.prototype,$.prototype=new se},w.extend=function(){var $,re,se={};for($=0;$<arguments.length;$++)for(re in arguments[$])Object.prototype.hasOwnProperty.call(arguments[$],re)&&se[re]===void 0&&(se[re]=arguments[$][re]);return se},w.prepareContent=function($,re,se,fe,ye){return L.Promise.resolve(re).then(function(Oe){return E.blob&&(Oe instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(Oe))!==-1)&&typeof FileReader<"u"?new L.Promise(function(Ie,je){var yt=new FileReader;yt.onload=function(st){Ie(st.target.result)},yt.onerror=function(st){je(st.target.error)},yt.readAsArrayBuffer(Oe)}):Oe}).then(function(Oe){var Ie=w.getTypeOf(Oe);return Ie?(Ie==="arraybuffer"?Oe=w.transformTo("uint8array",Oe):Ie==="string"&&(ye?Oe=T.decode(Oe):se&&fe!==!0&&(Oe=function(je){return K(je,E.uint8array?new Uint8Array(je.length):new Array(je.length))}(Oe))),Oe):L.Promise.reject(new Error("Can't read the data of '"+$+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,m,w){var E=u("./reader/readerFor"),T=u("./utils"),P=u("./signature"),L=u("./zipEntry"),j=u("./support");function K(Z){this.files=[],this.loadOptions=Z}K.prototype={checkSignature:function(Z){if(!this.reader.readAndCheckSignature(Z)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+T.pretty(q)+", expected "+T.pretty(Z)+")")}},isSignature:function(Z,q){var X=this.reader.index;this.reader.setIndex(Z);var ee=this.reader.readString(4)===q;return this.reader.setIndex(X),ee},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var Z=this.reader.readData(this.zipCommentLength),q=j.uint8array?"uint8array":"array",X=T.transformTo(q,Z);this.zipComment=this.loadOptions.decodeFileName(X)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var Z,q,X,ee=this.zip64EndOfCentralSize-44;0<ee;)Z=this.reader.readInt(2),q=this.reader.readInt(4),X=this.reader.readData(q),this.zip64ExtensibleData[Z]={id:Z,length:q,value:X}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var Z,q;for(Z=0;Z<this.files.length;Z++)q=this.files[Z],this.reader.setIndex(q.localHeaderOffset),this.checkSignature(P.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var Z;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(P.CENTRAL_FILE_HEADER);)(Z=new L({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(Z);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var Z=this.reader.lastIndexOfSignature(P.CENTRAL_DIRECTORY_END);if(Z<0)throw this.isSignature(0,P.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(Z);var q=Z;if(this.checkSignature(P.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===T.MAX_VALUE_16BITS||this.diskWithCentralDirStart===T.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===T.MAX_VALUE_16BITS||this.centralDirRecords===T.MAX_VALUE_16BITS||this.centralDirSize===T.MAX_VALUE_32BITS||this.centralDirOffset===T.MAX_VALUE_32BITS){if(this.zip64=!0,(Z=this.reader.lastIndexOfSignature(P.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(Z),this.checkSignature(P.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,P.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(P.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(P.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var X=this.centralDirOffset+this.centralDirSize;this.zip64&&(X+=20,X+=12+this.zip64EndOfCentralSize);var ee=q-X;if(0<ee)this.isSignature(q,P.CENTRAL_FILE_HEADER)||(this.reader.zero=ee);else if(ee<0)throw new Error("Corrupted zip: missing "+Math.abs(ee)+" bytes.")},prepareReader:function(Z){this.reader=E(Z)},load:function(Z){this.prepareReader(Z),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},m.exports=K},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,m,w){var E=u("./reader/readerFor"),T=u("./utils"),P=u("./compressedObject"),L=u("./crc32"),j=u("./utf8"),K=u("./compressions"),Z=u("./support");function q(X,ee){this.options=X,this.loadOptions=ee}q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(X){var ee,$;if(X.skip(22),this.fileNameLength=X.readInt(2),$=X.readInt(2),this.fileName=X.readData(this.fileNameLength),X.skip($),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((ee=function(re){for(var se in K)if(Object.prototype.hasOwnProperty.call(K,se)&&K[se].magic===re)return K[se];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+T.pretty(this.compressionMethod)+" unknown (inner file : "+T.transformTo("string",this.fileName)+")");this.decompressed=new P(this.compressedSize,this.uncompressedSize,this.crc32,ee,X.readData(this.compressedSize))},readCentralPart:function(X){this.versionMadeBy=X.readInt(2),X.skip(2),this.bitFlag=X.readInt(2),this.compressionMethod=X.readString(2),this.date=X.readDate(),this.crc32=X.readInt(4),this.compressedSize=X.readInt(4),this.uncompressedSize=X.readInt(4);var ee=X.readInt(2);if(this.extraFieldsLength=X.readInt(2),this.fileCommentLength=X.readInt(2),this.diskNumberStart=X.readInt(2),this.internalFileAttributes=X.readInt(2),this.externalFileAttributes=X.readInt(4),this.localHeaderOffset=X.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");X.skip(ee),this.readExtraFields(X),this.parseZIP64ExtraField(X),this.fileComment=X.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var X=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),X==0&&(this.dosPermissions=63&this.externalFileAttributes),X==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var X=E(this.extraFields[1].value);this.uncompressedSize===T.MAX_VALUE_32BITS&&(this.uncompressedSize=X.readInt(8)),this.compressedSize===T.MAX_VALUE_32BITS&&(this.compressedSize=X.readInt(8)),this.localHeaderOffset===T.MAX_VALUE_32BITS&&(this.localHeaderOffset=X.readInt(8)),this.diskNumberStart===T.MAX_VALUE_32BITS&&(this.diskNumberStart=X.readInt(4))}},readExtraFields:function(X){var ee,$,re,se=X.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});X.index+4<se;)ee=X.readInt(2),$=X.readInt(2),re=X.readData($),this.extraFields[ee]={id:ee,length:$,value:re};X.setIndex(se)},handleUTF8:function(){var X=Z.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=j.utf8decode(this.fileName),this.fileCommentStr=j.utf8decode(this.fileComment);else{var ee=this.findExtraFieldUnicodePath();if(ee!==null)this.fileNameStr=ee;else{var $=T.transformTo(X,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName($)}var re=this.findExtraFieldUnicodeComment();if(re!==null)this.fileCommentStr=re;else{var se=T.transformTo(X,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(se)}}},findExtraFieldUnicodePath:function(){var X=this.extraFields[28789];if(X){var ee=E(X.value);return ee.readInt(1)!==1||L(this.fileName)!==ee.readInt(4)?null:j.utf8decode(ee.readData(X.length-5))}return null},findExtraFieldUnicodeComment:function(){var X=this.extraFields[25461];if(X){var ee=E(X.value);return ee.readInt(1)!==1||L(this.fileComment)!==ee.readInt(4)?null:j.utf8decode(ee.readData(X.length-5))}return null}},m.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,m,w){function E(ee,$,re){this.name=ee,this.dir=re.dir,this.date=re.date,this.comment=re.comment,this.unixPermissions=re.unixPermissions,this.dosPermissions=re.dosPermissions,this._data=$,this._dataBinary=re.binary,this.options={compression:re.compression,compressionOptions:re.compressionOptions}}var T=u("./stream/StreamHelper"),P=u("./stream/DataWorker"),L=u("./utf8"),j=u("./compressedObject"),K=u("./stream/GenericWorker");E.prototype={internalStream:function(ee){var $=null,re="string";try{if(!ee)throw new Error("No output type specified.");var se=(re=ee.toLowerCase())==="string"||re==="text";re!=="binarystring"&&re!=="text"||(re="string"),$=this._decompressWorker();var fe=!this._dataBinary;fe&&!se&&($=$.pipe(new L.Utf8EncodeWorker)),!fe&&se&&($=$.pipe(new L.Utf8DecodeWorker))}catch(ye){($=new K("error")).error(ye)}return new T($,re,"")},async:function(ee,$){return this.internalStream(ee).accumulate($)},nodeStream:function(ee,$){return this.internalStream(ee||"nodebuffer").toNodejsStream($)},_compressWorker:function(ee,$){if(this._data instanceof j&&this._data.compression.magic===ee.magic)return this._data.getCompressedWorker();var re=this._decompressWorker();return this._dataBinary||(re=re.pipe(new L.Utf8EncodeWorker)),j.createWorkerFrom(re,ee,$)},_decompressWorker:function(){return this._data instanceof j?this._data.getContentWorker():this._data instanceof K?this._data:new P(this._data)}};for(var Z=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},X=0;X<Z.length;X++)E.prototype[Z[X]]=q;m.exports=E},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,m,w){(function(E){var T,P,L=E.MutationObserver||E.WebKitMutationObserver;if(L){var j=0,K=new L(ee),Z=E.document.createTextNode("");K.observe(Z,{characterData:!0}),T=function(){Z.data=j=++j%2}}else if(E.setImmediate||E.MessageChannel===void 0)T="document"in E&&"onreadystatechange"in E.document.createElement("script")?function(){var $=E.document.createElement("script");$.onreadystatechange=function(){ee(),$.onreadystatechange=null,$.parentNode.removeChild($),$=null},E.document.documentElement.appendChild($)}:function(){setTimeout(ee,0)};else{var q=new E.MessageChannel;q.port1.onmessage=ee,T=function(){q.port2.postMessage(0)}}var X=[];function ee(){var $,re;P=!0;for(var se=X.length;se;){for(re=X,X=[],$=-1;++$<se;)re[$]();se=X.length}P=!1}m.exports=function($){X.push($)!==1||P||T()}}).call(this,typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,m,w){var E=u("immediate");function T(){}var P={},L=["REJECTED"],j=["FULFILLED"],K=["PENDING"];function Z(se){if(typeof se!="function")throw new TypeError("resolver must be a function");this.state=K,this.queue=[],this.outcome=void 0,se!==T&&$(this,se)}function q(se,fe,ye){this.promise=se,typeof fe=="function"&&(this.onFulfilled=fe,this.callFulfilled=this.otherCallFulfilled),typeof ye=="function"&&(this.onRejected=ye,this.callRejected=this.otherCallRejected)}function X(se,fe,ye){E(function(){var Oe;try{Oe=fe(ye)}catch(Ie){return P.reject(se,Ie)}Oe===se?P.reject(se,new TypeError("Cannot resolve promise with itself")):P.resolve(se,Oe)})}function ee(se){var fe=se&&se.then;if(se&&(typeof se=="object"||typeof se=="function")&&typeof fe=="function")return function(){fe.apply(se,arguments)}}function $(se,fe){var ye=!1;function Oe(yt){ye||(ye=!0,P.reject(se,yt))}function Ie(yt){ye||(ye=!0,P.resolve(se,yt))}var je=re(function(){fe(Ie,Oe)});je.status==="error"&&Oe(je.value)}function re(se,fe){var ye={};try{ye.value=se(fe),ye.status="success"}catch(Oe){ye.status="error",ye.value=Oe}return ye}(m.exports=Z).prototype.finally=function(se){if(typeof se!="function")return this;var fe=this.constructor;return this.then(function(ye){return fe.resolve(se()).then(function(){return ye})},function(ye){return fe.resolve(se()).then(function(){throw ye})})},Z.prototype.catch=function(se){return this.then(null,se)},Z.prototype.then=function(se,fe){if(typeof se!="function"&&this.state===j||typeof fe!="function"&&this.state===L)return this;var ye=new this.constructor(T);return this.state!==K?X(ye,this.state===j?se:fe,this.outcome):this.queue.push(new q(ye,se,fe)),ye},q.prototype.callFulfilled=function(se){P.resolve(this.promise,se)},q.prototype.otherCallFulfilled=function(se){X(this.promise,this.onFulfilled,se)},q.prototype.callRejected=function(se){P.reject(this.promise,se)},q.prototype.otherCallRejected=function(se){X(this.promise,this.onRejected,se)},P.resolve=function(se,fe){var ye=re(ee,fe);if(ye.status==="error")return P.reject(se,ye.value);var Oe=ye.value;if(Oe)$(se,Oe);else{se.state=j,se.outcome=fe;for(var Ie=-1,je=se.queue.length;++Ie<je;)se.queue[Ie].callFulfilled(fe)}return se},P.reject=function(se,fe){se.state=L,se.outcome=fe;for(var ye=-1,Oe=se.queue.length;++ye<Oe;)se.queue[ye].callRejected(fe);return se},Z.resolve=function(se){return se instanceof this?se:P.resolve(new this(T),se)},Z.reject=function(se){var fe=new this(T);return P.reject(fe,se)},Z.all=function(se){var fe=this;if(Object.prototype.toString.call(se)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ye=se.length,Oe=!1;if(!ye)return this.resolve([]);for(var Ie=new Array(ye),je=0,yt=-1,st=new this(T);++yt<ye;)ft(se[yt],yt);return st;function ft(It,vn){fe.resolve(It).then(function(We){Ie[vn]=We,++je!==ye||Oe||(Oe=!0,P.resolve(st,Ie))},function(We){Oe||(Oe=!0,P.reject(st,We))})}},Z.race=function(se){var fe=this;if(Object.prototype.toString.call(se)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ye=se.length,Oe=!1;if(!ye)return this.resolve([]);for(var Ie=-1,je=new this(T);++Ie<ye;)yt=se[Ie],fe.resolve(yt).then(function(st){Oe||(Oe=!0,P.resolve(je,st))},function(st){Oe||(Oe=!0,P.reject(je,st))});var yt;return je}},{immediate:36}],38:[function(u,m,w){var E={};(0,u("./lib/utils/common").assign)(E,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),m.exports=E},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,m,w){var E=u("./zlib/deflate"),T=u("./utils/common"),P=u("./utils/strings"),L=u("./zlib/messages"),j=u("./zlib/zstream"),K=Object.prototype.toString,Z=0,q=-1,X=0,ee=8;function $(se){if(!(this instanceof $))return new $(se);this.options=T.assign({level:q,method:ee,chunkSize:16384,windowBits:15,memLevel:8,strategy:X,to:""},se||{});var fe=this.options;fe.raw&&0<fe.windowBits?fe.windowBits=-fe.windowBits:fe.gzip&&0<fe.windowBits&&fe.windowBits<16&&(fe.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var ye=E.deflateInit2(this.strm,fe.level,fe.method,fe.windowBits,fe.memLevel,fe.strategy);if(ye!==Z)throw new Error(L[ye]);if(fe.header&&E.deflateSetHeader(this.strm,fe.header),fe.dictionary){var Oe;if(Oe=typeof fe.dictionary=="string"?P.string2buf(fe.dictionary):K.call(fe.dictionary)==="[object ArrayBuffer]"?new Uint8Array(fe.dictionary):fe.dictionary,(ye=E.deflateSetDictionary(this.strm,Oe))!==Z)throw new Error(L[ye]);this._dict_set=!0}}function re(se,fe){var ye=new $(fe);if(ye.push(se,!0),ye.err)throw ye.msg||L[ye.err];return ye.result}$.prototype.push=function(se,fe){var ye,Oe,Ie=this.strm,je=this.options.chunkSize;if(this.ended)return!1;Oe=fe===~~fe?fe:fe===!0?4:0,typeof se=="string"?Ie.input=P.string2buf(se):K.call(se)==="[object ArrayBuffer]"?Ie.input=new Uint8Array(se):Ie.input=se,Ie.next_in=0,Ie.avail_in=Ie.input.length;do{if(Ie.avail_out===0&&(Ie.output=new T.Buf8(je),Ie.next_out=0,Ie.avail_out=je),(ye=E.deflate(Ie,Oe))!==1&&ye!==Z)return this.onEnd(ye),!(this.ended=!0);Ie.avail_out!==0&&(Ie.avail_in!==0||Oe!==4&&Oe!==2)||(this.options.to==="string"?this.onData(P.buf2binstring(T.shrinkBuf(Ie.output,Ie.next_out))):this.onData(T.shrinkBuf(Ie.output,Ie.next_out)))}while((0<Ie.avail_in||Ie.avail_out===0)&&ye!==1);return Oe===4?(ye=E.deflateEnd(this.strm),this.onEnd(ye),this.ended=!0,ye===Z):Oe!==2||(this.onEnd(Z),!(Ie.avail_out=0))},$.prototype.onData=function(se){this.chunks.push(se)},$.prototype.onEnd=function(se){se===Z&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=se,this.msg=this.strm.msg},w.Deflate=$,w.deflate=re,w.deflateRaw=function(se,fe){return(fe=fe||{}).raw=!0,re(se,fe)},w.gzip=function(se,fe){return(fe=fe||{}).gzip=!0,re(se,fe)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,m,w){var E=u("./zlib/inflate"),T=u("./utils/common"),P=u("./utils/strings"),L=u("./zlib/constants"),j=u("./zlib/messages"),K=u("./zlib/zstream"),Z=u("./zlib/gzheader"),q=Object.prototype.toString;function X($){if(!(this instanceof X))return new X($);this.options=T.assign({chunkSize:16384,windowBits:0,to:""},$||{});var re=this.options;re.raw&&0<=re.windowBits&&re.windowBits<16&&(re.windowBits=-re.windowBits,re.windowBits===0&&(re.windowBits=-15)),!(0<=re.windowBits&&re.windowBits<16)||$&&$.windowBits||(re.windowBits+=32),15<re.windowBits&&re.windowBits<48&&!(15&re.windowBits)&&(re.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K,this.strm.avail_out=0;var se=E.inflateInit2(this.strm,re.windowBits);if(se!==L.Z_OK)throw new Error(j[se]);this.header=new Z,E.inflateGetHeader(this.strm,this.header)}function ee($,re){var se=new X(re);if(se.push($,!0),se.err)throw se.msg||j[se.err];return se.result}X.prototype.push=function($,re){var se,fe,ye,Oe,Ie,je,yt=this.strm,st=this.options.chunkSize,ft=this.options.dictionary,It=!1;if(this.ended)return!1;fe=re===~~re?re:re===!0?L.Z_FINISH:L.Z_NO_FLUSH,typeof $=="string"?yt.input=P.binstring2buf($):q.call($)==="[object ArrayBuffer]"?yt.input=new Uint8Array($):yt.input=$,yt.next_in=0,yt.avail_in=yt.input.length;do{if(yt.avail_out===0&&(yt.output=new T.Buf8(st),yt.next_out=0,yt.avail_out=st),(se=E.inflate(yt,L.Z_NO_FLUSH))===L.Z_NEED_DICT&&ft&&(je=typeof ft=="string"?P.string2buf(ft):q.call(ft)==="[object ArrayBuffer]"?new Uint8Array(ft):ft,se=E.inflateSetDictionary(this.strm,je)),se===L.Z_BUF_ERROR&&It===!0&&(se=L.Z_OK,It=!1),se!==L.Z_STREAM_END&&se!==L.Z_OK)return this.onEnd(se),!(this.ended=!0);yt.next_out&&(yt.avail_out!==0&&se!==L.Z_STREAM_END&&(yt.avail_in!==0||fe!==L.Z_FINISH&&fe!==L.Z_SYNC_FLUSH)||(this.options.to==="string"?(ye=P.utf8border(yt.output,yt.next_out),Oe=yt.next_out-ye,Ie=P.buf2string(yt.output,ye),yt.next_out=Oe,yt.avail_out=st-Oe,Oe&&T.arraySet(yt.output,yt.output,ye,Oe,0),this.onData(Ie)):this.onData(T.shrinkBuf(yt.output,yt.next_out)))),yt.avail_in===0&&yt.avail_out===0&&(It=!0)}while((0<yt.avail_in||yt.avail_out===0)&&se!==L.Z_STREAM_END);return se===L.Z_STREAM_END&&(fe=L.Z_FINISH),fe===L.Z_FINISH?(se=E.inflateEnd(this.strm),this.onEnd(se),this.ended=!0,se===L.Z_OK):fe!==L.Z_SYNC_FLUSH||(this.onEnd(L.Z_OK),!(yt.avail_out=0))},X.prototype.onData=function($){this.chunks.push($)},X.prototype.onEnd=function($){$===L.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg},w.Inflate=X,w.inflate=ee,w.inflateRaw=function($,re){return(re=re||{}).raw=!0,ee($,re)},w.ungzip=ee},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,m,w){var E=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";w.assign=function(L){for(var j=Array.prototype.slice.call(arguments,1);j.length;){var K=j.shift();if(K){if(typeof K!="object")throw new TypeError(K+"must be non-object");for(var Z in K)K.hasOwnProperty(Z)&&(L[Z]=K[Z])}}return L},w.shrinkBuf=function(L,j){return L.length===j?L:L.subarray?L.subarray(0,j):(L.length=j,L)};var T={arraySet:function(L,j,K,Z,q){if(j.subarray&&L.subarray)L.set(j.subarray(K,K+Z),q);else for(var X=0;X<Z;X++)L[q+X]=j[K+X]},flattenChunks:function(L){var j,K,Z,q,X,ee;for(j=Z=0,K=L.length;j<K;j++)Z+=L[j].length;for(ee=new Uint8Array(Z),j=q=0,K=L.length;j<K;j++)X=L[j],ee.set(X,q),q+=X.length;return ee}},P={arraySet:function(L,j,K,Z,q){for(var X=0;X<Z;X++)L[q+X]=j[K+X]},flattenChunks:function(L){return[].concat.apply([],L)}};w.setTyped=function(L){L?(w.Buf8=Uint8Array,w.Buf16=Uint16Array,w.Buf32=Int32Array,w.assign(w,T)):(w.Buf8=Array,w.Buf16=Array,w.Buf32=Array,w.assign(w,P))},w.setTyped(E)},{}],42:[function(u,m,w){var E=u("./common"),T=!0,P=!0;try{String.fromCharCode.apply(null,[0])}catch{T=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{P=!1}for(var L=new E.Buf8(256),j=0;j<256;j++)L[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;function K(Z,q){if(q<65537&&(Z.subarray&&P||!Z.subarray&&T))return String.fromCharCode.apply(null,E.shrinkBuf(Z,q));for(var X="",ee=0;ee<q;ee++)X+=String.fromCharCode(Z[ee]);return X}L[254]=L[254]=1,w.string2buf=function(Z){var q,X,ee,$,re,se=Z.length,fe=0;for($=0;$<se;$++)(64512&(X=Z.charCodeAt($)))==55296&&$+1<se&&(64512&(ee=Z.charCodeAt($+1)))==56320&&(X=65536+(X-55296<<10)+(ee-56320),$++),fe+=X<128?1:X<2048?2:X<65536?3:4;for(q=new E.Buf8(fe),$=re=0;re<fe;$++)(64512&(X=Z.charCodeAt($)))==55296&&$+1<se&&(64512&(ee=Z.charCodeAt($+1)))==56320&&(X=65536+(X-55296<<10)+(ee-56320),$++),X<128?q[re++]=X:(X<2048?q[re++]=192|X>>>6:(X<65536?q[re++]=224|X>>>12:(q[re++]=240|X>>>18,q[re++]=128|X>>>12&63),q[re++]=128|X>>>6&63),q[re++]=128|63&X);return q},w.buf2binstring=function(Z){return K(Z,Z.length)},w.binstring2buf=function(Z){for(var q=new E.Buf8(Z.length),X=0,ee=q.length;X<ee;X++)q[X]=Z.charCodeAt(X);return q},w.buf2string=function(Z,q){var X,ee,$,re,se=q||Z.length,fe=new Array(2*se);for(X=ee=0;X<se;)if(($=Z[X++])<128)fe[ee++]=$;else if(4<(re=L[$]))fe[ee++]=65533,X+=re-1;else{for($&=re===2?31:re===3?15:7;1<re&&X<se;)$=$<<6|63&Z[X++],re--;1<re?fe[ee++]=65533:$<65536?fe[ee++]=$:($-=65536,fe[ee++]=55296|$>>10&1023,fe[ee++]=56320|1023&$)}return K(fe,ee)},w.utf8border=function(Z,q){var X;for((q=q||Z.length)>Z.length&&(q=Z.length),X=q-1;0<=X&&(192&Z[X])==128;)X--;return X<0||X===0?q:X+L[Z[X]]>q?X:q}},{"./common":41}],43:[function(u,m,w){m.exports=function(E,T,P,L){for(var j=65535&E|0,K=E>>>16&65535|0,Z=0;P!==0;){for(P-=Z=2e3<P?2e3:P;K=K+(j=j+T[L++]|0)|0,--Z;);j%=65521,K%=65521}return j|K<<16|0}},{}],44:[function(u,m,w){m.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,m,w){var E=function(){for(var T,P=[],L=0;L<256;L++){T=L;for(var j=0;j<8;j++)T=1&T?3988292384^T>>>1:T>>>1;P[L]=T}return P}();m.exports=function(T,P,L,j){var K=E,Z=j+L;T^=-1;for(var q=j;q<Z;q++)T=T>>>8^K[255&(T^P[q])];return-1^T}},{}],46:[function(u,m,w){var E,T=u("../utils/common"),P=u("./trees"),L=u("./adler32"),j=u("./crc32"),K=u("./messages"),Z=0,q=4,X=0,ee=-2,$=-1,re=4,se=2,fe=8,ye=9,Oe=286,Ie=30,je=19,yt=2*Oe+1,st=15,ft=3,It=258,vn=It+ft+1,We=42,Pt=113,be=1,Ht=2,hr=3,bt=4;function Et(ke,An){return ke.msg=K[An],An}function Vt(ke){return(ke<<1)-(4<ke?9:0)}function zn(ke){for(var An=ke.length;0<=--An;)ke[An]=0}function Xe(ke){var An=ke.state,bn=An.pending;bn>ke.avail_out&&(bn=ke.avail_out),bn!==0&&(T.arraySet(ke.output,An.pending_buf,An.pending_out,bn,ke.next_out),ke.next_out+=bn,An.pending_out+=bn,ke.total_out+=bn,ke.avail_out-=bn,An.pending-=bn,An.pending===0&&(An.pending_out=0))}function nt(ke,An){P._tr_flush_block(ke,0<=ke.block_start?ke.block_start:-1,ke.strstart-ke.block_start,An),ke.block_start=ke.strstart,Xe(ke.strm)}function un(ke,An){ke.pending_buf[ke.pending++]=An}function pn(ke,An){ke.pending_buf[ke.pending++]=An>>>8&255,ke.pending_buf[ke.pending++]=255&An}function xn(ke,An){var bn,gt,pt=ke.max_chain_length,Qt=ke.strstart,Hn=ke.prev_length,er=ke.nice_match,cn=ke.strstart>ke.w_size-vn?ke.strstart-(ke.w_size-vn):0,pr=ke.window,Jn=ke.w_mask,or=ke.prev,ki=ke.strstart+It,Ss=pr[Qt+Hn-1],fo=pr[Qt+Hn];ke.prev_length>=ke.good_match&&(pt>>=2),er>ke.lookahead&&(er=ke.lookahead);do if(pr[(bn=An)+Hn]===fo&&pr[bn+Hn-1]===Ss&&pr[bn]===pr[Qt]&&pr[++bn]===pr[Qt+1]){Qt+=2,bn++;do;while(pr[++Qt]===pr[++bn]&&pr[++Qt]===pr[++bn]&&pr[++Qt]===pr[++bn]&&pr[++Qt]===pr[++bn]&&pr[++Qt]===pr[++bn]&&pr[++Qt]===pr[++bn]&&pr[++Qt]===pr[++bn]&&pr[++Qt]===pr[++bn]&&Qt<ki);if(gt=It-(ki-Qt),Qt=ki-It,Hn<gt){if(ke.match_start=An,er<=(Hn=gt))break;Ss=pr[Qt+Hn-1],fo=pr[Qt+Hn]}}while((An=or[An&Jn])>cn&&--pt!=0);return Hn<=ke.lookahead?Hn:ke.lookahead}function Yt(ke){var An,bn,gt,pt,Qt,Hn,er,cn,pr,Jn,or=ke.w_size;do{if(pt=ke.window_size-ke.lookahead-ke.strstart,ke.strstart>=or+(or-vn)){for(T.arraySet(ke.window,ke.window,or,or,0),ke.match_start-=or,ke.strstart-=or,ke.block_start-=or,An=bn=ke.hash_size;gt=ke.head[--An],ke.head[An]=or<=gt?gt-or:0,--bn;);for(An=bn=or;gt=ke.prev[--An],ke.prev[An]=or<=gt?gt-or:0,--bn;);pt+=or}if(ke.strm.avail_in===0)break;if(Hn=ke.strm,er=ke.window,cn=ke.strstart+ke.lookahead,pr=pt,Jn=void 0,Jn=Hn.avail_in,pr<Jn&&(Jn=pr),bn=Jn===0?0:(Hn.avail_in-=Jn,T.arraySet(er,Hn.input,Hn.next_in,Jn,cn),Hn.state.wrap===1?Hn.adler=L(Hn.adler,er,Jn,cn):Hn.state.wrap===2&&(Hn.adler=j(Hn.adler,er,Jn,cn)),Hn.next_in+=Jn,Hn.total_in+=Jn,Jn),ke.lookahead+=bn,ke.lookahead+ke.insert>=ft)for(Qt=ke.strstart-ke.insert,ke.ins_h=ke.window[Qt],ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[Qt+1])&ke.hash_mask;ke.insert&&(ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[Qt+ft-1])&ke.hash_mask,ke.prev[Qt&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=Qt,Qt++,ke.insert--,!(ke.lookahead+ke.insert<ft)););}while(ke.lookahead<vn&&ke.strm.avail_in!==0)}function Yr(ke,An){for(var bn,gt;;){if(ke.lookahead<vn){if(Yt(ke),ke.lookahead<vn&&An===Z)return be;if(ke.lookahead===0)break}if(bn=0,ke.lookahead>=ft&&(ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ke.strstart+ft-1])&ke.hash_mask,bn=ke.prev[ke.strstart&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ke.strstart),bn!==0&&ke.strstart-bn<=ke.w_size-vn&&(ke.match_length=xn(ke,bn)),ke.match_length>=ft)if(gt=P._tr_tally(ke,ke.strstart-ke.match_start,ke.match_length-ft),ke.lookahead-=ke.match_length,ke.match_length<=ke.max_lazy_match&&ke.lookahead>=ft){for(ke.match_length--;ke.strstart++,ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ke.strstart+ft-1])&ke.hash_mask,bn=ke.prev[ke.strstart&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ke.strstart,--ke.match_length!=0;);ke.strstart++}else ke.strstart+=ke.match_length,ke.match_length=0,ke.ins_h=ke.window[ke.strstart],ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ke.strstart+1])&ke.hash_mask;else gt=P._tr_tally(ke,0,ke.window[ke.strstart]),ke.lookahead--,ke.strstart++;if(gt&&(nt(ke,!1),ke.strm.avail_out===0))return be}return ke.insert=ke.strstart<ft-1?ke.strstart:ft-1,An===q?(nt(ke,!0),ke.strm.avail_out===0?hr:bt):ke.last_lit&&(nt(ke,!1),ke.strm.avail_out===0)?be:Ht}function Nn(ke,An){for(var bn,gt,pt;;){if(ke.lookahead<vn){if(Yt(ke),ke.lookahead<vn&&An===Z)return be;if(ke.lookahead===0)break}if(bn=0,ke.lookahead>=ft&&(ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ke.strstart+ft-1])&ke.hash_mask,bn=ke.prev[ke.strstart&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ke.strstart),ke.prev_length=ke.match_length,ke.prev_match=ke.match_start,ke.match_length=ft-1,bn!==0&&ke.prev_length<ke.max_lazy_match&&ke.strstart-bn<=ke.w_size-vn&&(ke.match_length=xn(ke,bn),ke.match_length<=5&&(ke.strategy===1||ke.match_length===ft&&4096<ke.strstart-ke.match_start)&&(ke.match_length=ft-1)),ke.prev_length>=ft&&ke.match_length<=ke.prev_length){for(pt=ke.strstart+ke.lookahead-ft,gt=P._tr_tally(ke,ke.strstart-1-ke.prev_match,ke.prev_length-ft),ke.lookahead-=ke.prev_length-1,ke.prev_length-=2;++ke.strstart<=pt&&(ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ke.strstart+ft-1])&ke.hash_mask,bn=ke.prev[ke.strstart&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ke.strstart),--ke.prev_length!=0;);if(ke.match_available=0,ke.match_length=ft-1,ke.strstart++,gt&&(nt(ke,!1),ke.strm.avail_out===0))return be}else if(ke.match_available){if((gt=P._tr_tally(ke,0,ke.window[ke.strstart-1]))&&nt(ke,!1),ke.strstart++,ke.lookahead--,ke.strm.avail_out===0)return be}else ke.match_available=1,ke.strstart++,ke.lookahead--}return ke.match_available&&(gt=P._tr_tally(ke,0,ke.window[ke.strstart-1]),ke.match_available=0),ke.insert=ke.strstart<ft-1?ke.strstart:ft-1,An===q?(nt(ke,!0),ke.strm.avail_out===0?hr:bt):ke.last_lit&&(nt(ke,!1),ke.strm.avail_out===0)?be:Ht}function Ur(ke,An,bn,gt,pt){this.good_length=ke,this.max_lazy=An,this.nice_length=bn,this.max_chain=gt,this.func=pt}function vi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new T.Buf16(2*yt),this.dyn_dtree=new T.Buf16(2*(2*Ie+1)),this.bl_tree=new T.Buf16(2*(2*je+1)),zn(this.dyn_ltree),zn(this.dyn_dtree),zn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new T.Buf16(st+1),this.heap=new T.Buf16(2*Oe+1),zn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new T.Buf16(2*Oe+1),zn(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Gi(ke){var An;return ke&&ke.state?(ke.total_in=ke.total_out=0,ke.data_type=se,(An=ke.state).pending=0,An.pending_out=0,An.wrap<0&&(An.wrap=-An.wrap),An.status=An.wrap?We:Pt,ke.adler=An.wrap===2?0:1,An.last_flush=Z,P._tr_init(An),X):Et(ke,ee)}function Di(ke){var An=Gi(ke);return An===X&&function(bn){bn.window_size=2*bn.w_size,zn(bn.head),bn.max_lazy_match=E[bn.level].max_lazy,bn.good_match=E[bn.level].good_length,bn.nice_match=E[bn.level].nice_length,bn.max_chain_length=E[bn.level].max_chain,bn.strstart=0,bn.block_start=0,bn.lookahead=0,bn.insert=0,bn.match_length=bn.prev_length=ft-1,bn.match_available=0,bn.ins_h=0}(ke.state),An}function Rs(ke,An,bn,gt,pt,Qt){if(!ke)return ee;var Hn=1;if(An===$&&(An=6),gt<0?(Hn=0,gt=-gt):15<gt&&(Hn=2,gt-=16),pt<1||ye<pt||bn!==fe||gt<8||15<gt||An<0||9<An||Qt<0||re<Qt)return Et(ke,ee);gt===8&&(gt=9);var er=new vi;return(ke.state=er).strm=ke,er.wrap=Hn,er.gzhead=null,er.w_bits=gt,er.w_size=1<<er.w_bits,er.w_mask=er.w_size-1,er.hash_bits=pt+7,er.hash_size=1<<er.hash_bits,er.hash_mask=er.hash_size-1,er.hash_shift=~~((er.hash_bits+ft-1)/ft),er.window=new T.Buf8(2*er.w_size),er.head=new T.Buf16(er.hash_size),er.prev=new T.Buf16(er.w_size),er.lit_bufsize=1<<pt+6,er.pending_buf_size=4*er.lit_bufsize,er.pending_buf=new T.Buf8(er.pending_buf_size),er.d_buf=1*er.lit_bufsize,er.l_buf=3*er.lit_bufsize,er.level=An,er.strategy=Qt,er.method=bn,Di(ke)}E=[new Ur(0,0,0,0,function(ke,An){var bn=65535;for(bn>ke.pending_buf_size-5&&(bn=ke.pending_buf_size-5);;){if(ke.lookahead<=1){if(Yt(ke),ke.lookahead===0&&An===Z)return be;if(ke.lookahead===0)break}ke.strstart+=ke.lookahead,ke.lookahead=0;var gt=ke.block_start+bn;if((ke.strstart===0||ke.strstart>=gt)&&(ke.lookahead=ke.strstart-gt,ke.strstart=gt,nt(ke,!1),ke.strm.avail_out===0)||ke.strstart-ke.block_start>=ke.w_size-vn&&(nt(ke,!1),ke.strm.avail_out===0))return be}return ke.insert=0,An===q?(nt(ke,!0),ke.strm.avail_out===0?hr:bt):(ke.strstart>ke.block_start&&(nt(ke,!1),ke.strm.avail_out),be)}),new Ur(4,4,8,4,Yr),new Ur(4,5,16,8,Yr),new Ur(4,6,32,32,Yr),new Ur(4,4,16,16,Nn),new Ur(8,16,32,32,Nn),new Ur(8,16,128,128,Nn),new Ur(8,32,128,256,Nn),new Ur(32,128,258,1024,Nn),new Ur(32,258,258,4096,Nn)],w.deflateInit=function(ke,An){return Rs(ke,An,fe,15,8,0)},w.deflateInit2=Rs,w.deflateReset=Di,w.deflateResetKeep=Gi,w.deflateSetHeader=function(ke,An){return ke&&ke.state?ke.state.wrap!==2?ee:(ke.state.gzhead=An,X):ee},w.deflate=function(ke,An){var bn,gt,pt,Qt;if(!ke||!ke.state||5<An||An<0)return ke?Et(ke,ee):ee;if(gt=ke.state,!ke.output||!ke.input&&ke.avail_in!==0||gt.status===666&&An!==q)return Et(ke,ke.avail_out===0?-5:ee);if(gt.strm=ke,bn=gt.last_flush,gt.last_flush=An,gt.status===We)if(gt.wrap===2)ke.adler=0,un(gt,31),un(gt,139),un(gt,8),gt.gzhead?(un(gt,(gt.gzhead.text?1:0)+(gt.gzhead.hcrc?2:0)+(gt.gzhead.extra?4:0)+(gt.gzhead.name?8:0)+(gt.gzhead.comment?16:0)),un(gt,255&gt.gzhead.time),un(gt,gt.gzhead.time>>8&255),un(gt,gt.gzhead.time>>16&255),un(gt,gt.gzhead.time>>24&255),un(gt,gt.level===9?2:2<=gt.strategy||gt.level<2?4:0),un(gt,255&gt.gzhead.os),gt.gzhead.extra&&gt.gzhead.extra.length&&(un(gt,255&gt.gzhead.extra.length),un(gt,gt.gzhead.extra.length>>8&255)),gt.gzhead.hcrc&&(ke.adler=j(ke.adler,gt.pending_buf,gt.pending,0)),gt.gzindex=0,gt.status=69):(un(gt,0),un(gt,0),un(gt,0),un(gt,0),un(gt,0),un(gt,gt.level===9?2:2<=gt.strategy||gt.level<2?4:0),un(gt,3),gt.status=Pt);else{var Hn=fe+(gt.w_bits-8<<4)<<8;Hn|=(2<=gt.strategy||gt.level<2?0:gt.level<6?1:gt.level===6?2:3)<<6,gt.strstart!==0&&(Hn|=32),Hn+=31-Hn%31,gt.status=Pt,pn(gt,Hn),gt.strstart!==0&&(pn(gt,ke.adler>>>16),pn(gt,65535&ke.adler)),ke.adler=1}if(gt.status===69)if(gt.gzhead.extra){for(pt=gt.pending;gt.gzindex<(65535&gt.gzhead.extra.length)&&(gt.pending!==gt.pending_buf_size||(gt.gzhead.hcrc&&gt.pending>pt&&(ke.adler=j(ke.adler,gt.pending_buf,gt.pending-pt,pt)),Xe(ke),pt=gt.pending,gt.pending!==gt.pending_buf_size));)un(gt,255&gt.gzhead.extra[gt.gzindex]),gt.gzindex++;gt.gzhead.hcrc&&gt.pending>pt&&(ke.adler=j(ke.adler,gt.pending_buf,gt.pending-pt,pt)),gt.gzindex===gt.gzhead.extra.length&&(gt.gzindex=0,gt.status=73)}else gt.status=73;if(gt.status===73)if(gt.gzhead.name){pt=gt.pending;do{if(gt.pending===gt.pending_buf_size&&(gt.gzhead.hcrc&&gt.pending>pt&&(ke.adler=j(ke.adler,gt.pending_buf,gt.pending-pt,pt)),Xe(ke),pt=gt.pending,gt.pending===gt.pending_buf_size)){Qt=1;break}Qt=gt.gzindex<gt.gzhead.name.length?255&gt.gzhead.name.charCodeAt(gt.gzindex++):0,un(gt,Qt)}while(Qt!==0);gt.gzhead.hcrc&&gt.pending>pt&&(ke.adler=j(ke.adler,gt.pending_buf,gt.pending-pt,pt)),Qt===0&&(gt.gzindex=0,gt.status=91)}else gt.status=91;if(gt.status===91)if(gt.gzhead.comment){pt=gt.pending;do{if(gt.pending===gt.pending_buf_size&&(gt.gzhead.hcrc&&gt.pending>pt&&(ke.adler=j(ke.adler,gt.pending_buf,gt.pending-pt,pt)),Xe(ke),pt=gt.pending,gt.pending===gt.pending_buf_size)){Qt=1;break}Qt=gt.gzindex<gt.gzhead.comment.length?255&gt.gzhead.comment.charCodeAt(gt.gzindex++):0,un(gt,Qt)}while(Qt!==0);gt.gzhead.hcrc&&gt.pending>pt&&(ke.adler=j(ke.adler,gt.pending_buf,gt.pending-pt,pt)),Qt===0&&(gt.status=103)}else gt.status=103;if(gt.status===103&&(gt.gzhead.hcrc?(gt.pending+2>gt.pending_buf_size&&Xe(ke),gt.pending+2<=gt.pending_buf_size&&(un(gt,255&ke.adler),un(gt,ke.adler>>8&255),ke.adler=0,gt.status=Pt)):gt.status=Pt),gt.pending!==0){if(Xe(ke),ke.avail_out===0)return gt.last_flush=-1,X}else if(ke.avail_in===0&&Vt(An)<=Vt(bn)&&An!==q)return Et(ke,-5);if(gt.status===666&&ke.avail_in!==0)return Et(ke,-5);if(ke.avail_in!==0||gt.lookahead!==0||An!==Z&&gt.status!==666){var er=gt.strategy===2?function(cn,pr){for(var Jn;;){if(cn.lookahead===0&&(Yt(cn),cn.lookahead===0)){if(pr===Z)return be;break}if(cn.match_length=0,Jn=P._tr_tally(cn,0,cn.window[cn.strstart]),cn.lookahead--,cn.strstart++,Jn&&(nt(cn,!1),cn.strm.avail_out===0))return be}return cn.insert=0,pr===q?(nt(cn,!0),cn.strm.avail_out===0?hr:bt):cn.last_lit&&(nt(cn,!1),cn.strm.avail_out===0)?be:Ht}(gt,An):gt.strategy===3?function(cn,pr){for(var Jn,or,ki,Ss,fo=cn.window;;){if(cn.lookahead<=It){if(Yt(cn),cn.lookahead<=It&&pr===Z)return be;if(cn.lookahead===0)break}if(cn.match_length=0,cn.lookahead>=ft&&0<cn.strstart&&(or=fo[ki=cn.strstart-1])===fo[++ki]&&or===fo[++ki]&&or===fo[++ki]){Ss=cn.strstart+It;do;while(or===fo[++ki]&&or===fo[++ki]&&or===fo[++ki]&&or===fo[++ki]&&or===fo[++ki]&&or===fo[++ki]&&or===fo[++ki]&&or===fo[++ki]&&ki<Ss);cn.match_length=It-(Ss-ki),cn.match_length>cn.lookahead&&(cn.match_length=cn.lookahead)}if(cn.match_length>=ft?(Jn=P._tr_tally(cn,1,cn.match_length-ft),cn.lookahead-=cn.match_length,cn.strstart+=cn.match_length,cn.match_length=0):(Jn=P._tr_tally(cn,0,cn.window[cn.strstart]),cn.lookahead--,cn.strstart++),Jn&&(nt(cn,!1),cn.strm.avail_out===0))return be}return cn.insert=0,pr===q?(nt(cn,!0),cn.strm.avail_out===0?hr:bt):cn.last_lit&&(nt(cn,!1),cn.strm.avail_out===0)?be:Ht}(gt,An):E[gt.level].func(gt,An);if(er!==hr&&er!==bt||(gt.status=666),er===be||er===hr)return ke.avail_out===0&&(gt.last_flush=-1),X;if(er===Ht&&(An===1?P._tr_align(gt):An!==5&&(P._tr_stored_block(gt,0,0,!1),An===3&&(zn(gt.head),gt.lookahead===0&&(gt.strstart=0,gt.block_start=0,gt.insert=0))),Xe(ke),ke.avail_out===0))return gt.last_flush=-1,X}return An!==q?X:gt.wrap<=0?1:(gt.wrap===2?(un(gt,255&ke.adler),un(gt,ke.adler>>8&255),un(gt,ke.adler>>16&255),un(gt,ke.adler>>24&255),un(gt,255&ke.total_in),un(gt,ke.total_in>>8&255),un(gt,ke.total_in>>16&255),un(gt,ke.total_in>>24&255)):(pn(gt,ke.adler>>>16),pn(gt,65535&ke.adler)),Xe(ke),0<gt.wrap&&(gt.wrap=-gt.wrap),gt.pending!==0?X:1)},w.deflateEnd=function(ke){var An;return ke&&ke.state?(An=ke.state.status)!==We&&An!==69&&An!==73&&An!==91&&An!==103&&An!==Pt&&An!==666?Et(ke,ee):(ke.state=null,An===Pt?Et(ke,-3):X):ee},w.deflateSetDictionary=function(ke,An){var bn,gt,pt,Qt,Hn,er,cn,pr,Jn=An.length;if(!ke||!ke.state||(Qt=(bn=ke.state).wrap)===2||Qt===1&&bn.status!==We||bn.lookahead)return ee;for(Qt===1&&(ke.adler=L(ke.adler,An,Jn,0)),bn.wrap=0,Jn>=bn.w_size&&(Qt===0&&(zn(bn.head),bn.strstart=0,bn.block_start=0,bn.insert=0),pr=new T.Buf8(bn.w_size),T.arraySet(pr,An,Jn-bn.w_size,bn.w_size,0),An=pr,Jn=bn.w_size),Hn=ke.avail_in,er=ke.next_in,cn=ke.input,ke.avail_in=Jn,ke.next_in=0,ke.input=An,Yt(bn);bn.lookahead>=ft;){for(gt=bn.strstart,pt=bn.lookahead-(ft-1);bn.ins_h=(bn.ins_h<<bn.hash_shift^bn.window[gt+ft-1])&bn.hash_mask,bn.prev[gt&bn.w_mask]=bn.head[bn.ins_h],bn.head[bn.ins_h]=gt,gt++,--pt;);bn.strstart=gt,bn.lookahead=ft-1,Yt(bn)}return bn.strstart+=bn.lookahead,bn.block_start=bn.strstart,bn.insert=bn.lookahead,bn.lookahead=0,bn.match_length=bn.prev_length=ft-1,bn.match_available=0,ke.next_in=er,ke.input=cn,ke.avail_in=Hn,bn.wrap=Qt,X},w.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,m,w){m.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,m,w){m.exports=function(E,T){var P,L,j,K,Z,q,X,ee,$,re,se,fe,ye,Oe,Ie,je,yt,st,ft,It,vn,We,Pt,be,Ht;P=E.state,L=E.next_in,be=E.input,j=L+(E.avail_in-5),K=E.next_out,Ht=E.output,Z=K-(T-E.avail_out),q=K+(E.avail_out-257),X=P.dmax,ee=P.wsize,$=P.whave,re=P.wnext,se=P.window,fe=P.hold,ye=P.bits,Oe=P.lencode,Ie=P.distcode,je=(1<<P.lenbits)-1,yt=(1<<P.distbits)-1;e:do{ye<15&&(fe+=be[L++]<<ye,ye+=8,fe+=be[L++]<<ye,ye+=8),st=Oe[fe&je];t:for(;;){if(fe>>>=ft=st>>>24,ye-=ft,(ft=st>>>16&255)===0)Ht[K++]=65535&st;else{if(!(16&ft)){if(!(64&ft)){st=Oe[(65535&st)+(fe&(1<<ft)-1)];continue t}if(32&ft){P.mode=12;break e}E.msg="invalid literal/length code",P.mode=30;break e}It=65535&st,(ft&=15)&&(ye<ft&&(fe+=be[L++]<<ye,ye+=8),It+=fe&(1<<ft)-1,fe>>>=ft,ye-=ft),ye<15&&(fe+=be[L++]<<ye,ye+=8,fe+=be[L++]<<ye,ye+=8),st=Ie[fe&yt];n:for(;;){if(fe>>>=ft=st>>>24,ye-=ft,!(16&(ft=st>>>16&255))){if(!(64&ft)){st=Ie[(65535&st)+(fe&(1<<ft)-1)];continue n}E.msg="invalid distance code",P.mode=30;break e}if(vn=65535&st,ye<(ft&=15)&&(fe+=be[L++]<<ye,(ye+=8)<ft&&(fe+=be[L++]<<ye,ye+=8)),X<(vn+=fe&(1<<ft)-1)){E.msg="invalid distance too far back",P.mode=30;break e}if(fe>>>=ft,ye-=ft,(ft=K-Z)<vn){if($<(ft=vn-ft)&&P.sane){E.msg="invalid distance too far back",P.mode=30;break e}if(Pt=se,(We=0)===re){if(We+=ee-ft,ft<It){for(It-=ft;Ht[K++]=se[We++],--ft;);We=K-vn,Pt=Ht}}else if(re<ft){if(We+=ee+re-ft,(ft-=re)<It){for(It-=ft;Ht[K++]=se[We++],--ft;);if(We=0,re<It){for(It-=ft=re;Ht[K++]=se[We++],--ft;);We=K-vn,Pt=Ht}}}else if(We+=re-ft,ft<It){for(It-=ft;Ht[K++]=se[We++],--ft;);We=K-vn,Pt=Ht}for(;2<It;)Ht[K++]=Pt[We++],Ht[K++]=Pt[We++],Ht[K++]=Pt[We++],It-=3;It&&(Ht[K++]=Pt[We++],1<It&&(Ht[K++]=Pt[We++]))}else{for(We=K-vn;Ht[K++]=Ht[We++],Ht[K++]=Ht[We++],Ht[K++]=Ht[We++],2<(It-=3););It&&(Ht[K++]=Ht[We++],1<It&&(Ht[K++]=Ht[We++]))}break}}break}}while(L<j&&K<q);L-=It=ye>>3,fe&=(1<<(ye-=It<<3))-1,E.next_in=L,E.next_out=K,E.avail_in=L<j?j-L+5:5-(L-j),E.avail_out=K<q?q-K+257:257-(K-q),P.hold=fe,P.bits=ye}},{}],49:[function(u,m,w){var E=u("../utils/common"),T=u("./adler32"),P=u("./crc32"),L=u("./inffast"),j=u("./inftrees"),K=1,Z=2,q=0,X=-2,ee=1,$=852,re=592;function se(We){return(We>>>24&255)+(We>>>8&65280)+((65280&We)<<8)+((255&We)<<24)}function fe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new E.Buf16(320),this.work=new E.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ye(We){var Pt;return We&&We.state?(Pt=We.state,We.total_in=We.total_out=Pt.total=0,We.msg="",Pt.wrap&&(We.adler=1&Pt.wrap),Pt.mode=ee,Pt.last=0,Pt.havedict=0,Pt.dmax=32768,Pt.head=null,Pt.hold=0,Pt.bits=0,Pt.lencode=Pt.lendyn=new E.Buf32($),Pt.distcode=Pt.distdyn=new E.Buf32(re),Pt.sane=1,Pt.back=-1,q):X}function Oe(We){var Pt;return We&&We.state?((Pt=We.state).wsize=0,Pt.whave=0,Pt.wnext=0,ye(We)):X}function Ie(We,Pt){var be,Ht;return We&&We.state?(Ht=We.state,Pt<0?(be=0,Pt=-Pt):(be=1+(Pt>>4),Pt<48&&(Pt&=15)),Pt&&(Pt<8||15<Pt)?X:(Ht.window!==null&&Ht.wbits!==Pt&&(Ht.window=null),Ht.wrap=be,Ht.wbits=Pt,Oe(We))):X}function je(We,Pt){var be,Ht;return We?(Ht=new fe,(We.state=Ht).window=null,(be=Ie(We,Pt))!==q&&(We.state=null),be):X}var yt,st,ft=!0;function It(We){if(ft){var Pt;for(yt=new E.Buf32(512),st=new E.Buf32(32),Pt=0;Pt<144;)We.lens[Pt++]=8;for(;Pt<256;)We.lens[Pt++]=9;for(;Pt<280;)We.lens[Pt++]=7;for(;Pt<288;)We.lens[Pt++]=8;for(j(K,We.lens,0,288,yt,0,We.work,{bits:9}),Pt=0;Pt<32;)We.lens[Pt++]=5;j(Z,We.lens,0,32,st,0,We.work,{bits:5}),ft=!1}We.lencode=yt,We.lenbits=9,We.distcode=st,We.distbits=5}function vn(We,Pt,be,Ht){var hr,bt=We.state;return bt.window===null&&(bt.wsize=1<<bt.wbits,bt.wnext=0,bt.whave=0,bt.window=new E.Buf8(bt.wsize)),Ht>=bt.wsize?(E.arraySet(bt.window,Pt,be-bt.wsize,bt.wsize,0),bt.wnext=0,bt.whave=bt.wsize):(Ht<(hr=bt.wsize-bt.wnext)&&(hr=Ht),E.arraySet(bt.window,Pt,be-Ht,hr,bt.wnext),(Ht-=hr)?(E.arraySet(bt.window,Pt,be-Ht,Ht,0),bt.wnext=Ht,bt.whave=bt.wsize):(bt.wnext+=hr,bt.wnext===bt.wsize&&(bt.wnext=0),bt.whave<bt.wsize&&(bt.whave+=hr))),0}w.inflateReset=Oe,w.inflateReset2=Ie,w.inflateResetKeep=ye,w.inflateInit=function(We){return je(We,15)},w.inflateInit2=je,w.inflate=function(We,Pt){var be,Ht,hr,bt,Et,Vt,zn,Xe,nt,un,pn,xn,Yt,Yr,Nn,Ur,vi,Gi,Di,Rs,ke,An,bn,gt,pt=0,Qt=new E.Buf8(4),Hn=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!We||!We.state||!We.output||!We.input&&We.avail_in!==0)return X;(be=We.state).mode===12&&(be.mode=13),Et=We.next_out,hr=We.output,zn=We.avail_out,bt=We.next_in,Ht=We.input,Vt=We.avail_in,Xe=be.hold,nt=be.bits,un=Vt,pn=zn,An=q;e:for(;;)switch(be.mode){case ee:if(be.wrap===0){be.mode=13;break}for(;nt<16;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(2&be.wrap&&Xe===35615){Qt[be.check=0]=255&Xe,Qt[1]=Xe>>>8&255,be.check=P(be.check,Qt,2,0),nt=Xe=0,be.mode=2;break}if(be.flags=0,be.head&&(be.head.done=!1),!(1&be.wrap)||(((255&Xe)<<8)+(Xe>>8))%31){We.msg="incorrect header check",be.mode=30;break}if((15&Xe)!=8){We.msg="unknown compression method",be.mode=30;break}if(nt-=4,ke=8+(15&(Xe>>>=4)),be.wbits===0)be.wbits=ke;else if(ke>be.wbits){We.msg="invalid window size",be.mode=30;break}be.dmax=1<<ke,We.adler=be.check=1,be.mode=512&Xe?10:12,nt=Xe=0;break;case 2:for(;nt<16;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(be.flags=Xe,(255&be.flags)!=8){We.msg="unknown compression method",be.mode=30;break}if(57344&be.flags){We.msg="unknown header flags set",be.mode=30;break}be.head&&(be.head.text=Xe>>8&1),512&be.flags&&(Qt[0]=255&Xe,Qt[1]=Xe>>>8&255,be.check=P(be.check,Qt,2,0)),nt=Xe=0,be.mode=3;case 3:for(;nt<32;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}be.head&&(be.head.time=Xe),512&be.flags&&(Qt[0]=255&Xe,Qt[1]=Xe>>>8&255,Qt[2]=Xe>>>16&255,Qt[3]=Xe>>>24&255,be.check=P(be.check,Qt,4,0)),nt=Xe=0,be.mode=4;case 4:for(;nt<16;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}be.head&&(be.head.xflags=255&Xe,be.head.os=Xe>>8),512&be.flags&&(Qt[0]=255&Xe,Qt[1]=Xe>>>8&255,be.check=P(be.check,Qt,2,0)),nt=Xe=0,be.mode=5;case 5:if(1024&be.flags){for(;nt<16;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}be.length=Xe,be.head&&(be.head.extra_len=Xe),512&be.flags&&(Qt[0]=255&Xe,Qt[1]=Xe>>>8&255,be.check=P(be.check,Qt,2,0)),nt=Xe=0}else be.head&&(be.head.extra=null);be.mode=6;case 6:if(1024&be.flags&&(Vt<(xn=be.length)&&(xn=Vt),xn&&(be.head&&(ke=be.head.extra_len-be.length,be.head.extra||(be.head.extra=new Array(be.head.extra_len)),E.arraySet(be.head.extra,Ht,bt,xn,ke)),512&be.flags&&(be.check=P(be.check,Ht,xn,bt)),Vt-=xn,bt+=xn,be.length-=xn),be.length))break e;be.length=0,be.mode=7;case 7:if(2048&be.flags){if(Vt===0)break e;for(xn=0;ke=Ht[bt+xn++],be.head&&ke&&be.length<65536&&(be.head.name+=String.fromCharCode(ke)),ke&&xn<Vt;);if(512&be.flags&&(be.check=P(be.check,Ht,xn,bt)),Vt-=xn,bt+=xn,ke)break e}else be.head&&(be.head.name=null);be.length=0,be.mode=8;case 8:if(4096&be.flags){if(Vt===0)break e;for(xn=0;ke=Ht[bt+xn++],be.head&&ke&&be.length<65536&&(be.head.comment+=String.fromCharCode(ke)),ke&&xn<Vt;);if(512&be.flags&&(be.check=P(be.check,Ht,xn,bt)),Vt-=xn,bt+=xn,ke)break e}else be.head&&(be.head.comment=null);be.mode=9;case 9:if(512&be.flags){for(;nt<16;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(Xe!==(65535&be.check)){We.msg="header crc mismatch",be.mode=30;break}nt=Xe=0}be.head&&(be.head.hcrc=be.flags>>9&1,be.head.done=!0),We.adler=be.check=0,be.mode=12;break;case 10:for(;nt<32;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}We.adler=be.check=se(Xe),nt=Xe=0,be.mode=11;case 11:if(be.havedict===0)return We.next_out=Et,We.avail_out=zn,We.next_in=bt,We.avail_in=Vt,be.hold=Xe,be.bits=nt,2;We.adler=be.check=1,be.mode=12;case 12:if(Pt===5||Pt===6)break e;case 13:if(be.last){Xe>>>=7&nt,nt-=7&nt,be.mode=27;break}for(;nt<3;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}switch(be.last=1&Xe,nt-=1,3&(Xe>>>=1)){case 0:be.mode=14;break;case 1:if(It(be),be.mode=20,Pt!==6)break;Xe>>>=2,nt-=2;break e;case 2:be.mode=17;break;case 3:We.msg="invalid block type",be.mode=30}Xe>>>=2,nt-=2;break;case 14:for(Xe>>>=7&nt,nt-=7&nt;nt<32;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if((65535&Xe)!=(Xe>>>16^65535)){We.msg="invalid stored block lengths",be.mode=30;break}if(be.length=65535&Xe,nt=Xe=0,be.mode=15,Pt===6)break e;case 15:be.mode=16;case 16:if(xn=be.length){if(Vt<xn&&(xn=Vt),zn<xn&&(xn=zn),xn===0)break e;E.arraySet(hr,Ht,bt,xn,Et),Vt-=xn,bt+=xn,zn-=xn,Et+=xn,be.length-=xn;break}be.mode=12;break;case 17:for(;nt<14;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(be.nlen=257+(31&Xe),Xe>>>=5,nt-=5,be.ndist=1+(31&Xe),Xe>>>=5,nt-=5,be.ncode=4+(15&Xe),Xe>>>=4,nt-=4,286<be.nlen||30<be.ndist){We.msg="too many length or distance symbols",be.mode=30;break}be.have=0,be.mode=18;case 18:for(;be.have<be.ncode;){for(;nt<3;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}be.lens[Hn[be.have++]]=7&Xe,Xe>>>=3,nt-=3}for(;be.have<19;)be.lens[Hn[be.have++]]=0;if(be.lencode=be.lendyn,be.lenbits=7,bn={bits:be.lenbits},An=j(0,be.lens,0,19,be.lencode,0,be.work,bn),be.lenbits=bn.bits,An){We.msg="invalid code lengths set",be.mode=30;break}be.have=0,be.mode=19;case 19:for(;be.have<be.nlen+be.ndist;){for(;Ur=(pt=be.lencode[Xe&(1<<be.lenbits)-1])>>>16&255,vi=65535&pt,!((Nn=pt>>>24)<=nt);){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(vi<16)Xe>>>=Nn,nt-=Nn,be.lens[be.have++]=vi;else{if(vi===16){for(gt=Nn+2;nt<gt;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(Xe>>>=Nn,nt-=Nn,be.have===0){We.msg="invalid bit length repeat",be.mode=30;break}ke=be.lens[be.have-1],xn=3+(3&Xe),Xe>>>=2,nt-=2}else if(vi===17){for(gt=Nn+3;nt<gt;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}nt-=Nn,ke=0,xn=3+(7&(Xe>>>=Nn)),Xe>>>=3,nt-=3}else{for(gt=Nn+7;nt<gt;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}nt-=Nn,ke=0,xn=11+(127&(Xe>>>=Nn)),Xe>>>=7,nt-=7}if(be.have+xn>be.nlen+be.ndist){We.msg="invalid bit length repeat",be.mode=30;break}for(;xn--;)be.lens[be.have++]=ke}}if(be.mode===30)break;if(be.lens[256]===0){We.msg="invalid code -- missing end-of-block",be.mode=30;break}if(be.lenbits=9,bn={bits:be.lenbits},An=j(K,be.lens,0,be.nlen,be.lencode,0,be.work,bn),be.lenbits=bn.bits,An){We.msg="invalid literal/lengths set",be.mode=30;break}if(be.distbits=6,be.distcode=be.distdyn,bn={bits:be.distbits},An=j(Z,be.lens,be.nlen,be.ndist,be.distcode,0,be.work,bn),be.distbits=bn.bits,An){We.msg="invalid distances set",be.mode=30;break}if(be.mode=20,Pt===6)break e;case 20:be.mode=21;case 21:if(6<=Vt&&258<=zn){We.next_out=Et,We.avail_out=zn,We.next_in=bt,We.avail_in=Vt,be.hold=Xe,be.bits=nt,L(We,pn),Et=We.next_out,hr=We.output,zn=We.avail_out,bt=We.next_in,Ht=We.input,Vt=We.avail_in,Xe=be.hold,nt=be.bits,be.mode===12&&(be.back=-1);break}for(be.back=0;Ur=(pt=be.lencode[Xe&(1<<be.lenbits)-1])>>>16&255,vi=65535&pt,!((Nn=pt>>>24)<=nt);){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(Ur&&!(240&Ur)){for(Gi=Nn,Di=Ur,Rs=vi;Ur=(pt=be.lencode[Rs+((Xe&(1<<Gi+Di)-1)>>Gi)])>>>16&255,vi=65535&pt,!(Gi+(Nn=pt>>>24)<=nt);){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}Xe>>>=Gi,nt-=Gi,be.back+=Gi}if(Xe>>>=Nn,nt-=Nn,be.back+=Nn,be.length=vi,Ur===0){be.mode=26;break}if(32&Ur){be.back=-1,be.mode=12;break}if(64&Ur){We.msg="invalid literal/length code",be.mode=30;break}be.extra=15&Ur,be.mode=22;case 22:if(be.extra){for(gt=be.extra;nt<gt;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}be.length+=Xe&(1<<be.extra)-1,Xe>>>=be.extra,nt-=be.extra,be.back+=be.extra}be.was=be.length,be.mode=23;case 23:for(;Ur=(pt=be.distcode[Xe&(1<<be.distbits)-1])>>>16&255,vi=65535&pt,!((Nn=pt>>>24)<=nt);){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(!(240&Ur)){for(Gi=Nn,Di=Ur,Rs=vi;Ur=(pt=be.distcode[Rs+((Xe&(1<<Gi+Di)-1)>>Gi)])>>>16&255,vi=65535&pt,!(Gi+(Nn=pt>>>24)<=nt);){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}Xe>>>=Gi,nt-=Gi,be.back+=Gi}if(Xe>>>=Nn,nt-=Nn,be.back+=Nn,64&Ur){We.msg="invalid distance code",be.mode=30;break}be.offset=vi,be.extra=15&Ur,be.mode=24;case 24:if(be.extra){for(gt=be.extra;nt<gt;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}be.offset+=Xe&(1<<be.extra)-1,Xe>>>=be.extra,nt-=be.extra,be.back+=be.extra}if(be.offset>be.dmax){We.msg="invalid distance too far back",be.mode=30;break}be.mode=25;case 25:if(zn===0)break e;if(xn=pn-zn,be.offset>xn){if((xn=be.offset-xn)>be.whave&&be.sane){We.msg="invalid distance too far back",be.mode=30;break}Yt=xn>be.wnext?(xn-=be.wnext,be.wsize-xn):be.wnext-xn,xn>be.length&&(xn=be.length),Yr=be.window}else Yr=hr,Yt=Et-be.offset,xn=be.length;for(zn<xn&&(xn=zn),zn-=xn,be.length-=xn;hr[Et++]=Yr[Yt++],--xn;);be.length===0&&(be.mode=21);break;case 26:if(zn===0)break e;hr[Et++]=be.length,zn--,be.mode=21;break;case 27:if(be.wrap){for(;nt<32;){if(Vt===0)break e;Vt--,Xe|=Ht[bt++]<<nt,nt+=8}if(pn-=zn,We.total_out+=pn,be.total+=pn,pn&&(We.adler=be.check=be.flags?P(be.check,hr,pn,Et-pn):T(be.check,hr,pn,Et-pn)),pn=zn,(be.flags?Xe:se(Xe))!==be.check){We.msg="incorrect data check",be.mode=30;break}nt=Xe=0}be.mode=28;case 28:if(be.wrap&&be.flags){for(;nt<32;){if(Vt===0)break e;Vt--,Xe+=Ht[bt++]<<nt,nt+=8}if(Xe!==(4294967295&be.total)){We.msg="incorrect length check",be.mode=30;break}nt=Xe=0}be.mode=29;case 29:An=1;break e;case 30:An=-3;break e;case 31:return-4;case 32:default:return X}return We.next_out=Et,We.avail_out=zn,We.next_in=bt,We.avail_in=Vt,be.hold=Xe,be.bits=nt,(be.wsize||pn!==We.avail_out&&be.mode<30&&(be.mode<27||Pt!==4))&&vn(We,We.output,We.next_out,pn-We.avail_out)?(be.mode=31,-4):(un-=We.avail_in,pn-=We.avail_out,We.total_in+=un,We.total_out+=pn,be.total+=pn,be.wrap&&pn&&(We.adler=be.check=be.flags?P(be.check,hr,pn,We.next_out-pn):T(be.check,hr,pn,We.next_out-pn)),We.data_type=be.bits+(be.last?64:0)+(be.mode===12?128:0)+(be.mode===20||be.mode===15?256:0),(un==0&&pn===0||Pt===4)&&An===q&&(An=-5),An)},w.inflateEnd=function(We){if(!We||!We.state)return X;var Pt=We.state;return Pt.window&&(Pt.window=null),We.state=null,q},w.inflateGetHeader=function(We,Pt){var be;return We&&We.state&&2&(be=We.state).wrap?((be.head=Pt).done=!1,q):X},w.inflateSetDictionary=function(We,Pt){var be,Ht=Pt.length;return We&&We.state?(be=We.state).wrap!==0&&be.mode!==11?X:be.mode===11&&T(1,Pt,Ht,0)!==be.check?-3:vn(We,Pt,Ht,Ht)?(be.mode=31,-4):(be.havedict=1,q):X},w.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,m,w){var E=u("../utils/common"),T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],P=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],L=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],j=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];m.exports=function(K,Z,q,X,ee,$,re,se){var fe,ye,Oe,Ie,je,yt,st,ft,It,vn=se.bits,We=0,Pt=0,be=0,Ht=0,hr=0,bt=0,Et=0,Vt=0,zn=0,Xe=0,nt=null,un=0,pn=new E.Buf16(16),xn=new E.Buf16(16),Yt=null,Yr=0;for(We=0;We<=15;We++)pn[We]=0;for(Pt=0;Pt<X;Pt++)pn[Z[q+Pt]]++;for(hr=vn,Ht=15;1<=Ht&&pn[Ht]===0;Ht--);if(Ht<hr&&(hr=Ht),Ht===0)return ee[$++]=20971520,ee[$++]=20971520,se.bits=1,0;for(be=1;be<Ht&&pn[be]===0;be++);for(hr<be&&(hr=be),We=Vt=1;We<=15;We++)if(Vt<<=1,(Vt-=pn[We])<0)return-1;if(0<Vt&&(K===0||Ht!==1))return-1;for(xn[1]=0,We=1;We<15;We++)xn[We+1]=xn[We]+pn[We];for(Pt=0;Pt<X;Pt++)Z[q+Pt]!==0&&(re[xn[Z[q+Pt]]++]=Pt);if(yt=K===0?(nt=Yt=re,19):K===1?(nt=T,un-=257,Yt=P,Yr-=257,256):(nt=L,Yt=j,-1),We=be,je=$,Et=Pt=Xe=0,Oe=-1,Ie=(zn=1<<(bt=hr))-1,K===1&&852<zn||K===2&&592<zn)return 1;for(;;){for(st=We-Et,It=re[Pt]<yt?(ft=0,re[Pt]):re[Pt]>yt?(ft=Yt[Yr+re[Pt]],nt[un+re[Pt]]):(ft=96,0),fe=1<<We-Et,be=ye=1<<bt;ee[je+(Xe>>Et)+(ye-=fe)]=st<<24|ft<<16|It|0,ye!==0;);for(fe=1<<We-1;Xe&fe;)fe>>=1;if(fe!==0?(Xe&=fe-1,Xe+=fe):Xe=0,Pt++,--pn[We]==0){if(We===Ht)break;We=Z[q+re[Pt]]}if(hr<We&&(Xe&Ie)!==Oe){for(Et===0&&(Et=hr),je+=be,Vt=1<<(bt=We-Et);bt+Et<Ht&&!((Vt-=pn[bt+Et])<=0);)bt++,Vt<<=1;if(zn+=1<<bt,K===1&&852<zn||K===2&&592<zn)return 1;ee[Oe=Xe&Ie]=hr<<24|bt<<16|je-$|0}}return Xe!==0&&(ee[je+Xe]=We-Et<<24|64<<16|0),se.bits=hr,0}},{"../utils/common":41}],51:[function(u,m,w){m.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,m,w){var E=u("../utils/common"),T=0,P=1;function L(pt){for(var Qt=pt.length;0<=--Qt;)pt[Qt]=0}var j=0,K=29,Z=256,q=Z+1+K,X=30,ee=19,$=2*q+1,re=15,se=16,fe=7,ye=256,Oe=16,Ie=17,je=18,yt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],st=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ft=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],vn=new Array(2*(q+2));L(vn);var We=new Array(2*X);L(We);var Pt=new Array(512);L(Pt);var be=new Array(256);L(be);var Ht=new Array(K);L(Ht);var hr,bt,Et,Vt=new Array(X);function zn(pt,Qt,Hn,er,cn){this.static_tree=pt,this.extra_bits=Qt,this.extra_base=Hn,this.elems=er,this.max_length=cn,this.has_stree=pt&&pt.length}function Xe(pt,Qt){this.dyn_tree=pt,this.max_code=0,this.stat_desc=Qt}function nt(pt){return pt<256?Pt[pt]:Pt[256+(pt>>>7)]}function un(pt,Qt){pt.pending_buf[pt.pending++]=255&Qt,pt.pending_buf[pt.pending++]=Qt>>>8&255}function pn(pt,Qt,Hn){pt.bi_valid>se-Hn?(pt.bi_buf|=Qt<<pt.bi_valid&65535,un(pt,pt.bi_buf),pt.bi_buf=Qt>>se-pt.bi_valid,pt.bi_valid+=Hn-se):(pt.bi_buf|=Qt<<pt.bi_valid&65535,pt.bi_valid+=Hn)}function xn(pt,Qt,Hn){pn(pt,Hn[2*Qt],Hn[2*Qt+1])}function Yt(pt,Qt){for(var Hn=0;Hn|=1&pt,pt>>>=1,Hn<<=1,0<--Qt;);return Hn>>>1}function Yr(pt,Qt,Hn){var er,cn,pr=new Array(re+1),Jn=0;for(er=1;er<=re;er++)pr[er]=Jn=Jn+Hn[er-1]<<1;for(cn=0;cn<=Qt;cn++){var or=pt[2*cn+1];or!==0&&(pt[2*cn]=Yt(pr[or]++,or))}}function Nn(pt){var Qt;for(Qt=0;Qt<q;Qt++)pt.dyn_ltree[2*Qt]=0;for(Qt=0;Qt<X;Qt++)pt.dyn_dtree[2*Qt]=0;for(Qt=0;Qt<ee;Qt++)pt.bl_tree[2*Qt]=0;pt.dyn_ltree[2*ye]=1,pt.opt_len=pt.static_len=0,pt.last_lit=pt.matches=0}function Ur(pt){8<pt.bi_valid?un(pt,pt.bi_buf):0<pt.bi_valid&&(pt.pending_buf[pt.pending++]=pt.bi_buf),pt.bi_buf=0,pt.bi_valid=0}function vi(pt,Qt,Hn,er){var cn=2*Qt,pr=2*Hn;return pt[cn]<pt[pr]||pt[cn]===pt[pr]&&er[Qt]<=er[Hn]}function Gi(pt,Qt,Hn){for(var er=pt.heap[Hn],cn=Hn<<1;cn<=pt.heap_len&&(cn<pt.heap_len&&vi(Qt,pt.heap[cn+1],pt.heap[cn],pt.depth)&&cn++,!vi(Qt,er,pt.heap[cn],pt.depth));)pt.heap[Hn]=pt.heap[cn],Hn=cn,cn<<=1;pt.heap[Hn]=er}function Di(pt,Qt,Hn){var er,cn,pr,Jn,or=0;if(pt.last_lit!==0)for(;er=pt.pending_buf[pt.d_buf+2*or]<<8|pt.pending_buf[pt.d_buf+2*or+1],cn=pt.pending_buf[pt.l_buf+or],or++,er===0?xn(pt,cn,Qt):(xn(pt,(pr=be[cn])+Z+1,Qt),(Jn=yt[pr])!==0&&pn(pt,cn-=Ht[pr],Jn),xn(pt,pr=nt(--er),Hn),(Jn=st[pr])!==0&&pn(pt,er-=Vt[pr],Jn)),or<pt.last_lit;);xn(pt,ye,Qt)}function Rs(pt,Qt){var Hn,er,cn,pr=Qt.dyn_tree,Jn=Qt.stat_desc.static_tree,or=Qt.stat_desc.has_stree,ki=Qt.stat_desc.elems,Ss=-1;for(pt.heap_len=0,pt.heap_max=$,Hn=0;Hn<ki;Hn++)pr[2*Hn]!==0?(pt.heap[++pt.heap_len]=Ss=Hn,pt.depth[Hn]=0):pr[2*Hn+1]=0;for(;pt.heap_len<2;)pr[2*(cn=pt.heap[++pt.heap_len]=Ss<2?++Ss:0)]=1,pt.depth[cn]=0,pt.opt_len--,or&&(pt.static_len-=Jn[2*cn+1]);for(Qt.max_code=Ss,Hn=pt.heap_len>>1;1<=Hn;Hn--)Gi(pt,pr,Hn);for(cn=ki;Hn=pt.heap[1],pt.heap[1]=pt.heap[pt.heap_len--],Gi(pt,pr,1),er=pt.heap[1],pt.heap[--pt.heap_max]=Hn,pt.heap[--pt.heap_max]=er,pr[2*cn]=pr[2*Hn]+pr[2*er],pt.depth[cn]=(pt.depth[Hn]>=pt.depth[er]?pt.depth[Hn]:pt.depth[er])+1,pr[2*Hn+1]=pr[2*er+1]=cn,pt.heap[1]=cn++,Gi(pt,pr,1),2<=pt.heap_len;);pt.heap[--pt.heap_max]=pt.heap[1],function(fo,cf){var O_,qf,d0,eu,_x,xA,f0=cf.dyn_tree,bA=cf.max_code,lk=cf.stat_desc.static_tree,uk=cf.stat_desc.has_stree,ck=cf.stat_desc.extra_bits,EA=cf.stat_desc.extra_base,rg=cf.stat_desc.max_length,h0=0;for(eu=0;eu<=re;eu++)fo.bl_count[eu]=0;for(f0[2*fo.heap[fo.heap_max]+1]=0,O_=fo.heap_max+1;O_<$;O_++)rg<(eu=f0[2*f0[2*(qf=fo.heap[O_])+1]+1]+1)&&(eu=rg,h0++),f0[2*qf+1]=eu,bA<qf||(fo.bl_count[eu]++,_x=0,EA<=qf&&(_x=ck[qf-EA]),xA=f0[2*qf],fo.opt_len+=xA*(eu+_x),uk&&(fo.static_len+=xA*(lk[2*qf+1]+_x)));if(h0!==0){do{for(eu=rg-1;fo.bl_count[eu]===0;)eu--;fo.bl_count[eu]--,fo.bl_count[eu+1]+=2,fo.bl_count[rg]--,h0-=2}while(0<h0);for(eu=rg;eu!==0;eu--)for(qf=fo.bl_count[eu];qf!==0;)bA<(d0=fo.heap[--O_])||(f0[2*d0+1]!==eu&&(fo.opt_len+=(eu-f0[2*d0+1])*f0[2*d0],f0[2*d0+1]=eu),qf--)}}(pt,Qt),Yr(pr,Ss,pt.bl_count)}function ke(pt,Qt,Hn){var er,cn,pr=-1,Jn=Qt[1],or=0,ki=7,Ss=4;for(Jn===0&&(ki=138,Ss=3),Qt[2*(Hn+1)+1]=65535,er=0;er<=Hn;er++)cn=Jn,Jn=Qt[2*(er+1)+1],++or<ki&&cn===Jn||(or<Ss?pt.bl_tree[2*cn]+=or:cn!==0?(cn!==pr&&pt.bl_tree[2*cn]++,pt.bl_tree[2*Oe]++):or<=10?pt.bl_tree[2*Ie]++:pt.bl_tree[2*je]++,pr=cn,Ss=(or=0)===Jn?(ki=138,3):cn===Jn?(ki=6,3):(ki=7,4))}function An(pt,Qt,Hn){var er,cn,pr=-1,Jn=Qt[1],or=0,ki=7,Ss=4;for(Jn===0&&(ki=138,Ss=3),er=0;er<=Hn;er++)if(cn=Jn,Jn=Qt[2*(er+1)+1],!(++or<ki&&cn===Jn)){if(or<Ss)for(;xn(pt,cn,pt.bl_tree),--or!=0;);else cn!==0?(cn!==pr&&(xn(pt,cn,pt.bl_tree),or--),xn(pt,Oe,pt.bl_tree),pn(pt,or-3,2)):or<=10?(xn(pt,Ie,pt.bl_tree),pn(pt,or-3,3)):(xn(pt,je,pt.bl_tree),pn(pt,or-11,7));pr=cn,Ss=(or=0)===Jn?(ki=138,3):cn===Jn?(ki=6,3):(ki=7,4)}}L(Vt);var bn=!1;function gt(pt,Qt,Hn,er){pn(pt,(j<<1)+(er?1:0),3),function(cn,pr,Jn,or){Ur(cn),or&&(un(cn,Jn),un(cn,~Jn)),E.arraySet(cn.pending_buf,cn.window,pr,Jn,cn.pending),cn.pending+=Jn}(pt,Qt,Hn,!0)}w._tr_init=function(pt){bn||(function(){var Qt,Hn,er,cn,pr,Jn=new Array(re+1);for(cn=er=0;cn<K-1;cn++)for(Ht[cn]=er,Qt=0;Qt<1<<yt[cn];Qt++)be[er++]=cn;for(be[er-1]=cn,cn=pr=0;cn<16;cn++)for(Vt[cn]=pr,Qt=0;Qt<1<<st[cn];Qt++)Pt[pr++]=cn;for(pr>>=7;cn<X;cn++)for(Vt[cn]=pr<<7,Qt=0;Qt<1<<st[cn]-7;Qt++)Pt[256+pr++]=cn;for(Hn=0;Hn<=re;Hn++)Jn[Hn]=0;for(Qt=0;Qt<=143;)vn[2*Qt+1]=8,Qt++,Jn[8]++;for(;Qt<=255;)vn[2*Qt+1]=9,Qt++,Jn[9]++;for(;Qt<=279;)vn[2*Qt+1]=7,Qt++,Jn[7]++;for(;Qt<=287;)vn[2*Qt+1]=8,Qt++,Jn[8]++;for(Yr(vn,q+1,Jn),Qt=0;Qt<X;Qt++)We[2*Qt+1]=5,We[2*Qt]=Yt(Qt,5);hr=new zn(vn,yt,Z+1,q,re),bt=new zn(We,st,0,X,re),Et=new zn(new Array(0),ft,0,ee,fe)}(),bn=!0),pt.l_desc=new Xe(pt.dyn_ltree,hr),pt.d_desc=new Xe(pt.dyn_dtree,bt),pt.bl_desc=new Xe(pt.bl_tree,Et),pt.bi_buf=0,pt.bi_valid=0,Nn(pt)},w._tr_stored_block=gt,w._tr_flush_block=function(pt,Qt,Hn,er){var cn,pr,Jn=0;0<pt.level?(pt.strm.data_type===2&&(pt.strm.data_type=function(or){var ki,Ss=4093624447;for(ki=0;ki<=31;ki++,Ss>>>=1)if(1&Ss&&or.dyn_ltree[2*ki]!==0)return T;if(or.dyn_ltree[18]!==0||or.dyn_ltree[20]!==0||or.dyn_ltree[26]!==0)return P;for(ki=32;ki<Z;ki++)if(or.dyn_ltree[2*ki]!==0)return P;return T}(pt)),Rs(pt,pt.l_desc),Rs(pt,pt.d_desc),Jn=function(or){var ki;for(ke(or,or.dyn_ltree,or.l_desc.max_code),ke(or,or.dyn_dtree,or.d_desc.max_code),Rs(or,or.bl_desc),ki=ee-1;3<=ki&&or.bl_tree[2*It[ki]+1]===0;ki--);return or.opt_len+=3*(ki+1)+5+5+4,ki}(pt),cn=pt.opt_len+3+7>>>3,(pr=pt.static_len+3+7>>>3)<=cn&&(cn=pr)):cn=pr=Hn+5,Hn+4<=cn&&Qt!==-1?gt(pt,Qt,Hn,er):pt.strategy===4||pr===cn?(pn(pt,2+(er?1:0),3),Di(pt,vn,We)):(pn(pt,4+(er?1:0),3),function(or,ki,Ss,fo){var cf;for(pn(or,ki-257,5),pn(or,Ss-1,5),pn(or,fo-4,4),cf=0;cf<fo;cf++)pn(or,or.bl_tree[2*It[cf]+1],3);An(or,or.dyn_ltree,ki-1),An(or,or.dyn_dtree,Ss-1)}(pt,pt.l_desc.max_code+1,pt.d_desc.max_code+1,Jn+1),Di(pt,pt.dyn_ltree,pt.dyn_dtree)),Nn(pt),er&&Ur(pt)},w._tr_tally=function(pt,Qt,Hn){return pt.pending_buf[pt.d_buf+2*pt.last_lit]=Qt>>>8&255,pt.pending_buf[pt.d_buf+2*pt.last_lit+1]=255&Qt,pt.pending_buf[pt.l_buf+pt.last_lit]=255&Hn,pt.last_lit++,Qt===0?pt.dyn_ltree[2*Hn]++:(pt.matches++,Qt--,pt.dyn_ltree[2*(be[Hn]+Z+1)]++,pt.dyn_dtree[2*nt(Qt)]++),pt.last_lit===pt.lit_bufsize-1},w._tr_align=function(pt){pn(pt,2,3),xn(pt,ye,vn),function(Qt){Qt.bi_valid===16?(un(Qt,Qt.bi_buf),Qt.bi_buf=0,Qt.bi_valid=0):8<=Qt.bi_valid&&(Qt.pending_buf[Qt.pending++]=255&Qt.bi_buf,Qt.bi_buf>>=8,Qt.bi_valid-=8)}(pt)}},{"../utils/common":41}],53:[function(u,m,w){m.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,m,w){(function(E){(function(T,P){if(!T.setImmediate){var L,j,K,Z,q=1,X={},ee=!1,$=T.document,re=Object.getPrototypeOf&&Object.getPrototypeOf(T);re=re&&re.setTimeout?re:T,L={}.toString.call(T.process)==="[object process]"?function(Oe){process.nextTick(function(){fe(Oe)})}:function(){if(T.postMessage&&!T.importScripts){var Oe=!0,Ie=T.onmessage;return T.onmessage=function(){Oe=!1},T.postMessage("","*"),T.onmessage=Ie,Oe}}()?(Z="setImmediate$"+Math.random()+"$",T.addEventListener?T.addEventListener("message",ye,!1):T.attachEvent("onmessage",ye),function(Oe){T.postMessage(Z+Oe,"*")}):T.MessageChannel?((K=new MessageChannel).port1.onmessage=function(Oe){fe(Oe.data)},function(Oe){K.port2.postMessage(Oe)}):$&&"onreadystatechange"in $.createElement("script")?(j=$.documentElement,function(Oe){var Ie=$.createElement("script");Ie.onreadystatechange=function(){fe(Oe),Ie.onreadystatechange=null,j.removeChild(Ie),Ie=null},j.appendChild(Ie)}):function(Oe){setTimeout(fe,0,Oe)},re.setImmediate=function(Oe){typeof Oe!="function"&&(Oe=new Function(""+Oe));for(var Ie=new Array(arguments.length-1),je=0;je<Ie.length;je++)Ie[je]=arguments[je+1];var yt={callback:Oe,args:Ie};return X[q]=yt,L(q),q++},re.clearImmediate=se}function se(Oe){delete X[Oe]}function fe(Oe){if(ee)setTimeout(fe,0,Oe);else{var Ie=X[Oe];if(Ie){ee=!0;try{(function(je){var yt=je.callback,st=je.args;switch(st.length){case 0:yt();break;case 1:yt(st[0]);break;case 2:yt(st[0],st[1]);break;case 3:yt(st[0],st[1],st[2]);break;default:yt.apply(P,st)}})(Ie)}finally{se(Oe),ee=!1}}}}function ye(Oe){Oe.source===T&&typeof Oe.data=="string"&&Oe.data.indexOf(Z)===0&&fe(+Oe.data.slice(Z.length))}})(typeof self>"u"?E===void 0?this:E:self)}).call(this,typeof ru<"u"?ru:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}),b8,cB,Cte,E8,Mte,Tte,SP,Pte,A8,kte,dB,xP,bP,g_,Ite,Rte,Ote,$E,wp,Bte,Dte,C8,fB,JPe=A(()=>{b8=Y(Rt(),1),cB=Y(Rt(),1),Cte=i=>typeof i=="function",E8=(i,l)=>Cte(i)?i(l):i,Mte=(()=>{let i=0;return()=>(++i).toString()})(),Tte=20,SP=new Map,Pte=1e3,A8=i=>{if(SP.has(i))return;let l=setTimeout(()=>{SP.delete(i),g_({type:4,toastId:i})},Pte);SP.set(i,l)},kte=i=>{let l=SP.get(i);l&&clearTimeout(l)},dB=(i,l)=>{switch(l.type){case 0:return N(F({},i),{toasts:[l.toast,...i.toasts].slice(0,Tte)});case 1:return l.toast.id&&kte(l.toast.id),N(F({},i),{toasts:i.toasts.map(E=>E.id===l.toast.id?F(F({},E),l.toast):E)});case 2:let{toast:u}=l;return i.toasts.find(E=>E.id===u.id)?dB(i,{type:1,toast:u}):dB(i,{type:0,toast:u});case 3:let{toastId:m}=l;return m?A8(m):i.toasts.forEach(E=>{A8(E.id)}),N(F({},i),{toasts:i.toasts.map(E=>E.id===m||m===void 0?N(F({},E),{visible:!1}):E)});case 4:return l.toastId===void 0?N(F({},i),{toasts:[]}):N(F({},i),{toasts:i.toasts.filter(E=>E.id!==l.toastId)});case 5:return N(F({},i),{pausedAt:l.time});case 6:let w=l.time-(i.pausedAt||0);return N(F({},i),{pausedAt:void 0,toasts:i.toasts.map(E=>N(F({},E),{pauseDuration:E.pauseDuration+w}))})}},xP=[],bP={toasts:[],pausedAt:void 0},g_=i=>{bP=dB(bP,i),xP.forEach(l=>{l(bP)})},Ite={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Rte=(i={})=>{let[l,u]=(0,b8.useState)(bP);(0,b8.useEffect)(()=>(xP.push(u),()=>{let w=xP.indexOf(u);w>-1&&xP.splice(w,1)}),[l]);let m=l.toasts.map(w=>{var E,T;return N(F(F(F({},i),i[w.type]),w),{duration:w.duration||((E=i[w.type])==null?void 0:E.duration)||(i==null?void 0:i.duration)||Ite[w.type],style:F(F(F({},i.style),(T=i[w.type])==null?void 0:T.style),w.style)})});return N(F({},l),{toasts:m})},Ote=(i,l="blank",u)=>N(F({createdAt:Date.now(),visible:!0,type:l,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0},u),{id:(u==null?void 0:u.id)||Mte()}),$E=i=>(l,u)=>{let m=Ote(l,i,u);return g_({type:2,toast:m}),m.id},wp=(i,l)=>$E("blank")(i,l),wp.error=$E("error"),wp.success=$E("success"),wp.loading=$E("loading"),wp.custom=$E("custom"),wp.dismiss=i=>{g_({type:3,toastId:i})},wp.remove=i=>g_({type:4,toastId:i}),wp.promise=(i,l,u)=>{let m=wp.loading(l.loading,F(F({},u),u==null?void 0:u.loading));return i.then(w=>(wp.success(E8(l.success,w),F(F({id:m},u),u==null?void 0:u.success)),w)).catch(w=>{wp.error(E8(l.error,w),F(F({id:m},u),u==null?void 0:u.error))}),i},Bte=(i,l)=>{g_({type:1,toast:{id:i,height:l}})},Dte=()=>{g_({type:5,time:Date.now()})},C8=i=>{let{toasts:l,pausedAt:u}=Rte(i);(0,cB.useEffect)(()=>{if(u)return;let E=Date.now(),T=l.map(P=>{if(P.duration===1/0)return;let L=(P.duration||0)+P.pauseDuration-(E-P.createdAt);if(L<0){P.visible&&wp.dismiss(P.id);return}return setTimeout(()=>wp.dismiss(P.id),L)});return()=>{T.forEach(P=>P&&clearTimeout(P))}},[l,u]);let m=(0,cB.useCallback)(()=>{u&&g_({type:6,time:Date.now()})},[u]),w=(0,cB.useCallback)((E,T)=>{let{reverseOrder:P=!1,gutter:L=8,defaultPosition:j}=T||{},K=l.filter(X=>(X.position||j)===(E.position||j)&&X.height),Z=K.findIndex(X=>X.id===E.id),q=K.filter((X,ee)=>ee<Z&&X.visible).length;return K.filter(X=>X.visible).slice(...P?[q+1]:[0,q]).reduce((X,ee)=>X+(ee.height||0)+L,0)},[l]);return{toasts:l,handlers:{updateHeight:Bte,startPause:Dte,endPause:m,calculateOffset:w}}},fB=wp});function Lte(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function ZPe(i){HS=i}function _d(i,l){if(l){if(Vte.test(i))return i.replace(Wte,M8)}else if(Xte.test(i))return i.replace(Kte,M8);return i}function Nte(i){return i.replace(Qte,(l,u)=>(u=u.toLowerCase(),u==="colon"?":":u.charAt(0)==="#"?u.charAt(1)==="x"?String.fromCharCode(parseInt(u.substring(2),16)):String.fromCharCode(+u.substring(1)):""))}function Oa(i,l){i=typeof i=="string"?i:i.source,l=l||"";let u={replace:(m,w)=>(w=w.source||w,w=w.replace(qte,"$1"),i=i.replace(m,w),u),getRegex:()=>new RegExp(i,l)};return u}function Fte(i,l,u){if(i){let m;try{m=decodeURIComponent(Nte(u)).replace(Jte,"").toLowerCase()}catch{return null}if(m.indexOf("javascript:")===0||m.indexOf("vbscript:")===0||m.indexOf("data:")===0)return null}l&&!Zte.test(u)&&(u=$Pe(l,u));try{u=encodeURI(u).replace(/%25/g,"%")}catch{return null}return u}function $Pe(i,l){EP[" "+i]||($te.test(i)?EP[" "+i]=i+"/":EP[" "+i]=hB(i,"/",!0)),i=EP[" "+i];let u=i.indexOf(":")===-1;return l.substring(0,2)==="//"?u?l:i.replace(ene,"$1")+l:l.charAt(0)==="/"?u?l:i.replace(tne,"$1")+l:i+l}function r0(i){let l=1,u,m;for(;l<arguments.length;l++){u=arguments[l];for(m in u)Object.prototype.hasOwnProperty.call(u,m)&&(i[m]=u[m])}return i}function zte(i,l){let u=i.replace(/\|/g,(E,T,P)=>{let L=!1,j=T;for(;--j>=0&&P[j]==="\\";)L=!L;return L?"|":" |"}),m=u.split(/ \|/),w=0;if(m[0].trim()||m.shift(),m.length>0&&!m[m.length-1].trim()&&m.pop(),m.length>l)m.splice(l);else for(;m.length<l;)m.push("");for(;w<m.length;w++)m[w]=m[w].trim().replace(/\\\|/g,"|");return m}function hB(i,l,u){let m=i.length;if(m===0)return"";let w=0;for(;w<m;){let E=i.charAt(m-w-1);if(E===l&&!u)w++;else if(E!==l&&u)w++;else break}return i.slice(0,m-w)}function eke(i,l){if(i.indexOf(l[1])===-1)return-1;let u=i.length,m=0,w=0;for(;w<u;w++)if(i[w]==="\\")w++;else if(i[w]===l[0])m++;else if(i[w]===l[1]&&(m--,m<0))return w;return-1}function Ute(i){i&&i.sanitize&&!i.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function jte(i,l){if(l<1)return"";let u="";for(;l>1;)l&1&&(u+=i),l>>=1,i+=i;return u+i}function Hte(i,l,u,m){let w=l.href,E=l.title?_d(l.title):null,T=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){m.state.inLink=!0;let P={type:"link",raw:u,href:w,title:E,text:T,tokens:m.inlineTokens(T)};return m.state.inLink=!1,P}return{type:"image",raw:u,href:w,title:E,text:_d(T)}}function tke(i,l){let u=i.match(/^(\s+)(?:```)/);if(u===null)return l;let m=u[1];return l.split(`
`).map(w=>{let E=w.match(/^\s+/);if(E===null)return w;let[T]=E;return T.length>=m.length?w.slice(m.length):w}).join(`
`)}function nke(i){return i.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Gte(i){let l="",u,m,w=i.length;for(u=0;u<w;u++)m=i.charCodeAt(u),Math.random()>.5&&(m="x"+m.toString(16)),l+="&#"+m+";";return l}function oo(i,l,u){if(typeof i>"u"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof l=="function"&&(u=l,l=null),l=r0({},oo.defaults,l||{}),Ute(l),u){let w=l.highlight,E;try{E=GS.lex(i,l)}catch(L){return u(L)}let T=function(L){let j;if(!L)try{l.walkTokens&&oo.walkTokens(E,l.walkTokens),j=v_.parse(E,l)}catch(K){L=K}return l.highlight=w,L?u(L):u(null,j)};if(!w||w.length<3||(delete l.highlight,!E.length))return T();let P=0;oo.walkTokens(E,function(L){L.type==="code"&&(P++,setTimeout(()=>{w(L.text,L.lang,function(j,K){if(j)return T(j);K!=null&&K!==L.text&&(L.text=K,L.escaped=!0),P--,P===0&&T()})},0))}),P===0&&T();return}function m(w){if(w.message+=`
Please report this to https://github.com/markedjs/marked.`,l.silent)return"<p>An error occurred:</p><pre>"+_d(w.message+"",!0)+"</pre>";throw w}try{let w=GS.lex(i,l);if(l.walkTokens){if(l.async)return Promise.all(oo.walkTokens(w,l.walkTokens)).then(()=>v_.parse(w,l)).catch(m);oo.walkTokens(w,l.walkTokens)}return v_.parse(w,l)}catch(w){m(w)}}var HS,Vte,Wte,Xte,Kte,Yte,M8,Qte,qte,Jte,Zte,EP,$te,ene,tne,AP,pB,Hi,ui,GS,mB,T8,P8,v_,rke=A(()=>{HS=Lte(),Vte=/[&<>"']/,Wte=/[&<>"']/g,Xte=/[<>"']|&(?!#?\w+;)/,Kte=/[<>"']|&(?!#?\w+;)/g,Yte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M8=i=>Yte[i],Qte=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,qte=/(^|[^\[])\^/g,Jte=/[^\w:]/g,Zte=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,EP={},$te=/^[^:]+:\/*[^/]*$/,ene=/^([^:]+:)[\s\S]*$/,tne=/^([^:]+:\/*[^/]*)[\s\S]*$/,AP={exec:function(){}},pB=class{constructor(i){this.options=i||HS}space(i){let l=this.rules.block.newline.exec(i);if(l&&l[0].length>0)return{type:"space",raw:l[0]}}code(i){let l=this.rules.block.code.exec(i);if(l){let u=l[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:l[0],codeBlockStyle:"indented",text:this.options.pedantic?u:hB(u,`
`)}}}fences(i){let l=this.rules.block.fences.exec(i);if(l){let u=l[0],m=tke(u,l[3]||"");return{type:"code",raw:u,lang:l[2]?l[2].trim():l[2],text:m}}}heading(i){let l=this.rules.block.heading.exec(i);if(l){let u=l[2].trim();if(/#$/.test(u)){let m=hB(u,"#");(this.options.pedantic||!m||/ $/.test(m))&&(u=m.trim())}return{type:"heading",raw:l[0],depth:l[1].length,text:u,tokens:this.lexer.inline(u)}}}hr(i){let l=this.rules.block.hr.exec(i);if(l)return{type:"hr",raw:l[0]}}blockquote(i){let l=this.rules.block.blockquote.exec(i);if(l){let u=l[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:l[0],tokens:this.lexer.blockTokens(u,[]),text:u}}}list(i){let l=this.rules.block.list.exec(i);if(l){let u,m,w,E,T,P,L,j,K,Z,q,X,ee=l[1].trim(),$=ee.length>1,re={type:"list",raw:"",ordered:$,start:$?+ee.slice(0,-1):"",loose:!1,items:[]};ee=$?"\\d{1,9}\\".concat(ee.slice(-1)):"\\".concat(ee),this.options.pedantic&&(ee=$?ee:"[*+-]");let se=new RegExp("^( {0,3}".concat(ee,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;i&&(X=!1,!(!(l=se.exec(i))||this.rules.block.hr.test(i)));){if(u=l[0],i=i.substring(u.length),j=l[2].split(`
`,1)[0],K=i.split(`
`,1)[0],this.options.pedantic?(E=2,q=j.trimLeft()):(E=l[2].search(/[^ ]/),E=E>4?1:E,q=j.slice(E),E+=l[1].length),P=!1,!j&&/^ *$/.test(K)&&(u+=K+`
`,i=i.substring(K.length+1),X=!0),!X){let ye=new RegExp("^ {0,".concat(Math.min(3,E-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),Oe=new RegExp("^ {0,".concat(Math.min(3,E-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),Ie=new RegExp("^ {0,".concat(Math.min(3,E-1),"}(?:```|~~~)")),je=new RegExp("^ {0,".concat(Math.min(3,E-1),"}#"));for(;i&&(Z=i.split(`
`,1)[0],j=Z,this.options.pedantic&&(j=j.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ie.test(j)||je.test(j)||ye.test(j)||Oe.test(i)));){if(j.search(/[^ ]/)>=E||!j.trim())q+=`
`+j.slice(E);else if(!P)q+=`
`+j;else break;!P&&!j.trim()&&(P=!0),u+=Z+`
`,i=i.substring(Z.length+1)}}re.loose||(L?re.loose=!0:/\n *\n *$/.test(u)&&(L=!0)),this.options.gfm&&(m=/^\[[ xX]\] /.exec(q),m&&(w=m[0]!=="[ ] ",q=q.replace(/^\[[ xX]\] +/,""))),re.items.push({type:"list_item",raw:u,task:!!m,checked:w,loose:!1,text:q}),re.raw+=u}re.items[re.items.length-1].raw=u.trimRight(),re.items[re.items.length-1].text=q.trimRight(),re.raw=re.raw.trimRight();let fe=re.items.length;for(T=0;T<fe;T++){this.lexer.state.top=!1,re.items[T].tokens=this.lexer.blockTokens(re.items[T].text,[]);let ye=re.items[T].tokens.filter(Ie=>Ie.type==="space"),Oe=ye.every(Ie=>{let je=Ie.raw.split(""),yt=0;for(let st of je)if(st===`
`&&(yt+=1),yt>1)return!0;return!1});!re.loose&&ye.length&&Oe&&(re.loose=!0,re.items[T].loose=!0)}return re}}html(i){let l=this.rules.block.html.exec(i);if(l){let u={type:"html",raw:l[0],pre:!this.options.sanitizer&&(l[1]==="pre"||l[1]==="script"||l[1]==="style"),text:l[0]};if(this.options.sanitize){let m=this.options.sanitizer?this.options.sanitizer(l[0]):_d(l[0]);u.type="paragraph",u.text=m,u.tokens=this.lexer.inline(m)}return u}}def(i){let l=this.rules.block.def.exec(i);if(l)return l[3]&&(l[3]=l[3].substring(1,l[3].length-1)),{type:"def",tag:l[1].toLowerCase().replace(/\s+/g," "),raw:l[0],href:l[2],title:l[3]}}table(i){let l=this.rules.block.table.exec(i);if(l){let u={type:"table",header:zte(l[1]).map(m=>({text:m})),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:l[3]&&l[3].trim()?l[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(u.header.length===u.align.length){u.raw=l[0];let m=u.align.length,w,E,T,P;for(w=0;w<m;w++)/^ *-+: *$/.test(u.align[w])?u.align[w]="right":/^ *:-+: *$/.test(u.align[w])?u.align[w]="center":/^ *:-+ *$/.test(u.align[w])?u.align[w]="left":u.align[w]=null;for(m=u.rows.length,w=0;w<m;w++)u.rows[w]=zte(u.rows[w],u.header.length).map(L=>({text:L}));for(m=u.header.length,E=0;E<m;E++)u.header[E].tokens=this.lexer.inline(u.header[E].text);for(m=u.rows.length,E=0;E<m;E++)for(P=u.rows[E],T=0;T<P.length;T++)P[T].tokens=this.lexer.inline(P[T].text);return u}}}lheading(i){let l=this.rules.block.lheading.exec(i);if(l)return{type:"heading",raw:l[0],depth:l[2].charAt(0)==="="?1:2,text:l[1],tokens:this.lexer.inline(l[1])}}paragraph(i){let l=this.rules.block.paragraph.exec(i);if(l){let u=l[1].charAt(l[1].length-1)===`
`?l[1].slice(0,-1):l[1];return{type:"paragraph",raw:l[0],text:u,tokens:this.lexer.inline(u)}}}text(i){let l=this.rules.block.text.exec(i);if(l)return{type:"text",raw:l[0],text:l[0],tokens:this.lexer.inline(l[0])}}escape(i){let l=this.rules.inline.escape.exec(i);if(l)return{type:"escape",raw:l[0],text:_d(l[1])}}tag(i){let l=this.rules.inline.tag.exec(i);if(l)return!this.lexer.state.inLink&&/^<a /i.test(l[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(l[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:l[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):_d(l[0]):l[0]}}link(i){let l=this.rules.inline.link.exec(i);if(l){let u=l[2].trim();if(!this.options.pedantic&&/^</.test(u)){if(!/>$/.test(u))return;let E=hB(u.slice(0,-1),"\\");if((u.length-E.length)%2===0)return}else{let E=eke(l[2],"()");if(E>-1){let T=(l[0].indexOf("!")===0?5:4)+l[1].length+E;l[2]=l[2].substring(0,E),l[0]=l[0].substring(0,T).trim(),l[3]=""}}let m=l[2],w="";if(this.options.pedantic){let E=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(m);E&&(m=E[1],w=E[3])}else w=l[3]?l[3].slice(1,-1):"";return m=m.trim(),/^</.test(m)&&(this.options.pedantic&&!/>$/.test(u)?m=m.slice(1):m=m.slice(1,-1)),Hte(l,{href:m&&m.replace(this.rules.inline._escapes,"$1"),title:w&&w.replace(this.rules.inline._escapes,"$1")},l[0],this.lexer)}}reflink(i,l){let u;if((u=this.rules.inline.reflink.exec(i))||(u=this.rules.inline.nolink.exec(i))){let m=(u[2]||u[1]).replace(/\s+/g," ");if(m=l[m.toLowerCase()],!m||!m.href){let w=u[0].charAt(0);return{type:"text",raw:w,text:w}}return Hte(u,m,u[0],this.lexer)}}emStrong(i,l,u=""){let m=this.rules.inline.emStrong.lDelim.exec(i);if(!m||m[3]&&u.match(/[\p{L}\p{N}]/u))return;let w=m[1]||m[2]||"";if(!w||w&&(u===""||this.rules.inline.punctuation.exec(u))){let E=m[0].length-1,T,P,L=E,j=0,K=m[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(K.lastIndex=0,l=l.slice(-1*i.length+E);(m=K.exec(l))!=null;){if(T=m[1]||m[2]||m[3]||m[4]||m[5]||m[6],!T)continue;if(P=T.length,m[3]||m[4]){L+=P;continue}else if((m[5]||m[6])&&E%3&&!((E+P)%3)){j+=P;continue}if(L-=P,L>0)continue;if(P=Math.min(P,P+L+j),Math.min(E,P)%2){let q=i.slice(1,E+m.index+P);return{type:"em",raw:i.slice(0,E+m.index+P+1),text:q,tokens:this.lexer.inlineTokens(q)}}let Z=i.slice(2,E+m.index+P-1);return{type:"strong",raw:i.slice(0,E+m.index+P+1),text:Z,tokens:this.lexer.inlineTokens(Z)}}}}codespan(i){let l=this.rules.inline.code.exec(i);if(l){let u=l[2].replace(/\n/g," "),m=/[^ ]/.test(u),w=/^ /.test(u)&&/ $/.test(u);return m&&w&&(u=u.substring(1,u.length-1)),u=_d(u,!0),{type:"codespan",raw:l[0],text:u}}}br(i){let l=this.rules.inline.br.exec(i);if(l)return{type:"br",raw:l[0]}}del(i){let l=this.rules.inline.del.exec(i);if(l)return{type:"del",raw:l[0],text:l[2],tokens:this.lexer.inlineTokens(l[2])}}autolink(i,l){let u=this.rules.inline.autolink.exec(i);if(u){let m,w;return u[2]==="@"?(m=_d(this.options.mangle?l(u[1]):u[1]),w="mailto:"+m):(m=_d(u[1]),w=m),{type:"link",raw:u[0],text:m,href:w,tokens:[{type:"text",raw:m,text:m}]}}}url(i,l){let u;if(u=this.rules.inline.url.exec(i)){let m,w;if(u[2]==="@")m=_d(this.options.mangle?l(u[0]):u[0]),w="mailto:"+m;else{let E;do E=u[0],u[0]=this.rules.inline._backpedal.exec(u[0])[0];while(E!==u[0]);m=_d(u[0]),u[1]==="www."?w="http://"+m:w=m}return{type:"link",raw:u[0],text:m,href:w,tokens:[{type:"text",raw:m,text:m}]}}}inlineText(i,l){let u=this.rules.inline.text.exec(i);if(u){let m;return this.lexer.state.inRawBlock?m=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):_d(u[0]):u[0]:m=_d(this.options.smartypants?l(u[0]):u[0]),{type:"text",raw:u[0],text:m}}}},Hi={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:AP,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},Hi._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Hi._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Hi.def=Oa(Hi.def).replace("label",Hi._label).replace("title",Hi._title).getRegex(),Hi.bullet=/(?:[*+-]|\d{1,9}[.)])/,Hi.listItemStart=Oa(/^( *)(bull) */).replace("bull",Hi.bullet).getRegex(),Hi.list=Oa(Hi.list).replace(/bull/g,Hi.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Hi.def.source+")").getRegex(),Hi._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Hi._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Hi.html=Oa(Hi.html,"i").replace("comment",Hi._comment).replace("tag",Hi._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Hi.paragraph=Oa(Hi._paragraph).replace("hr",Hi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hi._tag).getRegex(),Hi.blockquote=Oa(Hi.blockquote).replace("paragraph",Hi.paragraph).getRegex(),Hi.normal=r0({},Hi),Hi.gfm=r0({},Hi.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Hi.gfm.table=Oa(Hi.gfm.table).replace("hr",Hi.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hi._tag).getRegex(),Hi.gfm.paragraph=Oa(Hi._paragraph).replace("hr",Hi.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Hi.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Hi._tag).getRegex(),Hi.pedantic=r0({},Hi.normal,{html:Oa(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Hi._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:AP,paragraph:Oa(Hi.normal._paragraph).replace("hr",Hi.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Hi.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),ui={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:AP,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:AP,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},ui._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ui.punctuation=Oa(ui.punctuation).replace(/punctuation/g,ui._punctuation).getRegex(),ui.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ui.escapedEmSt=/\\\*|\\_/g,ui._comment=Oa(Hi._comment).replace("(?:-->|$)","-->").getRegex(),ui.emStrong.lDelim=Oa(ui.emStrong.lDelim).replace(/punct/g,ui._punctuation).getRegex(),ui.emStrong.rDelimAst=Oa(ui.emStrong.rDelimAst,"g").replace(/punct/g,ui._punctuation).getRegex(),ui.emStrong.rDelimUnd=Oa(ui.emStrong.rDelimUnd,"g").replace(/punct/g,ui._punctuation).getRegex(),ui._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ui._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ui._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ui.autolink=Oa(ui.autolink).replace("scheme",ui._scheme).replace("email",ui._email).getRegex(),ui._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ui.tag=Oa(ui.tag).replace("comment",ui._comment).replace("attribute",ui._attribute).getRegex(),ui._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ui._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ui._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ui.link=Oa(ui.link).replace("label",ui._label).replace("href",ui._href).replace("title",ui._title).getRegex(),ui.reflink=Oa(ui.reflink).replace("label",ui._label).replace("ref",Hi._label).getRegex(),ui.nolink=Oa(ui.nolink).replace("ref",Hi._label).getRegex(),ui.reflinkSearch=Oa(ui.reflinkSearch,"g").replace("reflink",ui.reflink).replace("nolink",ui.nolink).getRegex(),ui.normal=r0({},ui),ui.pedantic=r0({},ui.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Oa(/^!?\[(label)\]\((.*?)\)/).replace("label",ui._label).getRegex(),reflink:Oa(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ui._label).getRegex()}),ui.gfm=r0({},ui.normal,{escape:Oa(ui.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ui.gfm.url=Oa(ui.gfm.url,"i").replace("email",ui.gfm._extended_email).getRegex(),ui.breaks=r0({},ui.gfm,{br:Oa(ui.br).replace("{2,}","*").getRegex(),text:Oa(ui.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),GS=class JG{constructor(l){this.tokens=[],this.tokens.links=Object.create(null),this.options=l||HS,this.options.tokenizer=this.options.tokenizer||new pB,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let u={block:Hi.normal,inline:ui.normal};this.options.pedantic?(u.block=Hi.pedantic,u.inline=ui.pedantic):this.options.gfm&&(u.block=Hi.gfm,this.options.breaks?u.inline=ui.breaks:u.inline=ui.gfm),this.tokenizer.rules=u}static get rules(){return{block:Hi,inline:ui}}static lex(l,u){return new JG(u).lex(l)}static lexInline(l,u){return new JG(u).inlineTokens(l)}lex(l){l=l.replace(/\r\n|\r/g,`
`),this.blockTokens(l,this.tokens);let u;for(;u=this.inlineQueue.shift();)this.inlineTokens(u.src,u.tokens);return this.tokens}blockTokens(l,u=[]){this.options.pedantic?l=l.replace(/\t/g,"    ").replace(/^ +$/gm,""):l=l.replace(/^( *)(\t+)/gm,(P,L,j)=>L+"    ".repeat(j.length));let m,w,E,T;for(;l;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(P=>(m=P.call({lexer:this},l,u))?(l=l.substring(m.raw.length),u.push(m),!0):!1))){if(m=this.tokenizer.space(l)){l=l.substring(m.raw.length),m.raw.length===1&&u.length>0?u[u.length-1].raw+=`
`:u.push(m);continue}if(m=this.tokenizer.code(l)){l=l.substring(m.raw.length),w=u[u.length-1],w&&(w.type==="paragraph"||w.type==="text")?(w.raw+=`
`+m.raw,w.text+=`
`+m.text,this.inlineQueue[this.inlineQueue.length-1].src=w.text):u.push(m);continue}if(m=this.tokenizer.fences(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.heading(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.hr(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.blockquote(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.list(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.html(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.def(l)){l=l.substring(m.raw.length),w=u[u.length-1],w&&(w.type==="paragraph"||w.type==="text")?(w.raw+=`
`+m.raw,w.text+=`
`+m.raw,this.inlineQueue[this.inlineQueue.length-1].src=w.text):this.tokens.links[m.tag]||(this.tokens.links[m.tag]={href:m.href,title:m.title});continue}if(m=this.tokenizer.table(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.lheading(l)){l=l.substring(m.raw.length),u.push(m);continue}if(E=l,this.options.extensions&&this.options.extensions.startBlock){let P=1/0,L=l.slice(1),j;this.options.extensions.startBlock.forEach(function(K){j=K.call({lexer:this},L),typeof j=="number"&&j>=0&&(P=Math.min(P,j))}),P<1/0&&P>=0&&(E=l.substring(0,P+1))}if(this.state.top&&(m=this.tokenizer.paragraph(E))){w=u[u.length-1],T&&w.type==="paragraph"?(w.raw+=`
`+m.raw,w.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=w.text):u.push(m),T=E.length!==l.length,l=l.substring(m.raw.length);continue}if(m=this.tokenizer.text(l)){l=l.substring(m.raw.length),w=u[u.length-1],w&&w.type==="text"?(w.raw+=`
`+m.raw,w.text+=`
`+m.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=w.text):u.push(m);continue}if(l){let P="Infinite loop on byte: "+l.charCodeAt(0);if(this.options.silent){console.error(P);break}else throw new Error(P)}}return this.state.top=!0,u}inline(l,u=[]){return this.inlineQueue.push({src:l,tokens:u}),u}inlineTokens(l,u=[]){let m,w,E,T=l,P,L,j;if(this.tokens.links){let K=Object.keys(this.tokens.links);if(K.length>0)for(;(P=this.tokenizer.rules.inline.reflinkSearch.exec(T))!=null;)K.includes(P[0].slice(P[0].lastIndexOf("[")+1,-1))&&(T=T.slice(0,P.index)+"["+jte("a",P[0].length-2)+"]"+T.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(P=this.tokenizer.rules.inline.blockSkip.exec(T))!=null;)T=T.slice(0,P.index)+"["+jte("a",P[0].length-2)+"]"+T.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(P=this.tokenizer.rules.inline.escapedEmSt.exec(T))!=null;)T=T.slice(0,P.index)+"++"+T.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;l;)if(L||(j=""),L=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(K=>(m=K.call({lexer:this},l,u))?(l=l.substring(m.raw.length),u.push(m),!0):!1))){if(m=this.tokenizer.escape(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.tag(l)){l=l.substring(m.raw.length),w=u[u.length-1],w&&m.type==="text"&&w.type==="text"?(w.raw+=m.raw,w.text+=m.text):u.push(m);continue}if(m=this.tokenizer.link(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.reflink(l,this.tokens.links)){l=l.substring(m.raw.length),w=u[u.length-1],w&&m.type==="text"&&w.type==="text"?(w.raw+=m.raw,w.text+=m.text):u.push(m);continue}if(m=this.tokenizer.emStrong(l,T,j)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.codespan(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.br(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.del(l)){l=l.substring(m.raw.length),u.push(m);continue}if(m=this.tokenizer.autolink(l,Gte)){l=l.substring(m.raw.length),u.push(m);continue}if(!this.state.inLink&&(m=this.tokenizer.url(l,Gte))){l=l.substring(m.raw.length),u.push(m);continue}if(E=l,this.options.extensions&&this.options.extensions.startInline){let K=1/0,Z=l.slice(1),q;this.options.extensions.startInline.forEach(function(X){q=X.call({lexer:this},Z),typeof q=="number"&&q>=0&&(K=Math.min(K,q))}),K<1/0&&K>=0&&(E=l.substring(0,K+1))}if(m=this.tokenizer.inlineText(E,nke)){l=l.substring(m.raw.length),m.raw.slice(-1)!=="_"&&(j=m.raw.slice(-1)),L=!0,w=u[u.length-1],w&&w.type==="text"?(w.raw+=m.raw,w.text+=m.text):u.push(m);continue}if(l){let K="Infinite loop on byte: "+l.charCodeAt(0);if(this.options.silent){console.error(K);break}else throw new Error(K)}}return u}},mB=class{constructor(i){this.options=i||HS}code(i,l,u){let m=(l||"").match(/\S*/)[0];if(this.options.highlight){let w=this.options.highlight(i,m);w!=null&&w!==i&&(u=!0,i=w)}return i=i.replace(/\n$/,"")+`
`,m?'<pre><code class="'+this.options.langPrefix+_d(m,!0)+'">'+(u?i:_d(i,!0))+`</code></pre>
`:"<pre><code>"+(u?i:_d(i,!0))+`</code></pre>
`}blockquote(i){return`<blockquote>
`.concat(i,`</blockquote>
`)}html(i){return i}heading(i,l,u,m){if(this.options.headerIds){let w=this.options.headerPrefix+m.slug(u);return"<h".concat(l,' id="').concat(w,'">').concat(i,"</h").concat(l,`>
`)}return"<h".concat(l,">").concat(i,"</h").concat(l,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(i,l,u){let m=l?"ol":"ul",w=l&&u!==1?' start="'+u+'"':"";return"<"+m+w+`>
`+i+"</"+m+`>
`}listitem(i){return"<li>".concat(i,`</li>
`)}checkbox(i){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(i){return"<p>".concat(i,`</p>
`)}table(i,l){return l&&(l="<tbody>".concat(l,"</tbody>")),`<table>
<thead>
`+i+`</thead>
`+l+`</table>
`}tablerow(i){return`<tr>
`.concat(i,`</tr>
`)}tablecell(i,l){let u=l.header?"th":"td";return(l.align?"<".concat(u,' align="').concat(l.align,'">'):"<".concat(u,">"))+i+"</".concat(u,`>
`)}strong(i){return"<strong>".concat(i,"</strong>")}em(i){return"<em>".concat(i,"</em>")}codespan(i){return"<code>".concat(i,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(i){return"<del>".concat(i,"</del>")}link(i,l,u){if(i=Fte(this.options.sanitize,this.options.baseUrl,i),i===null)return u;let m='<a href="'+_d(i)+'"';return l&&(m+=' title="'+l+'"'),m+=">"+u+"</a>",m}image(i,l,u){if(i=Fte(this.options.sanitize,this.options.baseUrl,i),i===null)return u;let m='<img src="'.concat(i,'" alt="').concat(u,'"');return l&&(m+=' title="'.concat(l,'"')),m+=this.options.xhtml?"/>":">",m}text(i){return i}},T8=class{strong(i){return i}em(i){return i}codespan(i){return i}del(i){return i}html(i){return i}text(i){return i}link(i,l,u){return""+u}image(i,l,u){return""+u}br(){return""}},P8=class{constructor(){this.seen={}}serialize(i){return i.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(i,l){let u=i,m=0;if(this.seen.hasOwnProperty(u)){m=this.seen[i];do m++,u=i+"-"+m;while(this.seen.hasOwnProperty(u))}return l||(this.seen[i]=m,this.seen[u]=0),u}slug(i,l={}){let u=this.serialize(i);return this.getNextSafeSlug(u,l.dryrun)}},v_=class ZG{constructor(l){this.options=l||HS,this.options.renderer=this.options.renderer||new mB,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new T8,this.slugger=new P8}static parse(l,u){return new ZG(u).parse(l)}static parseInline(l,u){return new ZG(u).parseInline(l)}parse(l,u=!0){let m="",w,E,T,P,L,j,K,Z,q,X,ee,$,re,se,fe,ye,Oe,Ie,je,yt=l.length;for(w=0;w<yt;w++){if(X=l[w],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[X.type]&&(je=this.options.extensions.renderers[X.type].call({parser:this},X),je!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(X.type))){m+=je||"";continue}switch(X.type){case"space":continue;case"hr":{m+=this.renderer.hr();continue}case"heading":{m+=this.renderer.heading(this.parseInline(X.tokens),X.depth,Nte(this.parseInline(X.tokens,this.textRenderer)),this.slugger);continue}case"code":{m+=this.renderer.code(X.text,X.lang,X.escaped);continue}case"table":{for(Z="",K="",P=X.header.length,E=0;E<P;E++)K+=this.renderer.tablecell(this.parseInline(X.header[E].tokens),{header:!0,align:X.align[E]});for(Z+=this.renderer.tablerow(K),q="",P=X.rows.length,E=0;E<P;E++){for(j=X.rows[E],K="",L=j.length,T=0;T<L;T++)K+=this.renderer.tablecell(this.parseInline(j[T].tokens),{header:!1,align:X.align[T]});q+=this.renderer.tablerow(K)}m+=this.renderer.table(Z,q);continue}case"blockquote":{q=this.parse(X.tokens),m+=this.renderer.blockquote(q);continue}case"list":{for(ee=X.ordered,$=X.start,re=X.loose,P=X.items.length,q="",E=0;E<P;E++)fe=X.items[E],ye=fe.checked,Oe=fe.task,se="",fe.task&&(Ie=this.renderer.checkbox(ye),re?fe.tokens.length>0&&fe.tokens[0].type==="paragraph"?(fe.tokens[0].text=Ie+" "+fe.tokens[0].text,fe.tokens[0].tokens&&fe.tokens[0].tokens.length>0&&fe.tokens[0].tokens[0].type==="text"&&(fe.tokens[0].tokens[0].text=Ie+" "+fe.tokens[0].tokens[0].text)):fe.tokens.unshift({type:"text",text:Ie}):se+=Ie),se+=this.parse(fe.tokens,re),q+=this.renderer.listitem(se,Oe,ye);m+=this.renderer.list(q,ee,$);continue}case"html":{m+=this.renderer.html(X.text);continue}case"paragraph":{m+=this.renderer.paragraph(this.parseInline(X.tokens));continue}case"text":{for(q=X.tokens?this.parseInline(X.tokens):X.text;w+1<yt&&l[w+1].type==="text";)X=l[++w],q+=`
`+(X.tokens?this.parseInline(X.tokens):X.text);m+=u?this.renderer.paragraph(q):q;continue}default:{let st='Token with "'+X.type+'" type was not found.';if(this.options.silent){console.error(st);return}else throw new Error(st)}}}return m}parseInline(l,u){u=u||this.renderer;let m="",w,E,T,P=l.length;for(w=0;w<P;w++){if(E=l[w],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[E.type]&&(T=this.options.extensions.renderers[E.type].call({parser:this},E),T!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(E.type))){m+=T||"";continue}switch(E.type){case"escape":{m+=u.text(E.text);break}case"html":{m+=u.html(E.text);break}case"link":{m+=u.link(E.href,E.title,this.parseInline(E.tokens,u));break}case"image":{m+=u.image(E.href,E.title,E.text);break}case"strong":{m+=u.strong(this.parseInline(E.tokens,u));break}case"em":{m+=u.em(this.parseInline(E.tokens,u));break}case"codespan":{m+=u.codespan(E.text);break}case"br":{m+=u.br();break}case"del":{m+=u.del(this.parseInline(E.tokens,u));break}case"text":{m+=u.text(E.text);break}default:{let L='Token with "'+E.type+'" type was not found.';if(this.options.silent){console.error(L);return}else throw new Error(L)}}}return m}},oo.options=oo.setOptions=function(i){return r0(oo.defaults,i),ZPe(oo.defaults),oo},oo.getDefaults=Lte,oo.defaults=HS,oo.use=function(...i){let l=r0({},...i),u=oo.defaults.extensions||{renderers:{},childTokens:{}},m;i.forEach(w=>{if(w.extensions&&(m=!0,w.extensions.forEach(E=>{if(!E.name)throw new Error("extension name required");if(E.renderer){let T=u.renderers?u.renderers[E.name]:null;T?u.renderers[E.name]=function(...P){let L=E.renderer.apply(this,P);return L===!1&&(L=T.apply(this,P)),L}:u.renderers[E.name]=E.renderer}if(E.tokenizer){if(!E.level||E.level!=="block"&&E.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");u[E.level]?u[E.level].unshift(E.tokenizer):u[E.level]=[E.tokenizer],E.start&&(E.level==="block"?u.startBlock?u.startBlock.push(E.start):u.startBlock=[E.start]:E.level==="inline"&&(u.startInline?u.startInline.push(E.start):u.startInline=[E.start]))}E.childTokens&&(u.childTokens[E.name]=E.childTokens)})),w.renderer){let E=oo.defaults.renderer||new mB;for(let T in w.renderer){let P=E[T];E[T]=(...L)=>{let j=w.renderer[T].apply(E,L);return j===!1&&(j=P.apply(E,L)),j}}l.renderer=E}if(w.tokenizer){let E=oo.defaults.tokenizer||new pB;for(let T in w.tokenizer){let P=E[T];E[T]=(...L)=>{let j=w.tokenizer[T].apply(E,L);return j===!1&&(j=P.apply(E,L)),j}}l.tokenizer=E}if(w.walkTokens){let E=oo.defaults.walkTokens;l.walkTokens=function(T){let P=[];return P.push(w.walkTokens.call(this,T)),E&&(P=P.concat(E.call(this,T))),P}}m&&(l.extensions=u),oo.setOptions(l)})},oo.walkTokens=function(i,l){let u=[];for(let m of i)switch(u=u.concat(l.call(oo,m)),m.type){case"table":{for(let w of m.header)u=u.concat(oo.walkTokens(w.tokens,l));for(let w of m.rows)for(let E of w)u=u.concat(oo.walkTokens(E.tokens,l));break}case"list":{u=u.concat(oo.walkTokens(m.items,l));break}default:oo.defaults.extensions&&oo.defaults.extensions.childTokens&&oo.defaults.extensions.childTokens[m.type]?oo.defaults.extensions.childTokens[m.type].forEach(function(w){u=u.concat(oo.walkTokens(m[w],l))}):m.tokens&&(u=u.concat(oo.walkTokens(m.tokens,l)))}return u},oo.parseInline=function(i,l){if(typeof i>"u"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");l=r0({},oo.defaults,l||{}),Ute(l);try{let u=GS.lexInline(i,l);return l.walkTokens&&oo.walkTokens(u,l.walkTokens),v_.parseInline(u,l)}catch(u){if(u.message+=`
Please report this to https://github.com/markedjs/marked.`,l.silent)return"<p>An error occurred:</p><pre>"+_d(u.message+"",!0)+"</pre>";throw u}},oo.Parser=v_,oo.parser=v_.parse,oo.Renderer=mB,oo.TextRenderer=T8,oo.Lexer=GS,oo.lexer=GS.lex,oo.Tokenizer=pB,oo.Slugger=P8,oo.parse=oo,oo.options,oo.setOptions,oo.use,oo.walkTokens,oo.parseInline,v_.parse,GS.lex}),nne,rne,k8,ine=A(()=>{Lt(),uB(),rne=Ue(ZE)(nne||(nne=J([`
  padding: 6px;
`]))),k8=rne}),Ju,gB,CP,vB,one,sne,ane,I8,lne,une,cne,R8,dne,fne,hne,pne,mne,MP,TP,gne,vne,yne,_ne,wne,Sne,xne,bne,Ene,Ane,Cne,Mne,O8,PP=A(()=>{Ju=Y(Rt()),JPe(),Lt(),ws(),wi(),Ze(),rke(),wP(),ine(),gB=({title:i,message:l})=>"".concat(i," ").concat(l),CP=(()=>{let i=new Map;return{add:l=>{let u=gB(l);i.has(u)?i.set(u,i.get(u)+1):i.set(u,1)},delete:l=>{let u=gB(l);i.has(u)&&i.get(u)>1?i.set(u,i.get(u)-1):i.delete(u)},clear:()=>{i.clear()},check:l=>i.has(gB(l))}})(),vB=(()=>{let i=new Map;return{add:l=>{i.has(l)?i.set(l,i.get(l)+1):i.set(l,1)},delete:l=>{i.has(l)&&i.get(l)>1?i.set(l,i.get(l)-1):i.delete(l)},clear:()=>{i.clear()},check:l=>i.has(l),get types(){return Array.of(...i.keys())}}})(),sne=Ue.div(one||(one=J([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),fs),I8=Ue.div(ane||(ane=J([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),une=Ue.div(lne||(lne=J([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),R8=Ue.div(cne||(cne=J([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),fne=Ue.button(dne||(dne=J([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),hne={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},mne=Ue.div(pne||(pne=J([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:i})=>hne[i]),MP=i=>(l,u,m=[],w=!1)=>{(w||!CP.check({title:l,message:u}))&&(CP.add({title:l,message:u}),vB.add(i),fB.custom(E=>Ju.default.createElement(sne,null,Ju.default.createElement(mne,{type:i}),Ju.default.createElement(une,null,Ju.default.createElement(I8,null,l),Ju.default.createElement(R8,{dangerouslySetInnerHTML:{__html:oo.parse(u)}}),m.length>0&&Ju.default.createElement(R8,null,Ju.default.createElement("span",null,"Docs:"," ",m.map((T,P)=>Ju.default.createElement(Ju.Fragment,{key:P},P>0&&", ",Ju.default.createElement("a",{target:"_blank",href:T.url},T.title)))))),Ju.default.createElement(fne,{onClick:()=>{fB.remove(E.id),CP.delete({title:l,message:u}),vB.delete(i)}},"Close")),{duration:1/0}))},TP={warning:MP("warning"),success:MP("success"),info:MP("info"),error:MP("error")},vne=Ue.div(gne||(gne=J([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:i})=>i==="center"?"center":"flex-end"),_ne=Ue.button(yne||(yne=J([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),fs,({danger:i})=>i?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),Sne=Ue.div(wne||(wne=J([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),bne=Ue.div(xne||(xne=J([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),Ane=Ue.div(Ene||(Ene=J([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),Cne=()=>{let{hasNotifications:i}=O8();return JE({enabled:!i},()=>Ju.default.createElement(k8,null,Ju.default.createElement(Ane,null,Ju.default.createElement(I8,null,"No notifications"),"Notifications will appear here when you get them.")))},Mne=()=>{var i;let{toasts:l,handlers:u}=C8(),{startPause:m,endPause:w}=u,E=(i=vo(xe().atomP.ahistoric.pinNotifications))!=null?i:!1;return Ju.default.createElement(Sne,null,E?l.length>0&&Ju.default.createElement(bne,{onMouseEnter:m,onMouseLeave:w},Ju.default.createElement("div",null,l.map(T=>Ju.default.createElement("div",{key:T.id},T.message(T))))):null,Ju.default.createElement(vne,{align:"side"},E&&l.length>0&&Ju.default.createElement(_ne,{onClick:()=>{vB.clear(),CP.clear(),fB.remove()},danger:!0},"Clear")))},O8=()=>{let{toasts:i}=C8();return{hasNotifications:i.length>0}}});function B8(i,l){var u;let m=Object.values((u=(0,Tne.val)(i.pointers.historic.sheetsById))!=null?u:{}),w=m.flatMap(T=>{var P;return Object.values((P=T==null?void 0:T.staticOverrides.byObject)!=null?P:{})}).flatMap(T=>Object.values(T??{})),E=[...m.flatMap(T=>{var P,L;return Object.values((L=(P=T==null?void 0:T.sequence)==null?void 0:P.tracksByObject)!=null?L:{})}).flatMap(T=>{var P;return Object.values((P=T==null?void 0:T.trackData)!=null?P:{})}).flatMap(T=>T==null?void 0:T.keyframes).map(T=>T==null?void 0:T.value)];return w.forEach(T=>{mt(T,P=>{E.push(P)},[])}),E.filter(T=>(T==null?void 0:T.type)&&(l?(T==null?void 0:T.type)==l:typeof(T==null?void 0:T.type)=="string")).map(T=>T.id).filter((T,P,L)=>T!==null&&T!==""&&L.indexOf(T)===P)}var Tne,Pne=A(()=>{Tne=$n,Ae()});function kne(i,l){let u=new File([i],l),m=URL.createObjectURL(u),w=Object.assign(document.createElement("a"),{href:m,target:"_blank",rel:"noopener"});w.setAttribute("download",l),w.click(),setTimeout(()=>{URL.revokeObjectURL(m)},4e4)}var dm,Ine,Rne,One,Bne,Dne,Lne,Nne,Fne,zne,ike=A(()=>{Ze(),tv(),$0(),dm=Y(Rt()),Lt(),nte(),QPe(),Ine=Y(qPe()),PP(),Pne(),One=Ue.div(Rne||(Rne=J([""]))),Dne=Ue.div(Bne||(Bne=J([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),Nne=Ue(ev)(Lne||(Lne=J([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),Fne=({projects:i})=>{let l=i[0],u=l.address.projectId,m=u.replace(/[^\w\d'_\-]+/g," ").trim(),w="".concat(m,".theatre-project-state.json"),[E,T]=(0,dm.useState)(!1),P=(0,dm.useCallback)(()=>Se(void 0,null,function*(){var j,K;let Z=B8(l),q=new Map;try{yield Promise.all(Z.map(ee=>Se(void 0,null,function*(){let $=l.assetStorage.getAssetUrl(ee),re=yield fetch($);re.ok&&q.set(ee,yield re.blob())})))}catch{TP.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((K=(j=l.config.assets)==null?void 0:j.baseUrl)!=null?K:"/",". This is likely due to a CORS issue."));return}if(q.size>0){let ee=new Ine.default;for(let[re,se]of q)ee.file(re,se);let $=yield ee.generateAsync({type:"blob"});kne($,"".concat(m,".assets.zip"))}let X=JSON.stringify(xe().createContentOfSaveFile(l.address.projectId),null,2);kne(X,w),T(!0),setTimeout(()=>{T(!1)},2e3)}),[l,w]),L=Z0({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>dm.default.createElement(Nne,null,dm.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),dm.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),dm.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return dm.default.createElement(dm.default.Fragment,null,L.node,dm.default.createElement(One,null,dm.default.createElement(Ate,{projectId:u}),dm.default.createElement(Dne,null,dm.default.createElement(aB,{onMouseEnter:j=>L.open(j,j.target),onClick:E?void 0:P,disabled:E},E?"(Exported)":"Export ".concat(u," to JSON")))))},zne=Fne}),y_,Une,jne,Hne,Gne,Vne,Wne,Xne,Kne,Yne,Qne,oke=A(()=>{y_=Y(Rt()),Lt(),VT(),jne=Ue.div(Une||(Une=J([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),Gne=Ue.div(Hne||(Hne=J([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),Wne=Ue.div(Vne||(Vne=J([`
  color: rgba(145, 145, 145, 0.8);
`]))),Kne=Ue.a(Xne||(Xne=J([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),Yne=()=>y_.default.createElement(jne,null,y_.default.createElement(Gne,null,y_.default.createElement(Wne,null,y_.default.createElement(Zz,null)),y_.default.createElement("div",null,"Please select an object from the ",y_.default.createElement("u",null,"Outline Menu")," to see its properties.")),y_.default.createElement(Kne,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),Qne=Yne});function qne(){let[i,l]=(0,D8.useState)(!1),u=(0,D8.useMemo)(()=>{let m=new Set;return()=>{let w=()=>{m.delete(w),l(m.size>0)};return m.add(w),l(!0),w}},[]);return[i,u]}var D8,Jne=A(()=>{D8=Y(Rt())}),Qa,eA,Zne,$ne,yB,ere,L8,tre,N8,nre,F8,kP,rre,ire,_B,VS,z8=A(()=>{l_(),wi(),Qa=Y(Rt()),Lt(),an(),Sy(),ws(),XPe(),ike(),Ze(),Hq(),eA=$n,oke(),Jne(),US(),Zne="32px",yB=Ue.div($ne||($ne=J([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),fs,DE.propsPanel,({pin:i})=>i?"block":"none"),L8=Ue.div(ere||(ere=J([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),fs),N8=Ue.div(tre||(tre=J([`
  height: `,`;
  display: flex;
  align-items: center;
`])),Zne),F8=Ue.div(nre||(nre=J([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),fs),kP=(0,Qa.createContext)([!1,()=>()=>{}]),rre=i=>{let l=vo(xe().atomP.ahistoric.pinDetails)!==!1,u=jq("right");(0,Qa.useLayoutEffect)(()=>{_B.set(u)},[u]),(0,Qa.useEffect)(()=>()=>{VS.set(!1),_B.set(!1)},[]);let[m]=(0,Qa.useContext)(kP),w=l||u||m,[E,T]=(0,Qa.useState)(null);return A2(E),io(()=>{let P=a_(),L=P.find(wt);if(L)return Qa.default.createElement(yB,{"data-testid":"DetailPanel-Object",pin:w,ref:T,onMouseEnter:()=>{VS.set(!0)},onMouseLeave:()=>{VS.set(!1)}},Qa.default.createElement(N8,null,Qa.default.createElement(L8,{title:"".concat(L.sheet.address.sheetId,": ").concat(L.sheet.address.sheetInstanceId," > ").concat(L.address.objectKey)},Qa.default.createElement(s_,null,L.sheet.address.sheetId," "),Qa.default.createElement(GT,null,":",""),Qa.default.createElement(s_,null,L.sheet.address.sheetInstanceId," "),Qa.default.createElement(GT,null,""),Qa.default.createElement(s_,null,L.address.objectKey))),Qa.default.createElement(F8,null,Qa.default.createElement($ee,{objects:[L]})));let j=P.find(ce);return j?Qa.default.createElement(yB,{pin:w},Qa.default.createElement(N8,null,Qa.default.createElement(L8,{title:"".concat(j.address.projectId)},Qa.default.createElement(s_,null,j.address.projectId," "))),Qa.default.createElement(F8,null,Qa.default.createElement(zne,{projects:[j]}))):Qa.default.createElement(yB,{pin:w,onMouseEnter:()=>{VS.set(!0)},onMouseLeave:()=>{VS.set(!1)}},Qa.default.createElement(Qne,null))},[w])},ire=()=>{let i=qne();return Qa.default.createElement(kP.Provider,{value:i},Qa.default.createElement(rre,null))},_B=new eA.Atom(!1),VS=new eA.Atom(!1),(0,eA.prism)(()=>{let i=(0,eA.val)(VS.prism),l=(0,eA.val)(_B.prism);return i||l})}),U8,wB,SB,j8,tA,ore,H8,nA=A(()=>{U8=$n,wi(),Ze(),Jne(),wB=Y(Rt()),V6(),SB=(i,l)=>{let u=i.left/l.width,m=(i.left+i.width)/l.width,w=i.top/l.height,E=(i.height+i.top)/l.height;return{edges:{left:u<=.5?{from:"screenLeft",distance:u}:{from:"screenRight",distance:1-u},right:m<=.5?{from:"screenLeft",distance:m}:{from:"screenRight",distance:1-m},top:w<=.5?{from:"screenTop",distance:w}:{from:"screenBottom",distance:1-w},bottom:E<=.5?{from:"screenTop",distance:E}:{from:"screenBottom",distance:1-E}}}},j8=wB.default.createContext(null),tA=()=>(0,wB.useContext)(j8),ore=({panelId:i,children:l,defaultPosition:u,minDims:m})=>{let w=UO(800,200),[E,T]=qne(),{stuff:P}=io(()=>{var L;let{edges:j}=(L=(0,U8.val)(xe().atomP.historic.panelPositions[i]))!=null?L:u,K=Math.floor(w.width*(j.left.from==="screenLeft"?j.left.distance:1-j.left.distance)),Z=Math.floor(w.width*(j.right.from==="screenLeft"?j.right.distance:1-j.right.distance)),q=Math.floor(w.height*(j.top.from==="screenTop"?j.top.distance:1-j.top.distance)),X=Math.floor(w.height*(j.bottom.from==="screenTop"?j.bottom.distance:1-j.bottom.distance)),ee=Math.max(Z-K,m.width),$=Math.max(X-q,m.height);return{stuff:{dims:U8.prism.memo("dims",()=>({width:ee,left:K,top:q,height:$}),[ee,K,q,$]),panelId:i,minDims:m,boundsHighlighted:E,addBoundsHighlightLock:T}}},[i,w,E,T]);return wB.default.createElement(j8.Provider,{value:P},l)},H8=ore}),IP,sre,are,lre,G8,ure=A(()=>{_s(),Ze(),wc(),IP=Y(Rt()),Lt(),nA(),cm(),Ya(),Sy(),are=Ue.div(sre||(sre=J([`
  cursor: move;
`]))),lre=i=>{let l=tA(),u=(0,IP.useRef)(l);u.current=l;let[m,w]=es(null),E=(0,IP.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let j=u.current,K,Z=l.addBoundsHighlightLock();return{onDrag(q,X){let ee=N(F({},j.dims),{top:kn(j.dims.top+X,0,window.innerHeight-Y0),left:kn(j.dims.left+q,-j.dims.width+Y0,window.innerWidth-Y0)}),$=SB(ee,{width:window.innerWidth,height:window.innerHeight});K==null||K.discard(),K=xe().tempTransaction(({stateEditors:re})=>{re.studio.historic.panelPositions.setPanelPosition({position:$,panelId:j.panelId})})},onDragEnd(q){Z(),q?K==null||K.commit():K==null||K.discard()}}}}),[]),[T]=Zl(w,E);Qm(T,"dragging","move");let[P,L]=(0,IP.useMemo)(()=>{let j;return[function(){if(j){let K=j;j=void 0,K()}j=l.addBoundsHighlightLock()},function(){if(j){let K=j;j=void 0,K()}}]},[]);return IP.default.createElement(are,N(F({},i),{ref:m,onMouseEnter:P,onMouseLeave:L}))},G8=lre}),xB,cre,V8,dre,W8,fre,X8,hre,pre,mre,gre,vre,K8,yre,_re,wre,Sre,xre,RP,bre,Ere,Are,Cre,Mre,Tre,Pre,kre,Ire,Y8,Rre,ky,ske=A(()=>{_s(),Ze(),wc(),um(),xB=Y(Rt()),Lt(),nA(),ws(),Ya(),Sy(),V8=Ue.div(cre||(cre=J([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),fs,ME(.2,"#478698")),W8=Ue(V8)(dre||(dre=J([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),X8=Ue(W8)(fre||(fre=J([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),pre=Ue(X8)(hre||(hre=J([`
  top: -1px;
`]))),gre=Ue(X8)(mre||(mre=J([`
  bottom: -1px;
`]))),K8=Ue(W8)(vre||(vre=J([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),_re=Ue(K8)(yre||(yre=J([`
  left: -1px;
`]))),Sre=Ue(K8)(wre||(wre=J([`
  right: -1px;
`]))),RP=Ue(V8)(xre||(xre=J([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),Ere=Ue(RP)(bre||(bre=J([`
  top: 0;
  left: 0;
`]))),Cre=Ue(RP)(Are||(Are=J([`
  top: 0;
  right: 0;
`]))),Tre=Ue(RP)(Mre||(Mre=J([`
  bottom: 0;
  left: 0;
`]))),kre=Ue(RP)(Pre||(Pre=J([`
  bottom: 0;
  right: 0;
`]))),Ire={Top:pre,TopLeft:Ere,TopRight:Cre,Bottom:gre,BottomLeft:Tre,BottomRight:kre,Left:_re,Right:Sre},Y8={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},Rre=({which:i})=>{let l=tA(),u=(0,xB.useRef)(l);u.current=l;let[m,w]=es(null),E=(0,xB.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:Y8[i],onDragStart(){let j,K=u.current,Z=l.addBoundsHighlightLock();return{onDrag(q,X){let ee=F({},K.dims);if(i.startsWith("Bottom"))ee.height=Math.max(ee.height+X,K.minDims.height);else if(i.startsWith("Top")){let re=ee.top+ee.height,se=kn(ee.top+X,0,Math.min(re-K.minDims.height,window.innerHeight-Y0)),fe=re-se;ee.height=fe,ee.top=se}if(i.endsWith("Left")){let re=ee.left+ee.width,se=Math.min(ee.left+q,Math.min(re-K.minDims.width,window.innerWidth-Y0)),fe=re-se;ee.width=fe,ee.left=se}else i.endsWith("Right")&&(ee.width=Math.max(ee.width+q,Math.max(K.minDims.width,Y0-K.dims.left)));let $=SB(ee,{width:window.innerWidth,height:window.innerHeight});j==null||j.discard(),j=xe().tempTransaction(({stateEditors:re})=>{re.studio.historic.panelPositions.setPanelPosition({position:$,panelId:K.panelId})})},onDragEnd(q){Z(),q?j==null||j.commit():j==null||j.discard()}}}}),[i]),[T]=Zl(w,E),P=Ire[i],L=i.length<=6;return xB.default.createElement(P,{ref:m,className:[T?"isDragging":"",l.boundsHighlighted&&L?"isHighlighted":""].join(" "),style:{cursor:Y8[i]}})},ky=Rre}),i0,Ore,Bre,ake=A(()=>{i0=Y(Rt()),ske(),Ore=i=>i0.default.createElement(i0.default.Fragment,null,i0.default.createElement(ky,{which:"Bottom"}),i0.default.createElement(ky,{which:"Top"}),i0.default.createElement(ky,{which:"Left"}),i0.default.createElement(ky,{which:"Right"}),i0.default.createElement(ky,{which:"TopLeft"}),i0.default.createElement(ky,{which:"TopRight"}),i0.default.createElement(ky,{which:"BottomLeft"}),i0.default.createElement(ky,{which:"BottomRight"})),Bre=Ore}),bB,Dre,Lre,Nre,Q8,Fre=A(()=>{ws(),bB=Y(Rt()),Lt(),nA(),ake(),Lre=Ue.div(Dre||(Dre=J([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),fs),Nre=bB.default.forwardRef((i,l)=>{let u=tA(),m=i,{style:w,children:E}=m,T=D(m,["style","children"]);return bB.default.createElement(Lre,N(F({ref:l},T),{style:F({width:u.dims.width+"px",height:u.dims.height+"px",top:u.dims.top+"px",left:u.dims.left+"px"},w??{})}),bB.default.createElement(Bre,null),E)}),Q8=Nre}),lke=G((i,l)=>{(function(u,m){typeof i=="object"&&typeof l<"u"?m(i,Rt()):(u=typeof globalThis<"u"?globalThis:u||self,m(u.ReactErrorBoundary={},u.React))})(i,function(u,m){function w(X){if(X&&X.__esModule)return X;var ee=Object.create(null);return X&&Object.keys(X).forEach(function($){if($!=="default"){var re=Object.getOwnPropertyDescriptor(X,$);Object.defineProperty(ee,$,re.get?re:{enumerable:!0,get:function(){return X[$]}})}}),ee.default=X,Object.freeze(ee)}var E=w(m);function T(X,ee){return T=Object.setPrototypeOf||function($,re){return $.__proto__=re,$},T(X,ee)}function P(X,ee){X.prototype=Object.create(ee.prototype),X.prototype.constructor=X,T(X,ee)}var L=function(X,ee){return X===void 0&&(X=[]),ee===void 0&&(ee=[]),X.length!==ee.length||X.some(function($,re){return!Object.is($,ee[re])})},j={error:null},K=function(X){P(ee,X);function ee(){for(var re,se=arguments.length,fe=new Array(se),ye=0;ye<se;ye++)fe[ye]=arguments[ye];return re=X.call.apply(X,[this].concat(fe))||this,re.state=j,re.updatedWithError=!1,re.resetErrorBoundary=function(){for(var Oe,Ie=arguments.length,je=new Array(Ie),yt=0;yt<Ie;yt++)je[yt]=arguments[yt];re.props.onReset==null||(Oe=re.props).onReset.apply(Oe,je),re.reset()},re}ee.getDerivedStateFromError=function(re){return{error:re}};var $=ee.prototype;return $.reset=function(){this.updatedWithError=!1,this.setState(j)},$.componentDidCatch=function(re,se){var fe,ye;(fe=(ye=this.props).onError)==null||fe.call(ye,re,se)},$.componentDidMount=function(){var re=this.state.error;re!==null&&(this.updatedWithError=!0)},$.componentDidUpdate=function(re){var se=this.state.error,fe=this.props.resetKeys;if(se!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(se!==null&&L(re.resetKeys,fe)){var ye,Oe;(ye=(Oe=this.props).onResetKeysChange)==null||ye.call(Oe,re.resetKeys,fe),this.reset()}},$.render=function(){var re=this.state.error,se=this.props,fe=se.fallbackRender,ye=se.FallbackComponent,Oe=se.fallback;if(re!==null){var Ie={error:re,resetErrorBoundary:this.resetErrorBoundary};if(E.isValidElement(Oe))return Oe;if(typeof fe=="function")return fe(Ie);if(ye)return E.createElement(ye,Ie);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},ee}(E.Component);function Z(X,ee){var $=function(se){return E.createElement(K,ee,E.createElement(X,se))},re=X.displayName||X.name||"Unknown";return $.displayName="withErrorBoundary("+re+")",$}function q(X){var ee=E.useState(null),$=ee[0],re=ee[1];if(X!=null)throw X;if($!=null)throw $;return re}u.ErrorBoundary=K,u.useErrorHandler=q,u.withErrorBoundary=Z,Object.defineProperty(u,"__esModule",{value:!0})})}),nf,zre,Ure,jre,Hre,Gre,Vre,Wre,Xre,Kre,Yre,Qre,qre,Jre,Zre,$re,eie,tie,nie,rie,uke=A(()=>{nf=Y(Rt()),Lt(),Sy(),nA(),ure(),Fre(),zre=Y(lke()),GE(),Ze(),Sy(),Ure={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},jre={width:300,height:300},Hre=({paneInstance:i})=>nf.default.createElement(H8,{panelId:"pane-".concat(i.instanceId),defaultPosition:Ure,minDims:jre},nf.default.createElement(nie,{paneInstance:i})),Vre=Ue(Q8)(Gre||(Gre=J([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),DE.pluginPanes),Xre=Ue.div(Wre||(Wre=J([`
  width: 100%;
`]))),Yre=Ue.div(Kre||(Kre=J([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),qre=Ue.button(Qre||(Qre=J([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),Zre=Ue(UQ)(Jre||(Jre=J([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),eie=Ue.div($re||($re=J([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),tie=i=>nf.default.createElement(eie,null,"An Error occurred rendering this pane. Open the console for more info.",nf.default.createElement("pre",null,JSON.stringify({message:i.error.message,stack:i.error.stack},null,2))),nie=({paneInstance:i})=>{let[l,u]=(0,nf.useState)(null),m=i.definition.mount;(0,nf.useLayoutEffect)(()=>{if(!l)return;let E=m({paneId:i.instanceId,node:l});if(typeof E=="function")return E},[l,m,i.instanceId]);let w=(0,nf.useCallback)(()=>{xe().paneManager.destroyPane(i.instanceId)},[i]);return nf.default.createElement(Vre,{"data-testid":"theatre-pane-wrapper-".concat(i.instanceId)},nf.default.createElement(G8,null,nf.default.createElement(qz,null,nf.default.createElement(Yre,null,nf.default.createElement(qre,{onClick:w,title:"Close Pane"},nf.default.createElement(fTe,null))),nf.default.createElement(Xre,null,i.instanceId))),nf.default.createElement(zre.ErrorBoundary,{FallbackComponent:tie},nf.default.createElement(Zre,{"data-testid":"theatre-pane-content-".concat(i.instanceId),ref:u})))},rie=Hre}),q8,J8,iie=A(()=>{q8=$n,J8=(i,l)=>{let u=q8.prism.memo(i,()=>new q8.Atom(l),[]);return u.set(l),u}});function oie(i,l){(0,sie.useLayoutEffect)(()=>{if(!i||l.type!=="propWithChildren"&&l.type!=="primitiveProp"&&l.type!=="sheetObject")return;let u=null,m=N(F({},l.sheetObject.address),{pathToProp:l.type==="sheetObject"?[]:l.pathToProp});function w(){u=nB.replaceLock(m,()=>{})}function E(){u==null||u()}return i.addEventListener("mouseenter",w),i.addEventListener("mouseleave",E),()=>{u==null||u(),i.removeEventListener("mouseenter",w),i.removeEventListener("mouseleave",E)}},[i])}var sie,aie=A(()=>{sie=Y(Rt()),m8()}),__,lie,Z8,uie,$8,cie,eU,die,fie,hie,pie,mie,gie,vie,EB,AB=A(()=>{ws(),__=Y(Rt()),GE(),Lt(),FS(),aie(),Z8=Ue.li(lie||(lie=J([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),i=>i.depth),$8=Ue.div(uie||(uie=J([`
  border-bottom: 1px solid #7695b705;
`]))),eU=Ue($8)(cie||(cie=J([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),BE.panel.body.compoudThing.label.color,i=>i.isSelected&&"background: blue"),fie=Ue.span(die||(die=J([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),h_,eU),pie=Ue.span(hie||(hie=J([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),i=>i.isCollapsed?0:90,i=>i.isCollapsed?15:75),gie=Ue.ul(mie||(mie=J([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),vie=({leaf:i,label:l,children:u,isSelectable:m,isSelected:w,toggleSelect:E,toggleCollapsed:T,isCollapsed:P})=>{let L=Array.isArray(u)&&u.length>0,j=(0,__.useRef)(null);return oie(j.current,i),i.shouldRender?__.default.createElement(Z8,{depth:i.depth},__.default.createElement(eU,{ref:j,style:{height:i.nodeHeight+"px"},isSelectable:m===!0,isSelected:w===!0,onClick:E,isEven:i.n%2===0},__.default.createElement(pie,{isCollapsed:P,onClick:T},__.default.createElement(OJ,null)),__.default.createElement(fie,null,l)),L&&__.default.createElement(gie,null,u)):null},EB=vie});function cke(i,l){return l.every((u,m)=>u===i[m])}function dke(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;u++)if(i[u]!==l[u])return!1;return!0}function CB(i){var l;let u=[];for(;;){let m=u.length,w=(l=i[0])==null?void 0:l[m];if(w===void 0)return u;for(let E of i)if(w!==E[m])return u;u.push(w)}}var ov,MB,sv=A(()=>{GO(),ov=rP(i=>JSON.stringify(i)),MB=i=>JSON.parse(i)});function fke(i,l){let u=(0,tU.useRef)({combo:i,listener:l});u.current={combo:i,listener:l},(0,tU.useEffect)(()=>{function m(T){T.key===u.current.combo&&u.current.listener({down:!0,event:T})}function w(T){T.key===u.current.combo&&u.current.listener({down:!1,event:T})}function E(T){u.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",m),document.addEventListener("keyup",w),window.addEventListener("blur",E),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",w),window.removeEventListener("blur",E)}},[])}var tU,hke=A(()=>{tU=Y(Rt())});function yie(i){let[l,u]=(0,_ie.useState)(!1);return fke(i,({down:m})=>{u(m)}),l}var _ie,wie=A(()=>{_ie=Y(Rt()),hke()});function pke(i){let l=(0,nU.useMemo)(()=>new Sie.Atom(i),[]);return(0,nU.useLayoutEffect)(()=>{l.set(i)},[i]),l}var Sie,nU,mke=A(()=>{Sie=$n,nU=Y(Rt())});function xie(i,l,u){let m=(0,rU.pointer)({root:{},path:[]}),w=l(m);q1(i,(0,rU.getPointerParts)(w).path,u)}var rU,gke=A(()=>{rU=$n,lE()}),TB,bie,Dh,o0=A(()=>{TB="data-pos",bie={checkIfMouseEventSnapToPos(i,l){let u=i.composedPath().find(m=>m instanceof Element&&m!==(l==null?void 0:l.ignore)&&m.hasAttribute(TB));if(u){let m=parseFloat(u.getAttribute(TB));if(isFinite(m))return m}return null},includePositionSnapAttrs(i){return{[TB]:i}}},Dh=bie});function PB(i){let l=i.type==="sheet"?yke(i):iU(i);return{byPosition:vke(l),tracks:l}}function vke(i){let l=new Map;for(let u of i)for(let m of u.data.keyframes){let w=l.get(m.position);w||(w=[],l.set(m.position,w)),w.push({kf:m,track:u,itemKey:Vc.forTrackKeyframe(u.sheetObject,u.id,m.id)})}return l}function yke(i){return i.children.flatMap(iU)}function iU(i){return i.children.flatMap(l=>l.type==="propWithChildren"?iU(l):_ke(l))}function _ke(i){let l=i.sheetObject,u=l.address.projectId,m=xe().atomP.historic.coreByProject[u].sheetsById[l.address.sheetId].sequence.tracksByObject[l.address.objectKey],w=(0,kB.val)(m.trackIdByPropPath[ov(i.pathToProp)]);if(!w)return[];let E=(0,kB.val)(m.trackData[w]);return E?[{id:w,data:E,sheetObject:l}]:[]}function wke(i,l){return Wf(i.children.flatMap(u=>oU(u,l)))}function oU(i,l){return Wf(i.children.flatMap(u=>u.type==="propWithChildren"?oU(u,l):Ske(u,l)))}function Ske(i,l){var u,m;let w=i.sheetObject,E=w.address.projectId,T=xe().atomP.historic.coreByProject[E].sheetsById[w.address.sheetId].sequence.tracksByObject[w.address.objectKey],P=(0,kB.val)(T.trackIdByPropPath[ov(i.pathToProp)]);return P?(m=(u=l[w.address.objectKey])==null?void 0:u[P])!=null?m:[]:[]}var kB,rA=A(()=>{Ze(),kB=$n,Ty(),sv(),Ya()});function xke(i,l){let[u,m]=es(null),w=u_("useCaptureSelection");return Zl(l,(0,iA.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(E){if(!E.shiftKey||E.target instanceof HTMLInputElement)return!1;let T=l.getBoundingClientRect(),P=E.clientX-T.left-(0,Jm.val)(i.scaledSpace.leftPadding),L=(0,Jm.val)(i.scaledSpace.toUnitSpace)(P);return u.current={h:[L,L],v:[E.clientY-T.top,E.clientY-T.top]},(0,Jm.val)(i.selectionAtom).set({current:void 0}),{onDrag(j,K,Z){let q=l.getBoundingClientRect(),X=Z.clientX-q.left-(0,Jm.val)(i.scaledSpace.leftPadding),ee=(0,Jm.val)(i.scaledSpace.toUnitSpace)(X);u.current={h:[u.current.h[0],ee],v:[u.current.v[0],Z.clientY-q.top]};let $=sU.boundsToSelection(w,(0,Jm.val)(i),u.current);(0,Jm.val)(i.selectionAtom).set({current:$})},onDragEnd(j){u.current=null}}}}),[i,l,u])),m}var Jm,iA,w_,Eie,Aie,Cie,sU,Mie,Tie,aU,Pie,kie,bke=A(()=>{Ze(),wc(),wie(),mke(),gke(),_s(),wi(),Jm=$n,iA=Y(Rt()),Lt(),o0(),rA(),c_(),w_=5,Aie=Ue.div(Eie||(Eie=J([`
  cursor: `,`;
`])),i=>i.isShiftDown?"cell":"default"),Cie=({layoutP:i,children:l,height:u})=>{let[m,w]=es(null),E=yie("Shift"),T=xke(i,w),P=(0,iA.useRef)(T);return P.current=T,iA.default.createElement(Aie,{style:{height:u+"px"},ref:m,isShiftDown:E,className:"selectionview"},T&&iA.default.createElement(Pie,{state:T,layoutP:i}),l)},(i=>{let l=(T,P,L,j,K)=>{let Z=PB(L);if(L.top+L.nodeHeight/2+w_>j.v[0]&&L.top+L.nodeHeight/2-w_<j.v[1])for(let[q,X]of Z.byPosition){let ee=P.scaledSpace.toUnitSpace(w_);if(!(q+ee<=j.h[0]||q-ee>=j.h[1]))for(let $ of X)xie(K,re=>re[$.track.sheetObject.address.objectKey].byTrackId[$.track.id].byKeyframeId[$.kf.id],!0)}m(T,P,L,j,K)},u={sheet(T,P,L,j,K){l(T,P,L,j,K)},propWithChildren(T,P,L,j,K){l(T,P,L,j,K)},sheetObject(T,P,L,j,K){l(T,P,L,j,K)},primitiveProp(T,P,L,j,K){let{sheetObject:Z,trackId:q}=L,X=(0,Jm.val)(xe().atomP.historic.coreByProject[Z.address.projectId].sheetsById[Z.address.sheetId].sequence.tracksByObject[Z.address.objectKey].trackData[q]);if(!(j.v[0]>L.top+L.heightIncludingChildren/2+w_||L.top+L.heightIncludingChildren/2-w_>j.v[1])){for(let ee of X.keyframes)if(!(ee.position+P.scaledSpace.toUnitSpace(w_)<=j.h[0])){if(ee.position-P.scaledSpace.toUnitSpace(w_)>=j.h[1])break;xie(K,$=>$[Z.address.objectKey].byTrackId[q].byKeyframeId[ee.id],!0)}}}},m=(T,P,L,j,K)=>{if("children"in L)for(let Z of L.children)w(T,P,Z,j,K)};function w(T,P,L,j,K){if(!L.shouldRender||j.v[0]>L.top+L.heightIncludingChildren||L.top>j.v[1])return;let Z=u[L.type];Z?Z(T,P,L,j,K):m(T,P,L,j,K)}function E(T,P,L){let j={};L=aU(L);let K=P.tree;w(T.utilFor.internal(),P,K,L,j);let Z=P.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:j,getDragHandlers(q){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let X,ee=P.scaledSpace.toUnitSpace;return{onDrag($,re,se){X&&(X.discard(),X=void 0);let fe=Dh.checkIfMouseEventSnapToPos(se,{ignore:q.domNode}),ye=fe!=null?fe-q.positionAtStartOfDrag:ee($);X=xe().tempTransaction(({stateEditors:Oe})=>{let Ie=Oe.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let je of Object.keys(j)){let{byTrackId:yt}=j[je];for(let st of Object.keys(yt)){let{byKeyframeId:ft}=yt[st];Ie({trackId:st,keyframeIds:Object.keys(ft),translate:ye,scale:1,origin:0,snappingFunction:Z.getSequence().closestGridPosition,objectKey:je,projectId:q.projectId,sheetId:q.sheetId})}}})},onDragEnd($){$?X==null||X.commit():X==null||X.discard()}}}}},delete(){xe().transaction(({stateEditors:q})=>{let X=q.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let ee of Object.keys(j)){let{byTrackId:$}=j[ee];for(let re of Object.keys($)){let{byKeyframeId:se}=$[re];X(N(F({},Z.address),{objectKey:ee,trackId:re,keyframeIds:Object.keys(se)}))}}})}}}i.boundsToSelection=E})(sU||(sU={})),Tie=Ue.div(Mie||(Mie=J([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),aU=i=>({h:[...i.h].sort((l,u)=>l-u),v:[...i.v].sort((l,u)=>l-u)}),Pie=({state:i,layoutP:l})=>{let u=pke(i);return io(()=>{let m=(0,Jm.val)(u.pointer),w=aU(m),E=(0,Jm.val)(l.scaledSpace.fromUnitSpace),T=(0,Jm.val)(l.scaledSpace.leftPadding),P=w.h.map(E).map(q=>q+T),L=w.v[0],j=w.v[1]-w.v[0],K=P[0],Z=P[1]-P[0];return iA.default.createElement(Tie,{style:{top:L+"px",height:j+"px",left:K+"px",width:Z+"px"}})},[l,u])},kie=Cie}),WS,Iie,Rie,lU,Oie,Bie,Die,Lie=A(()=>{LE(),WS=Y(Rt()),Lt(),Fy(),Rie=Ue.div(Iie||(Iie=J([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>gv.scrollableArea),lU=(0,WS.createContext)(Zg),Oie=()=>(0,WS.useContext)(lU),Bie=i=>{let l=(0,WS.useRef)(null),u=(0,WS.useCallback)(m=>{l.current.scrollBy(0,m.deltaY)},[]);return WS.default.createElement(lU.Provider,{value:u},WS.default.createElement(Rie,{ref:l},i.children))},Die=Bie}),Nie,Eke=A(()=>{Nie='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),Zm,IB=A(()=>{Zm=(i,l=i)=>`
  left: `.concat(i*-.5,`px;
  top: `).concat(l*-.5,`px;
  width: `).concat(i,`px;
  height: `).concat(l,`px;
`)}),RB,Fie,zie,Ake=A(()=>{RB=$n,Fie=(0,RB.prism)(()=>{let[i,l]=RB.prism.state("pos",null);return RB.prism.effect("setupListeners",()=>{let u=m=>{l(m)};return document.addEventListener("mousemove",u),()=>{document.removeEventListener("mousemove",u)}},[]),i}),zie=Fie}),Iy,Lh,OP,Uie,jie,Hie,Gie,Ry,av,OB,Vie,Wie,rf=A(()=>{Iy=$n,Ake(),Ya(),Lh=Y(Rt()),OP=(0,Lh.createContext)(null),Uie=0,jie=({children:i,layoutP:l})=>{let u=(0,Lh.useMemo)(()=>new Iy.Atom([]),[]),m=(0,Lh.useMemo)(()=>(0,Iy.prism)(()=>{let T=Iy.prism.memo("p",()=>Vie(l),[l]).getValue(),P=(0,Iy.val)(u.pointer);return P.length>0?cy(P).position:T}),[l]),w=(0,Lh.useCallback)(()=>{let T=Uie++;return u.reduce(P=>[...P,{id:T,position:[-1,0]}]),{set:P=>{u.reduce(L=>{let j=L.findIndex(Z=>Z.id===T);if(j===-1)return console.warn("Lock is already freed. This is a bug."),L;let K=[...L];return K.splice(j,1,{id:T,position:[P,P===-1?0:1]}),K})},unlock:()=>{u.reduce(P=>P.filter(L=>L.id!==T))}}},[]),E={currentD:m,getLock:w};return Lh.default.createElement(OP.Provider,{value:E},i)},Hie=()=>(0,Lh.useContext)(OP).currentD,Gie=()=>{let{getLock:i}=(0,Lh.useContext)(OP),l=(0,Lh.useRef)();return(0,Lh.useLayoutEffect)(()=>()=>{var u;(u=l.current)==null||u.unlock()},[]),(0,Lh.useMemo)(()=>{let u;return(m,w)=>{var E,T;(u==null?void 0:u.shouldLock)!==m&&(m?l.current=i():(E=l.current)==null||E.unlock()),(u==null?void 0:u.pos)!==w&&m&&((T=l.current)==null||T.set(w)),u={shouldLock:m,pos:w}}},[i])},Ry=(i,l)=>{let{getLock:u}=(0,Lh.useContext)(OP),m=(0,Lh.useRef)();(0,Lh.useLayoutEffect)(()=>{if(i)return m.current=u(),()=>{m.current.unlock()}},[i,u]),(0,Lh.useLayoutEffect)(()=>{i&&m.current.set(l)},[l,i])},av=i=>({[OB]:i==="hide"?i:i.toFixed(3)}),OB="data-theatre-lock-framestamp-to",Vie=i=>(0,Iy.prism)(()=>{let l=(0,Iy.val)(i.rightDims),u=(0,Iy.val)(i.clippedSpace.toUnitSpace),m=(0,Iy.val)(zie);if(!m)return[-1,0];for(let K of m.composedPath()){if(!(K instanceof HTMLElement||K instanceof SVGElement))break;if(K.hasAttribute(OB)){let Z=K.getAttribute(OB);if(typeof Z!="string")continue;if(Z==="hide")return[-1,0];let q=parseFloat(Z);if(isFinite(q)&&q>=0)return[q,2]}}let{clientX:w,clientY:E}=m,{screenX:T,screenY:P,width:L,height:j}=l;if(iT(w,T,T+L)&&iT(E,P+16,P+j)){let K=w-T;return[u(K),3]}else return[-1,0]}),Wie=jie}),Xie,BP,uU,Kie,Yie,lv,Qie=A(()=>{ws(),cm(),Lt(),Eke(),IB(),o0(),rf(),Xie=12,BP=34,uU="beingDragged",lv={BEING_DRAGGED_CLASS:uU,CSS:Zd(Kie||(Kie=J([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),Zm(Xie),fs,uU),CSS_WHEN_SOMETHING_DRAGGING:Zd(Yie||(Yie=J([`
    pointer-events: auto;
    cursor: var(`,`);

    //  thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),by,BP/2,BP/2,BP,BP,Nie),reactProps(i){return N(F(F({},av(i.position)),Dh.includePositionSnapAttrs(i.position)),{className:i.isDragging?lv.BEING_DRAGGED_CLASS:""})}}});function cU(){LP.set({mode:"snapToAll"})}function XS(){LP.set({mode:"snapToNone"})}function qie(i){LP.set({mode:"snapToSome",positions:i})}function Jie(i,l){return Object.fromEntries(Object.entries(i).map(([u,m])=>[u,Object.fromEntries(Object.entries(m.trackData).map(([w,E])=>[w,E.keyframes.filter(T=>l(T,{trackId:w,trackData:E,objectKey:u})).map(T=>T.position)]))]))}var Zie,$ie,dU,eoe,toe,noe,roe,ioe,DP,LP,fU,KS=A(()=>{Zie=$n,$ie=$n,dU=Y(Rt()),Lt(),Qie(),toe=Ue.div(eoe||(eoe=J([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),lv.CSS,lv.CSS_WHEN_SOMETHING_DRAGGING),roe=Ue.div(noe||(noe=J([`
  position: absolute;
`]))),ioe=i=>dU.default.createElement(roe,{style:{top:"".concat(i.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,$ie.val)(i.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(i.position,"px))")}},dU.default.createElement(toe,F({},lv.reactProps({isDragging:!1,position:i.position})))),DP=ioe,LP=new Zie.Atom({mode:"snapToNone"}),fU=LP.prism});function Cke(i,l){let u=(0,YS.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(w){if(w.target instanceof HTMLInputElement||w.shiftKey||w.altKey||w.ctrlKey||w.metaKey||w.composedPath().some(Z=>Z instanceof HTMLElement&&Z.draggable===!0))return!1;let E=w.clientX-l.getBoundingClientRect().left,T=kn((0,$l.val)(i.clippedSpace.toUnitSpace)(E),0,1/0),P=(0,$l.val)(i.seeker.setIsSeeking),L=(0,$l.val)(i.sheet).getSequence();L.position=T;let j=T,K=(0,$l.val)(i.scaledSpace.toUnitSpace);return P(!0),cU(),{onDrag(Z,q,X){let ee=K(Z),$=kn(j+ee,0,L.length),re=Dh.checkIfMouseEventSnapToPos(X,{});re!=null&&($=re),L.position=$},onDragEnd(){P(!1),XS()}}}}),[i,l]),[m]=Zl(l,u);Qm(m,"draggingPositionInSequenceEditor","ew-resize")}function Mke(i,l){let u=Oie();(0,YS.useLayoutEffect)(()=>{if(!l)return;let m=E=>{if(E.ctrlKey){E.preventDefault(),E.stopPropagation();let T=E.clientX-l.getBoundingClientRect().left,P=(0,$l.val)(i.clippedSpace.toUnitSpace)(T),L=(0,$l.val)(i.clippedSpace.range),j=1+hU(E.deltaY,[-50,50])*.03,K=dy(L,X=>(X-P)*j+P),Z=(0,$l.val)(i.sheet).getSequence().length,q=Z+Z*.25;(0,$l.val)(i.clippedSpace.setRange)(Tke(K,[0,q]));return}else if(E.shiftKey){E.preventDefault(),E.stopPropagation();let T=(0,$l.val)(i.sheet).getSequence().length,P=(0,$l.val)(i.clippedSpace.range),L=(P.end-P.start)/T,j=hU(E.deltaY||E.deltaX,[-50,50])*.05*L,K=dy(P,Z=>Z+j);(0,$l.val)(i.clippedSpace.setRange)(K);return}else{u(E),E.preventDefault(),E.stopPropagation();let T=(0,$l.val)(i.scaledSpace.toUnitSpace)(E.deltaX*1),P=(0,$l.val)(i.clippedSpace.range),L=dy(P,j=>j+T);(0,$l.val)(i.clippedSpace.setRange)(L);return}},w={capture:!0,passive:!1};return l.addEventListener("wheel",m,w),()=>{l.removeEventListener("wheel",m,w)}},[l,i]),Zl(l,(0,YS.useMemo)(()=>({onDragStart(m){let w=(0,$l.val)(i.clippedSpace.range),E=(0,$l.val)(i.clippedSpace.setRange),T=(0,$l.val)(i.scaledSpace.toUnitSpace);return m.preventDefault(),m.stopPropagation(),{onDrag(P,L,j,K,Z){u({deltaY:-Z});let q=-T(P),X=dy(w,ee=>ee+q);E(X)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[i]))}function hU(i,[l,u]){return Math.max(Math.min(i,u),l)}function Tke(i,l){return dy(i,u=>hU(u,l))}function Pke(i,l){(0,YS.useLayoutEffect)(()=>{if(!l)return;let u=(0,$l.prism)(()=>{let T=(0,$l.val)(i.clippedSpace.range);return(0,$l.val)(i.scaledSpace.fromUnitSpace)(T.start)}),m=()=>{let T=u.getValue();l.scrollLeft=T},w=u.onStale(m);m();let E=setTimeout(m,100);return()=>{clearTimeout(E),w()}},[i,l])}var $l,YS,ooe,soe,aoe,pU,loe=A(()=>{wc(),_s(),wi(),$l=$n,Ya(),YS=Y(Rt()),Lt(),Lie(),ws(),cm(),o0(),KS(),soe=Ue.div(ooe||(ooe=J([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),fs),aoe=YS.default.memo(({layoutP:i,children:l,height:u})=>{let{width:m,unitSpaceToScaledSpaceMultiplier:w}=io(()=>({width:(0,$l.val)(i.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,$l.val)(i.scaledSpace.fromUnitSpace)(1)}),[i]),[E,T]=es(null);return Mke(i,T),Cke(i,T),Pke(i,T),YS.default.createElement(soe,{ref:E,style:{width:m+"px",height:u+"px","--unitSpaceToScaledSpaceMultiplier":w}},l)}),pU=aoe}),BB,uoe,coe,doe,foe,hoe,poe,moe,oA,DB=A(()=>{BB=Y(Rt()),Lt(),coe=Ue.li(uoe||(uoe=J([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),foe=Ue.div(doe||(doe=J([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),i=>i.isEven?"transparent":"#6b8fb505"),poe=Ue.ul(hoe||(hoe=J([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),moe=({leaf:i,children:l,node:u,isCollapsed:m})=>{let w=Array.isArray(l)&&l.length>0;return i.shouldRender?BB.default.createElement(coe,null,BB.default.createElement(foe,{style:{height:i.nodeHeight+"px"},isEven:i.n%2===0},u),w&&BB.default.createElement(poe,null,l)):null},oA=moe}),kke=G((i,l)=>{(function(){var u=this,m={};typeof i<"u"?l.exports=m:u.fuzzy=m,m.simpleFilter=function(w,E){return E.filter(function(T){return m.test(w,T)})},m.test=function(w,E){return m.match(w,E)!==null},m.match=function(w,E,T){T=T||{};var P=0,L=[],j=E.length,K=0,Z=0,q=T.pre||"",X=T.post||"",ee=T.caseSensitive&&E||E.toLowerCase(),$;w=T.caseSensitive&&w||w.toLowerCase();for(var re=0;re<j;re++)$=E[re],ee[re]===w[P]?($=q+$+X,P+=1,Z+=1+Z):Z=0,K+=Z,L[L.length]=$;return P===w.length?(K=ee===w?1/0:K,{rendered:L.join(""),score:K}):null},m.filter=function(w,E,T){return!E||E.length===0?[]:typeof w!="string"?E:(T=T||{},E.reduce(function(P,L,j,K){var Z=L;T.extract&&(Z=T.extract(L));var q=m.match(w,Z,T);return q!=null&&(P[P.length]={string:q.rendered,score:q.score,index:j,original:L}),P},[]).sort(function(P,L){var j=L.score-P.score;return j||P.index-L.index}))}})()});function Ike(i,l){let[u,m]=(0,LB.useState)(!1),w=(0,LB.useRef)(l);return u||(w.current=l),(0,LB.useMemo)(()=>i(m),w.current)}var LB,Rke=A(()=>{LB=Y(Rt())}),mU,S_,NB=A(()=>{mU="rgba(26, 28, 30, 0.97);",S_="#272B2F"});function goe(i,l,u,m){let w=Ike(E=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return E(!0),{onDrag(T,P){i&&u.onCurveChange(m(T,P))},onDragEnd(T){E(!1),u.onCancelCurveChange()}}}}),[i,u.onCurveChange,u.onCancelCurveChange]);Zl(l,w)}var as,FB,NP,sA,voe,FP,yoe,zB,_oe,woe,Soe,aA,xoe,QS,boe,Eoe,gU,Aoe,UB,Coe,vU,Moe,Toe,Oke=A(()=>{as=Y(Rt()),wc(),_s(),dr(),Lt(),ws(),Rke(),NB(),FB=.12,NP=1+FB*2,sA=.01,voe=8,FP=(1-sA)/(voe-1),yoe="#3EAAA4",zB="#3EAAA4",_oe="#3EAAA4",woe="#3EAAA4",Soe="#3EAAA4",aA="#3EAAA4",xoe="#3EAAA4",QS="#B3B3B3",boe="#3eaaa4",Eoe="#67dfd8",gU=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],UB=Ue.circle(Aoe||(Aoe=J([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),boe),vU=Ue.circle(Coe||(Coe=J([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),fs,UB,Eoe),Moe=i=>{let{curveConnection:{left:l,right:u},backgroundConnections:m}=i,w=Math.min(0,1-u.handles[1],1-l.handles[3]),E=Math.max(1,1-u.handles[1],1-l.handles[3]),T=Math.max(1,E-w),P=se=>(se-w)/T,[L,j]=es(null),K=NP/((j==null?void 0:j.clientWidth)||1),Z=NP/((j==null?void 0:j.clientHeight)||1),[q,X]=es(null);goe(j,X,i,(se,fe)=>{let ye=kn(l.handles[2]+se*K,0,1),Oe=l.handles[3]-fe*Z;return[ye,Oe,u.handles[0],u.handles[1]]});let[ee,$]=es(null);goe(j,$,i,(se,fe)=>{let ye=kn(u.handles[0]+se*K,0,1),Oe=u.handles[1]-fe*Z;return[l.handles[2],l.handles[3],ye,Oe]});let re=se=>"M0 ".concat(P(1)," C").concat(se.left.handles[2]," ").concat(P(1-se.left.handles[3])," ").concat(se.right.handles[0]," ").concat(P(1-se.right.handles[1])," 1 ").concat(P(0));return as.default.createElement("svg",{height:"100%",width:"100%",ref:L,viewBox:"".concat(-FB," ").concat(-FB," ").concat(NP," ").concat(NP),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},as.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},as.default.createElement("stop",{offset:P(-1),stopColor:xoe}),as.default.createElement("stop",{offset:P(0),stopColor:aA}),as.default.createElement("stop",{offset:P(.3),stopColor:Soe}),as.default.createElement("stop",{offset:P(.5),stopColor:woe}),as.default.createElement("stop",{offset:P(.7),stopColor:_oe}),as.default.createElement("stop",{offset:P(1),stopColor:zB}),as.default.createElement("stop",{offset:P(2),stopColor:yoe})),as.default.createElement("pattern",{id:"dot-background-pattern-1",width:FP,height:FP/T,y:-w/T},as.default.createElement("rect",{width:sA,height:sA,fill:QS,opacity:.3})),as.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),as.default.createElement("pattern",{id:"dot-background-pattern-2",width:FP,height:FP},as.default.createElement("rect",{width:sA,height:sA,fill:QS})),as.default.createElement("rect",{x:0,y:P(0),width:"1",height:P(1)-P(0),fill:"url(#dot-background-pattern-2)"}),!l.type||l.type==="bezier"?as.default.createElement(as.default.Fragment,null,as.default.createElement("line",{x1:0,y1:P(1),x2:l.handles[2],y2:P(1-l.handles[3]),stroke:QS,strokeWidth:"0.01"}),as.default.createElement("line",{x1:1,y1:P(0),x2:u.handles[0],y2:P(1-u.handles[1]),stroke:QS,strokeWidth:"0.01"}),as.default.createElement("path",{d:re(i.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),m.map((se,fe)=>as.default.createElement("path",{key:se.objectKey+"/"+se.left.id,d:re(se),stroke:gU[fe%gU.length],opacity:.6,strokeWidth:"0.01"})),as.default.createElement("path",{d:re(i.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),as.default.createElement("circle",{cx:0,cy:P(1),r:"0.025",stroke:zB,strokeWidth:"0.02",fill:S_}),as.default.createElement("circle",{cx:1,cy:P(0),r:"0.025",stroke:aA,strokeWidth:"0.02",fill:S_}),as.default.createElement(vU,{ref:q,cx:l.handles[2],cy:P(1-l.handles[3]),fill:zB,opacity:.2}),as.default.createElement(UB,{cx:l.handles[2],cy:P(1-l.handles[3])}),as.default.createElement(vU,{ref:ee,cx:u.handles[0],cy:P(1-u.handles[1]),fill:aA,opacity:.2}),as.default.createElement(UB,{cx:u.handles[0],cy:P(1-u.handles[1])})):as.default.createElement(as.default.Fragment,null,as.default.createElement("line",{x1:0,y1:P(1),x2:1,y2:P(1),stroke:QS,strokeWidth:"0.01"}),as.default.createElement("line",{x1:1,y1:P(1),x2:1,y2:0,stroke:QS,strokeWidth:"0.01"}),as.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:aA,strokeWidth:"0.02",fill:S_}),as.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:aA,strokeWidth:"0.02",fill:S_})))},Toe=Moe});function jB(i){return i.map(l=>l.toFixed(3)).join(", ")}function HB(i){if(!i||(i==null?void 0:i.length)>Poe)return null;let l=i.split(",");if(l.length!==4)return null;let u=l.map(m=>Number(m.trim()));return!u.every(m=>isFinite(m))||u[0]<0||u[0]>1||u[2]<0||u[2]>1?null:u}function Bke(i,l,u={threshold:.02}){if(!i||!l)return!1;let m=0;for(let w=0;w<4;w++)m+=Math.abs(i[w]-l[w]);return m<u.threshold}var Poe,GB,koe=A(()=>{Poe=128,GB=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),Qf,VB,qS,yU,Ioe,Roe,zP,_U,wU,Ooe,Boe,Dke=A(()=>{Qf=Y(Rt()),VB=.75,qS=.1,yU=1+VB*2,Ioe="#F5F5F5",Roe="#888888",zP="#4f4f4f",_U="rgba(255, 255, 255, 0.1)",wU=i=>1-i,Ooe=i=>{let{easing:l,isSelected:u}=i,m=u?Ioe:Roe,w="".concat(-VB," ").concat(-VB," ").concat(yU," ").concat(yU);if(l){let E=[l[0],wU(l[1])],T=[l[2],wU(l[3])];return Qf.default.createElement("svg",{height:"100%",width:"100%",viewBox:w,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Qf.default.createElement("line",{x1:"0",y1:"1",x2:E[0],y2:E[1],stroke:zP,strokeWidth:"0.1"}),Qf.default.createElement("line",{x1:"1",y1:"0",x2:T[0],y2:T[1],stroke:zP,strokeWidth:"0.1"}),Qf.default.createElement("circle",{cx:E[0],cy:E[1],r:.1,fill:_U}),Qf.default.createElement("circle",{cx:T[0],cy:T[1],r:.1,fill:_U}),Qf.default.createElement("circle",{cx:E[0],cy:E[1],r:qS,fill:zP}),Qf.default.createElement("circle",{cx:T[0],cy:T[1],r:qS,fill:zP}),Qf.default.createElement("path",{d:"M0 1 C".concat(E[0]," ").concat(E[1]," ").concat(T[0],` 
        `).concat(T[1]," 1 0"),stroke:m,strokeWidth:"0.08"}),Qf.default.createElement("circle",{cx:0,cy:1,r:qS,fill:m}),Qf.default.createElement("circle",{cx:1,cy:0,r:qS,fill:m}))}return Qf.default.createElement("svg",{height:"100%",width:"100%",viewBox:w,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Qf.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:m,strokeWidth:"0.08"}),Qf.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:m,strokeWidth:"0.08"}),Qf.default.createElement("circle",{cx:0,cy:1,r:qS,fill:m}),Qf.default.createElement("circle",{cx:1,cy:0,r:qS,fill:m}))},Boe=Ooe}),UP,Doe,Loe,Noe,Foe,zoe,Uoe,joe,Lke=A(()=>{wP(),UP=Y(Rt()),Lt(),koe(),Dke(),bO(),NB(),tv(),Noe=Ue.div(Loe||(Loe=J([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),S_,({isSelected:i})=>i&&Zd(Doe||(Doe=J([`
      background-color: #383d42;
    `])))),zoe=Ue(ev)(Foe||(Foe=J([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),Uoe=UP.default.forwardRef((i,l)=>{let[u,m]=JE({enabled:!0,verticalPlacement:i.tooltipPlacement,verticalGap:0},()=>UP.default.createElement(zoe,{showPopoverEdgeTriangle:!1},i.easing.label));return UP.default.createElement(Noe,F({ref:xO([m,l])},i),u,UP.default.createElement(Boe,{easing:HB(i.easing.value),isSelected:i.isSelected}))}),joe=Uoe});function Nke(i){var l;let[u,m]=(0,Hoe.useState)(null),w=T=>{if(u===null){i.items.length>0&&m(0);return}let P=u+T*i.uiColumns,L=P<0,j=P>i.items.length-1;if(L||j){if(i.canVerticleExit&&i.canVerticleExit(L?"top":"bottom")){m(null);return}return}m(P)},E=T=>{u===null?m(jke(T,i.items.length)):u+T<0?m(null):m(Math.min(u+T,i.items.length-1))};return{focusFirstItem(){m(0)},onParentEltKeyDown:T=>{if(T.key==="ArrowRight")E(1);else if(T.key==="ArrowLeft")E(-1);else if(T.key==="ArrowUp")w(-1);else if(T.key==="ArrowDown")w(1);else return 0;return 1},gridItems:i.items.map((T,P)=>i.renderItem({isSelected:P===u,item:T,select(L){m(P),i.onSelectItem(T)===1&&(L==null||L.preventDefault(),L==null||L.stopPropagation())}})),currentSelection:(l=i.items[u??-1])!=null?l:null}}var Hoe,Fke=A(()=>{Hoe=Y(Rt()),XB()});function Goe(i,l,u){var m;(m=i.current)==null||m.discard(),i.current=null;let w=HB(u);w===null?i.current=Uke(l):i.current=zke(l,w)}function Voe(i){var l;(l=i.current)==null||l.discard(),i.current=null}function zke(i,l){return xe().tempTransaction(({stateEditors:u})=>{let{setHandlesForKeyframe:m,setKeyframeType:w}=u.coreByProject.historic.sheetsById.sequence;for(let{projectId:E,sheetId:T,objectKey:P,trackId:L,left:j,right:K}of i)m({projectId:E,sheetId:T,objectKey:P,trackId:L,keyframeId:j.id,start:[l[0],l[1]]}),m({projectId:E,sheetId:T,objectKey:P,trackId:L,keyframeId:K.id,end:[l[2],l[3]]}),w({projectId:E,sheetId:T,objectKey:P,trackId:L,keyframeId:j.id,keyframeType:"bezier"})})}function Uke(i){return xe().tempTransaction(({stateEditors:l})=>{let{setKeyframeType:u}=l.coreByProject.historic.sheetsById.sequence;for(let{projectId:m,sheetId:w,objectKey:E,trackId:T,left:P}of i)u({projectId:m,sheetId:w,objectKey:E,trackId:T,keyframeId:P.id,keyframeType:"hold"})})}function jke(i,l){return(i%l+l)%l}function Hke(i,l){return()=>setTimeout(i,l)}function Gke({left:i,right:l}){return({left:u,right:m})=>i.handles[2]!==u.handles[2]||i.handles[3]!==u.handles[3]||l.handles[0]!==m.handles[0]||l.handles[1]!==m.handles[1]}var WB,gl,Woe,SU,xU,Xoe,Koe,Yoe,Qoe,qoe,Joe,Zoe,$oe,ese,tse,nse,rse,bU,Vke,EU,ise,XB=A(()=>{WB=$n,gl=Y(Rt()),Lt(),Woe=Y(kke()),Ze(),Oke(),Lke(),koe(),NB(),_s(),Fke(),SU=3,xU=53,Xoe=25,Yoe=Ue.div(Koe||(Koe=J([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),mU,SU*xU),qoe=Ue.div(Qoe||(Qoe=J([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),SU),Zoe=Ue.input.attrs({type:"text"})(Joe||(Joe=J([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),S_),ese=Ue.div($oe||($oe=J([`
  grid-area: tween;
  background: `,`;
`])),S_),nse=Ue.div(tse||(tse=J([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),rse=i=>{let l=(0,gl.useMemo)(()=>[i.curveConnection,...i.additionalConnections],[i.curveConnection,...i.additionalConnections]),u=(0,gl.useRef)(null);(0,gl.useEffect)(()=>{let We=ise(l);return()=>{var Pt;We(),(Pt=u.current)==null||Pt.commit()}},[u]);let m=[i.curveConnection.left.handles[2],i.curveConnection.left.handles[3],i.curveConnection.right.handles[0],i.curveConnection.right.handles[1]],w=(0,gl.useRef)(null);(0,gl.useLayoutEffect)(()=>{var We,Pt;(We=w.current)==null||We.select(),(Pt=w.current)==null||Pt.focus()},[w.current]);let[E,T]=(0,gl.useState)(jB(m)),P=We=>{We!==void 0&&(K(1),T(We.target.value),HB(We.target.value)&&q(We.target.value))},L=We=>{var Pt,be;K(1),(We.key==="ArrowDown"||We.key==="ArrowUp")&&We.preventDefault(),We.key==="ArrowDown"?(vn.focusFirstItem(),(be=(Pt=je.current[se[0].label])==null?void 0:Pt.current)==null||be.focus()):We.key==="Escape"?(Voe(u),i.onRequestClose("key Escape")):We.key==="Enter"&&i.onRequestClose("key Enter")},[j,K]=(0,gl.useState)(0);(0,gl.useEffect)(()=>{j===2?T(jB(m)):j===3&&E!==""&&T("")},l);let[Z,q]=(0,gl.useState)(jB(m)),[X,ee]=(0,gl.useState)(null);(0,gl.useEffect)(()=>{var We;j!==0&&j!==3&&Goe(u,l,(We=X??Z)!=null?We:"")},[X,Z,j]),l.some(Gke(i.curveConnection))&&j===0&&K(3);let $=We=>{var Pt,be;K(2);let Ht=jB(We);T(Ht),q(Ht),(Pt=w.current)==null||Pt.select(),(be=w.current)==null||be.focus()},re=()=>{},se=(0,gl.useMemo)(()=>/^[A-Za-z]/.test(E)?Woe.default.filter(E,GB,{extract:We=>We.label}).map(We=>We.original):GB,[E]);(0,gl.useEffect)(()=>{j===1&&se[0]&&q(se[0].value)},[se]);let fe=We=>{We.key==="Escape"?(Voe(u),i.onRequestClose("key Escape"),We.stopPropagation()):We.key==="Enter"&&(i.onRequestClose("key Enter"),We.stopPropagation())},ye=We=>{j===0&&K(2),ee(We.value)},Oe=()=>ee(null),Ie=We=>(Goe(u,l,We.value),i.onRequestClose("selected easing option"),1),je=(0,gl.useRef)(GB.reduce((We,Pt)=>(We[Pt.label]={current:null},We),{})),[yt,st]=es(null),[ft,It]=(0,gl.useState)(0);(0,gl.useEffect)(()=>{let We=()=>{var Pt;It((Pt=st==null?void 0:st.scrollTop)!=null?Pt:0)};return st==null||st.addEventListener("scroll",We),()=>st==null?void 0:st.removeEventListener("scroll",We)},[st]);let vn=Nke({items:se,uiColumns:3,onSelectItem:Ie,canVerticleExit(We){var Pt,be;return We==="top"?((Pt=w.current)==null||Pt.select(),(be=w.current)==null||be.focus(),1):0},renderItem:({item:We,select:Pt})=>{var be,Ht;return gl.default.createElement(joe,{key:We.label,easing:We,tabIndex:0,onKeyDown:fe,ref:je.current[We.label],onMouseOver:()=>ye(We),onMouseOut:Oe,onClick:Pt,tooltipPlacement:((Ht=(be=je.current[We.label].current)==null?void 0:be.offsetTop)!=null?Ht:0)-(ft??0)<xU+Xoe?"bottom":"top",isSelected:Bke(m,HB(We.value))})}});return(0,gl.useLayoutEffect)(()=>{var We,Pt;if(vn.currentSelection!==null&&document.activeElement!==w.current){let be=(Pt=(We=je.current)==null?void 0:We[vn.currentSelection.label])==null?void 0:Pt.current;be==null||be.focus(),q(vn.currentSelection.value),/^[A-Za-z]/.test(E)||T(vn.currentSelection.value)}},[vn.currentSelection]),gl.default.createElement(Yoe,null,gl.default.createElement(Zoe,{value:E,placeholder:j===3?"Multiple easings selected":"Search presets...",onPaste:Hke(P),onChange:P,ref:w,onKeyDown:L}),gl.default.createElement(qoe,{ref:yt,onKeyDown:We=>vn.onParentEltKeyDown(We)},vn.gridItems,vn.gridItems.length===0?gl.default.createElement(nse,null,"No results found"):void 0),gl.default.createElement(ese,{onClick:()=>{var We;return(We=w.current)==null?void 0:We.focus()}},gl.default.createElement(Toe,{curveConnection:i.curveConnection,backgroundConnections:i.additionalConnections,onCurveChange:$,onCancelCurveChange:re})))},bU=rse,{isCurveEditorOpenD:Vke,isConnectionEditingInCurvePopover:EU,getLock:ise}=(()=>{let i=new WB.Atom([]);return{getLock(l){return i.set(l),function(){i.set([])}},isCurveEditorOpenD:(0,WB.prism)(()=>i.prism.getValue().length>0),isConnectionEditingInCurvePopover(l){return WB.prism.ensurePrism(),i.prism.getValue().some(({left:u,right:m})=>l.left.id===u.id&&l.right.id===m.id)}}})()});function Wke(i,l){for(let{keyframeId:u}of Yke(l))if(i.left.id===u)return!0;return!1}function ose(i,l,u){return(0,YB.prism)(()=>{if(u===void 0)return[];let m=[];for(let{objectKey:w,trackId:E}of sse(u)){let T=(0,YB.val)(xe().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[w].trackData[E]);T&&(m=m.concat(Kke(T.keyframes).filter(P=>Wke(P,u)).map(({left:P,right:L})=>({left:P,right:L,trackId:E,objectKey:w,sheetId:l,projectId:i}))))}return m})}function KB(i,l,u){var m;if(u===void 0)return[];let w=[];for(let{objectKey:T,trackId:P,keyframeIds:L}of sse(u))w=w.concat((m=AU({projectId:i,sheetId:l,objectKey:T,trackId:P,keyframeIds:L}))!=null?m:[]);let E=CB(w.map(T=>T.pathToProp));return w.map(({keyframe:T,pathToProp:P})=>({keyframe:T,pathToProp:P.slice(E.length)}))}function AU({projectId:i,sheetId:l,objectKey:u,trackId:m,keyframeIds:w}){let E=(0,YB.val)(xe().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[u]),T=E==null?void 0:E.trackData[m];if(!T)return null;let P=Xke((E==null?void 0:E.trackIdByPropPath)||{})[m];if(!P)return null;let L=[u,...MB(P)];return w.map(j=>({keyframe:T.keyframes.find(K=>K.id===j),pathToProp:L})).filter(({keyframe:j})=>j!==void 0)}function Xke(i){let l={};for(let[u,m]of Object.entries(i))l[m]=u;return l}function Kke(i){return i.map((l,u)=>({left:l,right:i[u+1]})).slice(0,-1)}function Yke(i){var l,u,m;let w=[];for(let[E,T]of Object.entries((l=i==null?void 0:i.byObjectKey)!=null?l:{}))for(let[P,L]of Object.entries((u=T==null?void 0:T.byTrackId)!=null?u:{}))for(let j of Object.keys((m=L==null?void 0:L.byKeyframeId)!=null?m:{}))w.push({objectKey:E,trackId:P,keyframeId:j});return w}function sse(i){var l,u,m;let w=[];for(let[E,T]of Object.entries((l=i==null?void 0:i.byObjectKey)!=null?l:{}))for(let[P,L]of Object.entries((u=T==null?void 0:T.byTrackId)!=null?u:{}))w.push({objectKey:E,trackId:P,keyframeIds:Object.keys((m=L==null?void 0:L.byKeyframeId)!=null?m:{})});return w}var YB,lA=A(()=>{YB=$n,Ze(),sv()});function Qke(i,l){return(0,ase.useMemo)(()=>qke(i,l),[])}function qke(i,l){let u=null,m=T=>xe().tempTransaction(P=>i(P,T));function w(){u==null||u.discard(),u=null}let E={createAsset:l.sheet.project.assetStorage.createAsset,getAssetUrl:T=>T.id?l.sheet.project.assetStorage.getAssetUrl(T.id):void 0};return F({temporarilySetValue(T){w(),u=m(T)},discardTemporaryValue:w,permanentlySetValue(T){w(),m(T).commit()}},E)}var ase,Jke=A(()=>{Ze(),ase=Y(Rt())});function CU(i){var l;if(i.type==="sheetObject")return of.default.createElement(of.default.Fragment,null,of.default.createElement(QB,{style:{paddingLeft:"".concat(i.indent*qB,"px")}},i.sheetObject.address.objectKey),i.children.map((u,m)=>of.default.createElement(CU,N(F({key:m},u),{autoFocusInput:i.autoFocusInput&&m===0,indent:i.indent+1}))));if(i.type==="propWithChildren"){let u=(l=i.propConfig.label)!=null?l:cy(i.pathToProp);return of.default.createElement(of.default.Fragment,null,of.default.createElement(QB,{style:{paddingLeft:"".concat(i.indent*qB,"px")}},u),i.children.map((m,w)=>of.default.createElement(CU,N(F({key:w},m),{autoFocusInput:i.autoFocusInput&&w===0,indent:i.indent+1}))))}else return of.default.createElement(Zke,N(F({},i),{autoFocusInput:i.autoFocusInput,indent:i.indent}))}function Zke(i){var l;let u=(l=i.propConfig.label)!=null?l:cy(i.pathToProp),m=$ke(i);if(i.propConfig.type==="enum")return of.default.createElement(of.default.Fragment,null);{let w=t8[i.propConfig.type];return of.default.createElement(use,null,of.default.createElement(QB,null,of.default.createElement("span",{style:{paddingLeft:"".concat(i.indent*qB,"px")}},u)),of.default.createElement(fse,null,of.default.createElement(w,{editingTools:m,propConfig:i.propConfig,value:WO(i.keyframe.value,i.propConfig),autoFocus:i.autoFocusInput})))}}function $ke(i){let l=i.sheetObject;return Qke(({stateEditors:u},m)=>{let w=N(F({},i.keyframe),{value:m});u.coreByProject.historic.sheetsById.sequence.replaceKeyframes(N(F({},l.address),{trackId:i.trackId,keyframes:[w],snappingFunction:l.sheet.getSequence().closestGridPosition}))},l)}var of,lse,use,cse,QB,qB,dse,fse,eIe=A(()=>{of=Y(Rt()),Lt(),Z$(),iE(),Jke(),f_(),use=Ue.div(lse||(lse=J([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),QB=Ue.div(cse||(cse=J([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),qB=10,fse=Ue.div(dse||(dse=J([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function JB(i){return Z0({debugName:"useKeyframeInlineEditorPopover"},()=>ZB.default.createElement(ev,{showPopoverEdgeTriangle:!0},ZB.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(i)?i.map((l,u)=>ZB.default.createElement(CU,N(F({key:u},l),{autoFocusInput:u===0,indent:0}))):void 0)))}var ZB,$B=A(()=>{ZB=Y(Rt()),$0(),tv(),eIe()});function tIe(i,l,u){return Oh(i,{displayName:"Keyframe",menuItems:()=>{let m=KB(u.leaf.sheetObject.address.projectId,u.leaf.sheetObject.address.sheetId,u.selection);return[{label:m.length>0?"Copy (selection)":"Copy",callback:()=>{m.length>0?xe().transaction(w=>{w.stateEditors.studio.ahistoric.setClipboardKeyframes(m)}):xe().transaction(w=>{w.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:u.keyframe,pathToProp:u.leaf.pathToProp}])})}},{label:u.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{u.selection?u.selection.delete():xe().transaction(({stateEditors:w})=>{w.coreByProject.historic.sheetsById.sequence.deleteKeyframes(N(F({},u.leaf.sheetObject.address),{keyframeIds:[u.keyframe.id],trackId:u.leaf.trackId}))})}}]},onOpen(){l._debug("Show keyframe",u)}})}function nIe(i,l,u){let m=(0,x_.useRef)(l);m.current=l;let{onClickFromDrag:w}=u,E=(0,x_.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(P){let L=m.current,j=(0,eD.val)(xe().atomP.historic.coreByProject[L.leaf.sheetObject.address.projectId].sheetsById[L.leaf.sheetObject.address.sheetId].sequence.tracksByObject),K=Jie(j,function(ee,{trackId:$,objectKey:re}){var se,fe;return ee.id!==L.keyframe.id&&!(L.selection&&(fe=(se=L.selection.byObjectKey[re])==null?void 0:se.byTrackId[$])!=null&&fe.byKeyframeId[ee.id])});if(qie(K),L.selection){let{selection:ee,leaf:$}=L,{sheetObject:re}=$,se=ee.getDragHandlers(N(F({},re.address),{domNode:i,positionAtStartOfDrag:L.track.data.keyframes[L.index].position})).onDragStart(P);return se&&N(F({},se),{onClick:w,onDragEnd:(...fe)=>{var ye;(ye=se.onDragEnd)==null||ye.call(se,...fe),XS()}})}let Z=L,q=(0,eD.val)(Z.layoutP.scaledSpace.toUnitSpace),X;return{onDrag(ee,$,re){var se;let fe=Z.track.data.keyframes[Z.index],ye=Math.max((se=Dh.checkIfMouseEventSnapToPos(re,{ignore:i}))!=null?se:fe.position+q(ee),0);X==null||X.discard(),X=void 0,X=xe().tempTransaction(({stateEditors:Oe})=>{Oe.coreByProject.historic.sheetsById.sequence.replaceKeyframes(N(F({},Z.leaf.sheetObject.address),{trackId:Z.leaf.trackId,keyframes:[N(F({},fe),{position:ye})],snappingFunction:(0,eD.val)(Z.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(ee){ee?X==null||X.commit():X==null||X.discard(),XS()},onClick(ee){w(ee)}}}}),[w]),[T]=Zl(i,E);return Ry(T,l.keyframe.position),Qm(T,"draggingPositionInSequenceEditor","ew-resize"),[T]}var x_,eD,jP,MU,HP,TU,hse,tD,pse,mse,gse,vse,yse,_se,wse=A(()=>{x_=Y(Rt()),Lt(),Ze(),Bh(),wc(),_s(),eD=$n,rf(),cm(),o0(),IB(),c_(),lA(),ws(),KS(),$B(),US(),jP=6,MU=jP+2,HP={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},TU=({isSelected:i,isInlineEditorPopoverOpen:l})=>i&&l?HP.inlineEditorOpenColor:i?HP.selectedColor:l?HP.selectedAndInlineEditorOpenColor:HP.normalColor,tD=Ue.div(hse||(hse=J([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Zm(jP),i=>TU(i),i=>i.flag===2?"outline: 2px solid white;":""),mse=Ue.div(pse||(pse=J([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Zm(jP*1.5),i=>TU(i),i=>i.flag===2?"outline: 2px solid white;":""),vse=Ue.div(gse||(gse=J([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),Zm(12),fs,tD,i=>i.isInlineEditorPopoverOpen?Zm(MU):"",tD,Zm(MU)),yse=i=>{let l=u_("SingleKeyframeDot",i.keyframe.id),u=zS(i.itemKey),[m,w]=es(null),[E]=tIe(w,l,i),{node:T,toggle:P,isOpen:L}=JB([{type:"primitiveProp",keyframe:i.keyframe,pathToProp:i.leaf.pathToProp,propConfig:i.leaf.propConf,sheetObject:i.leaf.sheetObject,trackId:i.leaf.trackId}]);nIe(w,i,{onClickFromDrag(K){P(K,m.current)}});let j=!i.keyframe.type||i.keyframe.type==="bezier";return x_.default.createElement(x_.default.Fragment,null,x_.default.createElement(vse,F({ref:m,isInlineEditorPopoverOpen:L},u.attrs)),j?x_.default.createElement(tD,{isSelected:!!i.selection,isInlineEditorPopoverOpen:L,flag:u.flag}):x_.default.createElement(mse,{isSelected:!!i.selection,isInlineEditorPopoverOpen:L,flag:u.flag}),T,E)},_se=yse}),PU,kU,IU,JS,Sse,xse,RU,bse=A(()=>{um(),PU=Y(Rt()),Lt(),wse(),kU=jP/2+1,IU=1e3,JS={normalColor:"#365b59",selectedColor:"#8A7842",barColor:i=>{let l=i.isSelected?JS.selectedColor:JS.normalColor;return i.isPopoverOpen?lO(.2,ME(.2,l)):l},hoverColor:i=>{let l=i.isSelected?JS.selectedColor:JS.normalColor;return i.isPopoverOpen?lO(.2,ME(.2,l)):lO(.1,ME(.1,l))}},xse=Ue.div(Sse||(Sse=J([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),JS.barColor,kU,IU,kU/2,JS.hoverColor),RU=PU.default.forwardRef((i,l)=>{let u={isPopoverOpen:i.isPopoverOpen,isSelected:i.isSelected};return PU.default.createElement(xse,N(F({},u),{ref:l,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(i.connectorLengthInUnitSpace/IU,"))")},onClick:m=>{var w;(w=i.openPopover)==null||w.call(i,m)}}),i.children)})});function rIe(i,l){let u=(0,OU.useRef)(l);u.current=l;let m=(0,OU.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(w){let E=u.current,T;if(E.selection){let{selection:K,leaf:Z}=E,{sheetObject:q}=Z;return K.getDragHandlers(N(F({},q.address),{domNode:i,positionAtStartOfDrag:E.track.data.keyframes[E.index].position})).onDragStart(w)}let P=E,L=(0,nD.val)(P.layoutP.sheet).getSequence(),j=(0,nD.val)(P.layoutP.scaledSpace.toUnitSpace);return{onDrag(K,Z,q){let X=j(K);T&&(T.discard(),T=void 0),T=xe().tempTransaction(({stateEditors:ee})=>{ee.coreByProject.historic.sheetsById.sequence.transformKeyframes(N(F({},P.leaf.sheetObject.address),{trackId:P.leaf.trackId,keyframeIds:[P.keyframe.id,P.track.data.keyframes[P.index+1].id],translate:X,scale:1,origin:0,snappingFunction:L.closestGridPosition}))})},onDragEnd(K){K?T&&T.commit():T&&T.discard()}}}}),[]);Zl(i,m)}function iIe(i,l,u,m){return Oh(l,{displayName:"Tween",menuItems:()=>{let w=KB(i.leaf.sheetObject.address.projectId,i.leaf.sheetObject.address.sheetId,i.selection);return[{label:w.length>0?"Copy (selection)":"Copy",callback:()=>{w.length>0?xe().transaction(E=>{E.stateEditors.studio.ahistoric.setClipboardKeyframes(w)}):xe().transaction(E=>{E.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:u,pathToProp:i.leaf.pathToProp},{keyframe:m,pathToProp:i.leaf.pathToProp}])})}},{label:i.selection?"Delete (selection)":"Delete",callback:()=>{i.selection?i.selection.delete():xe().transaction(({stateEditors:E})=>{E.coreByProject.historic.sheetsById.sequence.deleteKeyframes(N(F({},i.leaf.sheetObject.address),{keyframeIds:[u.id,m.id],trackId:i.leaf.trackId}))})}}]}})}var nD,b_,OU,BU,Ese,Ase,Cse,Mse,Tse,oIe=A(()=>{Ze(),Bh(),wc(),_s(),nD=$n,b_=Y(Rt()),OU=Y(Rt()),$0(),tv(),XB(),bse(),NB(),wi(),lA(),lA(),Lt(),BU=5,Ase=Ue(ev)(Ese||(Ese=J([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),mU),Cse=i=>{let{index:l,track:u}=i,m=u.data.keyframes[l],w=u.data.keyframes[l+1],[E,T]=es(null),{node:P,toggle:L,close:j}=Z0(()=>{let X=(0,nD.val)(i.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:X.screenX+BU,maxX:X.screenX+X.width-BU}}},()=>b_.default.createElement(Tse,N(F({},i),{closePopover:j}))),[K]=iIe(i,T,m,w);rIe(T,i);let Z=w.position-m.position,q={isPopoverOpen:io(()=>EU(N(F({},i.leaf.sheetObject.address),{trackId:i.leaf.trackId,left:m,right:w})),[i.leaf.sheetObject.address,i.leaf.trackId,m,w]),isSelected:i.selection!==void 0};return b_.default.createElement(b_.default.Fragment,null,b_.default.createElement(RU,N(F({ref:E,connectorLengthInUnitSpace:Z},q),{openPopover:X=>{T&&L(X,T)}}),P),K)},Mse=Cse,Tse=b_.default.forwardRef((i,l)=>{let{index:u,track:{data:m},selection:w}=i,E=m.keyframes[u],T=m.keyframes[u+1],P=i.leaf.trackId,L=i.leaf.sheetObject.address,j=io(()=>ose(L.projectId,L.sheetId,w).getValue(),[L,w]),K=F({left:E,right:T,trackId:P},L);return b_.default.createElement(Ase,{showPopoverEdgeTriangle:!1,ref:l},b_.default.createElement(bU,{curveConnection:K,additionalConnections:j,onRequestClose:i.closePopover}))})}),Pse,ZS,kse,Ise,Rse,Ose,Bse,sIe=A(()=>{Pse=$n,ZS=Y(Rt()),Lt(),oIe(),wse(),Ise=Ue.div(kse||(kse=J([`
  position: absolute;
`]))),Rse=ZS.default.createElement(ZS.default.Fragment,null),Ose=ZS.default.memo(i=>{let{index:l,track:{data:u}}=i,m=u.keyframes[l],w=u.keyframes[l+1],E=m.connectedRight&&!!w;return ZS.default.createElement(Ise,{style:{top:"".concat(i.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,Pse.val)(i.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(m.position,"px))")}},ZS.default.createElement(_se,N(F({},i),{itemKey:i.itemKey})),E?ZS.default.createElement(Mse,F({},i)):Rse)}),Bse=Ose});function aIe(i,l){return Oh(i,{displayName:"Keyframe Track",menuItems:()=>{var u;let m=(u=(0,uA.val)(xe().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?u:[];return[lIe(l,m)]}})}function lIe(i,l){return{label:"Paste Keyframes",enabled:l.length>0,callback:()=>{var u;let m=(0,uA.val)(i.layoutP.sheet).getSequence(),w=(u=l[0])==null?void 0:u.pathToProp,E=l.filter(({keyframe:T,pathToProp:P})=>dke(w,P)).map(({keyframe:T,pathToProp:P})=>T);xe().transaction(({stateEditors:T})=>{var P;m.position=m.closestGridPosition(m.position);let L=(P=uIe(E))==null?void 0:P.position;for(let j of E)T.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(N(F({},i.leaf.sheetObject.address),{trackId:i.leaf.trackId,position:m.position+j.position-L,handles:j.handles,value:j.value,snappingFunction:m.closestGridPosition,type:j.type}))})}}}function uIe(i){let l=null;for(let u of i)(l===null||u.position<l.position)&&(l=u);return l}var uA,Oy,Dse,Lse,DU,Nse,cIe=A(()=>{wi(),uA=$n,Oy=Y(Rt()),Lt(),sIe(),Bh(),_s(),Ze(),sv(),KS(),Ty(),Lse=Ue.div(Dse||(Dse=J([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),DU=Oy.default.memo(i=>{var l;let{layoutP:u,trackData:m,leaf:w}=i,[E,T]=es(null),{selectedKeyframeIds:P,selection:L}=io(()=>{let ye=(0,uA.val)(u.selectionAtom),Oe=(0,uA.val)(ye.pointer.current.byObjectKey[w.sheetObject.address.objectKey].byTrackId[w.trackId].byKeyframeId);return Oe?{selectedKeyframeIds:Oe,selection:(0,uA.val)(ye.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[u,w.trackId]),[j,K,Z]=aIe(T,i),q=vo(fU),X=q.mode==="snapToSome"?(l=q.positions[w.sheetObject.address.objectKey])==null?void 0:l[w.trackId]:[],ee=q.mode==="snapToAll",$=(0,Oy.useMemo)(()=>({data:m,id:w.trackId,sheetObject:i.leaf.sheetObject}),[m,w.trackId]),re=m.keyframes.map((ye,Oe)=>Oy.default.createElement(Bse,{key:"keyframe-"+ye.id,itemKey:Vc.forTrackKeyframe(w.sheetObject,w.trackId,ye.id),keyframe:ye,index:Oe,track:$,layoutP:u,leaf:w,selection:P[ye.id]===!0?L:void 0})),se=X.map(ye=>Oy.default.createElement(DP,{key:"snap-target-"+ye,layoutP:u,leaf:w,position:ye})),fe=ee?m.keyframes.map(ye=>Oy.default.createElement(DP,{key:"additionalSnapTarget-".concat(ye.id),layoutP:u,leaf:w,position:ye.position})):null;return Oy.default.createElement(Lse,{ref:E,style:{background:Z?"#444850 ":"unset"}},re,se,Oy.default.createElement(Oy.default.Fragment,null,fe),j)}),DU.displayName="BasicKeyframedTrack",Nse=DU}),Fse,GP,zse,Use,dIe=A(()=>{Ze(),wi(),Fse=$n,GP=Y(Rt()),DB(),cIe(),c_(),zse=({leaf:i,layoutP:l})=>{let u=u_("PrimitivePropRow",i.pathToProp.join());return io(()=>{let{sheetObject:m}=i,{trackId:w}=i,E=(0,Fse.val)(xe().atomP.historic.coreByProject[m.address.projectId].sheetsById[m.address.sheetId].sequence.tracksByObject[m.address.objectKey].trackData[w]);return(E==null?void 0:E.type)!=="BasicKeyframedTrack"?(u.errorDev("trackData type ".concat(E==null?void 0:E.type," is not yet supported on the sequence editor")),GP.default.createElement(oA,{leaf:i,isCollapsed:!1,node:GP.default.createElement("div",null)})):GP.default.createElement(oA,{leaf:i,isCollapsed:!1,node:GP.default.createElement(Nse,{layoutP:l,trackData:E,leaf:i})})},[i,l])},Use=zse});function fIe(i){return i()}var hIe=A(()=>{});function jse(i){let{index:l,aggregateKeyframes:u,selection:m}=i;return io(Hse(i),[l,u,m,i.viewModel])}function Hse(i){let{index:l,aggregateKeyframes:u,selection:m}=i,{projectId:w,sheetId:E}=i.viewModel.type==="sheet"?i.viewModel.sheet.address:i.viewModel.sheetObject.address;return()=>{let T=u[l],P=u[l+1],L=P&&T.keyframes.length===P.keyframes.length&&T.keyframes.every(({track:q},X)=>P.keyframes[X].track===q)?{length:P.position-T.position,selected:T.selected===0&&P.selected===0}:null,j=L?T.keyframes.map(({kf:q,track:X},ee)=>N(F({},X.sheetObject.address),{trackId:X.id,left:q,right:P.keyframes[ee].kf})):[],K=fIe(()=>{let q=LU.prism.memo("selectedConnections",()=>ose(w,E,m),[w,E,m]).getValue();return[...j,...q]}),Z=j.every(q=>EU(q));return{itemKey:LU.prism.memo("itemKey",()=>i.viewModel.type==="sheet"?Vc.forSheetAggregateKeyframe(i.viewModel.sheet,T.position):i.viewModel.type==="sheetObject"?Vc.forSheetObjectAggregateKeyframe(i.viewModel.sheetObject,T.position):Vc.forCompoundPropAggregateKeyframe(i.viewModel.sheetObject,i.viewModel.pathToProp,T.position),[i.viewModel,T.position]),cur:T,connected:L,isAggregateEditingInCurvePopover:Z,allConnections:K}}}var LU,NU=A(()=>{LU=$n,Ty(),XB(),wi(),lA(),hIe()});function pIe(i,l){let u=(0,$m.useRef)(l);u.current=l;let m=(0,$m.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(w){let E=u.current,T,P=E.aggregateKeyframes[E.index].keyframes,{selection:L,viewModel:j}=E,K=j.type==="sheet"?j.sheet.address:j.sheetObject.address;if(L&&E.aggregateKeyframes[E.index].selected===0)return L.getDragHandlers(N(F({},K),{domNode:i,positionAtStartOfDrag:E.aggregateKeyframes[E.index].position})).onDragStart(w);let Z=E,q=(0,rD.val)(Z.layoutP.sheet).getSequence(),X=(0,rD.val)(Z.layoutP.scaledSpace.toUnitSpace);return{onDrag(ee,$,re){let se=X(ee);T&&(T.discard(),T=void 0),T=xe().tempTransaction(({stateEditors:fe})=>{for(let ye of P)fe.coreByProject.historic.sheetsById.sequence.transformKeyframes(N(F({},ye.track.sheetObject.address),{trackId:ye.track.id,keyframeIds:[ye.kf.id,ye.track.data.keyframes[ye.track.data.keyframes.indexOf(ye.kf)+1].id],translate:se,scale:1,origin:0,snappingFunction:q.closestGridPosition}))})},onDragEnd(ee){ee?T&&T.commit():T&&T.discard()}}}}),[]);return Zl(i,m)}function mIe(i,l){return Oh(l,{displayName:"Aggregate Tween",menuItems:()=>{let u=i.utils.allConnections.reduce((P,L)=>{var j;return P.concat((j=AU(N(F({},L),{keyframeIds:[L.left.id,L.right.id]})))!=null?j:[])},[]),m=CB(u.map(P=>P.pathToProp)),w=u.map(({keyframe:P,pathToProp:L})=>({keyframe:P,pathToProp:L.slice(m.length)})),E=i.editorProps.viewModel,T=E.type==="sheet"?E.sheet.address:E.sheetObject.address;return[{label:"Copy",callback:()=>{if(i.editorProps.selection){let P=KB(T.projectId,T.sheetId,i.editorProps.selection);xe().transaction(L=>{L.stateEditors.studio.ahistoric.setClipboardKeyframes(P)})}else xe().transaction(P=>{P.stateEditors.studio.ahistoric.setClipboardKeyframes(w)})}},{label:"Delete",callback:()=>{i.editorProps.selection?i.editorProps.selection.delete():xe().transaction(({stateEditors:P})=>{for(let L of i.utils.allConnections)P.coreByProject.historic.sheetsById.sequence.deleteKeyframes(N(F({},T),{objectKey:L.objectKey,keyframeIds:[L.left.id,L.right.id],trackId:L.trackId}))})}}]}})}var rD,$m,FU,Gse,Vse,Wse,Xse,gIe=A(()=>{rD=$n,$m=Y(Rt()),bse(),$0(),_s(),Ze(),wc(),XB(),NU(),Lt(),tv(),lA(),Bh(),sv(),FU=5,Vse=Ue(ev)(Gse||(Gse=J([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),Wse=$m.default.forwardRef((i,l)=>{let{allConnections:u}=jse(i);return $m.default.createElement(Vse,{showPopoverEdgeTriangle:!1,ref:l},$m.default.createElement(bU,{curveConnection:u[0],additionalConnections:u,onRequestClose:i.closePopover}))}),Xse=i=>{let[l,u]=es(null),{editorProps:m}=i,[w]=mIe(i,u),[E]=pIe(u,i.editorProps),{node:T,toggle:P,close:L}=Z0(()=>{let Z=(0,rD.val)(m.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:Z.screenX+FU,maxX:Z.screenX+Z.width-FU}}},()=>$m.default.createElement(Wse,N(F({},m),{closePopover:L}))),{connected:j,isAggregateEditingInCurvePopover:K}=i.utils;return j||E?$m.default.createElement($m.default.Fragment,null,$m.default.createElement(RU,{ref:l,connectorLengthInUnitSpace:j?j.length:0,isSelected:j?j.selected:!1,isPopoverOpen:K,openPopover:Z=>{u&&P(Z,u)}}),T,w):$m.default.createElement($m.default.Fragment,null)}});function vIe(i){let l={isSelected:i.isSelected,flag:i.flag};return By.default.createElement(iD,null,i.isAllHere?By.default.createElement(Zse,F({},l)):By.default.createElement($se,F({},l)))}var By,zU,Kse,Yse,iD,Qse,qse,UU,jU,HU,GU,Jse,Zse,$se,yIe=A(()=>{By=Y(Rt()),Lt(),IB(),ws(),zU=16,Kse=zU+2,iD=Ue.div(Yse||(Yse=J([`
  position: absolute;
  `,`
  z-index: 1;
`])),Zm(zU)),qse=Ue.div(Qse||(Qse=J([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),Zm(12),fs,iD,iD,Zm(Kse)),UU="#F2C95C",jU="#40AAA4",HU="#45747C",GU=i=>i.isSelected===0?UU:i.isSelected===1?jU:HU,Jse=i=>i.isSelected===0?UU:i.isSelected===1?jU:HU,Zse=i=>By.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},By.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:Jse(i)}),By.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:GU(i),stroke:i.flag===2?"white":void 0,strokeWidth:i.flag===2?"2px":void 0})),$se=i=>By.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},By.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:i.flag===2?"white":GU(i),strokeWidth:i.flag===2?"2px":void 0}))});function _Ie(i,l){let u=i.children.map(m=>m.type==="propWithChildren"?VU(m,l):eae(m,l)).filter(WU);return u.length===0?null:{type:"sheetObject",sheetObject:i.sheetObject,children:u}}function VU(i,l){let u=i.children.map(m=>m.type==="propWithChildren"?VU(m,l):eae(m,l)).filter(WU);return u.length===0?null:{type:"propWithChildren",pathToProp:i.pathToProp,propConfig:i.propConf,children:u}}function eae(i,l){let u=l.find(m=>m.track.id===i.trackId);return u?{type:"primitiveProp",keyframe:u.kf,pathToProp:i.pathToProp,propConfig:i.propConf,sheetObject:i.sheetObject,trackId:i.trackId}:null}function wIe(i){var l,u,m,w;let{cur:E}=i.utils,T=JB(i.editorProps.viewModel.type==="sheet"?null:i.editorProps.viewModel.type==="sheetObject"?(u=(l=_Ie(i.editorProps.viewModel,E.keyframes))==null?void 0:l.children)!=null?u:null:(w=(m=VU(i.editorProps.viewModel,E.keyframes))==null?void 0:m.children)!=null?w:null),P=zS(i.utils.itemKey);P.useRelations(()=>E.keyframes.map(Z=>({affects:Z.itemKey,flag:2})),[E.keyframes.map(Z=>Z.track.id).join("-")]);let[L,j]=es(null),[K]=SIe(i,j);return VP.default.createElement(VP.default.Fragment,null,VP.default.createElement(qse,N(F(F({ref:L},P.attrs),Dh.includePositionSnapAttrs(E.position)),{onClick:Z=>i.editorProps.viewModel.type!=="sheet"?T.open(Z,L.current):null})),VP.default.createElement(vIe,{flag:P.flag,isAllHere:E.allHere,isSelected:E.selected}),K,T.node)}function SIe(i,l){return Oh(l,{displayName:"Aggregate Keyframe",menuItems:()=>{let u=i.editorProps.viewModel,m=i.editorProps.selection;return[{label:m?"Copy (selection)":"Copy",callback:()=>{if(m){let{projectId:w,sheetId:E}=u.type==="sheet"?u.sheet.address:u.sheetObject.address,T=KB(w,E,m);xe().transaction(P=>{P.stateEditors.studio.ahistoric.setClipboardKeyframes(T)})}else{let w=i.utils.cur.keyframes.flatMap(L=>{var j;return(j=AU(N(F({},L.track.sheetObject.address),{trackId:L.track.id,keyframeIds:[L.kf.id]})))!=null?j:[]}),E=u.type==="sheet"?[]:u.type==="sheetObject"?[u.sheetObject.address.objectKey]:u.type==="propWithChildren"?[u.sheetObject.address.objectKey,...u.pathToProp]:[],T=CB([E,...w.map(L=>L.pathToProp)]),P=w.map(({keyframe:L,pathToProp:j})=>({keyframe:L,pathToProp:j.slice(T.length)}));xe().transaction(L=>{L.stateEditors.studio.ahistoric.setClipboardKeyframes(P)})}}},{label:m?"Delete (selection)":"Delete",callback:()=>{m?m.delete():xe().transaction(({stateEditors:w})=>{for(let E of i.utils.cur.keyframes)w.coreByProject.historic.sheetsById.sequence.deleteKeyframes(N(F({},E.track.sheetObject.address),{keyframeIds:[E.kf.id],trackId:E.track.id}))})}}]}})}var VP,WU,xIe=A(()=>{VP=Y(Rt()),_s(),US(),Bh(),yIe(),Ze(),lA(),sv(),o0(),$B(),WU=i=>i!==null}),tae,WP,nae,rae,iae,oae,bIe=A(()=>{tae=$n,WP=Y(Rt()),Lt(),gIe(),NU(),xIe(),rae=Ue.div(nae||(nae=J([`
  position: absolute;
`]))),iae=WP.default.memo(i=>{let l=jse(i);return WP.default.createElement(rae,{style:{top:"".concat(i.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,tae.val)(i.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(l.cur.position,"px))")}},WP.default.createElement(wIe,{editorProps:i,utils:l}),WP.default.createElement(Xse,{editorProps:i,utils:l}))}),oae=iae});function EIe(i){let{layoutP:l,aggregatedKeyframes:u,viewModel:m}=i,w=u_("AggregatedKeyframeTrack"),[E,T]=es(null),{selectedPositions:P,selection:L}=AIe(l,u),[j,K,Z]=TIe(T,i,()=>w._debug("see aggregatedKeyframes",i.aggregatedKeyframes)),q=(0,eg.useMemo)(()=>[...u.byPosition.entries()].sort((ye,Oe)=>ye[0]-Oe[0]).map(([ye,Oe])=>({position:ye,keyframes:Oe,selected:P.get(ye),allHere:Oe.length===u.tracks.length})),[u,P]),X=vo(fU),ee=X.mode==="snapToAll",$=X.mode==="snapToSome"?X.positions:p8,re=(0,eg.useMemo)(()=>m.type==="sheet"?wke(m,$):oU(m,$),[$]).map(ye=>eg.default.createElement(DP,{key:"snap-target-"+ye,layoutP:l,leaf:m,position:ye})),se=(0,eg.useMemo)(()=>q.map(({position:ye,keyframes:Oe},Ie)=>({position:ye,editorProps:{index:Ie,layoutP:l,viewModel:m,aggregateKeyframes:q,selection:P.has(ye)?L:void 0}})),[q,m,P]);RIe(T,ye=>{var Oe;return(Oe=se.find(Ie=>Ie.position===ye))==null?void 0:Oe.editorProps},{onClickFromDrag(ye){}});let fe=se.map((ye,Oe)=>eg.default.createElement(eg.Fragment,{key:"agg-"+q[Oe].keyframes[0].kf.id},ee&&eg.default.createElement(DP,{layoutP:l,leaf:m,position:ye.position}),eg.default.createElement(oae,F({},ye.editorProps))));return eg.default.createElement(uae,{ref:E,style:{background:Z?"#444850 ":"unset"}},fe,re,j)}function AIe(i,l){return io(()=>(0,Nh.val)(CIe(i,l)),[i,l])}function CIe(i,l){return(0,Nh.prism)(()=>{let u=(0,Nh.val)(i.selectionAtom),m=(0,Nh.val)(u.pointer.current);if(!m)return cae;let w=new Map;for(let[E,T]of l.byPosition){let P=MIe(T,m);P!==void 0&&P!==sD&&w.set(E,P)}return{selectedPositions:w,selection:(0,Nh.val)(u.pointer.current)}})}function MIe(i,l){var u,m,w;let E;for(let{track:T,kf:P}of i){let L=((w=(m=(u=l.byObjectKey[T.sheetObject.address.objectKey])==null?void 0:u.byTrackId[T.id])==null?void 0:m.byKeyframeId)==null?void 0:w[P.id])===!0;E===void 0?L?E=YU:E=sD:L?E===sD&&(E=QU):E===YU&&(E=QU)}return E}function TIe(i,l,u){return Oh(i,{onOpen:u,displayName:"Aggregate Keyframe Track",menuItems:()=>{var m;let w=(m=(0,Nh.pointerToPrism)(xe().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?m:[];return[PIe(l,w)]}})}function PIe(i,l){return{label:"Paste Keyframes",enabled:l.length>0,callback:()=>{let u=(0,Nh.val)(i.layoutP.sheet).getSequence();i.viewModel.type==="sheet"?kIe(i.viewModel,l,u):IIe(i.viewModel,l,u)}}}function kIe(i,l,u){var m;let{projectId:w,sheetId:E,sheetInstanceId:T}=i.sheet.address;if(l.every(({pathToProp:P})=>P.length===0))for(let P of i.children.map(L=>L.sheetObject)){let L=(0,Nh.pointerToPrism)(xe().atomP.historic.coreByProject[w].sheetsById[E].sequence.tracksByObject[P.address.objectKey]).getValue(),j=Object.keys((m=L==null?void 0:L.trackData)!=null?m:{});XU(P.address,j,l,u)}else{let P=(0,Nh.pointerToPrism)(xe().atomP.historic.coreByProject[w].sheetsById[E].sequence.tracksByObject).getValue(),L=l.map(({keyframe:j,pathToProp:K})=>{var Z,q;let X=K[0],ee=K.slice(1),$=ov([...ee]),re=((q=(Z=P==null?void 0:P[X])==null?void 0:Z.trackIdByPropPath)!=null?q:{})[$];return re?{keyframe:j,trackId:re,address:{objectKey:X,projectId:w,sheetId:E,sheetInstanceId:T}}:null}).filter(j=>j!==null);sae(L,u)}}function IIe(i,l,u){var m;let{projectId:w,sheetId:E,objectKey:T}=i.sheetObject.address,P=(0,Nh.pointerToPrism)(xe().atomP.historic.coreByProject[w].sheetsById[E].sequence.tracksByObject[T]).getValue();if(l.every(({pathToProp:L})=>L.length===0)){let L=Object.keys((m=P==null?void 0:P.trackData)!=null?m:{});if(i.type==="sheetObject")XU(i.sheetObject.address,L,l,u);else{let j=(P==null?void 0:P.trackIdByPropPath)||{},K=Object.entries(j).filter(([Z,q])=>q!==void 0&&cke(MB(Z),i.pathToProp)).map(([Z,q])=>q);XU(i.sheetObject.address,K,l,u)}}else{let L=(P==null?void 0:P.trackIdByPropPath)||{},j=i.type==="propWithChildren"?i.pathToProp:[],K=l.map(({keyframe:Z,pathToProp:q})=>{let X=ov([...j,...q]),ee=L[X];return ee?{keyframe:Z,trackId:ee,address:i.sheetObject.address}:null}).filter(Z=>Z!==null);sae(K,u)}}function XU(i,l,u,m){var w;m.position=m.closestGridPosition(m.position);let E=(w=aae(u.map(({keyframe:T})=>T)))==null?void 0:w.position;xe().transaction(({stateEditors:T})=>{for(let P of l)for(let{keyframe:L}of u)T.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(N(F({},i),{trackId:P,position:m.position+L.position-E,handles:L.handles,value:L.value,snappingFunction:m.closestGridPosition,type:L.type}))})}function sae(i,l){var u;l.position=l.closestGridPosition(l.position);let m=(u=aae(i.map(({keyframe:w})=>w)))==null?void 0:u.position;xe().transaction(({stateEditors:w})=>{for(let{keyframe:E,trackId:T,address:P}of i)w.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(N(F({},P),{trackId:T,position:l.position+E.position-m,handles:E.handles,value:E.value,snappingFunction:l.closestGridPosition,type:E.type}))})}function aae(i){let l=null;for(let u of i)(l===null||u.position<l.position)&&(l=u);return l}function RIe(i,l,u){let m=u_("useDragForAggregateKeyframeDot"),w=Gie(),E=(0,eg.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(P){m._debug("onDragStart",{target:P.target});let L=Number(P.target.dataset.pos),j=l(L);if(!j)return m._debug("no props found for ",{positionToFind:L}),!1;w(!0,L);let K=(0,Nh.prism)(Hse(j)).getValue().cur.keyframes,Z=j.viewModel.type==="sheet"?j.viewModel.sheet.address:j.viewModel.sheetObject.address,q=(0,Nh.val)(xe().atomP.historic.coreByProject[Z.projectId].sheetsById[Z.sheetId].sequence.tracksByObject),X=Jie(q,function(se,{trackId:fe,objectKey:ye}){var Oe,Ie;return K.every(je=>se.id!==je.kf.id)&&!(j.selection&&(Ie=(Oe=j.selection.byObjectKey[ye])==null?void 0:Oe.byTrackId[fe])!=null&&Ie.byKeyframeId[se.id])});if(qie(X),j.selection&&j.aggregateKeyframes[j.index].selected===0){let{selection:se,viewModel:fe}=j,ye=se.getDragHandlers(N(F({},Z),{domNode:i,positionAtStartOfDrag:K[0].kf.position})).onDragStart(P);return ye&&N(F({},ye),{onClick:u.onClickFromDrag,onDragEnd:(...Oe)=>{var Ie;(Ie=ye.onDragEnd)==null||Ie.call(ye,...Oe),XS()}})}let ee=j,$=(0,Nh.val)(ee.layoutP.scaledSpace.toUnitSpace),re;return{onDrag(se,fe,ye){var Oe;let Ie=Math.max((Oe=Dh.checkIfMouseEventSnapToPos(ye,{}))!=null?Oe:K[0].kf.position+$(se),0);w(!0,Ie),re==null||re.discard(),re=void 0,re=xe().tempTransaction(({stateEditors:je})=>{for(let yt of K){let st=yt.kf;je.coreByProject.historic.sheetsById.sequence.replaceKeyframes(N(F({},yt.track.sheetObject.address),{trackId:yt.track.id,keyframes:[N(F({},st),{position:Ie})],snappingFunction:(0,Nh.val)(ee.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(se){w(!1,-1),se?re==null||re.commit():(re==null||re.discard(),u.onClickFromDrag(P)),XS()},onClick(se){u.onClickFromDrag(se)}}}}),[l,u.onClickFromDrag]),[T]=Zl(i,E);return Qm(T,"draggingPositionInSequenceEditor","ew-resize"),[T]}var Nh,eg,lae,uae,cae,dae,oD,KU,YU,QU,sD,qU=A(()=>{wi(),Nh=$n,eg=Y(Rt()),Lt(),Bh(),_s(),bIe(),rA(),c_(),NU(),o0(),wc(),rf(),cm(),Ze(),sv(),KS(),$2(),KS(),rA(),uae=Ue.div(lae||(lae=J([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),cae=Object.freeze({selectedPositions:new Map,selection:void 0}),dae=eg.default.memo(EIe),oD=dae,KU=(i=>(i[i.AllSelected=0]="AllSelected",i[i.AtLeastOneUnselected=1]="AtLeastOneUnselected",i[i.NoneSelected=2]="NoneSelected",i))(KU||{}),{AllSelected:YU,AtLeastOneUnselected:QU,NoneSelected:sD}=KU}),cA,JU,fae,OIe=A(()=>{wi(),cA=Y(Rt()),dIe(),DB(),qU(),rA(),c_(),JU=(i,l)=>i.type==="propWithChildren"?cA.default.createElement(fae,{layoutP:l,viewModel:i,key:"prop"+i.pathToProp[i.pathToProp.length-1]}):cA.default.createElement(Use,{layoutP:l,leaf:i,key:"prop"+i.pathToProp[i.pathToProp.length-1]}),fae=({viewModel:i,layoutP:l})=>{let u=u_("RightPropWithChildrenRow",i.pathToProp.join());return io(()=>{let m=PB(i);return cA.default.createElement(lJ,{logger:u},cA.default.createElement(oA,{leaf:i,node:cA.default.createElement(oD,{layoutP:l,aggregatedKeyframes:m,viewModel:i}),isCollapsed:i.isCollapsed},i.children.map(w=>JU(w,l))))},[i,l])}}),ZU,hae,pae,BIe=A(()=>{wi(),ZU=Y(Rt()),OIe(),DB(),rA(),qU(),hae=({leaf:i,layoutP:l})=>io(()=>{let u=PB(i);return ZU.default.createElement(oA,{leaf:i,node:ZU.default.createElement(oD,{layoutP:l,aggregatedKeyframes:u,viewModel:i}),isCollapsed:i.isCollapsed},i.children.map(m=>JU(m,l)))},[i,l]),pae=hae}),aD,mae,gae,DIe=A(()=>{wi(),aD=Y(Rt()),BIe(),DB(),rA(),qU(),mae=({leaf:i,layoutP:l})=>io(()=>{let u=PB(i);return aD.default.createElement(oA,{leaf:i,node:aD.default.createElement(oD,{layoutP:l,aggregatedKeyframes:u,viewModel:i}),isCollapsed:i.isCollapsed},i.children.map(m=>aD.default.createElement(pae,{layoutP:l,key:"sheetObject-"+m.sheetObject.address.objectKey,leaf:m})))},[i,l]),gae=mae}),XP,$S,lD,vae,yae,_ae,wae,Sae=A(()=>{wi(),XP=$n,$S=Y(Rt()),Lt(),bke(),loe(),DIe(),lD=1e6,yae=Ue.ul(vae||(vae=J([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),lD),_ae=({layoutP:i})=>io(()=>{let l=(0,XP.val)(i.tree),u=(0,XP.val)(i.tree.top)+Math.max((0,XP.val)(i.tree.heightIncludingChildren),(0,XP.val)(i.dopeSheetDims.height));return $S.default.createElement($S.default.Fragment,null,$S.default.createElement(pU,{layoutP:i,height:u},$S.default.createElement(kie,{layoutP:i,height:u},$S.default.createElement(yae,{style:{top:l.top+"px"}},$S.default.createElement(gae,{leaf:l,layoutP:i})))))},[i]),wae=_ae});function $U(i,l,u,m){let w="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(i,"px)"),E="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(l,") * 1px)");u===0&&(u=1e-4);let T="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(u,")");m===0&&(m=.001);let P="calc(var(--graphEditorVerticalSpace) * ".concat(m*-1,")");return"translate(".concat(w,", ").concat(E,") scale(").concat(T,", ").concat(P,")")}function LIe(i,l){let{index:u,trackData:m}=l,w=m.keyframes[u],E=m.keyframes[u+1];return Oh(i,{menuItems:()=>[{label:"Delete",callback:()=>{xe().transaction(({stateEditors:T})=>{let{deleteKeyframes:P}=T.coreByProject.historic.sheetsById.sequence;P(N(F({},l.sheetObject.address),{trackId:l.trackId,keyframeIds:[w.id,E.id]}))})}}]})}var uD,xae,bae,Eae,Aae,Cae,e9=A(()=>{f_(),Ze(),Bh(),_s(),uD=Y(Rt()),Lt(),bae=Ue.path(xae||(xae=J([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),Eae="M 0 0 L 1 0 L 1 1",Aae=i=>{let{index:l,trackData:u}=i,m=u.keyframes[l],w=u.keyframes[l+1],E=w.position-m.position,[T,P]=es(null),[L]=LIe(P,i),j=i.isScalar?WO(m.value,i.propConfig):0,K=i.isScalar?WO(w.value,i.propConfig):1,Z=i.extremumSpace.fromValueSpace(j),q=i.extremumSpace.fromValueSpace(K)-Z,X=$U(m.position,Z,E,q),ee=m.handles[2],$=m.handles[3],re=w.handles[0],se=w.handles[1],fe="M 0 0 C ".concat(ee," ").concat($," ").concat(re," ").concat(se," 1 1");return uD.default.createElement(uD.default.Fragment,null,uD.default.createElement(bae,{ref:T,d:!m.type||m.type==="bezier"?fe:Eae,style:{transform:X}}),L)},Cae=Aae});function NIe(i,l){let u=(0,ex.useRef)(l);u.current=l;let m=(0,ex.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let w,E=u.current,T=(0,KP.val)(E.layoutP.scaledSpace.toUnitSpace),P=(0,KP.val)(E.layoutP.graphEditorVerticalSpace.toExtremumSpace),L=E.extremumSpace.lock();return{onDrag(j,K){w&&(w.discard(),w=void 0);let{index:Z,trackData:q}=E,X=q.keyframes[Z],ee=q.keyframes[Z+1],$=T(j)/(ee.position-X.position),re=-K,se=P(re),fe=E.extremumSpace.deltaToValueSpace(se),ye=l.isScalar?X.value:0,Oe=l.isScalar?ee.value:1,Ie=fe/(Oe-ye);if(E.which==="left"){let je=kn(X.handles[2]+$,0,1),yt=X.handles[3]+Ie;w=xe().tempTransaction(({stateEditors:st})=>{st.coreByProject.historic.sheetsById.sequence.replaceKeyframes(N(F({},E.sheetObject.address),{snappingFunction:(0,KP.val)(E.layoutP.sheet).getSequence().closestGridPosition,trackId:E.trackId,keyframes:[N(F({},X),{handles:[X.handles[0],X.handles[1],je,yt]})]}))})}else{let je=kn(ee.handles[0]+$,0,1),yt=ee.handles[1]+Ie;w=xe().tempTransaction(({stateEditors:st})=>{st.coreByProject.historic.sheetsById.sequence.replaceKeyframes(N(F({},E.sheetObject.address),{trackId:E.trackId,snappingFunction:(0,KP.val)(E.layoutP.sheet).getSequence().closestGridPosition,keyframes:[N(F({},ee),{handles:[je,yt,ee.handles[2],ee.handles[3]]})]}))})}},onDragEnd(j){L(),j?w&&w.commit():w&&w.discard()}}}}),[]);Zl(i,m)}function FIe(i,l){return Oh(i,{menuItems:()=>[{label:"Delete",callback:()=>{xe().transaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(N(F({},l.sheetObject.address),{keyframeIds:[l.keyframe.id],trackId:l.trackId}))})}}]})}var KP,ex,Mae,t9,Tae,Pae,kae,Iae,Rae,n9,zIe=A(()=>{Ze(),Bh(),wc(),_s(),KP=$n,Ya(),ex=Y(Rt()),Lt(),e9(),ws(),t9=Ue.circle(Mae||(Mae=J([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),Pae=Ue.circle(Tae||(Tae=J([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),fs,t9),Iae=Ue.path(kae||(kae=J([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),Rae=i=>{let[l,u]=es(null),{index:m,trackData:w}=i,E=w.keyframes[m],T=w.keyframes[m+1],[P]=FIe(u,i);NIe(u,i);let L=i.which==="left"?E.handles[2]:T.handles[0],j=E.position+(T.position-E.position)*L,K=i.which==="left"?E.handles[3]:T.handles[1],Z=i.isScalar?E.value:0,q=i.isScalar?T.value:1,X=Z+(q-Z)*K,ee=i.extremumSpace.fromValueSpace(X),$=ee-i.extremumSpace.fromValueSpace(i.which==="left"?Z:q),re=$U(i.which==="left"?E.position:T.position,i.extremumSpace.fromValueSpace(i.which==="left"?Z:q),j-(i.which==="left"?E.position:T.position),$);return ex.default.createElement("g",null,ex.default.createElement(Pae,{ref:l,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(j," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(ee,") * 1px)")}}),ex.default.createElement(t9,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(j," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(ee,") * 1px)")}}),ex.default.createElement(Iae,{d:"M 0 0 L 1 1",style:{transform:re}}),P)},n9=Rae});function UIe(i){let[l,u]=(0,E_.useState)(!1);Ry(l,i.props.keyframe.position);let m=(0,E_.useRef)(i.props);m.current=i.props;let w=(0,E_.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(E){u(!0);let T=!!E.altKey,P=m.current,L=(0,cD.val)(P.layoutP.scaledSpace.toUnitSpace),j=(0,cD.val)(P.layoutP.graphEditorVerticalSpace.toExtremumSpace),K=P.extremumSpace.lock(),Z;return{onDrag(q,X){let ee=P.trackData.keyframes[P.index],$=L(q),re=-X,se=j(re),fe=P.extremumSpace.deltaToValueSpace(se),ye=[],Oe=N(F({},ee),{position:ee.position+$,value:ee.value+fe,handles:[...ee.handles]});if(ye.push(Oe),T){let Ie=P.trackData.keyframes[P.index-1];if(Ie&&Math.abs(ee.value-Ie.value)>0){let yt=N(F({},Ie),{handles:[...Ie.handles]});ye.push(yt),yt.handles[3]=HIe(Ie.handles[3],Ie.value,Ie.value,ee.value,Oe.value)}let je=P.trackData.keyframes[P.index+1];if(je&&Math.abs(ee.value-je.value)>0){let yt=N(F({},je),{handles:[...je.handles]});ye.push(yt),yt.handles[1]=GIe(yt.handles[1],yt.value,yt.value,ee.value,Oe.value)}}Z==null||Z.discard(),Z=xe().tempTransaction(({stateEditors:Ie})=>{Ie.coreByProject.historic.sheetsById.sequence.replaceKeyframes(N(F({},P.sheetObject.address),{trackId:P.trackId,keyframes:ye,snappingFunction:(0,cD.val)(P.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(q){u(!1),K(),q?Z==null||Z.commit():(Z==null||Z.discard(),i.onDetectedClick(E))}}}}),[]);return Zl(i.node,w),Qm(l,"draggingPositionInSequenceEditor","move"),l}function jIe(i,l){return Oh(i,{menuItems:()=>[{label:"Delete",callback:()=>{xe().transaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(N(F({},l.sheetObject.address),{keyframeIds:[l.keyframe.id],trackId:l.trackId}))})}}]})}function HIe(i,l,u,m,w){return(m-l)*i/(w-u)}function GIe(i,l,u,m,w){return((l-m)*i+m-l+u-w)/(u-w)}var cD,E_,Oae,r9,Bae,Dae,Lae,Nae,VIe=A(()=>{Ze(),Bh(),wc(),_s(),cD=$n,E_=Y(Rt()),Lt(),rf(),rf(),ws(),cm(),o0(),$B(),US(),r9=Ue.circle(Oae||(Oae=J([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),Dae=Ue.circle(Bae||(Bae=J([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),fs,r9,by),Lae=i=>{let[l,u]=es(null),{index:m,trackData:w}=i,E=w.keyframes[m],[T]=jIe(u,i),P=zS(i.itemKey),L=E.value,j=i.extremumSpace.fromValueSpace(L),K=JB([{type:"primitiveProp",keyframe:i.keyframe,pathToProp:i.pathToProp,propConfig:i.propConfig,sheetObject:i.sheetObject,trackId:i.trackId}]),Z=UIe({node:u,props:i,onDetectedClick:q=>K.toggle(q,q.target instanceof Element?q.target:u)});return E_.default.createElement(E_.default.Fragment,null,E_.default.createElement(Dae,N(F(F(F({ref:l,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(E.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(j,") * 1px)")}},av(E.position)),Dh.includePositionSnapAttrs(E.position)),P.attrs),{className:Z?"beingDragged":""})),E_.default.createElement(r9,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(E.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(j,") * 1px)"),fill:P.flag===2?"white":void 0}}),K.node,T)},Nae=Lae});function WIe(i){let[l,u]=(0,A_.useState)(!1);Ry(l,i.props.keyframe.position);let m=(0,A_.useRef)(i.props);m.current=i.props;let w=(0,A_.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(E){u(!0);let T=m.current,P=(0,i9.val)(T.layoutP.scaledSpace.toUnitSpace),L=T.extremumSpace.lock(),j;return{onDrag(K,Z){let q=T.trackData.keyframes[T.index],X=P(K),ee=[],$=N(F({},q),{position:q.position+X,value:q.value,handles:[...q.handles]});ee.push($),j==null||j.discard(),j=xe().tempTransaction(({stateEditors:re})=>{re.coreByProject.historic.sheetsById.sequence.replaceKeyframes(N(F({},T.sheetObject.address),{trackId:T.trackId,keyframes:ee,snappingFunction:(0,i9.val)(T.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(K){u(!1),L(),K?j==null||j.commit():(j==null||j.discard(),i.onDetectedClick(E))}}}}),[]);return Zl(i.node,w),Qm(l,"draggingPositionInSequenceEditor","ew-resize"),l}function XIe(i,l){return Oh(i,{menuItems:()=>[{label:"Delete",callback:()=>{xe().transaction(({stateEditors:u})=>{u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(N(F({},l.sheetObject.address),{keyframeIds:[l.keyframe.id],trackId:l.trackId}))})}}]})}var i9,A_,Fae,o9,zae,Uae,jae,s9,KIe=A(()=>{Ze(),Bh(),wc(),_s(),i9=$n,A_=Y(Rt()),Lt(),rf(),rf(),ws(),cm(),o0(),$B(),US(),o9=Ue.circle(Fae||(Fae=J([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),Uae=Ue.circle(zae||(zae=J([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),fs,o9,by),jae=i=>{let[l,u]=es(null),{index:m,trackData:w,itemKey:E}=i,T=w.keyframes[m],[P]=XIe(u,i),L=zS(E),j=i.which==="left"?0:1,K=JB([{type:"primitiveProp",keyframe:i.keyframe,pathToProp:i.pathToProp,propConfig:i.propConfig,sheetObject:i.sheetObject,trackId:i.trackId}]),Z=WIe({node:u,props:i,onDetectedClick:X=>K.toggle(X,X.target instanceof Element?X.target:u)}),q=i.extremumSpace.fromValueSpace(j);return A_.default.createElement(A_.default.Fragment,null,A_.default.createElement(Uae,N(F(F(F({ref:l,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(T.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(q,") * 1px)")}},L.attrs),av(T.position)),Dh.includePositionSnapAttrs(T.position)),{className:Z?"beingDragged":""})),A_.default.createElement(o9,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(T.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(q,") * 1px)"),fill:L.flag===2?"white":void 0}}),K.node,P)},s9=jae}),dD,Hae,Gae,Vae,Wae,YIe=A(()=>{dD=Y(Rt()),Lt(),e9(),Gae=Ue.path(Hae||(Hae=J([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),Vae=i=>{let{index:l,trackData:u}=i,m="M 0 0 L 1 1",w=$U(u.keyframes[l].position,i.extremumSpace.fromValueSpace(0),0,i.extremumSpace.fromValueSpace(1)-i.extremumSpace.fromValueSpace(0));return dD.default.createElement(dD.default.Fragment,null,dD.default.createElement(Gae,{d:m,style:{transform:w}}))},Wae=Vae}),sf,Xae,Kae,Yae,Qae,qae,QIe=A(()=>{sf=Y(Rt()),Lt(),e9(),zIe(),VIe(),KIe(),YIe(),Kae=Ue.g(Xae||(Xae=J([`
  /* position: absolute; */
`]))),Yae=sf.default.createElement(sf.default.Fragment,null),Qae=i=>{let{index:l,trackData:u,isScalar:m}=i,w=u.keyframes[l],E=u.keyframes[l+1],T=w.connectedRight&&!!E&&E.value!==w.value;return sf.default.createElement(Kae,null,T?sf.default.createElement(sf.default.Fragment,null,sf.default.createElement(Cae,F({},i)),!w.type||w.type==="bezier"&&sf.default.createElement(sf.default.Fragment,null,sf.default.createElement(n9,N(F({},i),{which:"left"})),sf.default.createElement(n9,N(F({},i),{which:"right"})))):Yae,m?sf.default.createElement(Nae,F({},i)):sf.default.createElement(sf.default.Fragment,null,sf.default.createElement(s9,N(F({},i),{which:"left"})),sf.default.createElement(s9,N(F({},i),{which:"right"})),sf.default.createElement(Wae,F({},i))))},qae=Qae});function qIe(i,l){let u=1/0,m=-1/0;function w(E){u=Math.min(E,u),m=Math.max(E,m)}return i.forEach((E,T)=>{let P=WO(E.value,l);if(w(P),!E.connectedRight)return;let L=i[T+1];if(!L)return;let j=(typeof L.value=="number"?L.value:1)-P;w(P+E.handles[3]*j),w(P+L.handles[1]*j)}),[u,m]}function JIe(i){let l=0,u=1;function m(w){l=Math.min(w,l),u=Math.max(w,u)}return i.forEach((w,E)=>{if(!w.connectedRight)return;let T=i[E+1];T&&(m(w.handles[3]),m(T.handles[1]))}),[l,u]}var uv,Jae,Zae,ZIe=A(()=>{Ty(),uv=Y(Rt()),hD(),QIe(),f_(),wi(),Jae=uv.default.memo(({layoutP:i,trackData:l,sheetObject:u,trackId:m,color:w,pathToProp:E})=>{let T=VO(vo(u.template.configPointer),E);if(rv(T))return console.error("Composite prop types cannot be keyframed"),uv.default.createElement(uv.default.Fragment,null);let[P,L]=(0,uv.useState)(!1),j=(0,uv.useMemo)(()=>{let X=new Set;return function(){let ee=X.size===0;X.add($),ee&&L(!0);function $(){let re=X.size>0;X.delete($),re&&X.size===0&&L(!1)}return $}},[]),K=(0,uv.useMemo)(()=>{let X=T.type==="number"?qIe(l.keyframes,T):JIe(l.keyframes),ee=se=>(se-X[0])/(X[1]-X[0]),$=se=>X[0]+re(se),re=se=>se*(X[1]-X[0]);return{fromValueSpace:ee,toValueSpace:$,deltaToValueSpace:re,lock:j}},[l.keyframes]),Z=(0,uv.useRef)(void 0);P||(Z.current=K);let q=l.keyframes.map((X,ee)=>uv.default.createElement(qae,{pathToProp:E,propConfig:T,itemKey:Vc.forTrackKeyframe(u,m,X.id),keyframe:X,index:ee,trackData:l,layoutP:i,sheetObject:u,trackId:m,isScalar:T.type==="number",key:X.id,extremumSpace:Z.current,color:w}));return uv.default.createElement("g",{style:{"--main-color":YP[w].iconColor}},q)}),Zae=Jae}),$ae,fD,ele,tle,$Ie=A(()=>{Ze(),wi(),$ae=$n,fD=Y(Rt()),ZIe(),ele=i=>io(()=>{let{sheetObject:l,trackId:u}=i,m=(0,$ae.val)(xe().atomP.historic.coreByProject[l.address.projectId].sheetsById[l.address.sheetId].sequence.tracksByObject[l.address.objectKey].trackData[u]);return(m==null?void 0:m.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(m==null?void 0:m.type," is not yet supported on the graph editor")),fD.default.createElement(fD.default.Fragment,null)):fD.default.createElement(Zae,N(F({},i),{trackData:m}))},[i.trackId,i.layoutP]),tle=ele});function nle({clippedSpaceRange:i,clippedSpaceWidth:l,fps:u,gapWidth:m=120},w){let E=1/u,T=i.end-i.start,P=l/(u*T),L=Math.floor(m/P),j=(L<u?rle(u).find(q=>q>=L):u*Math.floor(L/u))*E,K=Math.floor(i.start/j),Z=Math.ceil(i.end/j);for(let q=K;q<=Z;q++){let X=q*j,ee=X%1===0;w(X,ee)}}var rle,ile=A(()=>{Ya(),rle=Js(i=>{let l=[];for(let u=1;u<=i;u++)i%u===0&&l.push(u);return l})});function eRe(i){let{clippedSpaceWidth:l,height:u,ctx:m,unitSpaceToClippedSpace:w,snapToGrid:E}=i;m.clearRect(0,0,l,u),nle(i,(T,P)=>{let L=E(T),j=Math.floor(w(L));m.strokeStyle=P?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",m.beginPath(),m.moveTo(j,0),m.lineTo(j,u),m.stroke(),m.closePath()})}var tx,nx,ole,sle,ale,lle,ule,cle,dle,fle,a9,hle=A(()=>{tx=$n,nx=Y(Rt()),Lt(),ile(),Ze(),sle=Ue.div(ole||(ole=J([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),lle=Ue.canvas(ale||(ale=J([`
  position: relative;
  left: 0;
`]))),ule=i=>{let l=i;return l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1},cle=()=>window.devicePixelRatio||1,dle=i=>cle()/ule(i),fle=({layoutP:i,width:l,height:u})=>{let m=(0,nx.useRef)(null),[w,E]=(0,nx.useState)(null),{ctx:T,ratio:P}=(0,nx.useMemo)(()=>{if(!w)return{};let L=w.getContext("2d"),j=dle(L);return{ctx:L,ratio:j}},[w]);return(0,nx.useLayoutEffect)(()=>{if(!T)return;w.width=l*P,w.height=u*P;let L=(0,tx.prism)(()=>{let j=(0,tx.val)(i.sheet).getSequence();return{ctx:T,clippedSpaceRange:(0,tx.val)(i.clippedSpace.range),clippedSpaceWidth:(0,tx.val)(i.clippedSpace.width),unitSpaceToClippedSpace:(0,tx.val)(i.clippedSpace.fromUnitSpace),height:u,leftPadding:(0,tx.val)(i.scaledSpace.leftPadding),fps:j.subUnitsPerUnit,snapToGrid:K=>j.closestGridPosition(K)}}).onChange(xe().ticker,j=>{T.save(),T.scale(P,P),eRe(j),T.restore()},!0);return()=>{L()}},[T,l,u,i]),nx.default.createElement(sle,{ref:m,style:{width:l+"px"}},nx.default.createElement(lle,{ref:E,style:{width:l+"px",height:u+"px"}}))},a9=fle}),cv,rx,YP,ple,mle,gle,vle,yle,_le,hD=A(()=>{Ze(),sv(),QO(),wi(),cv=$n,rx=Y(Rt()),Lt(),Sae(),loe(),$Ie(),hle(),um(),YP={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},mle=Ue.div(ple||(ple=J([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),Jg(.03,"#1a1c1e")),vle=Ue.svg(gle||(gle=J([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),yle=({layoutP:i})=>io(()=>{let l=(0,cv.val)(i.sheet),u=(0,cv.val)(xe().atomP.historic.projects.stateByProjectId[l.address.projectId].stateBySheetId[l.address.sheetId].sequenceEditor.selectedPropsByObject),m=(0,cv.val)(i.graphEditorDims.height),w=(0,cv.val)(i.scaledSpace.fromUnitSpace)(1),E=[];if(u)for(let[P,L]of Object.entries(u)){let j=l.getObject(P);if(!j)continue;let K=(0,cv.val)(j.template.getMapOfValidSequenceTracks_forStudio());for(let[Z,q]of Object.entries(L)){let X=MB(Z),ee=p_(K,X);ee&&E.push(rx.default.createElement(tle,{key:"graph-".concat(P,"-").concat(Z),sheetObject:j,pathToProp:X,layoutP:i,trackId:ee,color:q}))}}let T=(0,cv.val)(i.rightDims.width);return rx.default.createElement(mle,{style:{width:T+"px",height:m+"px","--unitSpaceToScaledSpaceMultiplier":w,"--graphEditorVerticalSpace":"".concat((0,cv.val)(i.graphEditorVerticalSpace.space))}},rx.default.createElement(a9,{layoutP:i,width:T,height:m}),rx.default.createElement(pU,{layoutP:i,height:m},rx.default.createElement(vle,{width:lD,height:m,viewBox:"0 0 ".concat(lD," ").concat(m)},rx.default.createElement("g",{style:{transform:"translate(".concat((0,cv.val)(i.scaledSpace.leftPadding),"px, ").concat((0,cv.val)(i.graphEditorDims.padding.top),"px)")}},E))))},[i]),_le=yle}),wle,tg,Sle,xle,ble,Ele,l9,Ale,Cle,Mle,Tle,Ple,kle,Ile,tRe=A(()=>{Ze(),sv(),qO(),wi(),wle=$n,tg=Y(Rt()),Lt(),y8(),eB(),hD(),AB(),FS(),aie(),Sle={label:{color:"#9a9a9a"}},ble=Ue(Z8)(xle||(xle=J([""]))),l9=Ue($8)(Ele||(Ele=J([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),Sle.label.color),Cle=Ue.button(Ale||(Ale=J([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),i=>i.isSelected?YP[i.graphEditorColor].iconColor:m_.offColor),Mle=()=>tg.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},tg.default.createElement("g",{transform:"translate(0 100)"},tg.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),Ple=Ue.span(Tle||(Tle=J([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),h_,l9),kle=({leaf:i})=>{var l;let u=lP(i.sheetObject.propsP,i.pathToProp),m=i.sheetObject,{controlIndicators:w}=v8(u,m,i.propConf),E=io(()=>{let q=i.sheetObject.address,X=ov(i.pathToProp);return(0,wle.val)(xe().atomP.historic.projects.stateByProjectId[q.projectId].stateBySheetId[q.sheetId].sequenceEditor.selectedPropsByObject[q.objectKey][X])},[i]),T=(0,tg.useRef)(!1),P=typeof E=="string";T.current=P;let L=(0,tg.useCallback)(()=>{let q=i.sheetObject.address;xe().transaction(({stateEditors:X})=>{T.current?X.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(N(F({},q),{pathToProp:i.pathToProp})):(X.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(N(F({},q),{pathToProp:i.pathToProp})),X.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[i]),j=(l=i.propConf.label)!=null?l:i.pathToProp[i.pathToProp.length-1],K=!0,Z=(0,tg.useRef)(null);return oie(Z.current,i),tg.default.createElement(ble,{depth:i.depth},tg.default.createElement(l9,{ref:Z,isEven:i.n%2===0,style:{height:i.nodeHeight+"px"},isSelected:P===!0},tg.default.createElement(Ple,null,j),w,tg.default.createElement(Cle,{onClick:L,isSelected:P===!0,graphEditorColor:E??"1",style:{opacity:1},disabled:!K},tg.default.createElement(Mle,null))))},Ile=kle});function u9(i,l){xe().transaction(({stateEditors:u})=>{u.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(N(F({},l.sheetAddress),{studioSheetItemKey:l.sheetItemKey,isCollapsed:i}))})}var c9=A(()=>{Ze()}),dA,d9,Rle,nRe=A(()=>{dA=Y(Rt()),AB(),tRe(),c9(),d9=i=>{let l="prop"+i.pathToProp[i.pathToProp.length-1];return i.shouldRender?i.type==="propWithChildren"?dA.default.createElement(Rle,{leaf:i,key:l}):dA.default.createElement(Ile,{leaf:i,key:l}):dA.default.createElement(dA.default.Fragment,{key:l})},Rle=({leaf:i})=>dA.default.createElement(EB,{leaf:i,label:i.pathToProp[i.pathToProp.length-1],isCollapsed:i.isCollapsed,toggleCollapsed:()=>u9(!i.isCollapsed,{sheetAddress:i.sheetObject.address,sheetItemKey:i.sheetItemKey})},i.children.map(l=>d9(l)))}),Ole,Ble,Dle,rRe=A(()=>{Ole=Y(Rt()),AB(),nRe(),c9(),Ze(),Ble=({leaf:i})=>Ole.default.createElement(EB,{leaf:i,label:i.sheetObject.address.objectKey,isCollapsed:i.isCollapsed,toggleSelect:()=>{xe().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([i.sheetObject])})},toggleCollapsed:()=>u9(!i.isCollapsed,{sheetAddress:i.sheetObject.address,sheetItemKey:i.sheetItemKey})},i.children.map(l=>d9(l))),Dle=Ble}),f9,Lle,Nle,iRe=A(()=>{wi(),f9=Y(Rt()),rRe(),AB(),c9(),Kee(),Lle=({leaf:i})=>io(()=>f9.default.createElement(EB,{leaf:i,label:i.sheet.address.sheetId,isCollapsed:i.isCollapsed,toggleCollapsed:()=>{u9(!i.isCollapsed,{sheetAddress:i.sheet.address,sheetItemKey:i.sheetItemKey})}},i.children.map(l=>f9.default.createElement(Dle,{key:"sheetObject-"+Wee(l.sheetObject),leaf:l}))),[i]),Nle=Lle}),h9,pD,Fle,zle,Ule,jle,Hle,Gle,oRe=A(()=>{wi(),h9=$n,pD=Y(Rt()),Lt(),iRe(),zle=Ue.div(Fle||(Fle=J([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),jle=Ue.ul(Ule||(Ule=J([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),Hle=({layoutP:i})=>io(()=>{let l=(0,h9.val)(i.tree),u=(0,h9.val)(i.leftDims.width);return pD.default.createElement(zle,{style:{width:u+"px",top:l.top+"px"}},pD.default.createElement(jle,null,pD.default.createElement(Nle,{leaf:l})))},[i]),Gle=Hle}),p9,Vle,Wle,Xle,Kle,sRe=A(()=>{ws(),Fy(),wi(),um(),p9=Y(Rt()),Lt(),hle(),Wle=Ue.div(Vle||(Vle=J([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>gv.rightBackground,Jg(.01,LT(1*.03,BE.panel.bg))),Xle=({layoutP:i})=>{let l=vo(i.rightDims.width),u=vo(i.panelDims.height);return p9.default.createElement(Wle,{style:{width:l+"px"}},p9.default.createElement(a9,{width:l,height:u,layoutP:i}))},Kle=Xle}),fA,Yle,Qle,qle,Jle,aRe=A(()=>{wi(),fA=Y(Rt()),Lt(),oRe(),sRe(),Sae(),Lie(),Qle=Ue.div(Yle||(Yle=J([`
  position: absolute;
  left: 0;
  right: 0;
`]))),qle=({layoutP:i})=>{let l=vo(i.dopeSheetDims.height);return fA.default.createElement(Qle,{style:{height:l+"px"}},fA.default.createElement(Kle,{layoutP:i}),fA.default.createElement(Die,null,fA.default.createElement(Gle,{layoutP:i}),fA.default.createElement(wae,{layoutP:i})))},Jle=qle});function lRe(i,l,u){return m9.prism.memo(i,()=>(0,m9.prism)(l),u).getValue()}var m9,uRe=A(()=>{m9=$n});function qa(i){return function(l,u){return i(l,u())}}function fm(i){return Object.freeze({audience:ix(i,8)?"internal":ix(i,16)?"dev":"public",category:ix(i,4)?"troubleshooting":ix(i,2)?"todo":"general",level:ix(i,512)?512:ix(i,256)?256:ix(i,128)?128:64})}function ix(i,l){return(i&l)===l}function Ja(i,l){return((l&32)===32?!0:(l&16)===16?i.dev:(l&8)===8?i.internal:!1)&&i.min<=l}function Zle(i=console,l={}){let u=N(F({},dv),{includes:F({},dv.includes)}),m={styled:fRe.bind(u,i),noStyle:pRe.bind(u,i)},w=dRe.bind(u);function E(){return u.loggingConsoleStyle&&u.loggerConsoleStyle?m.styled:m.noStyle}return u.create=E(),{configureLogger(T){var P;T==="console"?(u.loggerConsoleStyle=dv.loggerConsoleStyle,u.create=E()):T.type==="console"?(u.loggerConsoleStyle=(P=T.style)!=null?P:dv.loggerConsoleStyle,u.create=E()):T.type==="keyed"?(u.creatExt=L=>T.keyed(L.names),u.create=w):T.type==="named"&&(u.creatExt=cRe.bind(null,T.named),u.create=w)},configureLogging(T){var P,L,j,K,Z;u.includes.dev=(P=T.dev)!=null?P:dv.includes.dev,u.includes.internal=(L=T.internal)!=null?L:dv.includes.internal,u.includes.min=(j=T.min)!=null?j:dv.includes.min,u.include=(K=T.include)!=null?K:dv.include,u.loggingConsoleStyle=(Z=T.consoleStyle)!=null?Z:dv.loggingConsoleStyle,u.create=E()},getLogger(){return u.create({names:[]})}}}function cRe(i,l){let u=[];for(let{name:m,key:w}of l.names)u.push(w==null?m:"".concat(m," (").concat(w,")"));return i(u)}function dRe(i){let l=F(F({},this.includes),this.include(i)),u=this.filtered,m=this.named.bind(this,i),w=this.creatExt(i),E=Ja(l,524),T=Ja(l,522),P=Ja(l,521),L=Ja(l,529),j=Ja(l,545),K=Ja(l,265),Z=Ja(l,268),q=Ja(l,273),X=Ja(l,289),ee=Ja(l,137),$=Ja(l,145),re=Ja(l,73),se=Ja(l,81),fe=E?w.error.bind(w,Sp._hmm):u.bind(i,524),ye=T?w.error.bind(w,Sp._todo):u.bind(i,522),Oe=P?w.error.bind(w,Sp._error):u.bind(i,521),Ie=L?w.error.bind(w,Sp.errorDev):u.bind(i,529),je=j?w.error.bind(w,Sp.errorPublic):u.bind(i,545),yt=Z?w.warn.bind(w,Sp._kapow):u.bind(i,268),st=K?w.warn.bind(w,Sp._warn):u.bind(i,265),ft=q?w.warn.bind(w,Sp.warnDev):u.bind(i,273),It=X?w.warn.bind(w,Sp.warnPublic):u.bind(i,273),vn=ee?w.debug.bind(w,Sp._debug):u.bind(i,137),We=$?w.debug.bind(w,Sp.debugDev):u.bind(i,145),Pt=re?w.trace.bind(w,Sp._trace):u.bind(i,73),be=se?w.trace.bind(w,Sp.traceDev):u.bind(i,81),Ht={_hmm:fe,_todo:ye,_error:Oe,errorDev:Ie,errorPublic:je,_kapow:yt,_warn:st,warnDev:ft,warnPublic:It,_debug:vn,debugDev:We,_trace:Pt,traceDev:be,lazy:{_hmm:E?qa(fe):fe,_todo:T?qa(ye):ye,_error:P?qa(Oe):Oe,errorDev:L?qa(Ie):Ie,errorPublic:j?qa(je):je,_kapow:Z?qa(yt):yt,_warn:K?qa(st):st,warnDev:q?qa(ft):ft,warnPublic:X?qa(It):It,_debug:ee?qa(vn):vn,debugDev:$?qa(We):We,_trace:re?qa(Pt):Pt,traceDev:se?qa(be):be},named:m,utilFor:{internal(){return{debug:Ht._debug,error:Ht._error,warn:Ht._warn,trace:Ht._trace,named(hr,bt){return Ht.named(hr,bt).utilFor.internal()}}},dev(){return{debug:Ht.debugDev,error:Ht.errorDev,warn:Ht.warnDev,trace:Ht.traceDev,named(hr,bt){return Ht.named(hr,bt).utilFor.dev()}}},public(){return{error:Ht.errorPublic,warn:Ht.warnPublic,debug(hr,bt){Ht._warn('(public "debug" filtered out) '.concat(hr),bt)},trace(hr,bt){Ht._warn('(public "trace" filtered out) '.concat(hr),bt)},named(hr,bt){return Ht.named(hr,bt).utilFor.public()}}}}};return Ht}function fRe(i,l){let u=F(F({},this.includes),this.include(l)),m=[],w="";for(let L=0;L<l.names.length;L++){let{name:j,key:K}=l.names[L];if(w+=" %c".concat(j),m.push(this.style.css(j)),K!=null){let Z="%c#".concat(K);w+=Z,m.push(this.style.css(Z))}}let E=this.filtered,T=this.named.bind(this,l),P=[w,...m];return $le(E,l,u,i,P,hRe(P),T)}function hRe(i){let l=i.slice(0);for(let u=1;u<l.length;u++)l[u]+=";background-color:#e0005a;padding:2px;color:white";return l}function pRe(i,l){let u=F(F({},this.includes),this.include(l)),m="";for(let P=0;P<l.names.length;P++){let{name:L,key:j}=l.names[P];m+=" ".concat(L),j!=null&&(m+="#".concat(j))}let w=this.filtered,E=this.named.bind(this,l),T=[m];return $le(w,l,u,i,T,T,E)}function $le(i,l,u,m,w,E,T){let P=Ja(u,524),L=Ja(u,522),j=Ja(u,521),K=Ja(u,529),Z=Ja(u,545),q=Ja(u,265),X=Ja(u,268),ee=Ja(u,273),$=Ja(u,289),re=Ja(u,137),se=Ja(u,145),fe=Ja(u,73),ye=Ja(u,81),Oe=P?m.error.bind(m,...w):i.bind(l,524),Ie=L?m.error.bind(m,...w):i.bind(l,522),je=j?m.error.bind(m,...w):i.bind(l,521),yt=K?m.error.bind(m,...w):i.bind(l,529),st=Z?m.error.bind(m,...w):i.bind(l,545),ft=X?m.warn.bind(m,...E):i.bind(l,268),It=q?m.warn.bind(m,...w):i.bind(l,265),vn=ee?m.warn.bind(m,...w):i.bind(l,273),We=$?m.warn.bind(m,...w):i.bind(l,273),Pt=re?m.info.bind(m,...w):i.bind(l,137),be=se?m.info.bind(m,...w):i.bind(l,145),Ht=fe?m.debug.bind(m,...w):i.bind(l,73),hr=ye?m.debug.bind(m,...w):i.bind(l,81),bt={_hmm:Oe,_todo:Ie,_error:je,errorDev:yt,errorPublic:st,_kapow:ft,_warn:It,warnDev:vn,warnPublic:We,_debug:Pt,debugDev:be,_trace:Ht,traceDev:hr,lazy:{_hmm:P?qa(Oe):Oe,_todo:L?qa(Ie):Ie,_error:j?qa(je):je,errorDev:K?qa(yt):yt,errorPublic:Z?qa(st):st,_kapow:X?qa(ft):ft,_warn:q?qa(It):It,warnDev:ee?qa(vn):vn,warnPublic:$?qa(We):We,_debug:re?qa(Pt):Pt,debugDev:se?qa(be):be,_trace:fe?qa(Ht):Ht,traceDev:ye?qa(hr):hr},named:T,utilFor:{internal(){return{debug:bt._debug,error:bt._error,warn:bt._warn,trace:bt._trace,named(Et,Vt){return bt.named(Et,Vt).utilFor.internal()}}},dev(){return{debug:bt.debugDev,error:bt.errorDev,warn:bt.warnDev,trace:bt.traceDev,named(Et,Vt){return bt.named(Et,Vt).utilFor.dev()}}},public(){return{error:bt.errorPublic,warn:bt.warnPublic,debug(Et,Vt){bt._warn('(public "debug" filtered out) '.concat(Et),Vt)},trace(Et,Vt){bt._warn('(public "trace" filtered out) '.concat(Et),Vt)},named(Et,Vt){return bt.named(Et,Vt).utilFor.public()}}}}};return bt}var Sp,dv,eue=A(()=>{Sp={_hmm:fm(524),_todo:fm(522),_error:fm(521),errorDev:fm(529),errorPublic:fm(545),_kapow:fm(268),_warn:fm(265),warnDev:fm(273),warnPublic:fm(289),_debug:fm(137),debugDev:fm(145),_trace:fm(73),traceDev:fm(81)},dv={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(i,l,u){return this.create({names:[...i.names,{name:l,key:u}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(i){if(i.length<5)return i;let l=i.replace(this.collapseOnRE,"");return this.cssMemo.has(l)||this.cssMemo.set(l,this.css(i)),l},css(i){var l,u,m,w;let E=this.cssMemo.get(i);if(E)return E;let T="color:".concat((u=(l=this.color)==null?void 0:l.call(this,i))!=null?u:"hsl(".concat((i.charCodeAt(0)+i.charCodeAt(i.length-1))%360,", 100%, 60%)"));return(m=this.bold)!=null&&m.test(i)&&(T+=";font-weight:600"),(w=this.italic)!=null&&w.test(i)&&(T+=";font-style:italic"),this.cssMemo.set(i,T),T}}}}),g9,mD,gD=A(()=>{eue(),eue(),g9=Zle(console,{_debug:function(){},_error:function(){}}),g9.configureLogging({dev:!0,min:64}),mD=g9.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),C_,ox,tue,mRe=A(()=>{Ty(),C_=$n,gD(),Sy(),ox=28,tue=(i,l)=>{var u;C_.prism.ensurePrism();let m=!0,w=gO+ox,E=0,T=l.atomP.ahistoric.projects.stateByProjectId[i.address.projectId].stateBySheetId[i.address.sheetId].sequence.collapsableItems,P=T.byId[Vc.forSheet()].isCollapsed,L=(u=(0,C_.pointerToPrism)(P).getValue())!=null?u:!1,j={type:"sheet",isCollapsed:L,sheet:i,children:[],sheetItemKey:Vc.forSheet(),shouldRender:m,top:gO,depth:0,n:E,nodeHeight:m?ox:0,heightIncludingChildren:-1};E+=1;for(let $ of Object.values((0,C_.val)(i.objectsP)))$&&K($,j.children,j.depth+1,!L);j.heightIncludingChildren=w-j.top;function K($,re,se,fe){var ye;let Oe=(0,C_.val)($.template.getMapOfValidSequenceTracks_forStudio()),Ie=(0,C_.val)($.template.configPointer);if(Object.keys(Oe).length===0)return;let je=T.byId[Vc.forSheetObject($)].isCollapsed,yt=(ye=(0,C_.pointerToPrism)(je).getValue())!=null?ye:!1,st={type:"sheetObject",isCollapsed:yt,sheetItemKey:Vc.forSheetObject($),shouldRender:fe,top:w,children:[],depth:se,n:E,sheetObject:$,nodeHeight:fe?ox:0,heightIncludingChildren:-1};re.push(st),fe&&(E+=1,w+=st.nodeHeight),Z($,Oe,[],Ie,st.children,se+1,fe&&!yt),st.heightIncludingChildren=w-st.top}function Z($,re,se,fe,ye,Oe,Ie){for(let[je,yt]of Object.entries(re)){let st=fe.props[je];q($,yt,[...se,je],st,ye,Oe,Ie)}}function q($,re,se,fe,ye,Oe,Ie){fe.type==="compound"?X($,re,fe,se,fe,ye,Oe,Ie):fe.type==="enum"?mD.warn("Prop type enum is not yet supported in the sequence editor"):ee($,re,se,fe,ye,Oe,Ie)}function X($,re,se,fe,ye,Oe,Ie,je){var yt;let st=T.byId[Vc.forSheetObjectProp($,fe)].isCollapsed,ft=(yt=(0,C_.pointerToPrism)(st).getValue())!=null?yt:!1,It={type:"propWithChildren",isCollapsed:ft,propConf:se,pathToProp:fe,sheetItemKey:Vc.forSheetObjectProp($,fe),sheetObject:$,shouldRender:je,top:w,children:[],nodeHeight:je?ox:0,heightIncludingChildren:-1,depth:Ie,trackMapping:re,n:E};Oe.push(It),je&&(w+=It.nodeHeight,E+=1),Z($,re,fe,ye,It.children,Ie+1,je&&!ft),It.heightIncludingChildren=w-It.top}function ee($,re,se,fe,ye,Oe,Ie){let je={type:"primitiveProp",propConf:fe,depth:Oe,sheetItemKey:Vc.forSheetObjectProp($,se),sheetObject:$,pathToProp:se,shouldRender:Ie,top:w,nodeHeight:Ie?ox:0,heightIncludingChildren:Ie?ox:0,trackId:re,n:E};ye.push(je),E+=1,w+=je.nodeHeight}return j}});function gRe(i,l){let u=xe(),m=u.atomP.ahistoric.projects.stateByProjectId[i.address.projectId].stateBySheetId[i.address.sheetId],w=u.atomP.historic.projects.stateByProjectId[i.address.projectId].stateBySheetId[i.address.sheetId];return(0,xp.prism)(()=>{var E;let T=lRe("tree",()=>tue(i,u),[]),P=(0,xp.val)(l),L=(0,xp.val)(u.atomP.historic.panels.sequenceEditor.graphEditor),j=(0,xp.val)(w.sequenceEditor.selectedPropsByObject),K=!!j&&Object.keys(j).length>0,{leftDims:Z,rightDims:q,graphEditorDims:X,dopeSheetDims:ee,horizontalScrollbarDims:$}=xp.prism.memo("leftDims",()=>{var It;let vn={width:Math.floor(P.width*nue),height:P.height,screenX:P.screenX,screenY:P.screenY},We={width:P.width-vn.width,height:P.height,screenX:P.screenX+vn.width,screenY:P.screenY},Pt=K&&(L==null?void 0:L.isOpen)===!0,be=Math.floor((Pt?kn((It=L==null?void 0:L.height)!=null?It:.5,.1,.7):0)*P.heightWithoutBorder),Ht=0+be,hr=P.height-Ht,bt={width:P.width,height:hr,screenX:P.screenX,screenY:P.screenY},Et={isAvailable:K,isOpen:Pt,width:We.width,height:be,screenX:P.screenX,screenY:P.screenY+hr,padding:{top:20,bottom:20}};return{leftDims:vn,rightDims:We,graphEditorDims:Et,dopeSheetDims:bt,horizontalScrollbarDims:{bottom:0}}},[P,L,K]),re=xp.prism.memo("graphEditorVerticalSpace",()=>{let It=X.height-X.padding.top-X.padding.bottom;return{space:It,fromExtremumSpace(vn){return vn*It},toExtremumSpace(vn){return vn/It}}},[X]),[se,fe]=xp.prism.state("isSeeking",!1),ye={isSeeking:se,setIsSeeking:fe},Oe={},Ie=(E=(0,xp.val)(m.sequence.clippedSpaceRange))!=null?E:rue,je=xp.prism.memo("scaledSpace",()=>{let It=Ie.end-Ie.start,vn=q.width,We=It/vn,Pt=vn/It;return{fromUnitSpace(be){return be*Pt},toUnitSpace(be){return be*We},leftPadding:10}},[Ie,q.width]),yt=xp.prism.memo("setClippedSpaceRange",()=>function(It){u.transaction(({stateEditors:vn})=>{let We=F({},It);if(We.end<=We.start&&(We.end=We.start+1),We.start<0){let Pt=We.end-We.start;We.start=0,We.end=Pt}vn.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(N(F({},i.address),{range:We}))})},[]),st=xp.prism.memo("clippedSpace",()=>({range:Ie,width:q.width,fromUnitSpace(It){return je.fromUnitSpace(It-Ie.start)+je.leftPadding},toUnitSpace(It){return je.toUnitSpace(It-je.leftPadding)+Ie.start},setRange:yt}),[Ie,q.width,je,yt]),ft=xp.prism.memo("selection.current",()=>new xp.Atom({}),[]);return J8("finalAtom",{sheet:i,tree:T,panelDims:P,leftDims:Z,rightDims:q,dopeSheetDims:ee,horizontalScrollbarDims:$,seeker:ye,unitSpace:Oe,scaledSpace:je,clippedSpace:st,graphEditorDims:X,graphEditorVerticalSpace:re,selectionAtom:ft}).pointer})}var xp,nue,rue,vRe=A(()=>{Ze(),uRe(),iie(),xp=$n,mRe(),Ya(),nue=.2,rue={start:0,end:10}});function yRe(i){let{fullSecondStampsContainer:l,sequencePositionFormatter:u,snapToGrid:m,unitSpaceToClippedSpace:w}=i,E="";nle(i,(T,P)=>{let L=m(T),j=w(L);P?E+=iue(u.formatFullUnitForGrid(L),j,"full-unit"):E+=iue(u.formatSubUnitForGrid(L),j,"sub-unit")}),l.innerHTML=E}function iue(i,l,u){return'<span class="'.concat(u,'" style="transform: translate3d(').concat(l.toFixed(1),'px, -50%, 0);">').concat(i,"</span>")}var sx,ax,oue,sue,M_,aue,lue,uue,cue,due,fue,hue=A(()=>{sx=$n,um(),ax=Y(Rt()),Lt(),ile(),Ze(),sue=Ue.div(oue||(oue=J([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),M_={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return LT(.2,M_.fullUnitStampColor)}},lue=Ue.div(aue||(aue=J([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),cue=Ue.div(uue||(uue=J([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),M_.fullUnitStampColor,M_.stampFontSize,M_.fullUnitStampColor,M_.subUnitStampColor),due=({layoutP:i,width:l})=>{let u=(0,ax.useRef)(null),[m,w]=(0,ax.useState)(null);return(0,ax.useLayoutEffect)(()=>{if(m)return(0,sx.prism)(()=>{let E=(0,sx.val)(i.sheet).getSequence();return{fullSecondStampsContainer:m,clippedSpaceRange:(0,sx.val)(i.clippedSpace.range),clippedSpaceWidth:(0,sx.val)(i.clippedSpace.width),unitSpaceToClippedSpace:(0,sx.val)(i.clippedSpace.fromUnitSpace),leftPadding:(0,sx.val)(i.scaledSpace.leftPadding),fps:E.subUnitsPerUnit,sequencePositionFormatter:E.positionFormatter,snapToGrid:T=>E.closestGridPosition(T)}}).onChange(xe().ticker,yRe,!0)},[m,l,i]),ax.default.createElement(sue,{ref:u,style:{width:l+"px"}},ax.default.createElement(lue,{style:{width:l+"px"}},ax.default.createElement(cue,{ref:w})))},fue=due});function _Re(i){let[l,u]=(0,v9.useState)(!1);return(0,v9.useEffect)(()=>{if(u(!1),!i)return;let m=E=>{E.target===i?u(!0):u(!1)},w=()=>{u(!1)};return i.addEventListener("mouseenter",m),i.addEventListener("mousemove",m),i.addEventListener("mouseleave",w),()=>{u(!1),i.removeEventListener("mouseenter",m),i.removeEventListener("mousemove",m),i.removeEventListener("mouseleave",w)}},[i]),l}var v9,wRe=A(()=>{v9=Y(Rt())});function SRe(i,l){let u=0,[m,w]=i,[E,T]=l;return w-m>T-E?[E,T]:(m<E&&(u=0-m),w>T&&(u=T-w),[m+u,w+u])}var fv,T_,Sc,y9,pue,vD,mue,gue,vue=A(()=>{fv=$n,wi(),ws(),Ze(),ux(),Bh(),wc(),_s(),T_=Y(Rt()),Lt(),rf(),Sc={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},y9=1e3,vD=Ue.div(pue||(pue=J([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>pv-1,i=>i.enabled?Sc.enabled.backgroundColor:Sc.disabled.backgroundColor,y9,Sc.hover.backgroundColor,Sc.dragging.backgroundColor,fs),mue=({layoutP:i})=>{let l=(0,T_.useMemo)(()=>(0,fv.prism)(()=>{let{projectId:j,sheetId:K}=(0,fv.val)(i.sheet).address;return(0,fv.val)(xe().atomP.ahistoric.projects.stateByProjectId[j].stateBySheetId[K].sequence.focusRange)}),[i]),[u,m]=es(null),[w]=Oh(m,{menuItems:()=>{let j=(0,fv.val)(i.sheet),K=l.getValue();return[{label:"Delete focus range",callback:()=>{xe().tempTransaction(({stateEditors:Z})=>{Z.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(F({},j.address))}).commit()}},{label:K!=null&&K.enabled?"Disable focus range":"Enable focus range",callback:()=>{K!==void 0&&xe().tempTransaction(({stateEditors:Z})=>{Z.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(N(F({},j.address),{range:K.range,enabled:!K.enabled}))}).commit()}}]}}),E=vo(i.scaledSpace.toUnitSpace),T=vo(i.sheet),P=(0,T_.useMemo)(()=>{let j,K;return{debugName:"FocusRangeStrip",onDragStart(Z){let q,X=l.getValue();if(!X)return!1;let ee=X.range.start,$=X.range.end,re=!1,se=(0,fv.val)(i.sheet).getSequence();return{onDrag(fe){if(X=l.getValue(),X){re=!0;let ye=E(fe),Oe=ee+ye,Ie=$+ye;Ie<Oe&&(Ie=Oe),[j,K]=SRe([Oe,Ie],[0,se.length]).map(je=>se.closestGridPosition(je)),q&&q.discard(),q=xe().tempTransaction(({stateEditors:je})=>{var yt;je.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(N(F({},T.address),{range:{start:j,end:K},enabled:(yt=X==null?void 0:X.enabled)!=null?yt:!0}))})}},onDragEnd(){X&&(re&&q!==void 0?q.commit():q&&q.discard())}}},lockCSSCursorTo:"grabbing"}},[T,E]),[L]=Zl(m,P);return Ry(L,-1),io(()=>{let j=l.getValue(),K=(j==null?void 0:j.range)||{start:0,end:0},Z=(0,fv.val)(i.clippedSpace.fromUnitSpace)(K.start),q=(0,fv.val)(i.clippedSpace.fromUnitSpace)(K.end),X,ee;return Z<0&&(Z=0),q>(0,fv.val)(i.clippedSpace.width)&&(q=(0,fv.val)(i.clippedSpace.width)),Z>q?(ee=0,X=0):(ee=Z,X=(q-Z)/y9),j?T_.default.createElement(T_.default.Fragment,null,w,T_.default.createElement(vD,{id:"range-strip",enabled:j.enabled,className:"".concat(L?"dragging":""," ").concat(j.enabled?"enabled":""),ref:u,style:{transform:"translateX(".concat(ee,"px) scale(").concat(X,", 1)")}})):T_.default.createElement(T_.default.Fragment,null)},[i,u,l,w,L])},gue=mue}),P_,Dy,yue,_ue,wue,Sue,xue,bue,Eue,_9,xRe=A(()=>{P_=$n,wi(),Ze(),ux(),cm(),wc(),_s(),Dy=Y(Rt()),Lt(),rf(),vue(),o0(),_ue=Ue.div(yue||(yue=J([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),i=>i.type==="start"?0:-Sc.thumbWidth,Sc.thumbWidth,()=>pv-1,({enabled:i})=>i?Sc.enabled.backgroundColor:Sc.disabled.backgroundColor,Sc.enabled.stroke,i=>i.type==="start"?"w-resize":"e-resize",by,()=>vD,Sc.hover.backgroundColor,Sc.hover.stroke,()=>vD,Sc.dragging.backgroundColor,Sc.dragging.stroke,Sc.dragging.backgroundColor),Sue=Ue.div(wue||(wue=J([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),i=>i.type==="start"?90:-90,i=>i.type==="start"?Sc.thumbWidth:-Sc.thumbWidth+1),bue=Ue.div(xue||(xue=J([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),i=>i.type==="start"?-90:90,()=>QP.backgroundColor,i=>i.type==="start"?-12:Sc.thumbWidth),Eue=({layoutP:i,thumbType:l})=>{var u;let[m,w]=es(null),E=(0,Dy.useMemo)(()=>(0,P_.prism)(()=>{let{projectId:j,sheetId:K}=(0,P_.val)(i.sheet).address;return(0,P_.val)(xe().atomP.ahistoric.projects.stateByProjectId[j].stateBySheetId[K].sequence.focusRange)}),[i]),T=(0,Dy.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let j,K,Z=(0,P_.val)(i.sheet),q={start:0,end:Z.getSequence().length},X=E.getValue()||{range:q,enabled:!1},ee=X.enabled,$=X.range[l],re=(0,P_.val)(i.scaledSpace.toUnitSpace),se=re(Sc.rangeStripMinWidth);return{onDrag(fe,ye,Oe){var Ie;let je,yt=Dh.checkIfMouseEventSnapToPos(Oe,{ignore:w});if(yt==null){let ft=re(fe);je=$+ft}else je=yt;K=((Ie=E.getValue())==null?void 0:Ie.range)||q,l==="start"?je=Math.max(Math.min(je,K.end-se),0):je=Math.min(Math.max(je,K.start+se),Z.getSequence().length);let st=Z.getSequence().closestGridPosition(je);j!==void 0&&j.discard(),j=xe().tempTransaction(({stateEditors:ft})=>{ft.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(N(F({},Z.address),{range:N(F({},K),{[l]:st}),enabled:ee}))})},onDragEnd(fe){fe?j==null||j.commit():j==null||j.discard()}}}}),[i]),[P]=Zl(w,T);Qm(P,"draggingPositionInSequenceEditor",l==="start"?"w-resize":"e-resize");let L=vo(E);return Ry(P,(u=L==null?void 0:L.range[l])!=null?u:0),io(()=>{let j=E.getValue();if(!j)return null;let{enabled:K}=j,Z=j.range[l],q=(0,P_.val)(i.clippedSpace.fromUnitSpace)(Z);return(q<0||(0,P_.val)(i.clippedSpace.width)<q)&&(q=-1e4),Dy.default.createElement(_ue,N(F(F({ref:m},Dh.includePositionSnapAttrs(Z)),av(Z)),{className:"".concat(P&&"dragging"," ").concat(K&&"enabled"),enabled:K,type:l,style:{transform:"translate3d(".concat(q,"px, 0, 0)")}}),Dy.default.createElement(Sue,{type:l,enabled:K}),Dy.default.createElement(bue,{type:l}),Dy.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Dy.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Dy.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[i,m,E,P])},_9=Eue});function bRe(i,l){let[u,m]=(0,hv.useState)("none");return Qm(u!=="none","dragging",u==="creating"?"ew-resize":"move"),(0,hv.useMemo)(()=>{let w=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(T){let P,L=(0,lx.val)(i.clippedSpace.toUnitSpace),j=(0,lx.val)(i.scaledSpace.toUnitSpace),K=(0,lx.val)(i.sheet),Z=K.getSequence(),q=T.target.getBoundingClientRect(),X=L(T.clientX-q.left),ee=j(Sc.rangeStripMinWidth);return{onDrag($){let re=j($),se=X,fe=X+re;[se,fe]=[kn(se,0,Z.length),kn(fe,0,Z.length)].map(ye=>Z.closestGridPosition(ye)),fe<se?[se,fe]=[Math.max(Math.min(fe,se-ee),0),se]:$>0&&(fe=Math.min(Math.max(fe,se+ee),Z.length)),P&&P.discard(),P=xe().tempTransaction(({stateEditors:ye})=>{ye.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(N(F({},K.address),{range:{start:se,end:fe},enabled:!0}))})},onDragEnd($){$&&P!==void 0?P.commit():P&&P.discard()}}},lockCSSCursorTo:"ew-resize"}),E=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let T,P=l.current,L=l.current.addBoundsHighlightLock();return{onDrag(j,K){let Z=N(F({},P.dims),{top:kn(P.dims.top+K,0,window.innerHeight-Y0),left:kn(P.dims.left+j,-P.dims.width+Y0,window.innerWidth-Y0)}),q=SB(Z,{width:window.innerWidth,height:window.innerHeight});T==null||T.discard(),T=xe().tempTransaction(({stateEditors:X})=>{X.studio.historic.panelPositions.setPanelPosition({position:q,panelId:P.panelId})})},onDragEnd(j){L(),j?T==null||T.commit():T==null||T.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(T){let[P,L]=T.shiftKey?["creating",w().onDragStart(T)]:["moving-panel",E().onDragStart(T)];return m(P),L===!1?!1:{onDrag(j,K,Z,q,X){L.onDrag(j,K,Z,q,X)},onDragEnd(j){var K;m("none"),(K=L.onDragEnd)==null||K.call(L,j)}}}}},[i,l])}var lx,hv,Aue,Cue,Mue,Tue,ERe=A(()=>{lx=$n,wi(),Ze(),nA(),ux(),cm(),wc(),wRe(),wie(),_s(),Ya(),hv=Y(Rt()),Lt(),vue(),xRe(),Sy(),Cue=Ue.div(Aue||(Aue=J([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>pv,i=>i.isShiftDown?"ew-resize":"move"),Mue=({layoutP:i})=>{let[l,u]=es(null),m=tA(),w=(0,hv.useRef)(m);w.current=m;let E=(0,hv.useMemo)(()=>(0,lx.prism)(()=>{let{projectId:L,sheetId:j}=(0,lx.val)(i.sheet).address;return(0,lx.val)(xe().atomP.ahistoric.projects.stateByProjectId[L].stateBySheetId[j].sequence.focusRange)}),[i]);Zl(u,bRe(i,w));let T=yie("Shift"),P=_Re(u);return(0,hv.useEffect)(()=>{if(!T&&P)return w.current.addBoundsHighlightLock()},[!T&&P]),io(()=>hv.default.createElement(Cue,{ref:l,isShiftDown:T},hv.default.createElement(gue,{layoutP:i}),hv.default.createElement(_9,{thumbType:"start",layoutP:i}),hv.default.createElement(_9,{thumbType:"end",layoutP:i})),[i,E,T])},Tue=Mue}),hA,pv,QP,Pue,kue,Iue,Rue,ux=A(()=>{wi(),hA=Y(Rt()),Lt(),hue(),rf(),ws(),ERe(),pv=18,QP={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},kue=Ue.div(Pue||(Pue=J([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),pv,QP.backgroundColor,QP.borderColor,fs),Iue=({layoutP:i})=>{let l=vo(i.rightDims.width);return hA.default.createElement(hA.default.Fragment,null,hA.default.createElement(kue,F({},av("hide")),hA.default.createElement(fue,{layoutP:i,width:l,height:pv}),hA.default.createElement(Tue,{layoutP:i})))},Rue=Iue}),cx,Oue,Bue,Due,Lue,Nue,Fue,zue,Uue,ARe=A(()=>{cx=Y(Rt()),Lt(),wi(),Ze(),b6(),FS(),Oue=i=>isFinite(i)&&i>0,Due=Ue.div(Bue||(Bue=J([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),Nue=Ue.div(Lue||(Lue=J([`
  `,`;
  white-space: nowrap;
`])),h_),Fue=({deltaX:i})=>i*.25,zue=({layoutP:i})=>{let l=vo(i.sheet),u=(0,cx.useMemo)(()=>{let w;return{temporarilySetValue(E){w&&(w.discard(),w=void 0),w=xe().tempTransaction(({stateEditors:T})=>{T.coreByProject.historic.sheetsById.sequence.setLength(N(F({},l.address),{length:E}))})},discardTemporaryValue(){w&&(w.discard(),w=void 0)},permanentlySetValue(E){w&&(w.discard(),w=void 0),xe().transaction(({stateEditors:T})=>{T.coreByProject.historic.sheetsById.sequence.setLength(N(F({},l.address),{length:E}))})}}},[i,l]),m=(0,cx.useRef)(null);return(0,cx.useLayoutEffect)(()=>{m.current.focus()},[]),io(()=>{let w=l.getSequence().length;return cx.default.createElement(Due,null,cx.default.createElement(Nue,null,"Sequence length"),cx.default.createElement(AO,N(F({value:w},u),{isValid:Oue,inputRef:m,nudge:Fue})))},[l,u,m])},Uue=zue});function CRe(i,l){let u=(0,bp.useRef)(l);u.current=l;let m=(0,bp.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(E){let T,P=u.current,L=(0,dx.val)(u.current.layoutP.sheet),j=L.getSequence().length,K=(0,dx.val)(P.layoutP.scaledSpace.toUnitSpace);return{onDrag(Z,q,X){let ee=K(Z);T&&(T.discard(),T=void 0),T=xe().tempTransaction(({stateEditors:$})=>{$.coreByProject.historic.sheetsById.sequence.setLength(N(F({},L.address),{length:j+ee}))})},onDragEnd(Z){Z?T&&T.commit():T&&T.discard()}}}}),[]),[w]=Zl(i,m);return Ry(w,-1),[w]}var dx,bp,w9,qP,jue,k_,Hue,Gue,Vue,Wue,Xue,Kue,Yue,Que,que,Jue,Zue,MRe=A(()=>{wi(),dx=$n,bp=Y(Rt()),Lt(),Fy(),ux(),_s(),wc(),Ze(),$0(),rf(),GE(),ARe(),ws(),tv(),w9=1e3,qP={stripNormal:"#0000006c",stripActive:"#000000"},k_=Ue.div(jue||(jue=J([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>gv.lengthIndicatorStrip,pv,qP.stripNormal,qP.stripActive),Gue=Ue.div(Hue||(Hue=J([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),pv-15),Wue=Ue.div(Vue||(Vue=J([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),fs,k_,k_,qP.stripActive),Kue=Ue.div(Xue||(Xue=J([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),fs,k_,k_,qP.stripActive),Que=Ue.div(Yue||(Yue=J([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),w9,()=>gv.lengthIndicatorCover,k_,k_),que=-1e4,Jue=({layoutP:i})=>{let[l,u]=es(null),[m]=CRe(u,{layoutP:i}),{node:w,toggle:E,close:T}=Z0({debugName:"LengthIndicator"},()=>bp.default.createElement(ev,null,bp.default.createElement(Uue,{layoutP:i,onRequestClose:T})));return io(()=>{let P=(0,dx.val)(i.sheet),L=(0,dx.val)(i.rightDims.height),j=P.getSequence(),K=j.length,Z=K,q=(0,dx.val)(i.clippedSpace.fromUnitSpace)(Z),X=(0,dx.val)(i.clippedSpace.width),ee,$;return q>X?($=0,ee=0):(q<0&&(q=0),$=q,ee=(X-q)/w9),bp.default.createElement(bp.default.Fragment,null,w,bp.default.createElement(k_,{style:{height:L+"px",transform:"translateX(".concat($===0?que:$,"px)")},className:m?"dragging":""},bp.default.createElement(Gue,null,bp.default.createElement(Kue,F({ref:l,onClick:re=>{E(re,u)}},av("hide")),bp.default.createElement(gTe,null),bp.default.createElement(vTe,null)),bp.default.createElement(Wue,null,"Sequence length:"," ",j.positionFormatter.formatBasic(K)))),bp.default.createElement(Que,{title:"Length",style:{height:L+"px",transform:"translateX(".concat($,"px) scale(").concat(ee,", 1)")}}))},[i,l,m,w])},Zue=Jue}),S9,Ly,$ue,ece,tce,nce,rce,ice,oce,sce,TRe=A(()=>{wi(),S9=$n,Ly=Y(Rt()),Lt(),hue(),Fy(),ux(),rf(),ece=Ue.div($ue||($ue=J([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),nce=Ue.div(tce||(tce=J([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),M_.stampFontSize,M_.fullUnitStampColor,QP.backgroundColor,()=>gv.currentFrameStamp),ice=Ue.div(rce||(rce=J([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),oce=Ly.default.memo(({layoutP:i})=>{let[l,u]=vo(Hie()),m=vo(i.clippedSpace.fromUnitSpace),{sequence:w,formatter:E,clippedSpaceWidth:T}=io(()=>{let K=(0,S9.val)(i.sheet).getSequence(),Z=(0,S9.val)(i.clippedSpace.width);return{sequence:K,formatter:K.positionFormatter,clippedSpaceWidth:Z}},[i]);if(l==-1)return Ly.default.createElement(Ly.default.Fragment,null);let P=u===3?w.closestGridPosition(l):l,L=m(P),j=L>=0&&L<=T;return Ly.default.createElement(Ly.default.Fragment,null,Ly.default.createElement(ece,null,Ly.default.createElement(nce,{style:{opacity:j?1:0,transform:"translate3d(calc(".concat(L,"px - 50%), 0, 0)")}},E.formatForPlayhead(P)),Ly.default.createElement(ice,{posType:u,style:{opacity:j?1:0,transform:"translate3d(".concat(L,"px, 0, 0)")}}))," ")}),sce=oce}),s0,Fh,ace,lce,uce,cce,dce,yD,fce,x9,hce,_D,pce,wD,mce,b9,gce,vce,PRe=A(()=>{wi(),s0=$n,_3(),um(),Fh=Y(Rt()),Lt(),Fy(),rf(),ws(),wc(),lce=Ue.div(ace||(ace=J([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>gv.horizontalScrollbar,fs),cce=Ue.div(uce||(uce=J([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),yD=Ue.div(dce||(dce=J([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Mz("absolute","-4px")),x9=Ue.div(fce||(fce=J([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),Mz("absolute","0"),Mz("absolute","-4px")),_D=Ue(x9)(hce||(hce=J([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),wD=Ue(x9)(pce||(pce=J([`
  cursor: e-resize;
  left: 0px;
`]))),b9=Ue.div(mce||(mce=J([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),i=>i.active?"block":"none",_D,wD,yD,_D,yD,wD),gce=({layoutP:i})=>{let l=(0,Fh.useCallback)(re=>re.toFixed(2),[]),u=(0,Fh.useMemo)(()=>(0,s0.prism)(()=>{let re=(0,s0.val)(i.rightDims.width)-25,se=(0,s0.val)(i.clippedSpace.range),fe=(0,s0.val)(i.sheet).getSequence().length,ye=Math.max(se.end,fe),Oe=se.start/ye*re,Ie=se.end/ye*re;return{rightWidth:re,clippedSpaceRange:se,sequenceLength:fe,assumedLengthOfSequence:ye,rangeStartX:Oe,rangeEndX:Ie,bottom:(0,s0.val)(i.horizontalScrollbarDims.bottom)}}),[i]),{rangeStartX:m,rangeEndX:w,clippedSpaceRange:E,bottom:T}=vo(u),[P,L]=(0,Fh.useState)("nothing"),j=(0,Fh.useMemo)(()=>{let re=(0,s0.val)(u),se=()=>{re=(0,s0.val)(u)},fe=ye=>ye/re.rightWidth*re.assumedLengthOfSequence;return{onRangeDragStart(){return se(),{onDrag(ye){L("both");let Oe=fe(ye),Ie=dy(re.clippedSpaceRange,je=>je+Oe);(0,s0.val)(i.clippedSpace.setRange)(Ie)},onDragEnd(){L("nothing")}}},onRangeStartDragStart(){return se(),{onDrag(ye){L("start");let Oe=fe(ye),Ie={start:re.clippedSpaceRange.start+Oe,end:re.clippedSpaceRange.end};Ie.start>Ie.end-1&&(Ie.start=Ie.end-1),Ie.start<=0&&(Ie.start=0),(0,s0.val)(i.clippedSpace.setRange)(Ie)},onDragEnd(){L("nothing")}}},onRangeEndDragStart(){return se(),{onDrag(ye){L("end");let Oe=fe(ye),Ie={start:re.clippedSpaceRange.start,end:re.clippedSpaceRange.end+Oe};Ie.end<Ie.start+1&&(Ie.end=Ie.start+1),Ie.end>=re.assumedLengthOfSequence&&(Ie.end=re.assumedLengthOfSequence),(0,s0.val)(i.clippedSpace.setRange)(Ie)},onDragEnd(){L("nothing")}}}}},[i,u]),[K,Z]=(0,Fh.useState)(null);Zl(K,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:j.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[q,X]=(0,Fh.useState)(null);Zl(q,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:j.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[ee,$]=(0,Fh.useState)(null);return Zl(ee,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:j.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),Fh.default.createElement(lce,F({style:{bottom:T+8+"px"}},av("hide")),Fh.default.createElement(cce,null,Fh.default.createElement(yD,{ref:Z,style:{width:"".concat(w-m,"px"),transform:"translate3d(".concat(m,"px, 0, 0)")}}),Fh.default.createElement(_D,{ref:X,style:{transform:"translate3d(".concat(m,"px, 0, 0)")}},Fh.default.createElement(b9,{active:P==="both"||P==="start"},l(E.start))),Fh.default.createElement(wD,{ref:$,style:{transform:"translate3d(".concat(w,"px, 0, 0)")}},Fh.default.createElement(b9,{active:P==="both"||P==="end"},l(E.end)))))},vce=gce}),yce,_ce,wce,Sce,xce,kRe=A(()=>{yce=Y(Rt()),Lt(),wce=Ue.div(_ce||(_ce=J([`
  position: absolute;
  inset: `,`px;
`])),i=>i.room*-1),Sce=i=>yce.default.createElement(wce,{room:i.room}),xce=Sce}),SD,xD,E9,bce,Ece,Ace,Cce,Mce,Tce,Pce,kce,IRe=A(()=>{Lt(),wi(),b6(),FS(),SD=Y(Rt()),xD=Y(Rt()),E9=$n,dr(),bce=i=>isFinite(i)&&i>=0,Ace=Ue.div(Ece||(Ece=J([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),Mce=Ue.div(Cce||(Cce=J([`
  `,`;
  white-space: nowrap;
`])),h_),Tce=({deltaX:i})=>i*.25,Pce=({layoutP:i,onRequestClose:l})=>{let u=(0,E9.val)(i.sheet),m=u.getSequence(),w=(0,SD.useMemo)(()=>{let T,P=m.position;return{temporarilySetValue(L){T&&(T=void 0),T=kn(L,0,m.length),m.position=T},discardTemporaryValue(){T&&(T=void 0,m.position=P,l("discardTemporaryValue"))},permanentlySetValue(L){T&&(T=void 0),m.position=kn(L,0,m.length),l("permanentlySetValue")}}},[i,m]),E=(0,SD.useRef)(null);return(0,SD.useLayoutEffect)(()=>{E.current.focus()},[]),io(()=>{let T=u.getSequence(),P=Number((0,E9.val)(T.pointer.position).toFixed(3));return xD.default.createElement(Ace,null,xD.default.createElement(Mce,null,"Sequence position"),xD.default.createElement(AO,N(F({value:P},w),{isValid:bce,inputRef:E,nudge:Tce})))},[u,w,E])},kce=Pce}),Ice,RRe=A(()=>{Ice=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),Rce,ORe=A(()=>{RRe(),Rce=i=>Ice?i.metaKey===!0:i.ctrlKey===!0});function BRe(){bD=!1}function DRe(){bD=!0}function LRe(){let i=xe();(0,Oce.useEffect)(()=>{let l=u=>{let m=u.composedPath()[0];if(!(m&&(m.tagName==="INPUT"||m.tagName==="TEXTAREA"))){if(u.key==="z"||u.key==="Z"||u.code==="KeyZ")if(Rce(u))u.shiftKey===!0?i.redo():i.undo();else return;else if(u.code==="Space"&&!u.shiftKey&&!u.metaKey&&!u.altKey&&!u.ctrlKey){if(!bD)return;let w=zMe();if(w)if(w.playing)w.pause();else{let{projectId:E,sheetId:T}=w.address,P=(0,a0.prism)(()=>{let K=(0,a0.val)(xe().atomP.ahistoric.projects.stateByProjectId[E].stateBySheetId[T].sequence.focusRange);return a0.prism.memo("shouldFollowFocusRange",()=>{let Z=w.position;if(K){let q=Z>=K.range.start&&Z<=K.range.end;return K.enabled?!!q:!0}else return!0},[])&&K&&K.enabled?{range:[K.range.start,K.range.end],isFollowingARange:!0}:{range:[0,(0,a0.val)(w.pointer.length)],isFollowingARange:!1}}),L=w.playDynamicRange((0,a0.prism)(()=>(0,a0.val)(P).range),xe().ticker),j=A9(w);L.finally(()=>{j.set(void 0)}),j.set(P)}else return}else if(u.altKey&&(u.key==="\\"||u.code==="Backslash"||u.code==="IntlBackslash"))i.transaction(({stateEditors:w,drafts:E})=>{w.studio.ahistoric.setVisibilityState(E.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;u.preventDefault(),u.stopPropagation()}};return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[])}var Oce,a0,bD,A9,Bce,C9=A(()=>{Oce=Y(Rt()),Ze(),ORe(),l_(),a0=$n,GO(),bD=!0,A9=rP(i=>new a0.Atom(void 0)),Bce=rP(i=>(0,a0.prism)(()=>{let l=A9(i).prism.getValue();if(l)return l.getValue().isFollowingARange;{let{projectId:u,sheetId:m}=i.address,w=(0,a0.val)(xe().atomP.ahistoric.projects.stateByProjectId[u].stateBySheetId[m].sequence.focusRange);if(!w||!w.enabled)return!1;let E=(0,a0.val)(i.pointer.position);return E>=w.range.start&&E<=w.range.end}}))});function NRe(i,l){return Oh(i,{menuItems(){return[{label:"Place marker",callback:()=>{xe().transaction(({stateEditors:u})=>{let m=(0,mv.val)(l.layoutP.sheet),w=m.getSequence();u.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:m.address,markers:[{id:bPe(),position:w.position}],snappingFunction:w.closestGridPosition})})}}]}})}var mv,ng,Dce,fx,Lce,Nce,Fce,M9,zce,Uce,jce,Hce,Gce,Vce,FRe=A(()=>{kRe(),wc(),_s(),wi(),mv=$n,dr(),ng=Y(Rt()),Lt(),Fy(),rf(),ws(),$0(),tv(),IRe(),C9(),cm(),Bh(),Ze(),Ty(),o0(),KS(),fx=Ue.div(Dce||(Dce=J([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>gv.playhead,i=>i.isVisible?"block":"none"),Nce=Ue.div(Lce||(Lce=J([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),by),M9=Ue.div(Fce||(Fce=J([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),fs,fx,fx,by,fx),Uce=Ue.div(zce||(zce=J([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),fx),Hce=Ue.div(jce||(jce=J([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),M9,fx),Gce=({layoutP:i})=>{let[l,u]=es(null),{node:m,toggle:w,close:E}=Z0({debugName:"Playhead"},()=>ng.default.createElement(ev,null,ng.default.createElement(kce,{layoutP:i,onRequestClose:E}))),T=(0,ng.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let j=(0,mv.val)(i.sheet).getSequence(),K=j.position,Z=(0,mv.val)(i.scaledSpace.toUnitSpace),q=(0,mv.val)(i.seeker.setIsSeeking);return q(!0),cU(),{onDrag(X,ee,$){var re;let se=Z(X);j.position=(re=Dh.checkIfMouseEventSnapToPos($,{ignore:u}))!=null?re:kn(K+se,0,j.length)},onDragEnd(X){q(!1),XS()},onClick(X){w(X,l.current)}}}}),[i,u]),[P]=Zl(u,T);Qm(P,"draggingPositionInSequenceEditor","ew-resize"),Ry(vo(i.seeker.isSeeking)||P,-1);let[L]=NRe(u,{layoutP:i});return io(()=>{let j=(0,mv.val)(i.seeker.isSeeking),K=(0,mv.val)(i.sheet).getSequence(),Z=(0,mv.val)(Bce(K)),q=K.positionPrism.getValue(),X=(0,mv.val)(i.clippedSpace.fromUnitSpace)(q),ee=X>=0&&X<=(0,mv.val)(i.clippedSpace.width);return ng.default.createElement(ng.default.Fragment,null,L,m,ng.default.createElement(fx,F({isVisible:ee,style:{transform:"translate3d(".concat(X,"px, 0, 0)")},className:"".concat(j&&"seeking"," ").concat(Z&&"playheadattachedtofocusrange")},av("hide")),ng.default.createElement(M9,F({ref:l},Dh.includePositionSnapAttrs(q)),ng.default.createElement(xce,{room:8}),ng.default.createElement(Uce,null),ng.default.createElement(Hce,null,K.positionFormatter.formatForPlayhead(K.closestGridPosition(q)))),ng.default.createElement(Nce,N(F({},Dh.includePositionSnapAttrs(q)),{className:j?"seeking":""}))))},[i,l,m])},Vce=Gce}),hx,JP,ED,Wce,Xce,Kce,Yce,zRe=A(()=>{hx=$n,wi(),Ze(),ux(),JP=Y(Rt()),Lt(),ED=1e3,Xce=Ue.div(Wce||(Wce=J([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),pv,ED,i=>i.enabled?"#000000":"transparent"),Kce=({layoutP:i})=>{let l=(0,JP.useMemo)(()=>(0,hx.prism)(()=>{let{projectId:u,sheetId:m}=(0,hx.val)(i.sheet).address;return(0,hx.val)(xe().atomP.ahistoric.projects.stateByProjectId[u].stateBySheetId[m].sequence.focusRange)}),[i]);return io(()=>{let u=l.getValue();if(!u||!u.enabled)return null;let m=(0,hx.val)(i.rightDims.height)-pv,w=(0,hx.val)(i.clippedSpace.fromUnitSpace),E=(0,hx.val)(i.clippedSpace.width),T=[];{let P=0,L=w(u.range.start),j,K;P>L?(K=0,j=0):(L>E&&(L=E),K=P,j=(L-P)/ED),T.push({translateX:K,scaleX:j})}{let P=w(u.range.end),L=E,j,K;P>L?(K=0,j=0):(P<0&&(P=0),K=P,j=(L-P)/ED),T.push({translateX:K,scaleX:j})}return JP.default.createElement(JP.default.Fragment,null,T.map(({translateX:P,scaleX:L},j)=>JP.default.createElement(Xce,{key:"curtain-".concat(j),enabled:!0,style:{height:"".concat(m,"px"),transform:"translateX(".concat(P,"px) scaleX(").concat(L,")")}})))},[i,l])},Yce=Kce}),pA,Qce,qce,Jce,Zce,$ce,URe=A(()=>{pA=Y(Rt()),Lt(),wi(),Ze(),FS(),k6(),qce=Ue.div(Qce||(Qce=J([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),Ue.div(Jce||(Jce=J([`
  `,`;
  white-space: nowrap;
`])),h_),Zce=({layoutP:i,marker:l})=>{var u;let m=vo(i.sheet),w=(0,pA.useMemo)(()=>{let T;return{temporarilySetValue(P){T&&(T.discard(),T=void 0),T=xe().tempTransaction(({stateEditors:L})=>{L.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:m.address,markerId:l.id,label:P})})},discardTemporaryValue(){T&&(T.discard(),T=void 0)},permanentlySetValue(P){T&&(T.discard(),T=void 0),xe().transaction(({stateEditors:L})=>{L.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:m.address,markerId:l.id,label:P})})}}},[i,m]),E=(0,pA.useRef)(null);return(0,pA.useLayoutEffect)(()=>{E.current.focus()},[]),pA.default.createElement(qce,null,pA.default.createElement(MO,N(F({value:(u=l.label)!=null?u:""},w),{isValid:()=>!0,inputRef:E})))},$ce=Zce});function jRe(i,l){return Oh(i,{menuItems(){return[{label:"Remove marker",callback:()=>{xe().transaction(({stateEditors:u})=>{u.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:l.sheetAddress,markerId:l.markerId})})}}]}})}function HRe(i,l){let u=(0,zh.useRef)(l);u.current=l;let m=(0,zh.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(l.marker.id,")"),onDragStart(E){let T=u.current.marker,P=(0,AD.val)(l.layoutP.scaledSpace.toUnitSpace),L;return cU(),{onDrag(j,K,Z){var q;let X=T,ee=Math.max((q=Dh.checkIfMouseEventSnapToPos(Z,{ignore:i}))!=null?q:X.position+P(j),0);L==null||L.discard(),L=xe().tempTransaction(({stateEditors:$})=>{$.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,AD.val)(l.layoutP.sheet.address),markers:[N(F({},X),{position:ee})],snappingFunction:(0,AD.val)(l.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(j){j?L==null||L.commit():L==null||L.discard(),XS()}}}}),[]),[w]=Zl(i,m);return Ry(w,l.marker.position),Qm(w,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[w]}var AD,zh,T9,P9,ede,tde,nde,rde,ide,CD,ode,sde,ade,lde,ude,cde,GRe=A(()=>{AD=$n,wi(),Ze(),cm(),Bh(),_s(),zh=Y(Rt()),Lt(),rf(),wc(),Fy(),o0(),IB(),Qie(),KS(),$0(),tv(),URe(),T9=12,P9=12,ede=T9*2,tde=P9*2,rde=Ue.div(nde||(nde=J([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>gv.marker),CD=Ue.div(ide||(ide=J([`
  position: absolute;
  `,`
  pointer-events: none;
`])),Zm(T9,P9)),ode=zh.default.memo(()=>zh.default.createElement(CD,{children:zh.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},zh.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),ade=Ue.div(sde||(sde=J([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),lv.CSS,lv.CSS_WHEN_SOMETHING_DRAGGING,lv.BEING_DRAGGED_CLASS,by,CD,lv.BEING_DRAGGED_CLASS,CD,Zm(ede,tde)),lde=({layoutP:i,markerId:l})=>{let u=vo(i.sheet.address),m=vo(xe().atomP.historic.projects.stateByProjectId[u.projectId].stateBySheetId[u.sheetId].sequenceEditor.markerSet.byId[l]);if(!m)return null;let w=vo(i.clippedSpace.width),E=vo(i.clippedSpace.fromUnitSpace)(m.position),T=E<=0||E>w,P=T?-1e4:E,L=T?0:1;return zh.default.createElement(rde,{style:{transform:"translateX(".concat(P,"px) scale(").concat(L,")")}},zh.default.createElement(cde,{marker:m,layoutP:i}))},ude=lde,cde=({layoutP:i,marker:l})=>{let u=vo(i.sheet.address),[m,w]=es(null),[E]=jRe(w,{sheetAddress:u,markerId:l.id}),[T]=HRe(w,{layoutP:i,marker:l}),{node:P,toggle:L,close:j}=Z0({debugName:"MarkerPopover"},()=>zh.default.createElement(ev,null,zh.default.createElement($ce,{marker:l,layoutP:i,onRequestClose:j})));return zh.default.createElement(zh.default.Fragment,null,E,P,zh.default.createElement(ade,F({title:l.label?"Marker: ".concat(l.label):"Marker",ref:m,onClick:K=>{L(K,m.current)}},lv.reactProps({isDragging:T,position:l.position}))),zh.default.createElement(ode,null))}}),MD,dde,fde,VRe=A(()=>{wi(),Ze(),MD=Y(Rt()),GRe(),dde=({layoutP:i})=>{let l=vo(i.sheet.address),u=xe().atomP.historic.projects.stateByProjectId[l.projectId].stateBySheetId[l.sheetId].sequenceEditor.markerSet,m=vo(u.allIds);return MD.default.createElement(MD.default.Fragment,null,m&&Object.keys(m).map(w=>MD.default.createElement(ude,{key:w,layoutP:i,markerId:w})))},fde=dde}),hde,Ny,pde,mde,gde,vde,WRe=A(()=>{Fy(),wi(),hde=$n,Ny=Y(Rt()),Lt(),MRe(),TRe(),PRe(),FRe(),ux(),zRe(),VRe(),mde=Ue.div(pde||(pde=J([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>gv.rightOverlay),gde=({layoutP:i})=>io(()=>{let l=(0,hde.val)(i.rightDims.width);return Ny.default.createElement(mde,{style:{width:l+"px"}},Ny.default.createElement(Vce,{layoutP:i}),Ny.default.createElement(vce,{layoutP:i}),Ny.default.createElement(sce,{layoutP:i}),Ny.default.createElement(Rue,{layoutP:i}),Ny.default.createElement(fde,{layoutP:i}),Ny.default.createElement(Zue,{layoutP:i}),Ny.default.createElement(Yce,{layoutP:i}))},[i]),vde=gde}),yde,TD,_de,wde,Sde,xde,XRe=A(()=>{yde=$n,wi(),Ze(),TD=Y(Rt()),Lt(),GE(),rf(),wde=Ue.button(_de||(_de=J([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),Sde=({layoutP:i})=>{let l=vo(i.graphEditorDims.isOpen),u=(0,TD.useCallback)(()=>{let m=(0,yde.val)(i.graphEditorDims.isOpen);xe().transaction(({stateEditors:w})=>{w.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!m})})},[i]);return TD.default.createElement(wde,F({onClick:u,title:"Toggle graph editor",className:l?"open":""},av("hide")),TD.default.createElement(BTe,null))},xde=Sde}),l0,vl,bde,Ede,Ade,Cde,gv,Mde,Tde,Pde,kde,Ide,Rde,Ode,Bde,Dde,Fy=A(()=>{l_(),wi(),iie(),l0=$n,vl=Y(Rt()),Lt(),aRe(),hD(),vRe(),WRe(),nA(),ure(),Fre(),rf(),an(),Ya(),XRe(),Sy(),US(),Ede=Ue(Q8)(bde||(bde=J([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),DE.sequenceEditorPanel),Cde=Ue.div(Ade||(Ade=J([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),gv=(()=>{let i={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},l=-1;for(let u of Object.keys(i))i[u]=l,l++;return i})(),Tde=Ue(G8)(Mde||(Mde=J([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),Pde={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},kde={width:800,height:200},Ide=i=>vl.default.createElement(H8,{panelId:"sequenceEditor",defaultPosition:Pde,minDims:kde},vl.default.createElement(Rde,null)),Rde=()=>{let{dims:i}=tA(),[l,u]=(0,vl.useState)(null);return A2(l),io(()=>{let m=l0.prism.memo("panelSize",()=>{let q=i.width,X=i.height;return{width:q,height:X,widthWithoutBorder:q-2,heightWithoutBorder:X-4,screenX:i.left,screenY:i.top}},[i]),w=Wf(a_().filter(q=>qe(q)||wt(q)).map(q=>wt(q)?q.sheet:q));if(Wf(w.map(q=>q.template)).length!==1)return vl.default.createElement(vl.default.Fragment,null);let E=w[0];if(!E)return vl.default.createElement(vl.default.Fragment,null);let T=J8("panelSizeP",m).pointer,P=l0.prism.memo("key",()=>JSON.stringify(E.address),[E]),L=l0.prism.memo("layout",()=>gRe(E,T),[E,T]).getValue();if((0,l0.val)(L.tree.children).length===0)return vl.default.createElement(vl.default.Fragment,null);let j=l0.prism.memo("containerRef",Dde,[]),K=(0,l0.val)(L.graphEditorDims.isAvailable),Z=(0,l0.val)(L.graphEditorDims.isOpen);return vl.default.createElement(Ede,{ref:q=>{j(q),q!==l&&u(q)}},vl.default.createElement(Cde,{style:{width:"".concat((0,l0.val)(L.leftDims.width),"px")}}),vl.default.createElement(Wie,{layoutP:L},vl.default.createElement(Ode,{layoutP:L}),vl.default.createElement(Jle,{key:P+"-dopeSheet",layoutP:L}),Z&&vl.default.createElement(_le,{key:P+"-graphEditor",layoutP:L}),K&&vl.default.createElement(xde,{layoutP:L}),vl.default.createElement(vde,{layoutP:L})))},[i,l])},Ode=({layoutP:i})=>io(()=>{let l=(0,l0.val)(i.sheet);return vl.default.createElement(Tde,{style:{width:(0,l0.val)(i.leftDims.width)}},vl.default.createElement(qz,null,vl.default.createElement(s_,null,l.address.sheetId," "),vl.default.createElement(GT,null,":",""),vl.default.createElement(s_,null,l.address.sheetInstanceId," "),vl.default.createElement(GT,null,"",">",""),vl.default.createElement(s_,null,"Sequence")))},[i]),Bde=Ide,Dde=()=>{let i=null,l={passive:!1,capture:!1},u=m=>{Math.abs(m.deltaY)<Math.abs(m.deltaX)&&(m.preventDefault(),m.stopPropagation())};return m=>{i!==m&&i&&i.removeEventListener("wheel",u,l),i=m,m&&m.addEventListener("wheel",u,l)}}}),px,Lde,Nde,KRe=A(()=>{QMe(),z8(),px=Y(Rt()),Ze(),wi(),uke(),Fy(),Lde=()=>{let i=vo(xe().paneManager.allPanesD),l=Object.entries(i).map(([u,m])=>px.default.createElement(rie,{key:"pane-".concat(u),paneInstance:m}));return px.default.createElement(px.default.Fragment,null,l,px.default.createElement(Xq,null),px.default.createElement(ire,null),px.default.createElement(Bde,null))},Nde=Lde}),Fde,zde,Ude,YRe=A(()=>{Lt(),uB(),zde=Ue(ZE)(Fde||(Fde=J([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),Ude=zde}),QRe=G((i,l)=>{var u,m;u=[],m=[];function w(E,T,P){var L,j,K,Z,q,X,ee,$;if(E===T)return 0;if(L=E.length,j=T.length,L===0)return j;if(j===0)return L;for(P&&(E=E.toLowerCase(),T=T.toLowerCase()),ee=0;ee<L;)m[ee]=E.charCodeAt(ee),u[ee]=++ee;for($=0;$<j;)for(K=T.charCodeAt($),Z=q=$++,ee=-1;++ee<L;)X=K===m[ee]?q:q+1,q=u[ee],u[ee]=Z=q>Z?X>Z?Z+1:X:X>q?q+1:X;return Z}l.exports=w}),qRe=G((i,l)=>{var u=QRe();function m(){var w,E,T,P,L,j=0,K=arguments[0],Z=arguments[1],q=Z.length,X=arguments[2];X&&(P=X.threshold,L=X.ignoreCase),P===void 0&&(P=0);for(var ee=0;ee<q;++ee)L?E=u(K,Z[ee],!0):E=u(K,Z[ee]),E>K.length?w=1-E/Z[ee].length:w=1-E/K.length,w>j&&(j=w,T=Z[ee]);return j>=P?T:null}l.exports=m});function JRe(i,l,u="Did you mean ",m="?"){let w=(0,jde.default)(i,l,{threshold:.7});return w?u+JSON.stringify(w)+m:""}var jde,ZRe=A(()=>{jde=Y(qRe())});function Hde(i,l){return i.length<=l?i:i.substr(0,l-3)+"..."}var $Re=A(()=>{}),Gde,k9,Vde=A(()=>{$Re(),Gde=i=>typeof i=="string"?'string("'.concat(Hde(i,10),'")'):typeof i=="number"?"number(".concat(Hde(String(i),10),")"):i===null?"null":i===void 0?"undefined":typeof i=="boolean"?String(i):Array.isArray(i)?"array":typeof i=="object"?"object":"unknown",k9=Gde}),Wde,Xde,I9,Kde=A(()=>{Lt(),DS(),Xde=Ue(TQ)(Wde||(Wde=J([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),I9=Xde}),mA,Yde,Qde,qde,gA,ZP=A(()=>{Lt(),ws(),mA=Y(Rt()),wP(),bO(),ine(),Kde(),Qde=Ue.button(Yde||(Yde=J([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),fs,I9),qde=mA.default.forwardRef((i,l)=>{var u=i,{title:m}=u,w=D(u,["title"]);let[E,T]=JE({enabled:typeof m=="string"},()=>mA.default.createElement(k8,null,m));return mA.default.createElement(mA.default.Fragment,null,E,mA.default.createElement(Qde,F({ref:xO([T,l])},w))," ")}),gA=qde}),Jde,Zde,$de,efe,tfe,e3e=A(()=>{Jde=Y(Rt()),ZP(),Lt(),ws(),$de=Ue(gA)(Zde||(Zde=J([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),fs),efe=({config:i,testId:l})=>{var u;return Jde.default.createElement($de,{onClick:i.onClick,"data-testid":l,title:i.title,dangerouslySetInnerHTML:{__html:(u=i.svgSource)!=null?u:""}})},tfe=efe});function t3e({value:i,label:l,icon:u,onClick:m,isSelected:w}){return vA.default.createElement(vA.default.Fragment,null,vA.default.createElement(gA,{forwardedAs:AQ,className:w?"selected":void 0,"aria-label":l,onClick:m,title:l},u))}var vA,nfe,rfe,n3e=A(()=>{vA=Y(Rt()),DS(),ZP(),Kde(),nfe=({value:i,onChange:l,options:u})=>vA.default.createElement(I9,null,u.map(({label:m,icon:w,value:E})=>vA.default.createElement(t3e,{key:E,value:E,isSelected:i===E,label:m,icon:w,onClick:()=>l(E)}))),rfe=nfe}),R9,ife,ofe,sfe,afe,r3e=A(()=>{R9=Y(Rt()),Lt(),ws(),n3e(),ofe=Ue.div(ife||(ife=J([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),fs),sfe=({config:i})=>R9.default.createElement(rfe,{onChange:i.onChange,options:i.options.map(({label:l,value:u,svgSource:m})=>({label:l,value:u,icon:R9.default.createElement(ofe,{dangerouslySetInnerHTML:{__html:m}})})),value:i.value}),afe=sfe}),$P,lfe,ufe,cfe,dfe,i3e=A(()=>{$P=Y(Rt()),Lt(),ws(),ZP(),m2(),$0(),ufe=Ue.div(lfe||(lfe=J([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),fs),cfe=({config:i})=>{let l=(0,$P.useRef)(null),u=Z0(()=>{let m=l.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+i.label,constraints:{maxX:m.right,maxY:8,minX:m.left,minY:8},verticalGap:2}},()=>$P.default.createElement(o8,{items:i.items.map((m,w)=>({label:m.label,callback:()=>{var E;try{(E=m.onClick)==null||E.call(m)}catch(T){console.error(T)}}})),onRequestClose:()=>{u.close("clicked")}}));return $P.default.createElement(ufe,null,u.node,$P.default.createElement(gA,{ref:l,onClick:m=>{u.open(m,l.current)}},i.label))},dfe=cfe});function o3e(i){return O9[i]}var ek,ffe,O9,hfe,pfe,s3e=A(()=>{ZRe(),Vde(),ek=Y(Rt()),e3e(),r3e(),i3e(),ffe=i=>ek.default.createElement(ek.default.Fragment,null,i.config.map((l,u)=>ek.default.createElement(hfe,{config:l,key:u}))),O9={Icon:tfe,Switch:afe,Flyout:dfe},hfe=({config:i})=>{let l=o3e(i.type);if(!l)throw new Error("No tool with tool.type ".concat(k9(i.type)," exists. Did you mean ").concat(JRe(i.type,Object.keys(O9))));return ek.default.createElement(l,{config:i})},pfe=ffe}),mfe,vv,gfe,vfe,yfe,B9,_fe,wfe,D9,Sfe=A(()=>{mfe=$n,wi(),Ze(),vv=Y(Rt()),Lt(),s3e(),vfe=Ue.div(gfe||(gfe=J([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),B9=Ue.div(yfe||(yfe=J([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),_fe=({extension:i,toolbarId:l})=>{var u;let m=(0,vv.useMemo)(()=>new mfe.Atom([]),[]),w=(u=i.toolbars)==null?void 0:u[l];(0,vv.useLayoutEffect)(()=>{let T=w==null?void 0:w(m.set.bind(m),xe().publicApi);if(typeof T=="function")return T},[i,l,w]);let E=vo(m.prism);return vv.default.createElement(pfe,{config:E})},wfe=({toolbarId:i,showLeftDivider:l})=>{var u;let m=[],w=vo(xe().atomP.ephemeral.extensions.byId),E=!1;for(let[,T]of Object.entries(w))!T||!((u=T.toolbars)!=null&&u[i])||(m.push(vv.default.createElement(vv.default.Fragment,{key:"extensionToolbar-"+T.id},E?vv.default.createElement(B9,null):void 0,vv.default.createElement(_fe,{extension:T,toolbarId:i}))),E=!0);return m.length===0?null:vv.default.createElement(vfe,{"data-testid":"theatre-extensionToolbar-".concat(i)},l?vv.default.createElement(B9,null):void 0,m)},D9=wfe}),tk,xfe,bfe,Efe,PD,a3e=A(()=>{Lt(),tk=Y(Rt()),ZP(),bfe=Ue(gA)(xfe||(xfe=J([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:i})=>i?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:i})=>i?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),Efe=(0,tk.forwardRef)((i,l)=>{var u=i,{children:m,hint:w,pinned:E,icon:T,pinHintIcon:P,unpinHintIcon:L}=u,j=D(u,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[K,Z]=(0,tk.useState)(!1),q=K||w;return tk.default.createElement(bfe,N(F({},j),{pinned:E,ref:l,onMouseOver:()=>Z(!0),onMouseOut:()=>Z(!1)}),tk.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},q&&!E?P:q&&E?L:T),m)}),PD=Efe});function l3e(i){return L9.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),L9.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var L9,N9,u3e=A(()=>{L9=Y(Rt()),N9=l3e});function c3e(i){return F9.createElement("svg",F({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),F9.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var F9,z9,d3e=A(()=>{F9=Y(Rt()),z9=c3e}),xc,Afe,Cfe,Mfe,U9,Tfe,I_,Pfe,kfe,Ife,Rfe,Ofe,Bfe,Dfe,Lfe,Nfe,kD,Ffe,zfe,j9,H9,Ufe,jfe,f3e=A(()=>{wi(),Ze(),xc=Y(Rt()),Lt(),Cfe=Ue.div(Afe||(Afe=J([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),U9=Ue.div(Mfe||(Mfe=J([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),I_=Ue(U9)(Tfe||(Tfe=J([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),kfe=Ue(U9)(Pfe||(Pfe=J([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),Rfe=Ue.div(Ife||(Ife=J([`
  font-weight: 600;
`]))),Bfe=Ue.div(Ofe||(Ofe=J([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),Lfe=Ue.div(Dfe||(Dfe=J([`
  margin-left: 2px;
`]))),kD=Ue.div(Nfe||(Nfe=J([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),zfe=Ue.div(Ffe||(Ffe=J([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),j9="0.7.0",H9=j9.match(/^[^\-]+/)[0],Ufe=xc.default.forwardRef((i,l)=>{let u=vo(xe().atomP.ahistoric.updateChecker.result.hasUpdates);return xc.default.createElement(Cfe,{ref:l},xc.default.createElement(I_,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),xc.default.createElement(I_,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),xc.default.createElement(kD,null),xc.default.createElement(I_,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),xc.default.createElement(I_,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),xc.default.createElement(I_,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),xc.default.createElement(kD,null),xc.default.createElement(kfe,null,xc.default.createElement(Rfe,null,"Version"),xc.default.createElement(Bfe,null,xc.default.createElement(Lfe,null,j9," ",u===!0?"(outdated)":u===!1?"(latest)":""))),u===!0&&xc.default.createElement(xc.default.Fragment,null,xc.default.createElement(kD,null),xc.default.createElement(I_,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(H9)),className:"",target:"_blank"},"Update",xc.default.createElement(zfe,null)),xc.default.createElement(I_,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(H9)),className:"",target:"_blank"},"What's new?")))}),jfe=Ufe}),oa,Hfe,Gfe,Vfe,Wfe,Xfe,Kfe,G9,Yfe,V9,Qfe,W9,qfe,Jfe,h3e=A(()=>{wi(),Ze(),oa=Y(Rt()),Lt(),wP(),YRe(),uB(),Hfe=$n,Sfe(),a3e(),VT(),u3e(),d3e(),ZP(),$0(),f3e(),PP(),Vfe=Ue.div(Gfe||(Gfe=J([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),Xfe=Ue.div(Wfe||(Wfe=J([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),G9=Ue.div(Kfe||(Kfe=J([`
  display: flex;
  gap: 8px;
`]))),V9=Ue.div(Yfe||(Yfe=J([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:i})=>i==="info"?"#40aaa4":"#f59e0b"),Ue.div(Qfe||(Qfe=J([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),W9=!1,qfe=()=>{var i,l,u;let m=io(()=>{let $=(0,Hfe.val)(xe().atomP.ephemeral.coreByProject);return Object.entries($).map(([re,se])=>({projectId:re,state:se})).filter(({state:re})=>re.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[w,E]=JE({enabled:m.length>0,enterDelay:m.length>0?0:200},()=>m.length>0?oa.default.createElement(Ude,null,m.length===1?'There is a state conflict in project "'.concat(m[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(m.length," projects that have state conflicts. They are highlighted in the outline below. ")):oa.default.createElement(ZE,null,oa.default.createElement(oa.default.Fragment,null,"Outline"))),T=(i=vo(xe().atomP.ahistoric.pinOutline))!=null?i:!0,P=(l=vo(xe().atomP.ahistoric.pinDetails))!=null?l:!0,L=vo(xe().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,j=Z0(()=>{let $=K.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:$.right,maxY:8,minX:$.left-140,minY:8},verticalGap:2}},()=>oa.default.createElement(jfe,null)),K=(0,oa.useRef)(null),Z=(0,oa.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(W9||(W9=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),L||window.__IS_VISUAL_REGRESSION_TESTING?!0:L),[L]),{hasNotifications:q}=O8(),[X,ee]=Cne();return oa.default.createElement(Vfe,null,oa.default.createElement(G9,null,w,oa.default.createElement(PD,{ref:E,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{xe().transaction(({stateEditors:$,drafts:re})=>{var se;$.studio.ahistoric.setPinOutline(!((se=re.ahistoric.pinOutline)==null||se))})},icon:oa.default.createElement(Zz,null),pinHintIcon:oa.default.createElement(z9,null),unpinHintIcon:oa.default.createElement(N9,null),pinned:T}),m.length>0?oa.default.createElement(Xfe,null,m.length):null,oa.default.createElement(D9,{showLeftDivider:!0,toolbarId:"global"})),oa.default.createElement(G9,null,X,oa.default.createElement(PD,{ref:ee,onClick:()=>{xe().transaction(({stateEditors:$,drafts:re})=>{var se;$.studio.ahistoric.setPinNotifications(!((se=re.ahistoric.pinNotifications)!=null&&se))})},icon:oa.default.createElement(vO,null),pinHintIcon:oa.default.createElement(vO,null),unpinHintIcon:oa.default.createElement(vO,null),pinned:(u=vo(xe().atomP.ahistoric.pinNotifications))!=null?u:!1},q&&oa.default.createElement(V9,{type:"warning"})),j.node,oa.default.createElement(gA,{ref:K,onClick:$=>{j.toggle($,K.current)}},oa.default.createElement(WQ,null),Z&&oa.default.createElement(V9,{type:"info"})),oa.default.createElement(PD,{ref:E,onClick:()=>{xe().transaction(({stateEditors:$,drafts:re})=>{var se;$.studio.ahistoric.setPinDetails(!((se=re.ahistoric.pinDetails)==null||se))})},icon:oa.default.createElement(VQ,null),pinHintIcon:oa.default.createElement(N9,null),unpinHintIcon:oa.default.createElement(z9,null),pinned:P})))},Jfe=qfe}),Zfe,nk,$fe,rk,ehe,the,nhe,rhe,ihe=A(()=>{Zfe=$n,wi(),nk=Y(Rt()),$fe=Y(Gg()),rk=new Zfe.Atom({set:{},byId:{}}),ehe=1,the=()=>{let i=ehe++;function l(m,w,E){rk.reduce(T=>({byId:N(F({},T.byId),{[i]:{comp:m,props:w,portalNode:E}}),set:N(F({},T.set),{[i]:!0})}))}function u(){rk.reduce(m=>{let w=F({},m.set),E=F({},m.byId);return delete w[i],{byId:E,set:w}})}return{mountOrRender:l,unmount:u}},nhe=()=>{let i=Object.keys(vo(rk.pointer.set));return nk.default.createElement(nk.default.Fragment,null,i.map(l=>nk.default.createElement(rhe,{key:"id-"+l,id:l})))},rhe=({id:i})=>{let{comp:l,portalNode:u,props:m}=vo(rk.pointer.byId[i]);return(0,$fe.createPortal)(nk.default.createElement(l,F({},m)),u)}});function p3e(i){let l=xe(),[u,m]=es(void 0),w=Zle();w.configureLogging({min:128,dev:K9,internal:K9});let E=w.getLogger().named("Theatre.js UIRoot");LRe();let T=vo(l.atomP.ahistoric.visibilityState);return(0,af.useEffect)(()=>(T==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[T]),io(()=>{let P=(0,X9.val)(l.atomP.ahistoric.visibilityState);return(0,X9.val)(l.atomP.ephemeral.initialised)?af.default.createElement(lJ,{logger:E},af.default.createElement(cte,null,af.default.createElement(eTe,null,af.default.createElement(che,null),af.default.createElement(OE.Provider,{value:m},af.default.createElement(Qz,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:i.containerShadow},af.default.createElement(af.default.Fragment,null,af.default.createElement(she,null),af.default.createElement(lhe,{className:P==="everythingIsHidden"?"invisible":""},af.default.createElement(Yz,{ref:u}),af.default.createElement(Jfe,null),af.default.createElement(Nde,null),af.default.createElement(Mne,null)))))))):null},[l,u,m])}var X9,af,ohe,she,ahe,lhe,uhe,K9,che,m3e=A(()=>{Ze(),wi(),X9=$n,af=Y(Rt()),Lt(),KRe(),h3e(),_s(),DS(),C9(),cm(),dte(),w6(),ihe(),ws(),gD(),c_(),PP(),she=typeof window<"u"?Vm(ohe||(ohe=J([`
  :host {
    contain: strict;
  }
`]))):{},lhe=Ue(aJ)(ahe||(ahe=J([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),K9=/Playground.+Theatre\.js/.test((uhe=typeof document<"u"?document==null?void 0:document.title:null)!=null?uhe:""),che=()=>af.default.createElement(nhe,null)}),g3e=G(i=>{var l=Gg();i.createRoot=l.createRoot,i.hydrateRoot=l.hydrateRoot}),dhe={};Q(dhe,{default:()=>phe});var fhe,hhe,phe,v3e=A(()=>{m3e(),fhe=Y(Rt()),hhe=Y(g3e()),ihe(),ws(),Sfe(),phe=class{constructor(){_e(this,"containerEl",document.createElement("div")),_e(this,"_renderTimeout"),_e(this,"_documentBodyUIIsRenderedIn"),_e(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let i=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let l=document.createElement("div");return l.id="theatrejs-faux-shadow-root",document.body.appendChild(l),l}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=i()}render(){let i=()=>{if(!document.body){this._renderTimeout=setTimeout(i,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),hhe.default.createRoot(this.containerShadow).render(fhe.default.createElement(p3e,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(i,10)}renderToolset(i,l){let u=the();return u.mountOrRender(xMe(D9),{toolbarId:i},l),u.unmount}}}),y3e=G(i=>{i.compare=w,i.reduce=E;var l,u,m;i.REMOVE=l=-1,i.ADD=u=1,i.EQUAL=m=0;function w(K,Z){var q=K.length,X=Z.length,ee=T(K,Z),$=ee<q&&ee<X?P(K,Z):0,re=$+ee-1;q-=re,X-=re;for(var se=j(q,X),fe=q-1;fe>=0;--fe)for(var ye=X-1;ye>=0;--ye)se[ye][fe]=L(se,K,Z,ee,fe,ye);return{prefix:ee,matrix:se,suffix:$}}function E(K,Z,q){var X,ee,$,re,se=q.matrix,fe=q.prefix;for(X=0;X<fe;++X)Z=K(Z,m,X,X);for($=X,fe=se.length,X=0,ee=0;X<fe;)switch(re=se[X][ee].type,Z=K(Z,re,X+$,ee+$),re){case m:++X,++ee;break;case l:++ee;break;case u:++X;break}for(X+=$,ee+=$,fe=q.suffix,$=0;$<fe;++$)Z=K(Z,m,X+$,ee+$);return Z}function T(K,Z){for(var q=0,X=Math.min(K.length,Z.length);q<X&&K[q]===Z[q];)++q;return q}function P(K,Z){for(var q=K.length-1,X=Z.length-1,ee=Math.min(q,X),$=0;$<ee&&K[q-$]===Z[X-$];)++$;return $}function L(K,Z,q,X,ee,$){return Z[ee+X]===q[$+X]?{value:K[$+1][ee+1].value,type:m}:K[$][ee+1].value<K[$+1][ee].value?{value:K[$][ee+1].value+1,type:l}:{value:K[$+1][ee].value+1,type:u}}function j(K,Z){var q=[],X,ee,$;for($=q[Z]=[],ee=0;ee<K;++ee)$[ee]={value:K-ee,type:l};for(X=0;X<Z;++X)q[X]=[],q[X][K]={value:Z-X,type:u};return q[Z][K]={value:0,type:m},q}}),mhe=G(i=>{i.cons=l,i.tail=u,i.map=m;function l(w,E){var T=E.length,P=new Array(T+1);P[0]=w;for(var L=0;L<T;++L)P[L+1]=E[L];return P}function u(w){for(var E=w.length-1,T=new Array(E),P=0;P<E;++P)T[P]=w[P+1];return T}function m(w,E){for(var T=new Array(E.length),P=0;P<E.length;++P)T[P]=w(E[P]);return T}}),_3e=G((i,l)=>{l.exports=T;var u=/\/|~1|~0/g,m="/",w="~",E="~1";function T(P,L){var j,K,Z,q;for(j=P.charAt(0)===m?1:0,K="",u.lastIndex=j;Z=u.exec(P);)if(q=Z[0],K+=P.slice(j,u.lastIndex-q.length),j=u.lastIndex,q===m){if(L(K)===!1)return P;K=""}else K+=q===E?m:w;return K+=P.slice(j),L(K),P}}),Y9=G(i=>{var l=_3e();i.find=K,i.join=q,i.absolute=Z,i.parse=X,i.contains=ee,i.encodeSegment=re,i.decodeSegment=$,i.parseArrayIndex=ye,i.isValidArrayIndex=fe;var u="/",m=/\//g,w="~1",E=/~1/g,T="~",P=/~/g,L="~0",j=/~0/g;function K(Ie,je,yt,st){if(typeof je=="string"){if(je==="")return{target:Ie,key:void 0};if(je===u)return{target:Ie,key:""};var ft=Ie,It,vn=st!==void 0;return l(je,function(We){if(Ie==null)return ft=null,!1;Array.isArray(Ie)?It=vn?Oe(yt,ye(We),Ie,st):We==="-"?We:ye(We):It=We,ft=Ie,Ie=Ie[It]}),ft===null?void 0:{target:ft,key:It}}}function Z(Ie){return Ie[0]===u?Ie:u+Ie}function q(Ie){return Ie.join(u)}function X(Ie){var je=[];return l(Ie,je.push.bind(je)),je}function ee(Ie,je){return je.indexOf(Ie)===0&&je[Ie.length]===u}function $(Ie){return Ie.replace(E,u).replace(j,T)}function re(Ie){return Ie.replace(P,L).replace(m,w)}var se=/^(0|[1-9]\d*)$/;function fe(Ie){return se.test(Ie)}function ye(Ie){if(fe(Ie))return+Ie;throw new SyntaxError("invalid array index "+Ie)}function Oe(Ie,je,yt,st){var ft=je;if(ft<0)throw new Error("array index out of bounds "+ft);if(st!==void 0&&typeof Ie=="function"&&(ft=Ie(je,yt,st),ft<0))throw new Error("could not find patch context "+st);return ft}}),ghe=G((i,l)=>{l.exports=u;function u(E){return E==null||typeof E!="object"?E:Array.isArray(E)?m(E):w(E)}function m(E){for(var T=E.length,P=new Array(T),L=0;L<T;++L)P[L]=u(E[L]);return P}function w(E){for(var T=Object.keys(E),P={},L,j=0,K=T.length;j<K;++j)L=T[j],P[L]=u(E[L]);return P}}),w3e=G((i,l)=>{l.exports=u;function u(E,T){return E===T?!0:Array.isArray(E)&&Array.isArray(T)?m(E,T):typeof E=="object"&&typeof T=="object"?w(E,T):!1}function m(E,T){if(E.length!==T.length)return!1;for(var P=0;P<E.length;++P)if(!u(E[P],T[P]))return!1;return!0}function w(E,T){if(E===null&&T!==null||E!==null&&T===null)return!1;var P=Object.keys(E),L=Object.keys(T);if(P.length!==L.length)return!1;for(var j=0,K;j<P.length;++j)if(K=P[j],!(K in T&&u(E[K],T[K])))return!1;return!0}}),S3e=G((i,l)=>{var u=Y9();l.exports=function(K,Z){var q=u.parse(K.path),X=u.parse(Z.path),ee=L(q,X),$=E(q,X,ee.length),re=j(K),se=j(Z);return ee.length===0&&!$?[se,re]:$?w(re,q,se,X):m(re,q,se)};function m(K,Z,q,X){if(K.path===q.path)throw new TypeError("cannot commute "+K.op+","+q.op+" with identical object paths");return[q,K]}function w(K,Z,q,X){return Z.length===X.length?T(K,Z,q,X):(Z.length>X.length?(Z=P(q,X,K,Z,-1),K.path=u.absolute(u.join(Z))):(X=P(K,Z,q,X,1),q.path=u.absolute(u.join(X))),[q,K])}function E(K,Z,q){return u.isValidArrayIndex(K[q])&&u.isValidArrayIndex(Z[q])}function T(K,Z,q,X){var ee=Z.length-1,$=+Z[ee],re=+X[ee],se;return $<re?K.op==="add"||K.op==="copy"?(se=X.slice(),se[ee]=Math.max(0,re-1),q.path=u.absolute(u.join(se))):K.op==="remove"&&(se=X.slice(),se[ee]=re+1,q.path=u.absolute(u.join(se))):q.op==="add"||q.op==="copy"?(se=Z.slice(),se[ee]=$+1,K.path=u.absolute(u.join(se))):$>re&&q.op==="remove"&&(se=Z.slice(),se[ee]=Math.max(0,$-1),K.path=u.absolute(u.join(se))),[q,K]}function P(K,Z,q,X,ee){var $=Z.length-1,re=+Z[$],se=+X[$],fe=X.slice();return re>se||(K.op==="add"||K.op==="copy"?fe[$]=Math.max(0,se-ee):K.op==="remove"&&(fe[$]=Math.max(0,se+ee))),fe}function L(K,Z){var q=K.length,X=Z.length;if(q===0||X===0||q<2&&X<2)return[];for(var ee=q===X?q-1:Math.min(q,X),$=0;$<ee&&K[$]===Z[$];)++$;return K.slice(0,$)}function j(K){return K.op==="remove"?{op:K.op,path:K.path}:K.op==="copy"||K.op==="move"?{op:K.op,path:K.path,from:K.from}:{op:K.op,path:K.path,value:K.value}}}),vhe=G((i,l)=>{l.exports=u;function u(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u}),Q9=G((i,l)=>{l.exports=u;function u(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u}),yhe=G((i,l)=>{l.exports=u;function u(m){Error.call(this),this.name=this.constructor.name,this.message=m,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}u.prototype=Object.create(Error.prototype),u.prototype.constructor=u}),_he=G(i=>{var l=Y9(),u=ghe(),m=w3e(),w=S3e(),E=mhe(),T=vhe(),P=Q9(),L=yhe(),j=l.find,K=l.parseArrayIndex;i.test={apply:Z,inverse:q,commute:X},i.add={apply:ee,inverse:re,commute:se},i.remove={apply:Ie,inverse:yt,commute:st},i.replace={apply:fe,inverse:ye,commute:Oe},i.move={apply:ft,inverse:It,commute:vn},i.copy={apply:We,inverse:Pt,commute:se};function Z(bt,Et,Vt){var zn=j(bt,Et.path,Vt.findContext,Et.context),Xe=zn.target,nt,un;if(Array.isArray(Xe)?(nt=K(zn.key),un=Xe[nt]):un=zn.key===void 0?zn.target:zn.target[zn.key],!m(un,Et.value))throw new T("test failed "+JSON.stringify(Et));return bt}function q(bt,Et){return bt.push(Et),1}function X(bt,Et){if(bt.path===Et.path&&Et.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return Et.op==="test"||Et.op==="replace"?[Et,bt]:w(bt,Et)}function ee(bt,Et,Vt){var zn=j(bt,Et.path,Vt.findContext,Et.context);if(be(zn))throw new P("path does not exist "+Et.path);if(Et.value===void 0)throw new P("missing value");var Xe=u(Et.value);return zn.key===void 0?Xe:($(zn,Xe),bt)}function $(bt,Et){var Vt=bt.target;if(Array.isArray(Vt))if(bt.key==="-")Vt.push(Et);else{if(bt.key>Vt.length)throw new P("target of add outside of array bounds");Vt.splice(bt.key,0,Et)}else if(hr(Vt))Vt[bt.key]=Et;else throw new P("target of add must be an object or array "+bt.key)}function re(bt,Et){var Vt=Et.context;return Vt!==void 0&&(Vt={before:Vt.before,after:E.cons(Et.value,Vt.after)}),bt.push({op:"test",path:Et.path,value:Et.value,context:Vt}),bt.push({op:"remove",path:Et.path,context:Vt}),1}function se(bt,Et){if(bt.path===Et.path&&Et.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return w(bt,Et)}function fe(bt,Et,Vt){var zn=j(bt,Et.path,Vt.findContext,Et.context);if(be(zn)||Ht(zn))throw new P("path does not exist "+Et.path);if(Et.value===void 0)throw new P("missing value");var Xe=u(Et.value);if(zn.key===void 0)return Xe;var nt=zn.target;return Array.isArray(nt)?nt[K(zn.key)]=Xe:nt[zn.key]=Xe,bt}function ye(bt,Et,Vt,zn){var Xe=zn[Vt-1];if(Xe===void 0||Xe.op!=="test"||Xe.path!==Et.path)throw new L("cannot invert replace w/o test");var nt=Xe.context;return nt!==void 0&&(nt={before:nt.before,after:E.cons(Xe.value,E.tail(nt.after))}),bt.push({op:"test",path:Xe.path,value:Et.value}),bt.push({op:"replace",path:Xe.path,value:Xe.value}),2}function Oe(bt,Et){if(bt.path===Et.path&&Et.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return Et.op==="test"||Et.op==="replace"?[Et,bt]:w(bt,Et)}function Ie(bt,Et,Vt){var zn=j(bt,Et.path,Vt.findContext,Et.context);if(be(zn)||zn.target[zn.key]===void 0)throw new P("path does not exist "+Et.path);return je(zn),bt}function je(bt){var Et=bt.target,Vt;if(Array.isArray(Et))return Vt=Et.splice(K(bt.key),1),Vt[0];if(hr(Et))return Vt=Et[bt.key],delete Et[bt.key],Vt;throw new P("target of remove must be an object or array")}function yt(bt,Et,Vt,zn){var Xe=zn[Vt-1];if(Xe===void 0||Xe.op!=="test"||Xe.path!==Et.path)throw new L("cannot invert remove w/o test");var nt=Xe.context;return nt!==void 0&&(nt={before:nt.before,after:E.tail(nt.after)}),bt.push({op:"add",path:Xe.path,value:Xe.value,context:nt}),2}function st(bt,Et){return bt.path===Et.path&&Et.op==="remove"?[Et,bt]:w(bt,Et)}function ft(bt,Et,Vt){if(l.contains(Et.path,Et.from))throw new P("move.from cannot be ancestor of move.path");var zn=j(bt,Et.path,Vt.findContext,Et.context),Xe=j(bt,Et.from,Vt.findContext,Et.fromContext);return $(zn,je(Xe)),bt}function It(bt,Et){return bt.push({op:"move",path:Et.from,context:Et.fromContext,from:Et.path,fromContext:Et.context}),1}function vn(bt,Et){if(bt.path===Et.path&&Et.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return w(bt,Et)}function We(bt,Et,Vt){var zn=j(bt,Et.path,Vt.findContext,Et.context),Xe=j(bt,Et.from,Vt.findContext,Et.fromContext);if(be(Xe)||Ht(Xe))throw new P("copy.from must exist");var nt=Xe.target,un;return Array.isArray(nt)?un=nt[K(Xe.key)]:un=nt[Xe.key],$(zn,u(un)),bt}function Pt(bt,Et){throw new L("cannot invert "+Et.op)}function be(bt){return bt===void 0||bt.target==null&&bt.key!==void 0}function Ht(bt){return bt.key!==void 0&&bt.target[bt.key]===void 0}function hr(bt){return bt!==null&&typeof bt=="object"}}),x3e=G(i=>{var l=_he(),u=ghe(),m=Q9();i.apply=E,i.applyInPlace=T,i.clone=u,i.isValidObject=L,i.defaultHash=P;var w={};function E(K,Z,q){return T(K,u(Z),q)}function T(K,Z,q){if(q||(q=w),!Array.isArray(K))return Z;for(var X,ee,$=0;$<K.length;++$){if(ee=K[$],X=l[ee.op],X===void 0)throw new m("invalid op "+JSON.stringify(ee));Z=X.apply(Z,ee,q)}return Z}function P(K){return L(K)||j(K)?JSON.stringify(K):K}function L(K){return K!==null&&Object.prototype.toString.call(K)==="[object Object]"}function j(K){return Object.prototype.toString.call(K)==="[object Array]"}}),b3e=G((i,l)=>{var u=_he();l.exports=function(w){var E=[],T,P;for(T=w.length-1;T>=0;T-=P)P=m(E,w[T],T,w);return E};function m(w,E,T,P){var L=u[E.op];return L!==void 0&&typeof L.inverse=="function"?L.inverse(w,E,T,P):1}}),E3e=G(i=>{var l=y3e(),u=mhe(),m=x3e(),w=b3e(),E=Y9(),T=E.encodeSegment;i.diff=j,i.patch=m.apply,i.patchInPlace=m.applyInPlace,i.inverse=w,i.clone=m.clone,i.InvalidPatchOperationError=Q9(),i.TestFailedError=vhe(),i.PatchNotInvertibleError=yhe();var P=m.isValidObject,L=m.defaultHash;function j(ye,Oe,Ie){return Z(ye,Oe,"",K(Ie,[])).patch}function K(ye,Oe){return typeof ye=="object"?{patch:Oe,hash:re(fe,ye.hash,L),makeContext:re(fe,ye.makeContext,se),invertible:ye.invertible!==!1}:{patch:Oe,hash:re(fe,ye,L),makeContext:se,invertible:!0}}function Z(ye,Oe,Ie,je){return Array.isArray(ye)&&Array.isArray(Oe)?X(ye,Oe,Ie,je):P(ye)&&P(Oe)?q(ye,Oe,Ie,je):$(ye,Oe,Ie,je)}function q(ye,Oe,Ie,je){var yt=Object.keys(Oe),st=je.patch,ft,It;for(ft=yt.length-1;ft>=0;--ft){It=yt[ft];var vn=Ie+"/"+T(It);ye[It]!==void 0?Z(ye[It],Oe[It],vn,je):st.push({op:"add",path:vn,value:Oe[It]})}for(yt=Object.keys(ye),ft=yt.length-1;ft>=0;--ft)if(It=yt[ft],Oe[It]===void 0){var We=Ie+"/"+T(It);je.invertible&&st.push({op:"test",path:We,value:ye[It]}),st.push({op:"remove",path:We})}return je}function X(ye,Oe,Ie,je){var yt=u.map(je.hash,ye),st=u.map(je.hash,Oe),ft=l.compare(yt,st);return ee(ye,Oe,Ie,je,ft)}function ee(ye,Oe,Ie,je,yt){var st=0;return l.reduce(function(ft,It,vn,We){var Pt,be,Ht=ft.patch,hr=Ie+"/"+(We+st);return It===l.REMOVE?(Pt=Ht[Ht.length-1],be=ft.makeContext(We,ye),ft.invertible&&Ht.push({op:"test",path:hr,value:ye[We],context:be}),Pt!==void 0&&Pt.op==="add"&&Pt.path===hr?(Pt.op="replace",Pt.context=be):Ht.push({op:"remove",path:hr,context:be}),st-=1):It===l.ADD?(Ht.push({op:"add",path:hr,value:Oe[vn],context:ft.makeContext(We,ye)}),st+=1):Z(ye[We],Oe[vn],hr,ft),ft},je,yt)}function $(ye,Oe,Ie,je){return ye!==Oe&&(je.invertible&&je.patch.push({op:"test",path:Ie,value:ye}),je.patch.push({op:"replace",path:Ie,value:Oe})),je}function re(ye,Oe,Ie){return ye(Oe)?Oe:Ie}function se(){}function fe(ye){return typeof ye=="function"}}),mx=G((i,l)=>{function u(m,w){for(var E=0,T=w.length-1;E<T;E++){if(!m[w[E]])return null;m=m[w[E]]}return m}l.exports=u}),R_=G((i,l)=>{function u(w){return w==="~0"?"~":"/"}function m(w){var E=w.split("/");if(w.indexOf("~")===-1)return E;for(var T=0,P=E.length;T<P;T++)E[T].indexOf("~")!==-1&&(E[T]=E[T].replace(/~[01]/g,u));return E}l.exports=m}),A3e=G((i,l)=>{var u=mx(),m=R_();function w(E,T){var P=m(T),L=P[P.length-1],j=u(E,P);return j?j[L]:void 0}l.exports=w}),ID=G((i,l)=>{function u(m,w){if(m===w)return!0;if(!(m&&w)||typeof m!="object"||typeof w!="object"||m.length!==w.length)return!1;if(Array.isArray(m)){if(!Array.isArray(w))return!1;for(var E=0,T=m.length;E<T;E++)if(!u(m[E],w[E]))return!1;return!0}var P=Object.keys(m);if(P.length!==Object.keys(w).length)return!1;for(var L=0,j=P.length;L<j;L++){var K=P[L];if(!u(m[K],w[K]))return!1}return!0}l.exports=u}),RD=G((i,l)=>{function u(m,w){if(w==="-")return m.length;for(var E=0,T=w.length;E<T;E++){var P=w.charCodeAt(E);if(57<P||P<48)return 1/0}return+w}l.exports=u}),OD=G((i,l)=>{var u=ID(),m=mx(),w=RD(),E=R_();function T(P,L,j,K){if(typeof j>"u")return"[op:add] require value, but got undefined";var Z=E(L),q=Z[Z.length-1],X=m(P,Z);if(X===null)return"[op:add] path not found: "+L;if(Array.isArray(X)){var ee=w(X,q);if(X.length<ee)return"[op:add] invalid array index: "+L;K(P,Z).splice(ee,0,j)}else u(X[q],j)||(K(P,Z)[q]=j)}l.exports=T}),whe=G((i,l)=>{var u=mx(),m=RD(),w=R_();function E(T,P,L){var j=w(P),K=j[j.length-1],Z=u(T,j);if(Z===null)return"[op:remove] path not found: "+P;if(Array.isArray(Z)){var q=m(Z,K);if(Z.length<=q)return"[op:remove] invalid array index: "+P;L(T,j).splice(q,1)}else delete L(T,j)[K]}l.exports=E}),She=G((i,l)=>{var u=ID(),m=mx(),w=RD(),E=R_();function T(P,L,j,K){if(typeof j>"u")return"[op:replace] require value, but got undefined";var Z=E(L),q=Z[Z.length-1],X=m(P,Z);if(X===null)return"[op:replace] path not found: "+L;if(Array.isArray(X)){var ee=w(X,q);if(X.length<=ee)return"[op:replace] invalid array index: "+L;u(X[ee],j)||K(P,Z).splice(ee,1,j)}else u(X[q],j)||(K(P,Z)[q]=j)}l.exports=T}),xhe=G((i,l)=>{var u=OD(),m=mx(),w=RD(),E=R_();function T(P,L,j,K){if(j!==L){var Z=E(L),q=Z[Z.length-1],X=m(P,Z);if(X===null)return"[op:move] path not found: "+L;var ee=void 0;if(Array.isArray(X)){var $=w(X,q);if(X.length<=$)return"[op:move] invalid array index: "+j;ee=X[$],K(P,Z).splice($,1)}else ee=X[q],delete K(P,Z)[q];return u(P,j,ee,K)}}l.exports=T}),bhe=G((i,l)=>{var u=mx(),m=R_(),w=OD();function E(T,P,L,j){var K=m(P),Z=K[K.length-1],q=u(T,K);return q===null?"[op:copy] path not found: "+P:w(T,L,q[Z],j)}l.exports=E}),Ehe=G((i,l)=>{var u=ID(),m=mx(),w=R_();function E(T,P,L){var j=w(P),K=j[j.length-1],Z=m(T,j);if(Z===null)return"[op:test] path not found: "+P;if(!u(Z[K],L)){var q=JSON.stringify(Z[K]),X=JSON.stringify(L);return"[op:test] not matched: "+q+" "+X}}l.exports=E}),q9=G((i,l)=>{function u(m){if(!m||typeof m!="object")return m;if(Array.isArray(m)){for(var w=m.length,E=new Array(w),T=0;T<w;T++)E[T]=m[T];return E}for(var P=Object.keys(m),L={},j=0,K=P.length;j<K;j++){var Z=P[j];L[Z]=m[Z]}return L}l.exports=u}),C3e=G((i,l)=>{var u=A3e(),m=OD(),w=whe(),E=She(),T=xhe(),P=bhe(),L=Ehe(),j=ID(),K=q9(),Z=R_();function q(X,ee){return{get:function($){return u(X,$)},add:function($,re){return m(X,$,re,ee)},remove:function($){return w(X,$,ee)},replace:function($,re){return E(X,$,re,ee)},move:function($,re){return T(X,$,re,ee)},copy:function($,re){return P(X,$,re,ee)},test:function($,re){return L(X,$,re)},deepEqual:j,shallowCopy:K,toKeys:Z}}l.exports=q}),M3e=G((i,l)=>{function u(m,w,E,T){return T.error=E,T.partial?w[""]:m}l.exports=u}),T3e=G((i,l)=>{function u(m){return!!m}l.exports=u}),P3e=G((i,l)=>{function u(m){if(m)throw new TypeError(m)}l.exports=u}),k3e=G((i,l)=>{var u=q9();function m(w,E){for(var T=0,P=E.length-1;T<P;T++)w=w[E[T]]=u(w[E[T]]);return w}l.exports=m}),I3e=G((i,l)=>{var u=q9();function m(E,T,P){var L=E[T];return P.has(L)||(L=u(L),P.add(L)),L}function w(E,T,P){for(var L=0,j=T.length-1;L<j;L++)E=E[T[L]]=m(E,T[L],P);return E}l.exports=w}),R3e=G((i,l)=>{var u=C3e(),m=M3e(),w=T3e(),E=P3e(),T=k3e(),P=I3e(),L=OD(),j=whe(),K=She(),Z=xhe(),q=bhe(),X=Ehe(),ee=Set||function(){var re=[];return re.has=function(se){return this.indexOf(se)!==-1},re.add=function(se){this.push(se)},re};function $(re,se,fe){if(se.length===0)return re;fe=fe||{};for(var ye=fe.strict?E:w,Oe=se.length===1?T:function(It){return function(vn,We){return P(vn,We,It)}}(new ee),Ie={"":re},je,yt=0,st=se.length;yt<st;yt++){var ft=se[yt];switch(ft.op){case"add":if(ye(L(Ie,""+ft.path,ft.value,Oe)))return m(re,Ie,ft,fe);break;case"remove":if(ye(j(Ie,""+ft.path,Oe)))return m(re,Ie,ft,fe);break;case"replace":if(ye(K(Ie,""+ft.path,ft.value,Oe)))return m(re,Ie,ft,fe);break;case"move":if(ye(Z(Ie,""+ft.from,""+ft.path,Oe)))return m(re,Ie,ft,fe);break;case"copy":if(ye(q(Ie,""+ft.from,""+ft.path,Oe)))return m(re,Ie,ft,fe);break;case"test":if(ye(X(Ie,""+ft.path,ft.value)))return m(re,Ie,ft,fe);break;default:if(fe.custom&&fe.custom[ft.op]){if(je=je||u(Ie,Oe),ye(fe.custom[ft.op](je,ft,yt,se)))return m(re,Ie,ft,fe)}else return ye("[op:"+ft.op+"] unknown"),m(re,Ie,ft,fe);break}}return Ie[""]}l.exports=$}),O3e=G((i,l)=>{l.exports=R3e()}),B3e=G((i,l)=>{(function(u,m){typeof i=="object"&&typeof l=="object"?l.exports=m():typeof i=="object"?i.blobCompare=m():u.blobCompare=m()})(window,function(){return function(u){var m={};function w(E){if(m[E])return m[E].exports;var T=m[E]={i:E,l:!1,exports:{}};return u[E].call(T.exports,T,T.exports,w),T.l=!0,T.exports}return w.m=u,w.c=m,w.d=function(E,T,P){w.o(E,T)||Object.defineProperty(E,T,{enumerable:!0,get:P})},w.r=function(E){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(E,"__esModule",{value:!0})},w.t=function(E,T){if(1&T&&(E=w(E)),8&T||4&T&&typeof E=="object"&&E&&E.__esModule)return E;var P=Object.create(null);if(w.r(P),Object.defineProperty(P,"default",{enumerable:!0,value:E}),2&T&&typeof E!="string")for(var L in E)w.d(P,L,(function(j){return E[j]}).bind(null,L));return P},w.n=function(E){var T=E&&E.__esModule?function(){return E.default}:function(){return E};return w.d(T,"a",T),T},w.o=function(E,T){return Object.prototype.hasOwnProperty.call(E,T)},w.p="",w(w.s=4)}([function(u,m,w){var E=function(K,Z){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return function(q,X){var ee=[],$=!0,re=!1,se=void 0;try{for(var fe,ye=q[Symbol.iterator]();!($=(fe=ye.next()).done)&&(ee.push(fe.value),!X||ee.length!==X);$=!0);}catch(Oe){re=!0,se=Oe}finally{try{!$&&ye.return&&ye.return()}finally{if(re)throw se}}return ee}(K,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")},T=function(){function K(Z,q){for(var X=0;X<q.length;X++){var ee=q[X];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(Z,ee.key,ee)}}return function(Z,q,X){return q&&K(Z.prototype,q),X&&K(Z,X),Z}}();function P(K){if(Array.isArray(K)){for(var Z=0,q=Array(K.length);Z<K.length;Z++)q[Z]=K[Z];return q}return Array.from(K)}var L=w(2),j=function(K){function Z(q){(function(ee,$){if(!(ee instanceof $))throw new TypeError("Cannot call a class as a function")})(this,Z);var X=function(ee,$){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||typeof $!="object"&&typeof $!="function"?ee:$}(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this));return X._messageId=1,X._messages=new Map,X._worker=q,X._worker.onmessage=X._onMessage.bind(X),X._id=Math.ceil(1e7*Math.random()),X}return function(q,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);q.prototype=Object.create(X&&X.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(q,X):q.__proto__=X)}(Z,K),T(Z,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(q){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ee=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],re=arguments[3];return new Promise(function(se,fe){var ye=ee._messageId++;ee._messages.set(ye,[se,fe,re]),ee._worker.postMessage([ye,X,q],$||[])})}},{key:"postMessage",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,X=this,ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments[2];return new Promise(function(re,se){var fe=X._messageId++;X._messages.set(fe,[re,se,$]),X._worker.postMessage([fe,q],ee||[])})}},{key:"emit",value:function(q){for(var X=arguments.length,ee=Array(X>1?X-1:0),$=1;$<X;$++)ee[$-1]=arguments[$];this._worker.postMessage({eventName:q,args:ee})}},{key:"_onMessage",value:function(q){var X;if(!Array.isArray(q.data)&&q.data.eventName)return(X=function fe(ye,Oe,Ie){ye===null&&(ye=Function.prototype);var je=Object.getOwnPropertyDescriptor(ye,Oe);if(je===void 0){var yt=Object.getPrototypeOf(ye);return yt===null?void 0:fe(yt,Oe,Ie)}if("value"in je)return je.value;var st=je.get;return st!==void 0?st.call(Ie):void 0}(Z.prototype.__proto__||Object.getPrototypeOf(Z.prototype),"emit",this)).call.apply(X,[this,q.data.eventName].concat(P(q.data.args)));var ee,$=(ee=q.data,Array.isArray(ee)?ee:Array.from(ee)),re=$[0],se=$.slice(1);if(re===1)this._onEvent.apply(this,P(se));else{if(re!==0)throw new Error("Wrong message type '"+re+"'");this._onResult.apply(this,P(se))}}},{key:"_onResult",value:function(q,X,ee){var $=this._messages.get(q),re=E($,2),se=re[0],fe=re[1];return this._messages.delete(q),X===1?se(ee):fe(ee)}},{key:"_onEvent",value:function(q,X,ee){var $=this._messages.get(q),re=E($,3)[2];re&&re(X,ee)}}]),Z}(L);u.exports=j},function(u,m,w){u.exports=function(){return w(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(u,m,w){var E=function(){function P(L,j){for(var K=0;K<j.length;K++){var Z=j[K];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(L,Z.key,Z)}}return function(L,j,K){return j&&P(L.prototype,j),K&&P(L,K),L}}(),T=function(){function P(){(function(L,j){if(!(L instanceof j))throw new TypeError("Cannot call a class as a function")})(this,P),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return E(P,[{key:"emit",value:function(L){if(!this.__listeners[L])return this;for(var j=arguments.length,K=Array(j>1?j-1:0),Z=1;Z<j;Z++)K[Z-1]=arguments[Z];var q=!0,X=!1,ee=void 0;try{for(var $,re=this.__listeners[L][Symbol.iterator]();!(q=($=re.next()).done);q=!0){var se=$.value;se.apply(void 0,K)}}catch(fe){X=!0,ee=fe}finally{try{!q&&re.return&&re.return()}finally{if(X)throw ee}}return this}},{key:"once",value:function(L,j){var K=this,Z=function q(){K.off(L,q),j.apply(void 0,arguments)};return this.on(L,Z)}},{key:"on",value:function(L,j){return this.__listeners[L]||(this.__listeners[L]=[]),this.__listeners[L].push(j),this}},{key:"off",value:function(L,j){return this.__listeners[L]=j?this.__listeners[L].filter(function(K){return K!==j}):[],this}}]),P}();u.exports=T},function(u,m,w){var E=window.URL||window.webkitURL;u.exports=function(T,P){try{try{var L;try{(L=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(T),L=L.getBlob()}catch{L=new Blob([T])}return new Worker(E.createObjectURL(L))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(T))}}catch{if(!P)throw Error("Inline worker is not supported");return new Worker(P)}}},function(u,m,w){w.r(m);var E=w(0),T=w.n(E),P=w(1),L=w.n(P);w.d(m,"workersEnabled",function(){return j}),w.d(m,"default",function(){return K});let j=!!window.Worker;class K{static toBinaryStringWithWorker(q,X){return Se(this,null,function*(){let ee=new T.a(new L.a),$=yield ee.exec("binary",{blob:q,chunk:X});return ee.terminate(),$})}static toBinaryStringWithoutWorker(q,X){return function(ee,$){return new Promise((re,se)=>{let fe=new FileReader,ye=$?Math.min($,ee.size):ee.size,Oe=ee.slice(0,ye);fe.onload=()=>re(fe.result),fe.onerror=se,fe.readAsBinaryString(Oe)})}(q,X)}static toBinaryString(q,X,ee=!0){return ee&&j?this.toBinaryStringWithWorker(q,X):this.toBinaryStringWithoutWorker(q,X)}static toArrayBufferWithWorker(q,X){return Se(this,null,function*(){let ee=new T.a(new L.a),$=yield ee.exec("buffer",{blob:q,chunk:X});return ee.terminate(),$})}static toArrayBufferWithoutWorker(q,X){return function(ee,$){return new Promise((re,se)=>{let fe=new FileReader,ye=$?Math.min($,ee.size):ee.size,Oe=ee.slice(0,ye);fe.onload=()=>re(fe.result),fe.onerror=se,fe.readAsArrayBuffer(Oe)})}(q,X)}static toArrayBuffer(q,X,ee=!0){return ee&&j?this.toArrayBufferWithWorker(q,X):this.toArrayBufferWithoutWorker(q,X)}static compareBuffersWithWorker(q,X){return Se(this,null,function*(){if(q===X)return!0;let ee=new T.a(new L.a),$=yield ee.exec("compare",{buf1:q,buf2:X},[q,X]);return ee.terminate(),$})}static compareBuffersWithoutWorker(q,X){return function(ee,$){if(ee===$)return!0;if(ee.byteLength!==$.byteLength)return!1;let re=new DataView(ee),se=new DataView($);for(var fe=ee.byteLength;fe--;)if(re.getUint8(fe)!==se.getUint8(fe))return!1;return!0}(q,X)}static compareBuffers(q,X,ee=!0){return ee&&j?this.compareBuffersWithWorker(q,X):this.compareBuffersWithoutWorker(q,X)}static sizeEqual(q,X){return q.size===X.size}static typeEqual(q,X){return q.type===X.type}static magicNumbersEqual(q,X,ee=!0){return Se(this,null,function*(){if(q===X)return!0;let $=[24,16,14,12,8,6,4],[re,se]=yield Promise.all([this.toBinaryString(q,24,ee),this.toBinaryString(X,24,ee)]);for(let fe of $)if(re.substring(0,fe)===se.substring(0,fe))return!0;return!1})}static bytesEqualWithBinaryString(q,X,ee,$=!0){return Se(this,null,function*(){if(q===X)return!0;let[re,se]=yield Promise.all([this.toBinaryString(q,ee,$),this.toBinaryString(X,ee,$)]);return re===se})}static bytesEqualWithArrayBuffer(q,X,ee,$=!0){return Se(this,null,function*(){if(q===X)return!0;let[re,se]=yield Promise.all([this.toArrayBuffer(q,ee,$),this.toArrayBuffer(X,ee,$)]);return this.compareBuffers(re,se,$)})}static isEqual(q,X){return Se(this,arguments,function*(ee,$,{methods:re=["size","type","magic","byte"],byte:se="buffer",partial:fe=!1,chunks:ye=null,worker:Oe=!0}={}){let Ie=null;for(let je of re){if(Ie===!1||fe&&Ie===!0)break;switch(je){case"byte":case"bytes":case"content":ye=ye instanceof Array?ye:[ee.size],Ie=!0;for(let yt of ye){let st=!1;st=se==="buffer"?yield this.bytesEqualWithArrayBuffer(ee,$,yt,Oe):yield this.bytesEqualWithBinaryString(ee,$,yt,Oe),st||(Ie=!1)}break;case"magic":case"headers":case"numbers":case"mime":Ie=yield this.magicNumbersEqual(ee,$,Oe);break;case"size":case"sizes":Ie=this.sizeEqual(ee,$);break;case"type":case"types":Ie=this.typeEqual(ee,$);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return Ie})}}}])})}),Ahe={};Q(Ahe,{ToolbarDropdownSelect:()=>ZOe,default:()=>eBe}),n.exports=ge(Ahe),Ze(),Ae();var Che=$n;an();var D3e=0,L3e=class{constructor(i){this._studio=i,_e(this,"_id"),_e(this,"_state",{type:"Ready"}),this._id=String(D3e++)}get status(){return this._state.type}reset(){let{_state:i}=this;if(i.type!=="Ready")if(i.type==="Captured")this._state={type:"Ready"},i.transaction.discard(),i.flagsTransaction.discard();else throw i.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:i}=this;if(i.type==="Captured")i.transaction.commit(),i.flagsTransaction.discard(),this._state={type:"Committed"};else if(i.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw i.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(i){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let l=!0;try{this._state=F({type:"Captured"},this._capture(i)),l=!1}finally{l&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(i){let l=[],u=this._studio.tempTransaction(w=>{let E=!0,T={set:(P,L)=>{if(!E)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:j,path:K}=(0,Che.getPointerParts)(P);if(!wt(j))throw new Error("We can only scrub props of Sheet Objects for now");w.set(P,L),l.push(P)}};try{i(T)}finally{E=!1}}),m=this._studio.tempTransaction(({stateEditors:w})=>{l.forEach(E=>{let{root:T,path:P}=(0,Che.getPointerParts)(E);if(!wt(T))return;let L=T.template.getDefaultsAtPointer(E);mt(L,(j,K)=>{w.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(N(F({},T.address),{pathToProp:K}))},P)})});return{transaction:u,flagsTransaction:m}}discard(){let{_state:i}=this;if(i.type==="Captured"||i.type==="Ready")i.type==="Captured"&&(i.transaction.discard(),i.flagsTransaction.discard()),this._state={type:"Discarded"};else throw i.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},N3e=$n,Mhe=typeof window<"u"?Promise.resolve().then(()=>(v3e(),dhe)).then(i=>i.default):null,F3e=class{constructor(i){this.studio=i,_e(this,"_rendered",!1),_e(this,"_nonSSRBits",Mhe?Mhe.then(l=>new l):Promise.reject()),_e(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(i=>{i.render()}).catch(i=>{throw console.error(i),i}))}hide(){this.studio.transaction(({drafts:i})=>{i.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:i})=>{i.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,N3e.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(i,l){let u=!1,m=null;return this._nonSSRBits.then(w=>{u||(m=w.renderToolset(i,l))}).catch(w=>{console.error(w)}),()=>{if(m){m();return}u||(u=!0)}}},BD=$n;function z3e(i){return i}var U3e=(i,l=z3e)=>{let u=m=>({type:i,payload:l(m)});return u.type=i,u.is=m=>m&&m.type&&m.type===i,u},yv=U3e,The=Y(E3e()),Phe=Y(O3e());iE();var DD,j3e=new Uint8Array(16);function H3e(){if(!DD&&(DD=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!DD))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return DD(j3e)}var G3e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function V3e(i){return typeof i=="string"&&G3e.test(i)}var W3e=V3e,lf=[];for(LD=0;LD<256;++LD)lf.push((LD+256).toString(16).substr(1));var LD;function X3e(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(lf[i[l+0]]+lf[i[l+1]]+lf[i[l+2]]+lf[i[l+3]]+"-"+lf[i[l+4]]+lf[i[l+5]]+"-"+lf[i[l+6]]+lf[i[l+7]]+"-"+lf[i[l+8]]+lf[i[l+9]]+"-"+lf[i[l+10]]+lf[i[l+11]]+lf[i[l+12]]+lf[i[l+13]]+lf[i[l+14]]+lf[i[l+15]]).toLowerCase();if(!W3e(u))throw TypeError("Stringified UUID is invalid");return u}var K3e=X3e;function Y3e(i,l,u){i=i||{};var m=i.random||(i.rng||H3e)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,l){u=u||0;for(var w=0;w<16;++w)l[u+w]=m[w];return l}return K3e(m)}var Q3e=Y3e,ik={replaceHistory:yv("@history/replaceHistory"),startHistoryFromScratch:yv("@history/startHistoryFromScratch"),undo:yv("@history/undo"),redo:yv("@history/redo")},q3e={type:"@history/unknownAction",payload:""},J3e={maxNumberOfCommits:100},Z3e=(i,l=J3e)=>{let u=J9(i(void 0,q3e));return function(m,w){return ik.startHistoryFromScratch.is(w)?J9(i(void 0,w.payload)):ik.replaceHistory.is(w)?w.payload:ik.undo.is(w)?m?tOe(m):u:ik.redo.is(w)?m?nOe(m):u:m?$3e(m,i(m.innerState,w),l):J9(i(void 0,w))}};function J9(i){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:i}}function $3e(i,l,u){if(l===i.innerState)return i;let m=eOe(i.innerState,l);if(m.forwardDiff.length===0)return i;let w=cy(i.listOfCommitHashes),E={currentCommitHash:m.hash,commitsByHash:F({},i.commitsByHash),listOfCommitHashes:[...i.listOfCommitHashes],innerState:l};if(i.currentCommitHash!==w){let T=i.listOfCommitHashes.findIndex(P=>P===i.currentCommitHash);i.listOfCommitHashes.slice(T+1).forEach(P=>{delete E.commitsByHash[P]}),E.listOfCommitHashes.splice(T+1,E.listOfCommitHashes.length)}if(E.listOfCommitHashes.push(m.hash),E.commitsByHash[m.hash]=m,E.listOfCommitHashes.length>u.maxNumberOfCommits){let T=E.listOfCommitHashes.length-u.maxNumberOfCommits;E.listOfCommitHashes.slice(0,T).forEach(P=>{delete E.commitsByHash[P]}),E.listOfCommitHashes.splice(0,T)}return E}function eOe(i,l){let u=The.default.diff(i,l,{invertible:!1}),m=The.default.diff(l,i,{invertible:!1}),w=Date.now(),E=Q3e();return{forwardDiff:u,backwardDiff:m,timestamp:w,hash:E}}function tOe(i){if(i.currentCommitHash===void 0)return i;let l=i.listOfCommitHashes.findIndex(T=>T===i.currentCommitHash);if(l===-1)throw new Error("This should never happen");let u=i.commitsByHash[i.currentCommitHash],m=(0,Phe.default)(i.innerState,u.backwardDiff),w=l-1,E=w===-1?void 0:i.listOfCommitHashes[w];return N(F({},i),{currentCommitHash:E,innerState:m})}function nOe(i){if(i.listOfCommitHashes.length===0)return i;let l=i.listOfCommitHashes.findIndex(T=>T===i.currentCommitHash);if(l===i.listOfCommitHashes.length-1)return i;let u=l+1,m=i.listOfCommitHashes[u],w=i.commitsByHash[m],E=(0,Phe.default)(i.innerState,w.forwardDiff);return N(F({},i),{currentCommitHash:m,innerState:E})}gD();var ND={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},khe=yv("@storeBundle/replacePersistentState",i=>i),Ihe=yv("@storeBundle/reduceParts",i=>i),yA={historic:ik,replacePersistentState:khe,reduceParts:Ihe},Rhe=yv("@storeBundle/setInnerHistoricState",i=>i),rOe=(i=ND.historic,l)=>Rhe.is(l)?l.payload:i,Z9=Z3e(rOe),Ohe=(i,l)=>{if(khe.is(l)){let{historic:u,ahistoric:m}=l.payload,w=(i==null?void 0:i.ephemeral)||ND.ephemeral;return{$persistent:{historic:u,ahistoric:m},ephemeral:w}}else if(i){let{historic:u,ahistoric:m}=i.$persistent,{ephemeral:w}=i;if(Ihe.is(l)){let E={historic:i.$persistent.historic.innerState,ahistoric:i.$persistent.ahistoric,ephemeral:i.ephemeral},T=l.payload(E);if(T===E)return i;u.innerState!==T.historic&&(u=Z9(u,Rhe(T.historic))),m=T.ahistoric,w=T.ephemeral}else{let E=Z9(u,l);if(E===u)return i;u=E}return{$persistent:u===i.$persistent.historic&&m===i.$persistent.ahistoric?i.$persistent:{historic:u,ahistoric:m},ephemeral:w}}else{let u=Z9(void 0,{}),m=ND.ahistoric,w=ND.ephemeral;return{$persistent:{historic:u,ahistoric:m},ephemeral:w}}},Bhe=yv("@history/pushTempAction",i=>i),Dhe=yv("@history/discardTempAction",i=>i),Lhe=yv("@history/commitTempAction",i=>i),iOe=0,oOe=()=>{let i=iOe++;return{push:l=>Bhe({id:i,originalAction:l}),discard:()=>Dhe(i),commit:()=>Lhe(i)}},sOe=(i,l)=>{if(i){let{tempActions:u,permanent:m}=i.$temps,w;if(Bhe.is(l))u=[...u,l];else if(Lhe.is(l)){let T=u.find(P=>P.payload.id===l.payload);T?(w=T.payload.originalAction,u=u.filter(P=>P.payload.id!==l.payload)):mD.error("Comitting temp action group ".concat(l.payload," isn't possible as this group doesn't exist"))}else Dhe.is(l)?u=u.filter(T=>T.payload.id!==l.payload):w=l;w&&(m=Ohe(i.$temps.permanent,w));let E={historic:m.$persistent.historic.innerState,ahistoric:m.$persistent.ahistoric,ephemeral:m.ephemeral};for(let T of u)E=T.payload.originalAction.payload(E);return F({$temps:{tempActions:u,permanent:m},$persistent:m.$persistent},E)}else{let u=Ohe(void 0,l);return{$temps:{permanent:u,tempActions:[]},$persistent:u.$persistent,historic:u.$persistent.historic.innerState,ahistoric:u.$persistent.ahistoric,ephemeral:u.ephemeral}}};sv(),sv(),Ty();function Nhe(i,l){if(typeof i!="object"||i===null)return;if(l.length===0){for(let T of Object.keys(i))delete i[T];return}let u=l.slice(0,l.length-1),m=i,w=new WeakMap;for(let T of u){let P=m,L=P[T];if(typeof L!="object"||L===null)return;w.set(L,P),m=L}let E=l.slice().reverse();for(let T of E){if(delete m[T],Object.keys(m).length>0)return;m=w.get(m)}}function aOe(i,{scale:l,origin:u,translate:m}){let w=u+(i-u)*l;return m+w}function u0(i){for(var l=arguments.length,u=Array(l>1?l-1:0),m=1;m<l;m++)u[m-1]=arguments[m];throw Error("[Immer] minified error nr: "+i+(u.length?" "+u.map(function(w){return"'"+w+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function _A(i){return!!i&&!!i[hm]}function gx(i){return!!i&&(function(l){if(!l||typeof l!="object")return!1;var u=Object.getPrototypeOf(l);if(u===null)return!0;var m=Object.hasOwnProperty.call(u,"constructor")&&u.constructor;return m===Object||typeof m=="function"&&Function.toString.call(m)===pOe}(i)||Array.isArray(i)||!!i[Khe]||!!i.constructor[Khe]||ej(i)||tj(i))}function ok(i,l,u){u===void 0&&(u=!1),wA(i)===0?(u?Object.keys:hj)(i).forEach(function(m){u&&typeof m=="symbol"||l(m,i[m],i)}):i.forEach(function(m,w){return l(w,m,i)})}function wA(i){var l=i[hm];return l?l.i>3?l.i-4:l.i:Array.isArray(i)?1:ej(i)?2:tj(i)?3:0}function $9(i,l){return wA(i)===2?i.has(l):Object.prototype.hasOwnProperty.call(i,l)}function lOe(i,l){return wA(i)===2?i.get(l):i[l]}function Fhe(i,l,u){var m=wA(i);m===2?i.set(l,u):m===3?(i.delete(l),i.add(u)):i[l]=u}function uOe(i,l){return i===l?i!==0||1/i==1/l:i!=i&&l!=l}function ej(i){return fOe&&i instanceof Map}function tj(i){return hOe&&i instanceof Set}function vx(i){return i.o||i.t}function nj(i){if(Array.isArray(i))return Array.prototype.slice.call(i);var l=mOe(i);delete l[hm];for(var u=hj(l),m=0;m<u.length;m++){var w=u[m],E=l[w];E.writable===!1&&(E.writable=!0,E.configurable=!0),(E.get||E.set)&&(l[w]={configurable:!0,writable:!0,enumerable:E.enumerable,value:i[w]})}return Object.create(Object.getPrototypeOf(i),l)}function rj(i,l){return l===void 0&&(l=!1),ij(i)||_A(i)||!gx(i)||(wA(i)>1&&(i.set=i.add=i.clear=i.delete=cOe),Object.freeze(i),l&&ok(i,function(u,m){return rj(m,!0)},!0)),i}function cOe(){u0(2)}function ij(i){return i==null||typeof i!="object"||Object.isFrozen(i)}function zy(i){var l=gOe[i];return l||u0(18,i),l}function zhe(){return sk}function oj(i,l){l&&(zy("Patches"),i.u=[],i.s=[],i.v=l)}function FD(i){sj(i),i.p.forEach(dOe),i.p=null}function sj(i){i===sk&&(sk=i.l)}function Uhe(i){return sk={p:[],l:sk,h:i,m:!0,_:0}}function dOe(i){var l=i[hm];l.i===0||l.i===1?l.j():l.O=!0}function aj(i,l){l._=l.p.length;var u=l.p[0],m=i!==void 0&&i!==u;return l.h.g||zy("ES5").S(l,i,m),m?(u[hm].P&&(FD(l),u0(4)),gx(i)&&(i=zD(l,i),l.l||UD(l,i)),l.u&&zy("Patches").M(u[hm],i,l.u,l.s)):i=zD(l,u,[]),FD(l),l.u&&l.v(l.u,l.s),i!==Xhe?i:void 0}function zD(i,l,u){if(ij(l))return l;var m=l[hm];if(!m)return ok(l,function(E,T){return jhe(i,m,l,E,T,u)},!0),l;if(m.A!==i)return l;if(!m.P)return UD(i,m.t,!0),m.t;if(!m.I){m.I=!0,m.A._--;var w=m.i===4||m.i===5?m.o=nj(m.k):m.o;ok(m.i===3?new Set(w):w,function(E,T){return jhe(i,m,w,E,T,u)}),UD(i,w,!1),u&&i.u&&zy("Patches").R(m,u,i.u,i.s)}return m.o}function jhe(i,l,u,m,w,E){if(_A(w)){var T=zD(i,w,E&&l&&l.i!==3&&!$9(l.D,m)?E.concat(m):void 0);if(Fhe(u,m,T),!_A(T))return;i.m=!1}if(gx(w)&&!ij(w)){if(!i.h.F&&i._<1)return;zD(i,w),l&&l.A.l||UD(i,w)}}function UD(i,l,u){u===void 0&&(u=!1),i.h.F&&i.m&&rj(l,u)}function lj(i,l){var u=i[hm];return(u?vx(u):i)[l]}function Hhe(i,l){if(l in i)for(var u=Object.getPrototypeOf(i);u;){var m=Object.getOwnPropertyDescriptor(u,l);if(m)return m;u=Object.getPrototypeOf(u)}}function uj(i){i.P||(i.P=!0,i.l&&uj(i.l))}function cj(i){i.o||(i.o=nj(i.t))}function dj(i,l,u){var m=ej(l)?zy("MapSet").N(l,u):tj(l)?zy("MapSet").T(l,u):i.g?function(w,E){var T=Array.isArray(w),P={i:T?1:0,A:E?E.A:zhe(),P:!1,I:!1,D:{},l:E,t:w,k:null,o:null,j:null,C:!1},L=P,j=HD;T&&(L=[P],j=GD);var K=Proxy.revocable(L,j),Z=K.revoke,q=K.proxy;return P.k=q,P.j=Z,q}(l,u):zy("ES5").J(l,u);return(u?u.A:zhe()).p.push(m),m}function jD(i){return _A(i)||u0(22,i),function l(u){if(!gx(u))return u;var m,w=u[hm],E=wA(u);if(w){if(!w.P&&(w.i<4||!zy("ES5").K(w)))return w.t;w.I=!0,m=Ghe(u,E),w.I=!1}else m=Ghe(u,E);return ok(m,function(T,P){w&&lOe(w.t,T)===P||Fhe(m,T,l(P))}),E===3?new Set(m):m}(i)}function Ghe(i,l){switch(l){case 2:return new Map(i);case 3:return Array.from(i)}return nj(i)}var Vhe,sk,fj=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",fOe=typeof Map<"u",hOe=typeof Set<"u",Whe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Xhe=fj?Symbol.for("immer-nothing"):((Vhe={})["immer-nothing"]=!0,Vhe),Khe=fj?Symbol.for("immer-draftable"):"__$immer_draftable",hm=fj?Symbol.for("immer-state"):"__$immer_state",pOe=""+Object.prototype.constructor,hj=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:Object.getOwnPropertyNames,mOe=Object.getOwnPropertyDescriptors||function(i){var l={};return hj(i).forEach(function(u){l[u]=Object.getOwnPropertyDescriptor(i,u)}),l},gOe={},HD={get:function(i,l){if(l===hm)return i;var u=vx(i);if(!$9(u,l))return function(w,E,T){var P,L=Hhe(E,T);return L?"value"in L?L.value:(P=L.get)===null||P===void 0?void 0:P.call(w.k):void 0}(i,u,l);var m=u[l];return i.I||!gx(m)?m:m===lj(i.t,l)?(cj(i),i.o[l]=dj(i.A.h,m,i)):m},has:function(i,l){return l in vx(i)},ownKeys:function(i){return Reflect.ownKeys(vx(i))},set:function(i,l,u){var m=Hhe(vx(i),l);if(m!=null&&m.set)return m.set.call(i.k,u),!0;if(!i.P){var w=lj(vx(i),l),E=w==null?void 0:w[hm];if(E&&E.t===u)return i.o[l]=u,i.D[l]=!1,!0;if(uOe(u,w)&&(u!==void 0||$9(i.t,l)))return!0;cj(i),uj(i)}return i.o[l]===u&&typeof u!="number"&&(u!==void 0||l in i.o)||(i.o[l]=u,i.D[l]=!0,!0)},deleteProperty:function(i,l){return lj(i.t,l)!==void 0||l in i.t?(i.D[l]=!1,cj(i),uj(i)):delete i.D[l],i.o&&delete i.o[l],!0},getOwnPropertyDescriptor:function(i,l){var u=vx(i),m=Reflect.getOwnPropertyDescriptor(u,l);return m&&{writable:!0,configurable:i.i!==1||l!=="length",enumerable:m.enumerable,value:u[l]}},defineProperty:function(){u0(11)},getPrototypeOf:function(i){return Object.getPrototypeOf(i.t)},setPrototypeOf:function(){u0(12)}},GD={};ok(HD,function(i,l){GD[i]=function(){return arguments[0]=arguments[0][0],l.apply(this,arguments)}}),GD.deleteProperty=function(i,l){return HD.deleteProperty.call(this,i[0],l)},GD.set=function(i,l,u){return HD.set.call(this,i[0],l,u,i[0])};var vOe=function(){function i(u){var m=this;this.g=Whe,this.F=!0,this.produce=function(w,E,T){if(typeof w=="function"&&typeof E!="function"){var P=E;E=w;var L=m;return function(X){var ee=this;X===void 0&&(X=P);for(var $=arguments.length,re=Array($>1?$-1:0),se=1;se<$;se++)re[se-1]=arguments[se];return L.produce(X,function(fe){var ye;return(ye=E).call.apply(ye,[ee,fe].concat(re))})}}var j;if(typeof E!="function"&&u0(6),T!==void 0&&typeof T!="function"&&u0(7),gx(w)){var K=Uhe(m),Z=dj(m,w,void 0),q=!0;try{j=E(Z),q=!1}finally{q?FD(K):sj(K)}return typeof Promise<"u"&&j instanceof Promise?j.then(function(X){return oj(K,T),aj(X,K)},function(X){throw FD(K),X}):(oj(K,T),aj(j,K))}if(!w||typeof w!="object")return(j=E(w))===Xhe?void 0:(j===void 0&&(j=w),m.F&&rj(j,!0),j);u0(21,w)},this.produceWithPatches=function(w,E){return typeof w=="function"?function(L){for(var j=arguments.length,K=Array(j>1?j-1:0),Z=1;Z<j;Z++)K[Z-1]=arguments[Z];return m.produceWithPatches(L,function(q){return w.apply(void 0,[q].concat(K))})}:[m.produce(w,E,function(L,j){T=L,P=j}),T,P];var T,P},typeof(u==null?void 0:u.useProxies)=="boolean"&&this.setUseProxies(u.useProxies),typeof(u==null?void 0:u.autoFreeze)=="boolean"&&this.setAutoFreeze(u.autoFreeze)}var l=i.prototype;return l.createDraft=function(u){gx(u)||u0(8),_A(u)&&(u=jD(u));var m=Uhe(this),w=dj(this,u,void 0);return w[hm].C=!0,sj(m),w},l.finishDraft=function(u,m){var w=u&&u[hm],E=w.A;return oj(E,m),aj(void 0,E)},l.setAutoFreeze=function(u){this.F=u},l.setUseProxies=function(u){u&&!Whe&&u0(20),this.g=u},l.applyPatches=function(u,m){var w;for(w=m.length-1;w>=0;w--){var E=m[w];if(E.path.length===0&&E.op==="replace"){u=E.value;break}}var T=zy("Patches").$;return _A(u)?T(u,m):this.produce(u,function(P){return T(P,m.slice(w+1))})},i}(),pm=new vOe;pm.produce,pm.produceWithPatches.bind(pm),pm.setAutoFreeze.bind(pm),pm.setUseProxies.bind(pm),pm.applyPatches.bind(pm);var pj=pm.createDraft.bind(pm),mj=pm.finishDraft.bind(pm);YF(),jg(),lT(),lE(),cE(),hD(),Ya(),an();var c0={create(i){let l={byId:{},allIds:{}};if(i)for(let[u,m]of i)l.byId[u]=m,l.allIds[u]=!0;return l},shallowCopy(i){return{byId:F({},i==null?void 0:i.byId),allIds:F({},i==null?void 0:i.allIds)}},add(i,l,u){return{byId:N(F({},i==null?void 0:i.byId),{[l]:u}),allIds:N(F({},i==null?void 0:i.allIds),{[l]:!0})}},merge(i){let l=c0.create();for(let u=0;u<i.length;u++)l.byId=F(F({},l.byId),i[u].byId),l.allIds=F(F({},l.allIds),i[u].allIds);return l},remove(i,l){let u=c0.shallowCopy(i);return delete u.allIds[l],delete u.byId[l],u},filter(i,l){let u=c0.shallowCopy(i);for(let[m,w]of Object.entries(u.byId))l(w)||(delete u.allIds[m],delete u.byId[m]);return u}},Yhe=i=>(gj=i,vj),gj,uf=()=>{if(gj===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return gj},vj;(i=>{(l=>{(u=>{(m=>{function w(E){let T=uf().historic;T.panelPositions!=null||(T.panelPositions={}),T.panelPositions[E.panelId]=E.position}m.setPanelPosition=w})(u.panelPositions||(u.panelPositions={})),(m=>{function w(){var E;return(E=uf().historic).panels!=null||(E.panels={}),uf().historic.panels}m._ensure=w,(E=>{function T(){let P=i.studio.historic.panels._ensure();return P.outlinePanel!=null||(P.outlinePanel={}),P.outlinePanel}E._ensure=T,(P=>{function L(K){let Z=[];for(let q of Wf(K))ce(q)?Z.push(F({type:"Project"},q.address)):qe(q)?(Z.push(F({type:"Sheet"},q.template.address)),i.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(q.address)):ht(q)?Z.push(F({type:"Sheet"},q.address)):wt(q)?(Z.push(F({type:"SheetObject"},q.template.address)),i.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(q.sheet.address)):et(q)&&Z.push(F({type:"SheetObject"},q.address));E._ensure().selection=Z}P.set=L;function j(){E._ensure().selection=[]}P.unset=j})(E.selection||(E.selection={}))})(m.outline||(m.outline={})),(E=>{function T(){let P=i.studio.historic.panels._ensure();return P.sequenceEditor!=null||(P.sequenceEditor={}),P.sequenceEditor}E._ensure=T,(P=>{function L(){let K=E._ensure();return K.graphEditor!=null||(K.graphEditor={height:.5,isOpen:!1}),K.graphEditor}function j(K){L().isOpen=K.isOpen}P.setIsOpen=j})(E.graphEditor||(E.graphEditor={}))})(m.sequenceEditor||(m.sequenceEditor={}))})(u.panels||(u.panels={})),(m=>{(w=>{function E(T){let P=uf().historic;return P.projects.stateByProjectId[T.projectId]||(P.projects.stateByProjectId[T.projectId]={stateBySheetId:{}}),P.projects.stateByProjectId[T.projectId]}w._ensure=E,(T=>{function P(j){let K=i.studio.historic.projects.stateByProjectId._ensure(j);return K.stateBySheetId[j.sheetId]||(K.stateBySheetId[j.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),K.stateBySheetId[j.sheetId]}T._ensure=P;function L(j){i.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(j).selectedInstanceId=j.sheetInstanceId}T.setSelectedInstanceId=L,(j=>{function K(re){let{selectedPropsByObject:se}=T._ensure(re).sequenceEditor;se[re.objectKey]||(se[re.objectKey]={});let fe=se[re.objectKey],ye=ov(re.pathToProp),Oe=new Set(Object.keys(YP));for(let[je,yt]of Object.entries(jD(se)))for(let[st,ft]of Object.entries(yt))Oe.delete(ft);let Ie=Oe.size>0?Oe.values().next().value:Object.keys(YP)[0];fe[ye]=Ie}j.addPropToGraphEditor=K;function Z(re){let{selectedPropsByObject:se}=T._ensure(re).sequenceEditor;if(!se[re.objectKey])return;let fe=se[re.objectKey],ye=ov(re.pathToProp);fe[ye]&&Nhe(se,[re.objectKey,ye])}j.removePropFromGraphEditor=Z;function q(re){let se=i.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(re).sequenceEditor;return se.markerSet||(se.markerSet=c0.create()),se.markerSet}function X(re){let se=q(re.sheetAddress),fe=re.markers.filter(je=>!!isFinite(je.position)).map(je=>N(F({},je),{position:re.snappingFunction(je.position)})),ye=Is(fe,"id"),Oe=c0.filter(se,je=>je&&!ye[je.id]),Ie=Is(Object.values(Oe.byId),"position");fe.forEach(({position:je})=>{let yt=Ie[je];yt&&(Oe=c0.remove(Oe,yt.id))}),Object.assign(se,c0.merge([Oe,c0.create(fe.map(je=>[je.id,je]))]))}j.replaceMarkers=X;function ee(re){let se=q(re.sheetAddress);Object.assign(se,c0.remove(se,re.markerId))}j.removeMarker=ee;function $(re){let se=q(re.sheetAddress).byId[re.markerId];se!==void 0&&(se.label=re.label)}j.updateMarker=$})(T.sequenceEditor||(T.sequenceEditor={}))})(w.stateBySheetId||(w.stateBySheetId={}))})(m.stateByProjectId||(m.stateByProjectId={}))})(u.projects||(u.projects={}))})(l.historic||(l.historic={})),(u=>{function m(w){uf().ephemeral.showOutline=w}u.setShowOutline=m,(w=>{(E=>{function T(P){let L=uf().ephemeral;return L.projects.stateByProjectId[P.projectId]||(L.projects.stateByProjectId[P.projectId]={stateBySheetId:{}}),L.projects.stateByProjectId[P.projectId]}E._ensure=T,(P=>{function L(j){let K=i.studio.ephemeral.projects.stateByProjectId._ensure(j);return K.stateBySheetId[j.sheetId]||(K.stateBySheetId[j.sheetId]={stateByObjectKey:{}}),K.stateBySheetId[j.sheetId]}P._ensure=L,(j=>{function K(Z){var q;let X=i.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(Z).stateByObjectKey;return X[q=Z.objectKey]!=null||(X[q]={}),X[Z.objectKey]}j._ensure=K,(Z=>{function q(ee){let $=i.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(ee);return $.valuesBeingScrubbed!=null||($.valuesBeingScrubbed={}),$.valuesBeingScrubbed}Z._ensure=q;function X(ee){q1(q(ee),ee.pathToProp,!0)}Z.flag=X})(j.propsBeingScrubbed||(j.propsBeingScrubbed={}))})(P.stateByObjectKey||(P.stateByObjectKey={}))})(E.stateBySheetId||(E.stateBySheetId={}))})(w.stateByProjectId||(w.stateByProjectId={}))})(u.projects||(u.projects={}))})(l.ephemeral||(l.ephemeral={})),(u=>{function m(L){uf().ahistoric.pinOutline=L}u.setPinOutline=m;function w(L){uf().ahistoric.pinDetails=L}u.setPinDetails=w;function E(L){uf().ahistoric.pinNotifications=L}u.setPinNotifications=E;function T(L){uf().ahistoric.visibilityState=L}u.setVisibilityState=T;function P(L){let j=CB(L.map(q=>q.pathToProp)),K=L.map(({keyframe:q,pathToProp:X})=>({keyframe:q,pathToProp:X.slice(j.length)})),Z=uf();Z.ahistoric.clipboard?Z.ahistoric.clipboard.keyframesWithRelativePaths=K:Z.ahistoric.clipboard={keyframesWithRelativePaths:K}}u.setClipboardKeyframes=P,(L=>{(j=>{function K(Z){let q=uf().ahistoric;return q.projects.stateByProjectId[Z.projectId]||(q.projects.stateByProjectId[Z.projectId]={stateBySheetId:{}}),q.projects.stateByProjectId[Z.projectId]}j._ensure=K,(Z=>{function q(ee){let $=i.studio.ahistoric.projects.stateByProjectId._ensure(ee);return $.collapsedItemsInOutline||($.collapsedItemsInOutline={}),$.collapsedItemsInOutline}Z._ensure=q;function X(ee){let $=i.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(ee);ee.isCollapsed?$[ee.itemKey]=!0:delete $[ee.itemKey]}Z.set=X})(j.collapsedItemsInOutline||(j.collapsedItemsInOutline={})),(Z=>{function q(X){let ee=i.studio.ahistoric.projects.stateByProjectId._ensure(X);return ee.stateBySheetId[X.sheetId]||(ee.stateBySheetId[X.sheetId]={}),ee.stateBySheetId[X.sheetId]}Z._ensure=q,(X=>{function ee($){let re=i.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure($);return re.sequence||(re.sequence={}),re.sequence}X._ensure=ee,($=>{function re(fe){i.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(fe).focusRange={range:fe.range,enabled:fe.enabled}}$.set=re;function se(fe){i.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(fe).focusRange=void 0}$.unset=se})(X.focusRange||(X.focusRange={})),($=>{function re(se){i.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(se).clippedSpaceRange=F({},se.range)}$.set=re})(X.clippedSpaceRange||(X.clippedSpaceRange={})),($=>{function re(fe){let ye=i.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(fe),Oe=ye.collapsableItems;return Oe||(Oe=ye.collapsableItems=c0.create()),Oe}function se(fe){let ye=re(fe);Object.assign(ye,c0.add(ye,fe.studioSheetItemKey,{isCollapsed:fe.isCollapsed}))}$.set=se})(X.sequenceEditorCollapsableItems||(X.sequenceEditorCollapsableItems={}))})(Z.sequence||(Z.sequence={}))})(j.stateBySheetId||(j.stateBySheetId={}))})(L.stateByProjectId||(L.stateByProjectId={}))})(u.projects||(u.projects={}))})(l.ahistoric||(l.ahistoric={}))})(i.studio||(i.studio={})),(l=>{(u=>{(m=>{function w(E){let T=uf().historic.coreByProject[E.projectId].revisionHistory,P=50;T.unshift(E.revision),T.length>P&&(T.length=P)}m.add=w})(u.revisionHistory||(u.revisionHistory={})),(m=>{function w(P){let L=uf().historic.coreByProject[P.projectId].sheetsById;return L[P.sheetId]||(L[P.sheetId]={staticOverrides:{byObject:{}}}),L[P.sheetId]}m._ensure=w;function E(P){let L=uf().historic.coreByProject[P.projectId].sheetsById[P.sheetId];if(!L)return;delete L.staticOverrides.byObject[P.objectKey];let j=L.sequence;j&&delete j.tracksByObject[P.objectKey]}m.forgetObject=E;function T(P){uf().historic.coreByProject[P.projectId].sheetsById[P.sheetId]&&delete uf().historic.coreByProject[P.projectId].sheetsById[P.sheetId]}m.forgetSheet=T,(P=>{function L(st){let ft=i.coreByProject.historic.sheetsById._ensure(st);return ft.sequence!=null||(ft.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),ft.sequence}P._ensure=L;function j(st){L(st).length=kn(parseFloat(st.length.toFixed(2)),.01,1/0)}P.setLength=j;function K(st){var ft;let It=i.coreByProject.historic.sheetsById.sequence._ensure(st).tracksByObject;return It[ft=st.objectKey]!=null||(It[ft]={trackData:{},trackIdByPropPath:{}}),It[st.objectKey]}function Z(st,ft){let It=K(st),vn=ov(st.pathToProp);if(typeof It.trackIdByPropPath[vn]=="string")return;let We=xPe(),Pt={type:"BasicKeyframedTrack",__debugName:"".concat(st.objectKey,":").concat(vn),keyframes:[]};It.trackData[We]=Pt,It.trackIdByPropPath[vn]=We}P.setPrimitivePropAsSequenced=Z;function q(st){let ft=K(st),It=ov(st.pathToProp),vn=ft.trackIdByPropPath[It];typeof vn=="string"&&(delete ft.trackIdByPropPath[It],delete ft.trackData[vn],i.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(st))}P.setPrimitivePropAsStatic=q;function X(st){let ft=K(st);for(let It of Object.keys(ft.trackIdByPropPath)){let vn=JSON.parse(It);if(st.pathToProp.every((We,Pt)=>vn[Pt]===We)){let We=ft.trackIdByPropPath[It];if(typeof We!="string")continue;delete ft.trackIdByPropPath[It],delete ft.trackData[We]}}i.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(st)}P.setCompoundPropAsStatic=X;function ee(st){return K(st).trackData[st.trackId]}function $(st){let ft=ee(st);if(ft)return ft.keyframes.find(It=>It.id===st.keyframeId)}function re(st){let ft=st.snappingFunction(st.position),It=ee(st);if(!It)return;let{keyframes:vn}=It,We=vn.findIndex(Ht=>Ht.position===ft);if(We!==-1){let Ht=vn[We];Ht.value=st.value;return}let Pt=h3(vn,Ht=>Ht.position<ft);if(Pt===-1){vn.unshift({id:Q2(),position:ft,connectedRight:!0,handles:st.handles||[.5,1,.5,0],type:st.type||"bezier",value:st.value});return}let be=vn[Pt];vn.splice(Pt+1,0,{id:Q2(),position:ft,connectedRight:be.connectedRight,handles:st.handles||[.5,1,.5,0],type:st.type||"bezier",value:st.value})}P.setKeyframeAtPosition=re;function se(st){let ft=ee(st);if(!ft)return;let{keyframes:It}=ft,vn=It.findIndex(We=>We.position===st.position);vn!==-1&&It.splice(vn,1)}P.unsetKeyframeAtPosition=se;function fe(st){let ft=ee(st);if(!ft)return;let It=jD(ft.keyframes).filter(vn=>st.keyframeIds.includes(vn.id)).map(vn=>{let We=vn.position,Pt=st.snappingFunction(aOe(We,st));return N(F({},vn),{position:Pt})});yt(N(F({},st),{keyframes:It}))}P.transformKeyframes=fe;function ye(st){let ft=ee(st);ft&&(ft.keyframes=ft.keyframes.map((It,vn)=>{let We=ft.keyframes[vn-1],Pt=st.keyframeIds.includes(It.id),be=st.keyframeIds.includes(We==null?void 0:We.id);return Pt&&!be?N(F({},It),{handles:[It.handles[0],It.handles[1],st.handles[0],st.handles[1]]}):Pt&&be?N(F({},It),{handles:[st.handles[2],st.handles[3],st.handles[0],st.handles[1]]}):be?N(F({},It),{handles:[st.handles[2],st.handles[3],It.handles[2],It.handles[3]]}):It}))}P.setTweenBetweenKeyframes=ye;function Oe(st){var ft,It,vn,We,Pt,be,Ht,hr;let bt=$(st);bt&&(bt.handles=[(It=(ft=st.end)==null?void 0:ft[0])!=null?It:bt.handles[0],(We=(vn=st.end)==null?void 0:vn[1])!=null?We:bt.handles[1],(be=(Pt=st.start)==null?void 0:Pt[0])!=null?be:bt.handles[2],(hr=(Ht=st.start)==null?void 0:Ht[1])!=null?hr:bt.handles[3]])}P.setHandlesForKeyframe=Oe;function Ie(st){let ft=ee(st);ft&&(ft.keyframes=ft.keyframes.filter(It=>st.keyframeIds.indexOf(It.id)===-1))}P.deleteKeyframes=Ie;function je(st){let ft=$(st);ft&&(ft.type=st.keyframeType)}P.setKeyframeType=je;function yt(st){let ft=ee(st);if(!ft)return;let It=jD(ft.keyframes),vn=st.keyframes.filter(hr=>!(typeof hr.value=="number"&&!isFinite(hr.value)||!hr.handles.every(bt=>isFinite(bt)))).map(hr=>N(F({},hr),{position:st.snappingFunction(hr.position)})),We=Is(vn,"id"),Pt=It.filter(hr=>!We[hr.id]),be=Is(Pt,"position");vn.forEach(({position:hr})=>{let bt=be[hr];bt&&k3(Pt,bt)});let Ht=R3([...Pt,...vn],"position");ft.keyframes=Ht}P.replaceKeyframes=yt})(m.sequence||(m.sequence={})),(P=>{(L=>{function j(X){var ee;let $=i.coreByProject.historic.sheetsById._ensure(X).staticOverrides.byObject;return $[ee=X.objectKey]!=null||($[ee]={}),$[X.objectKey]}function K(X){let ee=j(X);q1(ee,X.pathToProp,X.value)}L.setValueOfCompoundProp=K;function Z(X){let ee=j(X);q1(ee,X.pathToProp,X.value)}L.setValueOfPrimitiveProp=Z;function q(X){let ee=i.coreByProject.historic.sheetsById._ensure(X).staticOverrides.byObject[X.objectKey];ee&&Nhe(ee,X.pathToProp)}L.unsetValueOfPrimitiveProp=q})(P.byObject||(P.byObject={}))})(m.staticOverrides||(m.staticOverrides={}))})(u.sheetsById||(u.sheetsById={}))})(l.historic||(l.historic={}))})(i.coreByProject||(i.coreByProject={}))})(vj||(vj={}));function yj(){let i,l,u=new Promise((w,E)=>{i=T=>{w(T),m.status="resolved"},l=T=>{E(T),m.status="rejected"}}),m={resolve:i,reject:l,promise:u,status:"pending"};return m}var yOe=$n;function _Oe(i){let l=i.getState(),u=new yOe.Atom(l);return i.subscribe(()=>{let m=i.getState();u.set(m),l=m}),u}s();function wOe(i){var l,u=i.Symbol;return typeof u=="function"?u.observable?l=u.observable:(l=u("observable"),u.observable=l):l="@@observable",l}var ak;typeof self<"u"?ak=self:typeof window<"u"?ak=window:typeof ru<"u"?ak=ru:ak=n;var SOe=wOe(ak),Qhe=SOe,qhe={INIT:"@@redux/INIT"};function Jhe(i,l,u){var m;if(typeof l=="function"&&typeof u>"u"&&(u=l,l=void 0),typeof u<"u"){if(typeof u!="function")throw new Error("Expected the enhancer to be a function.");return u(Jhe)(i,l)}if(typeof i!="function")throw new Error("Expected the reducer to be a function.");var w=i,E=l,T=[],P=T,L=!1;function j(){P===T&&(P=T.slice())}function K(){return E}function Z($){if(typeof $!="function")throw new Error("Expected listener to be a function.");var re=!0;return j(),P.push($),function(){if(re){re=!1,j();var se=P.indexOf($);P.splice(se,1)}}}function q($){if(!S($))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof $.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(L)throw new Error("Reducers may not dispatch actions.");try{L=!0,E=w(E,$)}finally{L=!1}for(var re=T=P,se=0;se<re.length;se++){var fe=re[se];fe()}return $}function X($){if(typeof $!="function")throw new Error("Expected the nextReducer to be a function.");w=$,q({type:qhe.INIT})}function ee(){var $,re=Z;return $={subscribe:function(se){if(typeof se!="object")throw new TypeError("Expected the observer to be an object.");function fe(){se.next&&se.next(K())}fe();var ye=re(fe);return{unsubscribe:ye}}},$[Qhe]=function(){return this},$}return q({type:qhe.INIT}),m={dispatch:q,subscribe:Z,getState:K,replaceReducer:X},m[Qhe]=ee,m}function xOe(){for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return l.length===0?function(m){return m}:l.length===1?l[0]:l.reduce(function(m,w){return function(){return m(w.apply(void 0,arguments))}})}function bOe(i){let l=xOe();return Jhe(i.rootReducer,void 0,l)}gD(),$M();var _j=new WeakMap,EOe=(i,l,u)=>{let m=L=>{i.dispatch(yA.replacePersistentState(L))},w=Zhe(u),E=()=>i.getState().$persistent;P();let T=()=>{let L=E(),j=_j.get(i);L!==j&&(_j.set(i,L),localStorage.setItem(w,JSON.stringify(L)))};i.subscribe(rE(T,1e3)),window&&window.addEventListener("beforeunload",T);function P(){let L=localStorage.getItem(w);if(L){let j,K=!0;try{j=JSON.parse(L),K=!1}catch{mD.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{K||m(j),l()}}else l()}},AOe=(i,l)=>{let u=Zhe(l),m=i.getState().$persistent;localStorage.removeItem(u),_j.set(i,m)};function Zhe(i){return i+".persistent"}ote(),an(),Ch(),Ae(),QO();var VD=$n;f_(),Ya(),Vde();function wj(i){if(typeof i=="boolean"||typeof i=="string"||typeof i=="number")return i;if(S(i)){let l={},u=!1;for(let[m,w]of Object.entries(i))wj(w)!==void 0&&(l[m]=w,u=!0);if(u)return l}else return}function $he(i,l,u){for(let[m,w]of Object.entries(i.props))if(w.type==="compound")$he(w,[...l,m],u);else{if(w.type==="enum")throw new Error("Not yet implemented");u(w,[...l,m])}}function COe(i,l,u){return{set:(m,w)=>{i();let E=wj(w);if(typeof E>"u")return;let{root:T,path:P}=(0,VD.getPointerParts)(m);if(wt(T)){let L=T.template.getMapOfValidSequenceTracks_forStudio().getValue(),j=VO(T.template.staticConfig,P);if(!j)throw new Error("Object ".concat(T.address.objectKey," does not have a prop at ").concat(JSON.stringify(P)));let K=(Z,q,X)=>{if(Z==null)return;if(wj(q.deserializeAndSanitize(Z))===void 0)throw new Error("Invalid value ".concat(k9(Z)," for object.props").concat(X.map(re=>"[".concat(JSON.stringify(re),"]")).join("")," is invalid"));let ee=N(F({},T.address),{pathToProp:X}),$=Kd(L,X);if(typeof $=="string"){let re=T.sheet.getSequence();re.position=re.closestGridPosition(re.position),l.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(N(F({},ee),{trackId:$,position:re.position,value:Z,snappingFunction:re.closestGridPosition,type:"bezier"}))}else l.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(N(F({},ee),{value:Z}))};if(j.type==="compound"){let Z=(0,VD.getPointerParts)(m).path,q=Z.length;$he(j,Z,(X,ee)=>{let $=ee.slice(q),re=p_(E,$);if(typeof re<"u")K(re,X,ee);else throw new Error("Property object.props".concat(ee.map(se=>"[".concat(JSON.stringify(se),"]")).join("")," is required but not provided"))})}else{if(j.type==="enum")throw new Error("Enums aren't implemented yet");K(E,j,P)}}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},unset:m=>{i();let{root:w,path:E}=(0,VD.getPointerParts)(m);if(wt(w)){let T=w.template.getMapOfValidSequenceTracks_forStudio().getValue(),P=p_(w.template.getDefaultValues().getValue(),E),L=VO(w.template.staticConfig,E),j=(K,Z)=>{let q=N(F({},w.address),{pathToProp:Z}),X=Kd(T,Z);typeof X=="string"?l.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(N(F({},q),{trackId:X,position:w.sheet.getSequence().positionSnappedToGrid})):L!==void 0&&l.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(q)};L.type==="compound"?mt(P,(K,Z)=>{j(K,Z)},(0,VD.getPointerParts)(m).path):j(P,E)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return i(),u},get stateEditors(){return l}}}var MOe=class{constructor(){_e(this,"_reduxStore"),_e(this,"_atom"),_e(this,"atomP"),this._reduxStore=bOe({rootReducer:sOe,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=_Oe(this._reduxStore),this.atomP=this._atom.pointer}initialize(i){let l=yj();return i.usePersistentStorage===!0?EOe(this._reduxStore,()=>{this.tempTransaction(({drafts:u})=>{u.ephemeral.initialised=!0}).commit(),l.resolve()},i.persistenceKey):(this.tempTransaction(({drafts:u})=>{u.ephemeral.initialised=!0}).commit(),l.resolve()),l.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(i){return AOe(this._reduxStore,i),this.getState()}__dev_startHistoryFromScratch(i){this._reduxStore.dispatch(yA.historic.startHistoryFromScratch(yA.reduceParts(l=>N(F({},l),{historic:i}))))}tempTransaction(i){let l=oOe(),u,m=l.push(yA.reduceParts(w=>{let E={historic:pj(w.historic),ahistoric:pj(w.ahistoric),ephemeral:pj(w.ephemeral)},T=!0,P=()=>{if(!T)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},L=Yhe(E),j=COe(P,L,E);try{return i(j),T=!1,{historic:mj(E.historic),ahistoric:mj(E.ahistoric),ephemeral:mj(E.ephemeral)}}catch(K){return u=K,w}finally{Yhe(void 0)}}));if(this._reduxStore.dispatch(m),u)throw this._reduxStore.dispatch(l.discard()),u;return{commit:()=>{this._reduxStore.dispatch(l.commit())},discard:()=>{this._reduxStore.dispatch(l.discard())}}}undo(){this._reduxStore.dispatch(yA.historic.undo())}redo(){this._reduxStore.dispatch(yA.historic.redo())}createContentOfSaveFile(i){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[i])throw new Error("Project ".concat(i," has not been initialized."));let l=ite();this.tempTransaction(({stateEditors:m})=>{m.coreByProject.historic.revisionHistory.add({projectId:i,revision:l})}).commit();let u=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[i];return F({},u)}},TOe=$n,Sj=class{constructor(){_e(this,"_values",{})}get(i,l){if(this.has(i))return this._values[i];{let u=l();return this._values[i]=u,u}}has(i){return this._values.hasOwnProperty(i)}};an(),l_(),Ze(),Ya(),C9();var POe=class{constructor(i){_e(this,"ui",{hide(){xe().ui.hide()},get isHidden(){return xe().ui.isHidden},restore(){xe().ui.restore()},renderToolset(l,u){return xe().ui.renderToolset(l,u)}}),_e(this,"_cache",new Sj),_e(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){BRe()},__experimental_enablePlayPauseKeyboardShortcut(){DRe()},__experimental_clearPersistentStorage(l){return xe().clearPersistentStorage(l)},__experimental_createContentOfSaveFileTyped(l){return xe().createContentOfSaveFile(l)}})}initialize(i){return xe().initialize(i)}extend(i,l){xe().extend(i,l)}transaction(i){return xe().transaction(({set:l,unset:u,stateEditors:m})=>i({set:l,unset:u,__experimental_forgetObject:w=>{if(!Ot(w))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");m.coreByProject.historic.sheetsById.forgetObject(w.address)},__experimental_forgetSheet:w=>{if(!Nt(w))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");m.coreByProject.historic.sheetsById.forgetSheet(w.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,TOe.prism)(()=>a_().filter(i=>i.type==="Theatre_SheetObject"||i.type==="Theatre_Sheet").map(i=>i.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(i){let l=[...i].filter(u=>Ot(u)||Nt(u)).map(u=>xe().corePrivateAPI(u));xe().transaction(({stateEditors:u})=>{u.studio.historic.panels.outline.selection.set(l)})}onSelectionChange(i){let l=xe();return this._getSelectionPrism().onChange(l.ticker,i,!0)}get selection(){return this._getSelection()}scrub(){return xe().scrub()}getStudioProject(){let i=xe().core;if(!i)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return xe().getStudioProject(i)}debouncedScrub(i=1e3){let l,u=rE(()=>{let m=l;m&&(l=void 0,m.commit())},i);return{capture:m=>{l||(l=this.scrub());let w=!0;try{l.capture(m),w=!1}finally{if(w){let E=l;l=void 0,E.discard()}else u()}}}}createPane(i){return xe().paneManager.createPane(i)}destroyPane(i){return xe().paneManager.destroyPane(i)}createContentOfSaveFile(i){return xe().createContentOfSaveFile(i)}};Y2();var yx=$n,kOe=class{constructor(i){this._studio=i,_e(this,"_cache",new Sj),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let i=this._getAllPanes();i.onStale(()=>{i.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,yx.prism)(()=>{if(!(0,yx.val)(this._studio.coreP))return{};let i=(0,yx.val)(this._studio.atomP.historic.panelInstanceDesceriptors),l=(0,yx.val)(this._studio.atomP.ephemeral.extensions.paneClasses),u={};for(let m of Object.values(i)){if(!m)continue;let w=l[m.paneClass];if(!w)continue;let{instanceId:E}=m,{extensionId:T,classDefinition:P}=w,L=yx.prism.memo("instance-".concat(m.instanceId),()=>({extensionId:T,instanceId:E,definition:P}),[P]);u[E]=L}return u}))}get allPanesD(){return this._getAllPanes()}createPane(i){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let l=(0,yx.val)(this._studio.atomP.ephemeral.extensions.paneClasses[i].extensionId),u=(0,yx.val)(this._studio.atomP.historic.panelInstanceDesceriptors),m;for(let w=1;w<1e3&&(m="".concat(i," #").concat(w),!!u[m]);w++);if(!l)throw new Error('Pane class "'.concat(i,'" is not registered.'));return this._studio.transaction(({drafts:w})=>{w.historic.panelInstanceDesceriptors[m]={instanceId:m,paneClass:i}}),this._getAllPanes().getValue()[m]}destroyPane(i){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:l})=>{delete l.historic.panelInstanceDesceriptors[i]})}},WD=$n;Ze();var epe=30*60*1e3,IOe=1e3*60*60;function ROe(){return Se(this,null,function*(){let i=xe().atomP.ahistoric.visibilityState;if((0,WD.val)(i)==="everythingIsVisible")return;let l=yj(),u=(0,WD.pointerToPrism)(i).onStale(()=>{(0,WD.val)(i)==="everythingIsVisible"&&(u(),l.resolve(void 0))});return l.promise})}function OOe(){return Se(this,null,function*(){if(!"0.7.0".match(/COMPAT/))for(yield XD(500),yield ROe();;){let i=(0,WD.val)(xe().atomP.ahistoric.updateChecker);if(i&&i.result!=="error"){let l=i.lastChecked,u=Date.now(),m=Math.abs(u-l);m<epe&&(yield XD(epe-m))}try{let l=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.0"));if(l.ok){let u=yield l.json();if(!BOe(u))throw new Error("Bad response");xe().transaction(({drafts:m})=>{m.ahistoric.updateChecker={lastChecked:Date.now(),result:F({},u)}}),yield XD(1e3)}else throw new Error("HTTP Error ".concat(l.statusText))}catch{yield XD(IOe)}}})}var XD=i=>new Promise(l=>setTimeout(l,i));function BOe(i){if(typeof i!="object")return!1;let l=i;return typeof l.hasUpdates!="boolean"?!1:l.hasUpdates===!0&&typeof l.newVersion=="string"&&typeof l.releasePage=="string"||l.hasUpdates===!1}var DOe=Y(gT());function Uy(i){return new Promise((l,u)=>{i.oncomplete=i.onsuccess=()=>l(i.result),i.onabort=i.onerror=()=>u(i.error)})}function tpe(i,l){let u=indexedDB.open(i);u.onupgradeneeded=()=>u.result.createObjectStore(l);let m=Uy(u);return(w,E)=>m.then(T=>E(T.transaction(l,w).objectStore(l)))}var xj;function SA(){return xj||(xj=tpe("keyval-store","keyval")),xj}function LOe(i,l=SA()){return l("readonly",u=>Uy(u.get(i)))}function NOe(i,l,u=SA()){return u("readwrite",m=>(m.put(l,i),Uy(m.transaction)))}function FOe(i,l=SA()){return l("readwrite",u=>(u.delete(i),Uy(u.transaction)))}function bj(i,l){return i.openCursor().onsuccess=function(){this.result&&(l(this.result),this.result.continue())},Uy(i.transaction)}function zOe(i=SA()){return i("readonly",l=>{if(l.getAllKeys)return Uy(l.getAllKeys());let u=[];return bj(l,m=>u.push(m.key)).then(()=>u)})}function UOe(i=SA()){return i("readonly",l=>{if(l.getAll)return Uy(l.getAll());let u=[];return bj(l,m=>u.push(m.value)).then(()=>u)})}function jOe(i=SA()){return i("readonly",l=>{if(l.getAll&&l.getAllKeys)return Promise.all([Uy(l.getAllKeys()),Uy(l.getAll())]).then(([m,w])=>m.map((E,T)=>[E,w[T]]));let u=[];return i("readonly",m=>bj(m,w=>u.push([w.key,w.value])).then(()=>u))})}var HOe=i=>{let l=tpe("theatrejs-".concat(i),"default-store");return{set:(u,m)=>NOe(u,m,l),get:u=>LOe(u,l),del:u=>FOe(u,l),keys:()=>zOe(l),entries:()=>jOe(l),values:()=>UOe(l)}};Pne(),PP();var npe="theatre-0.4",GOe=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,VOe="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",WOe=class{constructor(){_e(this,"ui"),_e(this,"publicApi"),_e(this,"address"),_e(this,"_projectsProxy",new BD.PointerProxy(new BD.Atom({}).pointer)),_e(this,"projectsP",this._projectsProxy.pointer),_e(this,"_store",new MOe),_e(this,"_corePrivateApi"),_e(this,"_cache",new Sj),_e(this,"paneManager"),_e(this,"_coreAtom",new BD.Atom({})),_e(this,"_initializedDeferred",yj()),_e(this,"_initializeFnCalled",!1),_e(this,"_didWarnAboutNotInitializing",!1),_e(this,"_coreBits"),_e(this,"_rafDriver"),this.address={studioId:gP(10)},this.publicApi=new POe(this),this.ui=new F3e(this),this._attachToIncomingProjects(),this.paneManager=new kOe(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(GOe),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(i){return Se(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(VOe);let l={persistenceKey:npe,usePersistentStorage:!0};if(typeof(i==null?void 0:i.persistenceKey)=="string"&&(l.persistenceKey=i.persistenceKey),((i==null?void 0:i.usePersistentStorage)===!1||typeof window>"u")&&(l.usePersistentStorage=!1),i!=null&&i.__experimental_rafDriver){if(i.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let u=this._coreBits.privateAPI(i.__experimental_rafDriver);if(!u)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=u}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(l)}catch(u){this._initializedDeferred.reject(u);return}typeof window<"u"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),OOe().catch(u=>{console.error(u)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let i=(0,BD.pointerToPrism)(this.projectsP),l=u=>{for(let m of Object.values(u))m.isAttachedToStudio||m.attachToStudio(this)};i.onStale(()=>{l(i.getValue())}),l(i.getValue())}setCoreBits(i){this._coreBits=i,this._corePrivateApi=i.privateAPI,this._coreAtom.setByPointer(l=>l.core,i.coreExports),this._setProjectsP(i.projectsP)}_setProjectsP(i){this._projectsProxy.setPointer(i)}scrub(){return new L3e(this)}tempTransaction(i){return this._store.tempTransaction(i)}transaction(i){return this.tempTransaction(i).commit()}__dev_startHistoryFromScratch(i){return this._store.__dev_startHistoryFromScratch(i)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(i,l){if(!i||typeof i!="object")throw new Error("Extensions must be JS objects");if(typeof i.id!="string")throw new Error("extension.id must be a string");let u=(l==null?void 0:l.__experimental_reconfigure)===!0,m=i.id,w=this._store.getState().ephemeral.extensions.byId[m];if(w&&!u){if(i===w||(0,DOe.default)(i,w))return;throw new Error('Extension id "'.concat(i.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:E})=>{var T,P;E.ephemeral.extensions.byId[i.id]=i;let L=E.ephemeral.extensions.paneClasses;u&&w&&((T=w.panes)==null||T.forEach(j=>{delete L[j.class]})),(P=i.panes)==null||P.forEach(j=>{if(typeof j.class!="string")throw new Error("pane.class must be a string");if(j.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let K=L[j.class];if(K)if(u&&K.extensionId===i.id)console.warn('Pane class "'.concat(j.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(j.class,'" already exists and is supplied by extension ').concat(K));L[j.class]={extensionId:i.id,classDefinition:j}})})}getStudioProject(i){return this._cache.get("getStudioProject",()=>i.getProject("Studio"))}getExtensionSheet(i,l){return this._cache.get("extensionSheet-"+i,()=>this.getStudioProject(l).sheet("Extension "+i))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(i){return this._store.createContentOfSaveFile(i)}createAssetStorage(i,l){return Se(this,null,function*(){if(typeof window>"u")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:j=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:j=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let u=HOe("".concat(i.address.projectId,"-assets")),m=B8(i),w=yield u.keys();yield Promise.all(w.map(j=>Se(this,null,function*(){m.includes(j)||(yield u.del(j))}))),yield Promise.all(w.map(j=>Se(this,null,function*(){var K,Z;let q="".concat(l,"/").concat(j);try{(yield fetch(q,{method:"HEAD"})).ok&&(yield u.del(j))}catch{TP.error("Failed to access assets","Failed to access assets at ".concat((Z=(K=i.config.assets)==null?void 0:K.baseUrl)!=null?Z:"/",". This is likely due to a CORS issue."))}})));let E=new Map(yield u.entries()),T=new Map,P=j=>{if(T.has(j))return T.get(j);{let K=URL.createObjectURL(j);return T.set(j,K),K}},L=j=>{let K=E.get(j);if(!K)throw new Error("Asset with id ".concat(j," not found"));return P(K)};return{getAssetUrl:j=>E.has(j)?L(j):"".concat(l,"/").concat(j),createAsset:j=>Se(this,null,function*(){var K,Z,q;let X=B8(i),ee=!1;if(X.includes(j.name)){let $;try{$=(K=E.get(j.name))!=null?K:yield fetch("".concat(l,"/").concat(j.name)).then(re=>re.ok?re.blob():void 0)}catch{return TP.error("Failed to access assets","Failed to access assets at ".concat((q=(Z=i.config.assets)==null?void 0:Z.baseUrl)!=null?q:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if($){if(ee=yield(yield Promise.resolve().then(()=>Y(B3e()))).default.isEqual(j,$),ee)return j.name;{let re=se=>{let fe=prompt(se,j.name);return fe===null?!1:fe===""?re("Asset name cannot be empty. Please choose a different file name for this asset."):X.includes(fe)?(console.log(X),re("An asset with this name already exists. Please choose a different file name for this asset.")):(j=new File([j],fe,{type:j.type}),!0)};if(!re("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return E.set(j.name,j),yield u.set(j.name,j),j.name})}})}clearPersistentStorage(i=npe){this._store.__experimental_clearPersistentStorage(i)}},Ej="__TheatreJS_StudioBundle",XOe="__TheatreJS_CoreBundle",KOe="__TheatreJS_Notifications",YOe=class{constructor(i){this._studio=i,_e(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(i){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=i;let l;i.getBitsForStudio(this._studio,u=>{l=u}),this._studio.setCoreBits(l)}},QOe=Y(Rt());Lt();var rpe,qOe=Ue.div(rpe||(rpe=J([""]))),JOe=i=>QOe.default.createElement(qOe,null),ZOe=JOe;PP();var Aj=new WOe;Ve(Aj);var $Oe=Aj.publicApi,eBe=$Oe;tBe();function tBe(){if(typeof window>"u")return;let i=window[Ej];if(typeof i<"u")throw typeof i=="object"&&i&&typeof i.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(Ej," seems to be already set by a module other than @theatre/core."));let l=new YOe(Aj);window[Ej]=l;let u=window[XOe];u&&u!==null&&u.type==="Theatre_CoreBundle"&&l.registerCoreBundle(u)}typeof window<"u"&&(window[KOe]={notify:TP});/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)

	queue-microtask/index.js:
	  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

	react/cjs/react.production.min.js:
	  (**
	   * @license React
	   * react.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	scheduler/cjs/scheduler.production.min.js:
	  (**
	   * @license React
	   * scheduler.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-dom/cjs/react-dom.production.min.js:
	  (**
	   * @license React
	   * react-dom.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v17.0.2
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v16.13.1
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	jszip/dist/jszip.min.js:
	  (*!
	  
	  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	  <http://stuartk.com/jszip>
	  
	  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
	  
	  JSZip uses the library pako released under the MIT license :
	  https://github.com/nodeca/pako/blob/main/LICENSE
	  *)

	jiff/lib/lcs.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/array.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointerParse.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointer.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/clone.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPatch.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/jiff.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
	*/})(WL,WL.exports);var g5e=WL.exports;const Em=DN(g5e);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const PM="155",Xx={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Kx={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},J_e=0,$G=1,Z_e=2,v5e=3,uX=0,FR=1,ww=2,pg=3,Fv=0,Xh=1,mf=2,y5e=2,g1=0,cb=1,eV=2,tV=3,nV=4,$_e=5,$x=100,ewe=101,twe=102,rV=103,iV=104,nwe=200,rwe=201,iwe=202,owe=203,cX=204,dX=205,swe=206,awe=207,lwe=208,uwe=209,cwe=210,dwe=0,fwe=1,hwe=2,XL=3,pwe=4,mwe=5,gwe=6,vwe=7,zR=0,ywe=1,_we=2,R0=0,wwe=1,Swe=2,xwe=3,NN=4,bwe=5,FN=300,zv=301,Lw=302,lM=303,$I=304,kM=306,Nw=1e3,gf=1001,uM=1002,Cu=1003,eR=1004,_5e=1004,qC=1005,w5e=1005,aa=1006,zN=1007,S5e=1007,Uv=1008,x5e=1008,O0=1009,Ewe=1010,Awe=1011,UN=1012,fX=1013,u1=1014,vf=1015,uh=1016,hX=1017,pX=1018,Sw=1020,Cwe=1021,ah=1023,Mwe=1024,Twe=1025,xw=1026,yb=1027,mX=1028,gX=1029,Pwe=1030,vX=1031,yX=1033,bL=33776,EL=33777,AL=33778,CL=33779,oV=35840,sV=35841,aV=35842,lV=35843,kwe=36196,uV=37492,cV=37496,dV=37808,fV=37809,hV=37810,pV=37811,mV=37812,gV=37813,vV=37814,yV=37815,_V=37816,wV=37817,SV=37818,xV=37819,bV=37820,EV=37821,ML=36492,Iwe=36283,AV=36284,CV=36285,MV=36286,Rwe=2200,Owe=2201,Bwe=2202,cM=2300,_b=2301,TL=2302,tb=2400,nb=2401,tR=2402,jN=2500,_X=2501,Dwe=0,wX=1,KL=2,SX=3e3,bw=3001,Lwe=3200,Nwe=3201,Vw=0,Fwe=1,Ew="",Io="srgb",L0="srgb-linear",xX="display-p3",b5e=0,PL=7680,E5e=7681,A5e=7682,C5e=7683,M5e=34055,T5e=34056,P5e=5386,k5e=512,I5e=513,R5e=514,O5e=515,B5e=516,D5e=517,L5e=518,zwe=519,Uwe=512,jwe=513,Hwe=514,Gwe=515,Vwe=516,Wwe=517,Xwe=518,Kwe=519,nR=35044,N5e=35048,F5e=35040,z5e=35045,U5e=35049,j5e=35041,H5e=35046,G5e=35050,V5e=35042,W5e="100",YL="300 es",QL=1035,Iv=2e3,rR=2001;class jv{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const o=this._listeners[e];if(o!==void 0){const a=o.indexOf(t);a!==-1&&o.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const o=r.slice(0);for(let a=0,c=o.length;a<c;a++)o[a].call(this,e);e.target=null}}}const th=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Kge=1234567;const db=Math.PI/180,dM=180/Math.PI;function Cm(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(th[n&255]+th[n>>8&255]+th[n>>16&255]+th[n>>24&255]+"-"+th[e&255]+th[e>>8&255]+"-"+th[e>>16&15|64]+th[e>>24&255]+"-"+th[t&63|128]+th[t>>8&255]+"-"+th[t>>16&255]+th[t>>24&255]+th[r&255]+th[r>>8&255]+th[r>>16&255]+th[r>>24&255]).toLowerCase()}function Mu(n,e,t){return Math.max(e,Math.min(t,n))}function bX(n,e){return(n%e+e)%e}function X5e(n,e,t,r,o){return r+(n-e)*(o-r)/(t-e)}function K5e(n,e,t){return n!==e?(t-n)/(e-n):0}function DI(n,e,t){return(1-t)*n+t*e}function Y5e(n,e,t,r){return DI(n,e,1-Math.exp(-t*r))}function Q5e(n,e=1){return e-Math.abs(bX(n,e*2)-e)}function q5e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function J5e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Z5e(n,e){return n+Math.floor(Math.random()*(e-n+1))}function $5e(n,e){return n+Math.random()*(e-n)}function e4e(n){return n*(.5-Math.random())}function t4e(n){n!==void 0&&(Kge=n);let e=Kge+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function n4e(n){return n*db}function r4e(n){return n*dM}function TV(n){return(n&n-1)===0&&n!==0}function Ywe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function qL(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function i4e(n,e,t,r,o){const a=Math.cos,c=Math.sin,p=a(t/2),g=c(t/2),_=a((e+r)/2),b=c((e+r)/2),C=a((e-r)/2),k=c((e-r)/2),B=a((r-e)/2),z=c((r-e)/2);switch(o){case"XYX":n.set(p*b,g*C,g*k,p*_);break;case"YZY":n.set(g*k,p*b,g*C,p*_);break;case"ZXZ":n.set(g*C,g*k,p*b,p*_);break;case"XZX":n.set(p*b,g*z,g*B,p*_);break;case"YXY":n.set(g*B,p*b,g*z,p*_);break;case"ZYZ":n.set(g*z,g*B,p*b,p*_);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}function Bp(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Bo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Qwe={DEG2RAD:db,RAD2DEG:dM,generateUUID:Cm,clamp:Mu,euclideanModulo:bX,mapLinear:X5e,inverseLerp:K5e,lerp:DI,damp:Y5e,pingpong:Q5e,smoothstep:q5e,smootherstep:J5e,randInt:Z5e,randFloat:$5e,randFloatSpread:e4e,seededRandom:t4e,degToRad:n4e,radToDeg:r4e,isPowerOfTwo:TV,ceilPowerOfTwo:Ywe,floorPowerOfTwo:qL,setQuaternionFromProperEuler:i4e,normalize:Bo,denormalize:Bp};class Vn{constructor(e=0,t=0){Vn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,o=e.elements;return this.x=o[0]*t+o[3]*r+o[6],this.y=o[1]*t+o[4]*r+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Mu(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),o=Math.sin(t),a=this.x-e.x,c=this.y-e.y;return this.x=a*r-c*o+e.x,this.y=a*o+c*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Lo{constructor(e,t,r,o,a,c,p,g,_){Lo.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,o,a,c,p,g,_)}set(e,t,r,o,a,c,p,g,_){const b=this.elements;return b[0]=e,b[1]=o,b[2]=p,b[3]=t,b[4]=a,b[5]=g,b[6]=r,b[7]=c,b[8]=_,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,o=t.elements,a=this.elements,c=r[0],p=r[3],g=r[6],_=r[1],b=r[4],C=r[7],k=r[2],B=r[5],z=r[8],F=o[0],N=o[3],D=o[6],A=o[1],G=o[4],Q=o[7],ae=o[2],Y=o[5],ge=o[8];return a[0]=c*F+p*A+g*ae,a[3]=c*N+p*G+g*Y,a[6]=c*D+p*Q+g*ge,a[1]=_*F+b*A+C*ae,a[4]=_*N+b*G+C*Y,a[7]=_*D+b*Q+C*ge,a[2]=k*F+B*A+z*ae,a[5]=k*N+B*G+z*Y,a[8]=k*D+B*Q+z*ge,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],o=e[2],a=e[3],c=e[4],p=e[5],g=e[6],_=e[7],b=e[8];return t*c*b-t*p*_-r*a*b+r*p*g+o*a*_-o*c*g}invert(){const e=this.elements,t=e[0],r=e[1],o=e[2],a=e[3],c=e[4],p=e[5],g=e[6],_=e[7],b=e[8],C=b*c-p*_,k=p*g-b*a,B=_*a-c*g,z=t*C+r*k+o*B;if(z===0)return this.set(0,0,0,0,0,0,0,0,0);const F=1/z;return e[0]=C*F,e[1]=(o*_-b*r)*F,e[2]=(p*r-o*c)*F,e[3]=k*F,e[4]=(b*t-o*g)*F,e[5]=(o*a-p*t)*F,e[6]=B*F,e[7]=(r*g-_*t)*F,e[8]=(c*t-r*a)*F,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,o,a,c,p){const g=Math.cos(a),_=Math.sin(a);return this.set(r*g,r*_,-r*(g*c+_*p)+c+e,-o*_,o*g,-o*(-_*c+g*p)+p+t,0,0,1),this}scale(e,t){return this.premultiply(a7.makeScale(e,t)),this}rotate(e){return this.premultiply(a7.makeRotation(-e)),this}translate(e,t){return this.premultiply(a7.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let o=0;o<9;o++)if(t[o]!==r[o])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const a7=new Lo;function qwe(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const o4e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function RC(n,e){return new o4e[n](e)}function iR(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}const Yge={};function LI(n){n in Yge||(Yge[n]=!0,console.warn(n))}function JC(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function l7(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const s4e=new Lo().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),a4e=new Lo().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function l4e(n){return n.convertSRGBToLinear().applyMatrix3(a4e)}function u4e(n){return n.applyMatrix3(s4e).convertLinearToSRGB()}const c4e={[L0]:n=>n,[Io]:n=>n.convertSRGBToLinear(),[xX]:l4e},d4e={[L0]:n=>n,[Io]:n=>n.convertLinearToSRGB(),[xX]:u4e},fg={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return L0},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=c4e[e],o=d4e[t];if(r===void 0||o===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return o(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let YA;class EX{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{YA===void 0&&(YA=iR("canvas")),YA.width=e.width,YA.height=e.height;const r=YA.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=YA}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=iR("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const o=r.getImageData(0,0,e.width,e.height),a=o.data;for(let c=0;c<a.length;c++)a[c]=JC(a[c]/255)*255;return r.putImageData(o,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(JC(t[r]/255)*255):t[r]=JC(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let f4e=0;class rb{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:f4e++}),this.uuid=Cm(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},o=this.data;if(o!==null){let a;if(Array.isArray(o)){a=[];for(let c=0,p=o.length;c<p;c++)o[c].isDataTexture?a.push(u7(o[c].image)):a.push(u7(o[c]))}else a=u7(o);r.url=a}return t||(e.images[this.uuid]=r),r}}function u7(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?EX.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let h4e=0;class el extends jv{constructor(e=el.DEFAULT_IMAGE,t=el.DEFAULT_MAPPING,r=gf,o=gf,a=aa,c=Uv,p=ah,g=O0,_=el.DEFAULT_ANISOTROPY,b=Ew){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:h4e++}),this.uuid=Cm(),this.name="",this.source=new rb(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=a,this.minFilter=c,this.anisotropy=_,this.format=p,this.internalFormat=null,this.type=g,this.offset=new Vn(0,0),this.repeat=new Vn(1,1),this.center=new Vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Lo,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof b=="string"?this.colorSpace=b:(LI("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=b===bw?Io:Ew),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==FN)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Nw:e.x=e.x-Math.floor(e.x);break;case gf:e.x=e.x<0?0:1;break;case uM:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Nw:e.y=e.y-Math.floor(e.y);break;case gf:e.y=e.y<0?0:1;break;case uM:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return LI("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Io?bw:SX}set encoding(e){LI("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===bw?Io:Ew}}el.DEFAULT_IMAGE=null;el.DEFAULT_MAPPING=FN;el.DEFAULT_ANISOTROPY=1;class Es{constructor(e=0,t=0,r=0,o=1){Es.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,o){return this.x=e,this.y=t,this.z=r,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,o=this.z,a=this.w,c=e.elements;return this.x=c[0]*t+c[4]*r+c[8]*o+c[12]*a,this.y=c[1]*t+c[5]*r+c[9]*o+c[13]*a,this.z=c[2]*t+c[6]*r+c[10]*o+c[14]*a,this.w=c[3]*t+c[7]*r+c[11]*o+c[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,o,a;const g=e.elements,_=g[0],b=g[4],C=g[8],k=g[1],B=g[5],z=g[9],F=g[2],N=g[6],D=g[10];if(Math.abs(b-k)<.01&&Math.abs(C-F)<.01&&Math.abs(z-N)<.01){if(Math.abs(b+k)<.1&&Math.abs(C+F)<.1&&Math.abs(z+N)<.1&&Math.abs(_+B+D-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const G=(_+1)/2,Q=(B+1)/2,ae=(D+1)/2,Y=(b+k)/4,ge=(C+F)/4,_e=(z+N)/4;return G>Q&&G>ae?G<.01?(r=0,o=.707106781,a=.707106781):(r=Math.sqrt(G),o=Y/r,a=ge/r):Q>ae?Q<.01?(r=.707106781,o=0,a=.707106781):(o=Math.sqrt(Q),r=Y/o,a=_e/o):ae<.01?(r=.707106781,o=.707106781,a=0):(a=Math.sqrt(ae),r=ge/a,o=_e/a),this.set(r,o,a,t),this}let A=Math.sqrt((N-z)*(N-z)+(C-F)*(C-F)+(k-b)*(k-b));return Math.abs(A)<.001&&(A=1),this.x=(N-z)/A,this.y=(C-F)/A,this.z=(k-b)/A,this.w=Math.acos((_+B+D-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Jwe extends jv{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Es(0,0,e,t),this.scissorTest=!1,this.viewport=new Es(0,0,e,t);const o={width:e,height:t,depth:1};r.encoding!==void 0&&(LI("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===bw?Io:Ew),this.texture=new el(o,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:aa,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new rb(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bg extends Jwe{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class HN extends el{constructor(e=null,t=1,r=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:o},this.magFilter=Cu,this.minFilter=Cu,this.wrapR=gf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class p4e extends bg{constructor(e=1,t=1,r=1){super(e,t),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new HN(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class AX extends el{constructor(e=null,t=1,r=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:o},this.magFilter=Cu,this.minFilter=Cu,this.wrapR=gf,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class m4e extends bg{constructor(e=1,t=1,r=1){super(e,t),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new AX(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class g4e extends bg{constructor(e=1,t=1,r=1,o={}){super(e,t,o),this.isWebGLMultipleRenderTargets=!0;const a=this.texture;this.texture=[];for(let c=0;c<r;c++)this.texture[c]=a.clone(),this.texture[c].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let o=0,a=this.texture.length;o<a;o++)this.texture[o].image.width=e,this.texture[o].image.height=t,this.texture[o].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class jo{constructor(e=0,t=0,r=0,o=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=o}static slerpFlat(e,t,r,o,a,c,p){let g=r[o+0],_=r[o+1],b=r[o+2],C=r[o+3];const k=a[c+0],B=a[c+1],z=a[c+2],F=a[c+3];if(p===0){e[t+0]=g,e[t+1]=_,e[t+2]=b,e[t+3]=C;return}if(p===1){e[t+0]=k,e[t+1]=B,e[t+2]=z,e[t+3]=F;return}if(C!==F||g!==k||_!==B||b!==z){let N=1-p;const D=g*k+_*B+b*z+C*F,A=D>=0?1:-1,G=1-D*D;if(G>Number.EPSILON){const ae=Math.sqrt(G),Y=Math.atan2(ae,D*A);N=Math.sin(N*Y)/ae,p=Math.sin(p*Y)/ae}const Q=p*A;if(g=g*N+k*Q,_=_*N+B*Q,b=b*N+z*Q,C=C*N+F*Q,N===1-p){const ae=1/Math.sqrt(g*g+_*_+b*b+C*C);g*=ae,_*=ae,b*=ae,C*=ae}}e[t]=g,e[t+1]=_,e[t+2]=b,e[t+3]=C}static multiplyQuaternionsFlat(e,t,r,o,a,c){const p=r[o],g=r[o+1],_=r[o+2],b=r[o+3],C=a[c],k=a[c+1],B=a[c+2],z=a[c+3];return e[t]=p*z+b*C+g*B-_*k,e[t+1]=g*z+b*k+_*C-p*B,e[t+2]=_*z+b*B+p*k-g*C,e[t+3]=b*z-p*C-g*k-_*B,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,o){return this._x=e,this._y=t,this._z=r,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const r=e._x,o=e._y,a=e._z,c=e._order,p=Math.cos,g=Math.sin,_=p(r/2),b=p(o/2),C=p(a/2),k=g(r/2),B=g(o/2),z=g(a/2);switch(c){case"XYZ":this._x=k*b*C+_*B*z,this._y=_*B*C-k*b*z,this._z=_*b*z+k*B*C,this._w=_*b*C-k*B*z;break;case"YXZ":this._x=k*b*C+_*B*z,this._y=_*B*C-k*b*z,this._z=_*b*z-k*B*C,this._w=_*b*C+k*B*z;break;case"ZXY":this._x=k*b*C-_*B*z,this._y=_*B*C+k*b*z,this._z=_*b*z+k*B*C,this._w=_*b*C-k*B*z;break;case"ZYX":this._x=k*b*C-_*B*z,this._y=_*B*C+k*b*z,this._z=_*b*z-k*B*C,this._w=_*b*C+k*B*z;break;case"YZX":this._x=k*b*C+_*B*z,this._y=_*B*C+k*b*z,this._z=_*b*z-k*B*C,this._w=_*b*C-k*B*z;break;case"XZY":this._x=k*b*C-_*B*z,this._y=_*B*C-k*b*z,this._z=_*b*z+k*B*C,this._w=_*b*C+k*B*z;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,o=Math.sin(r);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],o=t[4],a=t[8],c=t[1],p=t[5],g=t[9],_=t[2],b=t[6],C=t[10],k=r+p+C;if(k>0){const B=.5/Math.sqrt(k+1);this._w=.25/B,this._x=(b-g)*B,this._y=(a-_)*B,this._z=(c-o)*B}else if(r>p&&r>C){const B=2*Math.sqrt(1+r-p-C);this._w=(b-g)/B,this._x=.25*B,this._y=(o+c)/B,this._z=(a+_)/B}else if(p>C){const B=2*Math.sqrt(1+p-r-C);this._w=(a-_)/B,this._x=(o+c)/B,this._y=.25*B,this._z=(g+b)/B}else{const B=2*Math.sqrt(1+C-r-p);this._w=(c-o)/B,this._x=(a+_)/B,this._y=(g+b)/B,this._z=.25*B}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mu(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const o=Math.min(1,t/r);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,o=e._y,a=e._z,c=e._w,p=t._x,g=t._y,_=t._z,b=t._w;return this._x=r*b+c*p+o*_-a*g,this._y=o*b+c*g+a*p-r*_,this._z=a*b+c*_+r*g-o*p,this._w=c*b-r*p-o*g-a*_,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,o=this._y,a=this._z,c=this._w;let p=c*e._w+r*e._x+o*e._y+a*e._z;if(p<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,p=-p):this.copy(e),p>=1)return this._w=c,this._x=r,this._y=o,this._z=a,this;const g=1-p*p;if(g<=Number.EPSILON){const B=1-t;return this._w=B*c+t*this._w,this._x=B*r+t*this._x,this._y=B*o+t*this._y,this._z=B*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const _=Math.sqrt(g),b=Math.atan2(_,p),C=Math.sin((1-t)*b)/_,k=Math.sin(t*b)/_;return this._w=c*C+this._w*k,this._x=r*C+this._x*k,this._y=o*C+this._y*k,this._z=a*C+this._z*k,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),o=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(o),r*Math.sin(a),r*Math.cos(a),t*Math.sin(o))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ke{constructor(e=0,t=0,r=0){Ke.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Qge.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Qge.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,o=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*o,this.y=a[1]*t+a[4]*r+a[7]*o,this.z=a[2]*t+a[5]*r+a[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,o=this.z,a=e.elements,c=1/(a[3]*t+a[7]*r+a[11]*o+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*o+a[12])*c,this.y=(a[1]*t+a[5]*r+a[9]*o+a[13])*c,this.z=(a[2]*t+a[6]*r+a[10]*o+a[14])*c,this}applyQuaternion(e){const t=this.x,r=this.y,o=this.z,a=e.x,c=e.y,p=e.z,g=e.w,_=g*t+c*o-p*r,b=g*r+p*t-a*o,C=g*o+a*r-c*t,k=-a*t-c*r-p*o;return this.x=_*g+k*-a+b*-p-C*-c,this.y=b*g+k*-c+C*-a-_*-p,this.z=C*g+k*-p+_*-c-b*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,o=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*o,this.y=a[1]*t+a[5]*r+a[9]*o,this.z=a[2]*t+a[6]*r+a[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,o=e.y,a=e.z,c=t.x,p=t.y,g=t.z;return this.x=o*g-a*p,this.y=a*c-r*g,this.z=r*p-o*c,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return c7.copy(this).projectOnVector(e),this.sub(c7)}reflect(e){return this.sub(c7.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Mu(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,o=this.z-e.z;return t*t+r*r+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const o=Math.sin(t)*e;return this.x=o*Math.sin(r),this.y=Math.cos(t)*e,this.z=o*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=o,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const c7=new Ke,Qge=new jo;class F0{constructor(e=new Ke(1/0,1/0,1/0),t=new Ke(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(qy.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(qy.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=qy.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),QA.copy(e.boundingBox),QA.applyMatrix4(e.matrixWorld),this.union(QA);else{const o=e.geometry;if(o!==void 0)if(t&&o.attributes!==void 0&&o.attributes.position!==void 0){const a=o.attributes.position;for(let c=0,p=a.count;c<p;c++)qy.fromBufferAttribute(a,c).applyMatrix4(e.matrixWorld),this.expandByPoint(qy)}else o.boundingBox===null&&o.computeBoundingBox(),QA.copy(o.boundingBox),QA.applyMatrix4(e.matrixWorld),this.union(QA)}const r=e.children;for(let o=0,a=r.length;o<a;o++)this.expandByObject(r[o],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qy),qy.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Kk),i4.subVectors(this.max,Kk),qA.subVectors(e.a,Kk),JA.subVectors(e.b,Kk),ZA.subVectors(e.c,Kk),$_.subVectors(JA,qA),ew.subVectors(ZA,JA),Ox.subVectors(qA,ZA);let t=[0,-$_.z,$_.y,0,-ew.z,ew.y,0,-Ox.z,Ox.y,$_.z,0,-$_.x,ew.z,0,-ew.x,Ox.z,0,-Ox.x,-$_.y,$_.x,0,-ew.y,ew.x,0,-Ox.y,Ox.x,0];return!d7(t,qA,JA,ZA,i4)||(t=[1,0,0,0,1,0,0,0,1],!d7(t,qA,JA,ZA,i4))?!1:(o4.crossVectors($_,ew),t=[o4.x,o4.y,o4.z],d7(t,qA,JA,ZA,i4))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qy).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(qy).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Qy[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Qy[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Qy[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Qy[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Qy[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Qy[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Qy[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Qy[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Qy),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Qy=[new Ke,new Ke,new Ke,new Ke,new Ke,new Ke,new Ke,new Ke],qy=new Ke,QA=new F0,qA=new Ke,JA=new Ke,ZA=new Ke,$_=new Ke,ew=new Ke,Ox=new Ke,Kk=new Ke,i4=new Ke,o4=new Ke,Bx=new Ke;function d7(n,e,t,r,o){for(let a=0,c=n.length-3;a<=c;a+=3){Bx.fromArray(n,a);const p=o.x*Math.abs(Bx.x)+o.y*Math.abs(Bx.y)+o.z*Math.abs(Bx.z),g=e.dot(Bx),_=t.dot(Bx),b=r.dot(Bx);if(Math.max(-Math.max(g,_,b),Math.min(g,_,b))>p)return!1}return!0}const v4e=new F0,Yk=new Ke,f7=new Ke;let Mg=class{constructor(e=new Ke,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):v4e.setFromPoints(e).getCenter(r);let o=0;for(let a=0,c=e.length;a<c;a++)o=Math.max(o,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Yk.subVectors(e,this.center);const t=Yk.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),o=(r-this.radius)*.5;this.center.addScaledVector(Yk,o/r),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(f7.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Yk.copy(e.center).add(f7)),this.expandByPoint(Yk.copy(e.center).sub(f7))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Jy=new Ke,h7=new Ke,s4=new Ke,tw=new Ke,p7=new Ke,a4=new Ke,m7=new Ke;class IM{constructor(e=new Ke,t=new Ke(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Jy)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Jy.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Jy.copy(this.origin).addScaledVector(this.direction,t),Jy.distanceToSquared(e))}distanceSqToSegment(e,t,r,o){h7.copy(e).add(t).multiplyScalar(.5),s4.copy(t).sub(e).normalize(),tw.copy(this.origin).sub(h7);const a=e.distanceTo(t)*.5,c=-this.direction.dot(s4),p=tw.dot(this.direction),g=-tw.dot(s4),_=tw.lengthSq(),b=Math.abs(1-c*c);let C,k,B,z;if(b>0)if(C=c*g-p,k=c*p-g,z=a*b,C>=0)if(k>=-z)if(k<=z){const F=1/b;C*=F,k*=F,B=C*(C+c*k+2*p)+k*(c*C+k+2*g)+_}else k=a,C=Math.max(0,-(c*k+p)),B=-C*C+k*(k+2*g)+_;else k=-a,C=Math.max(0,-(c*k+p)),B=-C*C+k*(k+2*g)+_;else k<=-z?(C=Math.max(0,-(-c*a+p)),k=C>0?-a:Math.min(Math.max(-a,-g),a),B=-C*C+k*(k+2*g)+_):k<=z?(C=0,k=Math.min(Math.max(-a,-g),a),B=k*(k+2*g)+_):(C=Math.max(0,-(c*a+p)),k=C>0?a:Math.min(Math.max(-a,-g),a),B=-C*C+k*(k+2*g)+_);else k=c>0?-a:a,C=Math.max(0,-(c*k+p)),B=-C*C+k*(k+2*g)+_;return r&&r.copy(this.origin).addScaledVector(this.direction,C),o&&o.copy(h7).addScaledVector(s4,k),B}intersectSphere(e,t){Jy.subVectors(e.center,this.origin);const r=Jy.dot(this.direction),o=Jy.dot(Jy)-r*r,a=e.radius*e.radius;if(o>a)return null;const c=Math.sqrt(a-o),p=r-c,g=r+c;return g<0?null:p<0?this.at(g,t):this.at(p,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,o,a,c,p,g;const _=1/this.direction.x,b=1/this.direction.y,C=1/this.direction.z,k=this.origin;return _>=0?(r=(e.min.x-k.x)*_,o=(e.max.x-k.x)*_):(r=(e.max.x-k.x)*_,o=(e.min.x-k.x)*_),b>=0?(a=(e.min.y-k.y)*b,c=(e.max.y-k.y)*b):(a=(e.max.y-k.y)*b,c=(e.min.y-k.y)*b),r>c||a>o||((a>r||isNaN(r))&&(r=a),(c<o||isNaN(o))&&(o=c),C>=0?(p=(e.min.z-k.z)*C,g=(e.max.z-k.z)*C):(p=(e.max.z-k.z)*C,g=(e.min.z-k.z)*C),r>g||p>o)||((p>r||r!==r)&&(r=p),(g<o||o!==o)&&(o=g),o<0)?null:this.at(r>=0?r:o,t)}intersectsBox(e){return this.intersectBox(e,Jy)!==null}intersectTriangle(e,t,r,o,a){p7.subVectors(t,e),a4.subVectors(r,e),m7.crossVectors(p7,a4);let c=this.direction.dot(m7),p;if(c>0){if(o)return null;p=1}else if(c<0)p=-1,c=-c;else return null;tw.subVectors(this.origin,e);const g=p*this.direction.dot(a4.crossVectors(tw,a4));if(g<0)return null;const _=p*this.direction.dot(p7.cross(tw));if(_<0||g+_>c)return null;const b=-p*tw.dot(m7);return b<0?null:this.at(b/c,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Qi{constructor(e,t,r,o,a,c,p,g,_,b,C,k,B,z,F,N){Qi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,o,a,c,p,g,_,b,C,k,B,z,F,N)}set(e,t,r,o,a,c,p,g,_,b,C,k,B,z,F,N){const D=this.elements;return D[0]=e,D[4]=t,D[8]=r,D[12]=o,D[1]=a,D[5]=c,D[9]=p,D[13]=g,D[2]=_,D[6]=b,D[10]=C,D[14]=k,D[3]=B,D[7]=z,D[11]=F,D[15]=N,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Qi().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,o=1/$A.setFromMatrixColumn(e,0).length(),a=1/$A.setFromMatrixColumn(e,1).length(),c=1/$A.setFromMatrixColumn(e,2).length();return t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*c,t[9]=r[9]*c,t[10]=r[10]*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,o=e.y,a=e.z,c=Math.cos(r),p=Math.sin(r),g=Math.cos(o),_=Math.sin(o),b=Math.cos(a),C=Math.sin(a);if(e.order==="XYZ"){const k=c*b,B=c*C,z=p*b,F=p*C;t[0]=g*b,t[4]=-g*C,t[8]=_,t[1]=B+z*_,t[5]=k-F*_,t[9]=-p*g,t[2]=F-k*_,t[6]=z+B*_,t[10]=c*g}else if(e.order==="YXZ"){const k=g*b,B=g*C,z=_*b,F=_*C;t[0]=k+F*p,t[4]=z*p-B,t[8]=c*_,t[1]=c*C,t[5]=c*b,t[9]=-p,t[2]=B*p-z,t[6]=F+k*p,t[10]=c*g}else if(e.order==="ZXY"){const k=g*b,B=g*C,z=_*b,F=_*C;t[0]=k-F*p,t[4]=-c*C,t[8]=z+B*p,t[1]=B+z*p,t[5]=c*b,t[9]=F-k*p,t[2]=-c*_,t[6]=p,t[10]=c*g}else if(e.order==="ZYX"){const k=c*b,B=c*C,z=p*b,F=p*C;t[0]=g*b,t[4]=z*_-B,t[8]=k*_+F,t[1]=g*C,t[5]=F*_+k,t[9]=B*_-z,t[2]=-_,t[6]=p*g,t[10]=c*g}else if(e.order==="YZX"){const k=c*g,B=c*_,z=p*g,F=p*_;t[0]=g*b,t[4]=F-k*C,t[8]=z*C+B,t[1]=C,t[5]=c*b,t[9]=-p*b,t[2]=-_*b,t[6]=B*C+z,t[10]=k-F*C}else if(e.order==="XZY"){const k=c*g,B=c*_,z=p*g,F=p*_;t[0]=g*b,t[4]=-C,t[8]=_*b,t[1]=k*C+F,t[5]=c*b,t[9]=B*C-z,t[2]=z*C-B,t[6]=p*b,t[10]=F*C+k}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(y4e,e,_4e)}lookAt(e,t,r){const o=this.elements;return _m.subVectors(e,t),_m.lengthSq()===0&&(_m.z=1),_m.normalize(),nw.crossVectors(r,_m),nw.lengthSq()===0&&(Math.abs(r.z)===1?_m.x+=1e-4:_m.z+=1e-4,_m.normalize(),nw.crossVectors(r,_m)),nw.normalize(),l4.crossVectors(_m,nw),o[0]=nw.x,o[4]=l4.x,o[8]=_m.x,o[1]=nw.y,o[5]=l4.y,o[9]=_m.y,o[2]=nw.z,o[6]=l4.z,o[10]=_m.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,o=t.elements,a=this.elements,c=r[0],p=r[4],g=r[8],_=r[12],b=r[1],C=r[5],k=r[9],B=r[13],z=r[2],F=r[6],N=r[10],D=r[14],A=r[3],G=r[7],Q=r[11],ae=r[15],Y=o[0],ge=o[4],_e=o[8],J=o[12],Se=o[1],Be=o[5],_t=o[9],Ve=o[13],xe=o[2],ot=o[6],Ze=o[10],mt=o[14],we=o[3],Te=o[7],Ae=o[11],me=o[15];return a[0]=c*Y+p*Se+g*xe+_*we,a[4]=c*ge+p*Be+g*ot+_*Te,a[8]=c*_e+p*_t+g*Ze+_*Ae,a[12]=c*J+p*Ve+g*mt+_*me,a[1]=b*Y+C*Se+k*xe+B*we,a[5]=b*ge+C*Be+k*ot+B*Te,a[9]=b*_e+C*_t+k*Ze+B*Ae,a[13]=b*J+C*Ve+k*mt+B*me,a[2]=z*Y+F*Se+N*xe+D*we,a[6]=z*ge+F*Be+N*ot+D*Te,a[10]=z*_e+F*_t+N*Ze+D*Ae,a[14]=z*J+F*Ve+N*mt+D*me,a[3]=A*Y+G*Se+Q*xe+ae*we,a[7]=A*ge+G*Be+Q*ot+ae*Te,a[11]=A*_e+G*_t+Q*Ze+ae*Ae,a[15]=A*J+G*Ve+Q*mt+ae*me,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],o=e[8],a=e[12],c=e[1],p=e[5],g=e[9],_=e[13],b=e[2],C=e[6],k=e[10],B=e[14],z=e[3],F=e[7],N=e[11],D=e[15];return z*(+a*g*C-o*_*C-a*p*k+r*_*k+o*p*B-r*g*B)+F*(+t*g*B-t*_*k+a*c*k-o*c*B+o*_*b-a*g*b)+N*(+t*_*C-t*p*B-a*c*C+r*c*B+a*p*b-r*_*b)+D*(-o*p*b-t*g*C+t*p*k+o*c*C-r*c*k+r*g*b)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=t,o[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],o=e[2],a=e[3],c=e[4],p=e[5],g=e[6],_=e[7],b=e[8],C=e[9],k=e[10],B=e[11],z=e[12],F=e[13],N=e[14],D=e[15],A=C*N*_-F*k*_+F*g*B-p*N*B-C*g*D+p*k*D,G=z*k*_-b*N*_-z*g*B+c*N*B+b*g*D-c*k*D,Q=b*F*_-z*C*_+z*p*B-c*F*B-b*p*D+c*C*D,ae=z*C*g-b*F*g-z*p*k+c*F*k+b*p*N-c*C*N,Y=t*A+r*G+o*Q+a*ae;if(Y===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ge=1/Y;return e[0]=A*ge,e[1]=(F*k*a-C*N*a-F*o*B+r*N*B+C*o*D-r*k*D)*ge,e[2]=(p*N*a-F*g*a+F*o*_-r*N*_-p*o*D+r*g*D)*ge,e[3]=(C*g*a-p*k*a-C*o*_+r*k*_+p*o*B-r*g*B)*ge,e[4]=G*ge,e[5]=(b*N*a-z*k*a+z*o*B-t*N*B-b*o*D+t*k*D)*ge,e[6]=(z*g*a-c*N*a-z*o*_+t*N*_+c*o*D-t*g*D)*ge,e[7]=(c*k*a-b*g*a+b*o*_-t*k*_-c*o*B+t*g*B)*ge,e[8]=Q*ge,e[9]=(z*C*a-b*F*a-z*r*B+t*F*B+b*r*D-t*C*D)*ge,e[10]=(c*F*a-z*p*a+z*r*_-t*F*_-c*r*D+t*p*D)*ge,e[11]=(b*p*a-c*C*a-b*r*_+t*C*_+c*r*B-t*p*B)*ge,e[12]=ae*ge,e[13]=(b*F*o-z*C*o+z*r*k-t*F*k-b*r*N+t*C*N)*ge,e[14]=(z*p*o-c*F*o-z*r*g+t*F*g+c*r*N-t*p*N)*ge,e[15]=(c*C*o-b*p*o+b*r*g-t*C*g-c*r*k+t*p*k)*ge,this}scale(e){const t=this.elements,r=e.x,o=e.y,a=e.z;return t[0]*=r,t[4]*=o,t[8]*=a,t[1]*=r,t[5]*=o,t[9]*=a,t[2]*=r,t[6]*=o,t[10]*=a,t[3]*=r,t[7]*=o,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,o))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),o=Math.sin(t),a=1-r,c=e.x,p=e.y,g=e.z,_=a*c,b=a*p;return this.set(_*c+r,_*p-o*g,_*g+o*p,0,_*p+o*g,b*p+r,b*g-o*c,0,_*g-o*p,b*g+o*c,a*g*g+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,o,a,c){return this.set(1,r,a,0,e,1,c,0,t,o,1,0,0,0,0,1),this}compose(e,t,r){const o=this.elements,a=t._x,c=t._y,p=t._z,g=t._w,_=a+a,b=c+c,C=p+p,k=a*_,B=a*b,z=a*C,F=c*b,N=c*C,D=p*C,A=g*_,G=g*b,Q=g*C,ae=r.x,Y=r.y,ge=r.z;return o[0]=(1-(F+D))*ae,o[1]=(B+Q)*ae,o[2]=(z-G)*ae,o[3]=0,o[4]=(B-Q)*Y,o[5]=(1-(k+D))*Y,o[6]=(N+A)*Y,o[7]=0,o[8]=(z+G)*ge,o[9]=(N-A)*ge,o[10]=(1-(k+F))*ge,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,t,r){const o=this.elements;let a=$A.set(o[0],o[1],o[2]).length();const c=$A.set(o[4],o[5],o[6]).length(),p=$A.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),e.x=o[12],e.y=o[13],e.z=o[14],S0.copy(this);const _=1/a,b=1/c,C=1/p;return S0.elements[0]*=_,S0.elements[1]*=_,S0.elements[2]*=_,S0.elements[4]*=b,S0.elements[5]*=b,S0.elements[6]*=b,S0.elements[8]*=C,S0.elements[9]*=C,S0.elements[10]*=C,t.setFromRotationMatrix(S0),r.x=a,r.y=c,r.z=p,this}makePerspective(e,t,r,o,a,c,p=Iv){const g=this.elements,_=2*a/(t-e),b=2*a/(r-o),C=(t+e)/(t-e),k=(r+o)/(r-o);let B,z;if(p===Iv)B=-(c+a)/(c-a),z=-2*c*a/(c-a);else if(p===rR)B=-c/(c-a),z=-c*a/(c-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+p);return g[0]=_,g[4]=0,g[8]=C,g[12]=0,g[1]=0,g[5]=b,g[9]=k,g[13]=0,g[2]=0,g[6]=0,g[10]=B,g[14]=z,g[3]=0,g[7]=0,g[11]=-1,g[15]=0,this}makeOrthographic(e,t,r,o,a,c,p=Iv){const g=this.elements,_=1/(t-e),b=1/(r-o),C=1/(c-a),k=(t+e)*_,B=(r+o)*b;let z,F;if(p===Iv)z=(c+a)*C,F=-2*C;else if(p===rR)z=a*C,F=-1*C;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+p);return g[0]=2*_,g[4]=0,g[8]=0,g[12]=-k,g[1]=0,g[5]=2*b,g[9]=0,g[13]=-B,g[2]=0,g[6]=0,g[10]=F,g[14]=-z,g[3]=0,g[7]=0,g[11]=0,g[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let o=0;o<16;o++)if(t[o]!==r[o])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const $A=new Ke,S0=new Qi,y4e=new Ke(0,0,0),_4e=new Ke(1,1,1),nw=new Ke,l4=new Ke,_m=new Ke,qge=new Qi,Jge=new jo;class Pb{constructor(e=0,t=0,r=0,o=Pb.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,o=this._order){return this._x=e,this._y=t,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const o=e.elements,a=o[0],c=o[4],p=o[8],g=o[1],_=o[5],b=o[9],C=o[2],k=o[6],B=o[10];switch(t){case"XYZ":this._y=Math.asin(Mu(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-b,B),this._z=Math.atan2(-c,a)):(this._x=Math.atan2(k,_),this._z=0);break;case"YXZ":this._x=Math.asin(-Mu(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(p,B),this._z=Math.atan2(g,_)):(this._y=Math.atan2(-C,a),this._z=0);break;case"ZXY":this._x=Math.asin(Mu(k,-1,1)),Math.abs(k)<.9999999?(this._y=Math.atan2(-C,B),this._z=Math.atan2(-c,_)):(this._y=0,this._z=Math.atan2(g,a));break;case"ZYX":this._y=Math.asin(-Mu(C,-1,1)),Math.abs(C)<.9999999?(this._x=Math.atan2(k,B),this._z=Math.atan2(g,a)):(this._x=0,this._z=Math.atan2(-c,_));break;case"YZX":this._z=Math.asin(Mu(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(-b,_),this._y=Math.atan2(-C,a)):(this._x=0,this._y=Math.atan2(p,B));break;case"XZY":this._z=Math.asin(-Mu(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(k,_),this._y=Math.atan2(p,a)):(this._x=Math.atan2(-b,B),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return qge.makeRotationFromQuaternion(e),this.setFromRotationMatrix(qge,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Jge.setFromEuler(this),this.setFromQuaternion(Jge,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Pb.DEFAULT_ORDER="XYZ";class Ov{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let w4e=0;const Zge=new Ke,eC=new jo,Zy=new Qi,u4=new Ke,Qk=new Ke,S4e=new Ke,x4e=new jo,$ge=new Ke(1,0,0),e0e=new Ke(0,1,0),t0e=new Ke(0,0,1),b4e={type:"added"},n0e={type:"removed"};class Jo extends jv{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:w4e++}),this.uuid=Cm(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Jo.DEFAULT_UP.clone();const e=new Ke,t=new Pb,r=new jo,o=new Ke(1,1,1);function a(){r.setFromEuler(t,!1)}function c(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Qi},normalMatrix:{value:new Lo}}),this.matrix=new Qi,this.matrixWorld=new Qi,this.matrixAutoUpdate=Jo.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Jo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Ov,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return eC.setFromAxisAngle(e,t),this.quaternion.multiply(eC),this}rotateOnWorldAxis(e,t){return eC.setFromAxisAngle(e,t),this.quaternion.premultiply(eC),this}rotateX(e){return this.rotateOnAxis($ge,e)}rotateY(e){return this.rotateOnAxis(e0e,e)}rotateZ(e){return this.rotateOnAxis(t0e,e)}translateOnAxis(e,t){return Zge.copy(e).applyQuaternion(this.quaternion),this.position.add(Zge.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis($ge,e)}translateY(e){return this.translateOnAxis(e0e,e)}translateZ(e){return this.translateOnAxis(t0e,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zy.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?u4.copy(e):u4.set(e,t,r);const o=this.parent;this.updateWorldMatrix(!0,!1),Qk.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zy.lookAt(Qk,u4,this.up):Zy.lookAt(u4,Qk,this.up),this.quaternion.setFromRotationMatrix(Zy),o&&(Zy.extractRotation(o.matrixWorld),eC.setFromRotationMatrix(Zy),this.quaternion.premultiply(eC.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(b4e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(n0e)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(n0e)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Zy.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zy.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zy),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,o=this.children.length;r<o;r++){const c=this.children[r].getObjectByProperty(e,t);if(c!==void 0)return c}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let o=0,a=this.children.length;o<a;o++){const c=this.children[o].getObjectsByProperty(e,t);c.length>0&&(r=r.concat(c))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qk,e,S4e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Qk,x4e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,o=t.length;r<o;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,o=t.length;r<o;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,o=t.length;r<o;r++){const a=t[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const o=this.children;for(let a=0,c=o.length;a<c;a++){const p=o[a];p.matrixWorldAutoUpdate===!0&&p.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON()));function a(p,g){return p[g.uuid]===void 0&&(p[g.uuid]=g.toJSON(e)),g.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=a(e.geometries,this.geometry);const p=this.geometry.parameters;if(p!==void 0&&p.shapes!==void 0){const g=p.shapes;if(Array.isArray(g))for(let _=0,b=g.length;_<b;_++){const C=g[_];a(e.shapes,C)}else a(e.shapes,g)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const p=[];for(let g=0,_=this.material.length;g<_;g++)p.push(a(e.materials,this.material[g]));o.material=p}else o.material=a(e.materials,this.material);if(this.children.length>0){o.children=[];for(let p=0;p<this.children.length;p++)o.children.push(this.children[p].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let p=0;p<this.animations.length;p++){const g=this.animations[p];o.animations.push(a(e.animations,g))}}if(t){const p=c(e.geometries),g=c(e.materials),_=c(e.textures),b=c(e.images),C=c(e.shapes),k=c(e.skeletons),B=c(e.animations),z=c(e.nodes);p.length>0&&(r.geometries=p),g.length>0&&(r.materials=g),_.length>0&&(r.textures=_),b.length>0&&(r.images=b),C.length>0&&(r.shapes=C),k.length>0&&(r.skeletons=k),B.length>0&&(r.animations=B),z.length>0&&(r.nodes=z)}return r.object=o,r;function c(p){const g=[];for(const _ in p){const b=p[_];delete b.metadata,g.push(b)}return g}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const o=e.children[r];this.add(o.clone())}return this}}Jo.DEFAULT_UP=new Ke(0,1,0);Jo.DEFAULT_MATRIX_AUTO_UPDATE=!0;Jo.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const x0=new Ke,$y=new Ke,g7=new Ke,e1=new Ke,tC=new Ke,nC=new Ke,r0e=new Ke,v7=new Ke,y7=new Ke,_7=new Ke;let c4=!1;class Rp{constructor(e=new Ke,t=new Ke,r=new Ke){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,o){o.subVectors(r,t),x0.subVectors(e,t),o.cross(x0);const a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}static getBarycoord(e,t,r,o,a){x0.subVectors(o,t),$y.subVectors(r,t),g7.subVectors(e,t);const c=x0.dot(x0),p=x0.dot($y),g=x0.dot(g7),_=$y.dot($y),b=$y.dot(g7),C=c*_-p*p;if(C===0)return a.set(-2,-1,-1);const k=1/C,B=(_*g-p*b)*k,z=(c*b-p*g)*k;return a.set(1-B-z,z,B)}static containsPoint(e,t,r,o){return this.getBarycoord(e,t,r,o,e1),e1.x>=0&&e1.y>=0&&e1.x+e1.y<=1}static getUV(e,t,r,o,a,c,p,g){return c4===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),c4=!0),this.getInterpolation(e,t,r,o,a,c,p,g)}static getInterpolation(e,t,r,o,a,c,p,g){return this.getBarycoord(e,t,r,o,e1),g.setScalar(0),g.addScaledVector(a,e1.x),g.addScaledVector(c,e1.y),g.addScaledVector(p,e1.z),g}static isFrontFacing(e,t,r,o){return x0.subVectors(r,t),$y.subVectors(e,t),x0.cross($y).dot(o)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,o){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,t,r,o){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return x0.subVectors(this.c,this.b),$y.subVectors(this.a,this.b),x0.cross($y).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Rp.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Rp.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,o,a){return c4===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),c4=!0),Rp.getInterpolation(e,this.a,this.b,this.c,t,r,o,a)}getInterpolation(e,t,r,o,a){return Rp.getInterpolation(e,this.a,this.b,this.c,t,r,o,a)}containsPoint(e){return Rp.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Rp.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,o=this.b,a=this.c;let c,p;tC.subVectors(o,r),nC.subVectors(a,r),v7.subVectors(e,r);const g=tC.dot(v7),_=nC.dot(v7);if(g<=0&&_<=0)return t.copy(r);y7.subVectors(e,o);const b=tC.dot(y7),C=nC.dot(y7);if(b>=0&&C<=b)return t.copy(o);const k=g*C-b*_;if(k<=0&&g>=0&&b<=0)return c=g/(g-b),t.copy(r).addScaledVector(tC,c);_7.subVectors(e,a);const B=tC.dot(_7),z=nC.dot(_7);if(z>=0&&B<=z)return t.copy(a);const F=B*_-g*z;if(F<=0&&_>=0&&z<=0)return p=_/(_-z),t.copy(r).addScaledVector(nC,p);const N=b*z-B*C;if(N<=0&&C-b>=0&&B-z>=0)return r0e.subVectors(a,o),p=(C-b)/(C-b+(B-z)),t.copy(o).addScaledVector(r0e,p);const D=1/(N+F+k);return c=F*D,p=k*D,t.copy(r).addScaledVector(tC,c).addScaledVector(nC,p)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let E4e=0;class nc extends jv{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:E4e++}),this.uuid=Cm(),this.name="",this.type="Material",this.blending=cb,this.side=Fv,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=cX,this.blendDst=dX,this.blendEquation=$x,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=XL,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zwe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=PL,this.stencilZFail=PL,this.stencilZPass=PL,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const o=this[t];if(o===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(r):o&&o.isVector3&&r&&r.isVector3?o.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==cb&&(r.blending=this.blending),this.side!==Fv&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function o(a){const c=[];for(const p in a){const g=a[p];delete g.metadata,c.push(g)}return c}if(t){const a=o(e.textures),c=o(e.images);a.length>0&&(r.textures=a),c.length>0&&(r.images=c)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const o=t.length;r=new Array(o);for(let a=0;a!==o;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const Zwe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},b0={h:0,s:0,l:0},d4={h:0,s:0,l:0};function w7(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Ir{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Io){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,fg.toWorkingColorSpace(this,t),this}setRGB(e,t,r,o=fg.workingColorSpace){return this.r=e,this.g=t,this.b=r,fg.toWorkingColorSpace(this,o),this}setHSL(e,t,r,o=fg.workingColorSpace){if(e=bX(e,1),t=Mu(t,0,1),r=Mu(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,c=2*r-a;this.r=w7(c,a,e+1/3),this.g=w7(c,a,e),this.b=w7(c,a,e-1/3)}return fg.toWorkingColorSpace(this,o),this}setStyle(e,t=Io){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const c=o[1],p=o[2];switch(c){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=o[1],c=a.length;if(c===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(c===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Io){const r=Zwe[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=JC(e.r),this.g=JC(e.g),this.b=JC(e.b),this}copyLinearToSRGB(e){return this.r=l7(e.r),this.g=l7(e.g),this.b=l7(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Io){return fg.fromWorkingColorSpace(nh.copy(this),e),Math.round(Mu(nh.r*255,0,255))*65536+Math.round(Mu(nh.g*255,0,255))*256+Math.round(Mu(nh.b*255,0,255))}getHexString(e=Io){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=fg.workingColorSpace){fg.fromWorkingColorSpace(nh.copy(this),t);const r=nh.r,o=nh.g,a=nh.b,c=Math.max(r,o,a),p=Math.min(r,o,a);let g,_;const b=(p+c)/2;if(p===c)g=0,_=0;else{const C=c-p;switch(_=b<=.5?C/(c+p):C/(2-c-p),c){case r:g=(o-a)/C+(o<a?6:0);break;case o:g=(a-r)/C+2;break;case a:g=(r-o)/C+4;break}g/=6}return e.h=g,e.s=_,e.l=b,e}getRGB(e,t=fg.workingColorSpace){return fg.fromWorkingColorSpace(nh.copy(this),t),e.r=nh.r,e.g=nh.g,e.b=nh.b,e}getStyle(e=Io){fg.fromWorkingColorSpace(nh.copy(this),e);const t=nh.r,r=nh.g,o=nh.b;return e!==Io?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(o*255)})`}offsetHSL(e,t,r){return this.getHSL(b0),b0.h+=e,b0.s+=t,b0.l+=r,this.setHSL(b0.h,b0.s,b0.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(b0),e.getHSL(d4);const r=DI(b0.h,d4.h,t),o=DI(b0.s,d4.s,t),a=DI(b0.l,d4.l,t);return this.setHSL(r,o,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,o=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*o,this.g=a[1]*t+a[4]*r+a[7]*o,this.b=a[2]*t+a[5]*r+a[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const nh=new Ir;Ir.NAMES=Zwe;class yf extends nc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ir(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const l1=A4e();function A4e(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),o=new Uint32Array(512);for(let g=0;g<256;++g){const _=g-127;_<-27?(r[g]=0,r[g|256]=32768,o[g]=24,o[g|256]=24):_<-14?(r[g]=1024>>-_-14,r[g|256]=1024>>-_-14|32768,o[g]=-_-1,o[g|256]=-_-1):_<=15?(r[g]=_+15<<10,r[g|256]=_+15<<10|32768,o[g]=13,o[g|256]=13):_<128?(r[g]=31744,r[g|256]=64512,o[g]=24,o[g|256]=24):(r[g]=31744,r[g|256]=64512,o[g]=13,o[g|256]=13)}const a=new Uint32Array(2048),c=new Uint32Array(64),p=new Uint32Array(64);for(let g=1;g<1024;++g){let _=g<<13,b=0;for(;!(_&8388608);)_<<=1,b-=8388608;_&=-8388609,b+=947912704,a[g]=_|b}for(let g=1024;g<2048;++g)a[g]=939524096+(g-1024<<13);for(let g=1;g<31;++g)c[g]=g<<23;c[31]=1199570944,c[32]=2147483648;for(let g=33;g<63;++g)c[g]=2147483648+(g-32<<23);c[63]=3347054592;for(let g=1;g<64;++g)g!==32&&(p[g]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:o,mantissaTable:a,exponentTable:c,offsetTable:p}}function Pp(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Mu(n,-65504,65504),l1.floatView[0]=n;const e=l1.uint32View[0],t=e>>23&511;return l1.baseTable[t]+((e&8388607)>>l1.shiftTable[t])}function TI(n){const e=n>>10;return l1.uint32View[0]=l1.mantissaTable[l1.offsetTable[e]+(n&1023)]+l1.exponentTable[e],l1.floatView[0]}const ib={toHalfFloat:Pp,fromHalfFloat:TI},Ec=new Ke,f4=new Vn;class Bs{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=nR,this.updateRange={offset:0,count:-1},this.gpuType=vf,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let o=0,a=this.itemSize;o<a;o++)this.array[e+o]=t.array[r+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)f4.fromBufferAttribute(this,t),f4.applyMatrix3(e),this.setXY(t,f4.x,f4.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ec.fromBufferAttribute(this,t),Ec.applyMatrix3(e),this.setXYZ(t,Ec.x,Ec.y,Ec.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ec.fromBufferAttribute(this,t),Ec.applyMatrix4(e),this.setXYZ(t,Ec.x,Ec.y,Ec.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ec.fromBufferAttribute(this,t),Ec.applyNormalMatrix(e),this.setXYZ(t,Ec.x,Ec.y,Ec.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ec.fromBufferAttribute(this,t),Ec.transformDirection(e),this.setXYZ(t,Ec.x,Ec.y,Ec.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Bp(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Bo(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Bp(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bo(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Bp(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bo(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Bp(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bo(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Bp(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bo(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,o){return e*=this.itemSize,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array),o=Bo(o,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=o,this}setXYZW(e,t,r,o,a){return e*=this.itemSize,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array),o=Bo(o,this.array),a=Bo(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=o,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==nR&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class C4e extends Bs{constructor(e,t,r){super(new Int8Array(e),t,r)}}class M4e extends Bs{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class T4e extends Bs{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class P4e extends Bs{constructor(e,t,r){super(new Int16Array(e),t,r)}}class CX extends Bs{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class k4e extends Bs{constructor(e,t,r){super(new Int32Array(e),t,r)}}class MX extends Bs{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class I4e extends Bs{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=TI(this.array[e*this.itemSize]);return this.normalized&&(t=Bp(t,this.array)),t}setX(e,t){return this.normalized&&(t=Bo(t,this.array)),this.array[e*this.itemSize]=Pp(t),this}getY(e){let t=TI(this.array[e*this.itemSize+1]);return this.normalized&&(t=Bp(t,this.array)),t}setY(e,t){return this.normalized&&(t=Bo(t,this.array)),this.array[e*this.itemSize+1]=Pp(t),this}getZ(e){let t=TI(this.array[e*this.itemSize+2]);return this.normalized&&(t=Bp(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Bo(t,this.array)),this.array[e*this.itemSize+2]=Pp(t),this}getW(e){let t=TI(this.array[e*this.itemSize+3]);return this.normalized&&(t=Bp(t,this.array)),t}setW(e,t){return this.normalized&&(t=Bo(t,this.array)),this.array[e*this.itemSize+3]=Pp(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array)),this.array[e+0]=Pp(t),this.array[e+1]=Pp(r),this}setXYZ(e,t,r,o){return e*=this.itemSize,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array),o=Bo(o,this.array)),this.array[e+0]=Pp(t),this.array[e+1]=Pp(r),this.array[e+2]=Pp(o),this}setXYZW(e,t,r,o,a){return e*=this.itemSize,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array),o=Bo(o,this.array),a=Bo(a,this.array)),this.array[e+0]=Pp(t),this.array[e+1]=Pp(r),this.array[e+2]=Pp(o),this.array[e+3]=Pp(a),this}}class _i extends Bs{constructor(e,t,r){super(new Float32Array(e),t,r)}}class R4e extends Bs{constructor(e,t,r){super(new Float64Array(e),t,r)}}let O4e=0;const cg=new Qi,S7=new Jo,rC=new Ke,wm=new F0,qk=new F0,bd=new Ke;class yo extends jv{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:O4e++}),this.uuid=Cm(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(qwe(e)?MX:CX)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new Lo().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return cg.makeRotationFromQuaternion(e),this.applyMatrix4(cg),this}rotateX(e){return cg.makeRotationX(e),this.applyMatrix4(cg),this}rotateY(e){return cg.makeRotationY(e),this.applyMatrix4(cg),this}rotateZ(e){return cg.makeRotationZ(e),this.applyMatrix4(cg),this}translate(e,t,r){return cg.makeTranslation(e,t,r),this.applyMatrix4(cg),this}scale(e,t,r){return cg.makeScale(e,t,r),this.applyMatrix4(cg),this}lookAt(e){return S7.lookAt(e),S7.updateMatrix(),this.applyMatrix4(S7.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rC).negate(),this.translate(rC.x,rC.y,rC.z),this}setFromPoints(e){const t=[];for(let r=0,o=e.length;r<o;r++){const a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new _i(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new F0);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ke(-1/0,-1/0,-1/0),new Ke(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const a=t[r];wm.setFromBufferAttribute(a),this.morphTargetsRelative?(bd.addVectors(this.boundingBox.min,wm.min),this.boundingBox.expandByPoint(bd),bd.addVectors(this.boundingBox.max,wm.max),this.boundingBox.expandByPoint(bd)):(this.boundingBox.expandByPoint(wm.min),this.boundingBox.expandByPoint(wm.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Mg);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ke,1/0);return}if(e){const r=this.boundingSphere.center;if(wm.setFromBufferAttribute(e),t)for(let a=0,c=t.length;a<c;a++){const p=t[a];qk.setFromBufferAttribute(p),this.morphTargetsRelative?(bd.addVectors(wm.min,qk.min),wm.expandByPoint(bd),bd.addVectors(wm.max,qk.max),wm.expandByPoint(bd)):(wm.expandByPoint(qk.min),wm.expandByPoint(qk.max))}wm.getCenter(r);let o=0;for(let a=0,c=e.count;a<c;a++)bd.fromBufferAttribute(e,a),o=Math.max(o,r.distanceToSquared(bd));if(t)for(let a=0,c=t.length;a<c;a++){const p=t[a],g=this.morphTargetsRelative;for(let _=0,b=p.count;_<b;_++)bd.fromBufferAttribute(p,_),g&&(rC.fromBufferAttribute(e,_),bd.add(rC)),o=Math.max(o,r.distanceToSquared(bd))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,o=t.position.array,a=t.normal.array,c=t.uv.array,p=o.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Bs(new Float32Array(4*p),4));const g=this.getAttribute("tangent").array,_=[],b=[];for(let Se=0;Se<p;Se++)_[Se]=new Ke,b[Se]=new Ke;const C=new Ke,k=new Ke,B=new Ke,z=new Vn,F=new Vn,N=new Vn,D=new Ke,A=new Ke;function G(Se,Be,_t){C.fromArray(o,Se*3),k.fromArray(o,Be*3),B.fromArray(o,_t*3),z.fromArray(c,Se*2),F.fromArray(c,Be*2),N.fromArray(c,_t*2),k.sub(C),B.sub(C),F.sub(z),N.sub(z);const Ve=1/(F.x*N.y-N.x*F.y);isFinite(Ve)&&(D.copy(k).multiplyScalar(N.y).addScaledVector(B,-F.y).multiplyScalar(Ve),A.copy(B).multiplyScalar(F.x).addScaledVector(k,-N.x).multiplyScalar(Ve),_[Se].add(D),_[Be].add(D),_[_t].add(D),b[Se].add(A),b[Be].add(A),b[_t].add(A))}let Q=this.groups;Q.length===0&&(Q=[{start:0,count:r.length}]);for(let Se=0,Be=Q.length;Se<Be;++Se){const _t=Q[Se],Ve=_t.start,xe=_t.count;for(let ot=Ve,Ze=Ve+xe;ot<Ze;ot+=3)G(r[ot+0],r[ot+1],r[ot+2])}const ae=new Ke,Y=new Ke,ge=new Ke,_e=new Ke;function J(Se){ge.fromArray(a,Se*3),_e.copy(ge);const Be=_[Se];ae.copy(Be),ae.sub(ge.multiplyScalar(ge.dot(Be))).normalize(),Y.crossVectors(_e,Be);const Ve=Y.dot(b[Se])<0?-1:1;g[Se*4]=ae.x,g[Se*4+1]=ae.y,g[Se*4+2]=ae.z,g[Se*4+3]=Ve}for(let Se=0,Be=Q.length;Se<Be;++Se){const _t=Q[Se],Ve=_t.start,xe=_t.count;for(let ot=Ve,Ze=Ve+xe;ot<Ze;ot+=3)J(r[ot+0]),J(r[ot+1]),J(r[ot+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Bs(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let k=0,B=r.count;k<B;k++)r.setXYZ(k,0,0,0);const o=new Ke,a=new Ke,c=new Ke,p=new Ke,g=new Ke,_=new Ke,b=new Ke,C=new Ke;if(e)for(let k=0,B=e.count;k<B;k+=3){const z=e.getX(k+0),F=e.getX(k+1),N=e.getX(k+2);o.fromBufferAttribute(t,z),a.fromBufferAttribute(t,F),c.fromBufferAttribute(t,N),b.subVectors(c,a),C.subVectors(o,a),b.cross(C),p.fromBufferAttribute(r,z),g.fromBufferAttribute(r,F),_.fromBufferAttribute(r,N),p.add(b),g.add(b),_.add(b),r.setXYZ(z,p.x,p.y,p.z),r.setXYZ(F,g.x,g.y,g.z),r.setXYZ(N,_.x,_.y,_.z)}else for(let k=0,B=t.count;k<B;k+=3)o.fromBufferAttribute(t,k+0),a.fromBufferAttribute(t,k+1),c.fromBufferAttribute(t,k+2),b.subVectors(c,a),C.subVectors(o,a),b.cross(C),r.setXYZ(k+0,b.x,b.y,b.z),r.setXYZ(k+1,b.x,b.y,b.z),r.setXYZ(k+2,b.x,b.y,b.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)bd.fromBufferAttribute(e,t),bd.normalize(),e.setXYZ(t,bd.x,bd.y,bd.z)}toNonIndexed(){function e(p,g){const _=p.array,b=p.itemSize,C=p.normalized,k=new _.constructor(g.length*b);let B=0,z=0;for(let F=0,N=g.length;F<N;F++){p.isInterleavedBufferAttribute?B=g[F]*p.data.stride+p.offset:B=g[F]*b;for(let D=0;D<b;D++)k[z++]=_[B++]}return new Bs(k,b,C)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new yo,r=this.index.array,o=this.attributes;for(const p in o){const g=o[p],_=e(g,r);t.setAttribute(p,_)}const a=this.morphAttributes;for(const p in a){const g=[],_=a[p];for(let b=0,C=_.length;b<C;b++){const k=_[b],B=e(k,r);g.push(B)}t.morphAttributes[p]=g}t.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let p=0,g=c.length;p<g;p++){const _=c[p];t.addGroup(_.start,_.count,_.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const g=this.parameters;for(const _ in g)g[_]!==void 0&&(e[_]=g[_]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const g in r){const _=r[g];e.data.attributes[g]=_.toJSON(e.data)}const o={};let a=!1;for(const g in this.morphAttributes){const _=this.morphAttributes[g],b=[];for(let C=0,k=_.length;C<k;C++){const B=_[C];b.push(B.toJSON(e.data))}b.length>0&&(o[g]=b,a=!0)}a&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(e.data.groups=JSON.parse(JSON.stringify(c)));const p=this.boundingSphere;return p!==null&&(e.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const o=e.attributes;for(const _ in o){const b=o[_];this.setAttribute(_,b.clone(t))}const a=e.morphAttributes;for(const _ in a){const b=[],C=a[_];for(let k=0,B=C.length;k<B;k++)b.push(C[k].clone(t));this.morphAttributes[_]=b}this.morphTargetsRelative=e.morphTargetsRelative;const c=e.groups;for(let _=0,b=c.length;_<b;_++){const C=c[_];this.addGroup(C.start,C.count,C.materialIndex)}const p=e.boundingBox;p!==null&&(this.boundingBox=p.clone());const g=e.boundingSphere;return g!==null&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const i0e=new Qi,Dx=new IM,h4=new Mg,o0e=new Ke,iC=new Ke,oC=new Ke,sC=new Ke,x7=new Ke,p4=new Ke,m4=new Vn,g4=new Vn,v4=new Vn,s0e=new Ke,a0e=new Ke,l0e=new Ke,y4=new Ke,_4=new Ke;class ni extends Jo{constructor(e=new yo,t=new yf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const o=t[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,c=o.length;a<c;a++){const p=o[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=a}}}}getVertexPosition(e,t){const r=this.geometry,o=r.attributes.position,a=r.morphAttributes.position,c=r.morphTargetsRelative;t.fromBufferAttribute(o,e);const p=this.morphTargetInfluences;if(a&&p){p4.set(0,0,0);for(let g=0,_=a.length;g<_;g++){const b=p[g],C=a[g];b!==0&&(x7.fromBufferAttribute(C,e),c?p4.addScaledVector(x7,b):p4.addScaledVector(x7.sub(t),b))}t.add(p4)}return t}raycast(e,t){const r=this.geometry,o=this.material,a=this.matrixWorld;o!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),h4.copy(r.boundingSphere),h4.applyMatrix4(a),Dx.copy(e.ray).recast(e.near),!(h4.containsPoint(Dx.origin)===!1&&(Dx.intersectSphere(h4,o0e)===null||Dx.origin.distanceToSquared(o0e)>(e.far-e.near)**2))&&(i0e.copy(a).invert(),Dx.copy(e.ray).applyMatrix4(i0e),!(r.boundingBox!==null&&Dx.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Dx)))}_computeIntersections(e,t,r){let o;const a=this.geometry,c=this.material,p=a.index,g=a.attributes.position,_=a.attributes.uv,b=a.attributes.uv1,C=a.attributes.normal,k=a.groups,B=a.drawRange;if(p!==null)if(Array.isArray(c))for(let z=0,F=k.length;z<F;z++){const N=k[z],D=c[N.materialIndex],A=Math.max(N.start,B.start),G=Math.min(p.count,Math.min(N.start+N.count,B.start+B.count));for(let Q=A,ae=G;Q<ae;Q+=3){const Y=p.getX(Q),ge=p.getX(Q+1),_e=p.getX(Q+2);o=w4(this,D,e,r,_,b,C,Y,ge,_e),o&&(o.faceIndex=Math.floor(Q/3),o.face.materialIndex=N.materialIndex,t.push(o))}}else{const z=Math.max(0,B.start),F=Math.min(p.count,B.start+B.count);for(let N=z,D=F;N<D;N+=3){const A=p.getX(N),G=p.getX(N+1),Q=p.getX(N+2);o=w4(this,c,e,r,_,b,C,A,G,Q),o&&(o.faceIndex=Math.floor(N/3),t.push(o))}}else if(g!==void 0)if(Array.isArray(c))for(let z=0,F=k.length;z<F;z++){const N=k[z],D=c[N.materialIndex],A=Math.max(N.start,B.start),G=Math.min(g.count,Math.min(N.start+N.count,B.start+B.count));for(let Q=A,ae=G;Q<ae;Q+=3){const Y=Q,ge=Q+1,_e=Q+2;o=w4(this,D,e,r,_,b,C,Y,ge,_e),o&&(o.faceIndex=Math.floor(Q/3),o.face.materialIndex=N.materialIndex,t.push(o))}}else{const z=Math.max(0,B.start),F=Math.min(g.count,B.start+B.count);for(let N=z,D=F;N<D;N+=3){const A=N,G=N+1,Q=N+2;o=w4(this,c,e,r,_,b,C,A,G,Q),o&&(o.faceIndex=Math.floor(N/3),t.push(o))}}}}function B4e(n,e,t,r,o,a,c,p){let g;if(e.side===Xh?g=r.intersectTriangle(c,a,o,!0,p):g=r.intersectTriangle(o,a,c,e.side===Fv,p),g===null)return null;_4.copy(p),_4.applyMatrix4(n.matrixWorld);const _=t.ray.origin.distanceTo(_4);return _<t.near||_>t.far?null:{distance:_,point:_4.clone(),object:n}}function w4(n,e,t,r,o,a,c,p,g,_){n.getVertexPosition(p,iC),n.getVertexPosition(g,oC),n.getVertexPosition(_,sC);const b=B4e(n,e,t,r,iC,oC,sC,y4);if(b){o&&(m4.fromBufferAttribute(o,p),g4.fromBufferAttribute(o,g),v4.fromBufferAttribute(o,_),b.uv=Rp.getInterpolation(y4,iC,oC,sC,m4,g4,v4,new Vn)),a&&(m4.fromBufferAttribute(a,p),g4.fromBufferAttribute(a,g),v4.fromBufferAttribute(a,_),b.uv1=Rp.getInterpolation(y4,iC,oC,sC,m4,g4,v4,new Vn),b.uv2=b.uv1),c&&(s0e.fromBufferAttribute(c,p),a0e.fromBufferAttribute(c,g),l0e.fromBufferAttribute(c,_),b.normal=Rp.getInterpolation(y4,iC,oC,sC,s0e,a0e,l0e,new Ke),b.normal.dot(r.direction)>0&&b.normal.multiplyScalar(-1));const C={a:p,b:g,c:_,normal:new Ke,materialIndex:0};Rp.getNormal(iC,oC,sC,C.normal),b.face=C}return b}class Ip extends yo{constructor(e=1,t=1,r=1,o=1,a=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:o,heightSegments:a,depthSegments:c};const p=this;o=Math.floor(o),a=Math.floor(a),c=Math.floor(c);const g=[],_=[],b=[],C=[];let k=0,B=0;z("z","y","x",-1,-1,r,t,e,c,a,0),z("z","y","x",1,-1,r,t,-e,c,a,1),z("x","z","y",1,1,e,r,t,o,c,2),z("x","z","y",1,-1,e,r,-t,o,c,3),z("x","y","z",1,-1,e,t,r,o,a,4),z("x","y","z",-1,-1,e,t,-r,o,a,5),this.setIndex(g),this.setAttribute("position",new _i(_,3)),this.setAttribute("normal",new _i(b,3)),this.setAttribute("uv",new _i(C,2));function z(F,N,D,A,G,Q,ae,Y,ge,_e,J){const Se=Q/ge,Be=ae/_e,_t=Q/2,Ve=ae/2,xe=Y/2,ot=ge+1,Ze=_e+1;let mt=0,we=0;const Te=new Ke;for(let Ae=0;Ae<Ze;Ae++){const me=Ae*Be-Ve;for(let ce=0;ce<ot;ce++){const qe=ce*Se-_t;Te[F]=qe*A,Te[N]=me*G,Te[D]=xe,_.push(Te.x,Te.y,Te.z),Te[F]=0,Te[N]=0,Te[D]=Y>0?1:-1,b.push(Te.x,Te.y,Te.z),C.push(ce/ge),C.push(1-Ae/_e),mt+=1}}for(let Ae=0;Ae<_e;Ae++)for(let me=0;me<ge;me++){const ce=k+me+ot*Ae,qe=k+me+ot*(Ae+1),ht=k+(me+1)+ot*(Ae+1),wt=k+(me+1)+ot*Ae;g.push(ce,qe,wt),g.push(qe,ht,wt),we+=6}p.addGroup(B,we,J),B+=we,k+=mt}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ip(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function fM(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const o=n[t][r];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=o.clone():Array.isArray(o)?e[t][r]=o.slice():e[t][r]=o}}return e}function Vh(n){const e={};for(let t=0;t<n.length;t++){const r=fM(n[t]);for(const o in r)e[o]=r[o]}return e}function D4e(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function $we(n){return n.getRenderTarget()===null?n.outputColorSpace:L0}const eSe={clone:fM,merge:Vh};var L4e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,N4e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Eg extends nc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=L4e,this.fragmentShader=N4e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fM(e.uniforms),this.uniformsGroups=D4e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const o in this.uniforms){const c=this.uniforms[o].value;c&&c.isTexture?t.uniforms[o]={type:"t",value:c.toJSON(e).uuid}:c&&c.isColor?t.uniforms[o]={type:"c",value:c.getHex()}:c&&c.isVector2?t.uniforms[o]={type:"v2",value:c.toArray()}:c&&c.isVector3?t.uniforms[o]={type:"v3",value:c.toArray()}:c&&c.isVector4?t.uniforms[o]={type:"v4",value:c.toArray()}:c&&c.isMatrix3?t.uniforms[o]={type:"m3",value:c.toArray()}:c&&c.isMatrix4?t.uniforms[o]={type:"m4",value:c.toArray()}:t.uniforms[o]={value:c}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const o in this.extensions)this.extensions[o]===!0&&(r[o]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class RM extends Jo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qi,this.projectionMatrix=new Qi,this.projectionMatrixInverse=new Qi,this.coordinateSystem=Iv}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let Da=class extends RM{constructor(e=50,t=1,r=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=o,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=dM*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(db*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return dM*2*Math.atan(Math.tan(db*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,o,a,c){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=o,this.view.width=a,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(db*.5*this.fov)/this.zoom,r=2*t,o=this.aspect*r,a=-.5*o;const c=this.view;if(this.view!==null&&this.view.enabled){const g=c.fullWidth,_=c.fullHeight;a+=c.offsetX*o/g,t-=c.offsetY*r/_,o*=c.width/g,r*=c.height/_}const p=this.filmOffset;p!==0&&(a+=e*p/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+o,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const aC=-90,lC=1;class tSe extends Jo{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const o=new Da(aC,lC,e,t);o.layers=this.layers,this.add(o);const a=new Da(aC,lC,e,t);a.layers=this.layers,this.add(a);const c=new Da(aC,lC,e,t);c.layers=this.layers,this.add(c);const p=new Da(aC,lC,e,t);p.layers=this.layers,this.add(p);const g=new Da(aC,lC,e,t);g.layers=this.layers,this.add(g);const _=new Da(aC,lC,e,t);_.layers=this.layers,this.add(_)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,o,a,c,p,g]=t;for(const _ of t)this.remove(_);if(e===Iv)r.up.set(0,1,0),r.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),p.up.set(0,1,0),p.lookAt(0,0,1),g.up.set(0,1,0),g.lookAt(0,0,-1);else if(e===rR)r.up.set(0,-1,0),r.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),p.up.set(0,-1,0),p.lookAt(0,0,1),g.up.set(0,-1,0),g.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const _ of t)this.add(_),_.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,c,p,g,_]=this.children,b=e.getRenderTarget(),C=e.xr.enabled;e.xr.enabled=!1;const k=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,o),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,c),e.setRenderTarget(r,3),e.render(t,p),e.setRenderTarget(r,4),e.render(t,g),r.texture.generateMipmaps=k,e.setRenderTarget(r,5),e.render(t,_),e.setRenderTarget(b),e.xr.enabled=C,r.texture.needsPMREMUpdate=!0}}class UR extends el{constructor(e,t,r,o,a,c,p,g,_,b){e=e!==void 0?e:[],t=t!==void 0?t:zv,super(e,t,r,o,a,c,p,g,_,b),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class TX extends bg{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},o=[r,r,r,r,r,r];t.encoding!==void 0&&(LI("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===bw?Io:Ew),this.texture=new UR(o,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:aa}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new Ip(5,5,5),a=new Eg({name:"CubemapFromEquirect",uniforms:fM(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Xh,blending:g1});a.uniforms.tEquirect.value=t;const c=new ni(o,a),p=t.minFilter;return t.minFilter===Uv&&(t.minFilter=aa),new tSe(1,10,this).update(e,c),t.minFilter=p,c.geometry.dispose(),c.material.dispose(),this}clear(e,t,r,o){const a=e.getRenderTarget();for(let c=0;c<6;c++)e.setRenderTarget(this,c),e.clear(t,r,o);e.setRenderTarget(a)}}const b7=new Ke,F4e=new Ke,z4e=new Lo;class cw{constructor(e=new Ke(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,o){return this.normal.set(e,t,r),this.constant=o,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const o=b7.subVectors(r,t).cross(F4e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(b7),o=this.normal.dot(r);if(o===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/o;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||z4e.getNormalMatrix(e),o=this.coplanarPoint(b7).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Lx=new Mg,S4=new Ke;class GN{constructor(e=new cw,t=new cw,r=new cw,o=new cw,a=new cw,c=new cw){this.planes=[e,t,r,o,a,c]}set(e,t,r,o,a,c){const p=this.planes;return p[0].copy(e),p[1].copy(t),p[2].copy(r),p[3].copy(o),p[4].copy(a),p[5].copy(c),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Iv){const r=this.planes,o=e.elements,a=o[0],c=o[1],p=o[2],g=o[3],_=o[4],b=o[5],C=o[6],k=o[7],B=o[8],z=o[9],F=o[10],N=o[11],D=o[12],A=o[13],G=o[14],Q=o[15];if(r[0].setComponents(g-a,k-_,N-B,Q-D).normalize(),r[1].setComponents(g+a,k+_,N+B,Q+D).normalize(),r[2].setComponents(g+c,k+b,N+z,Q+A).normalize(),r[3].setComponents(g-c,k-b,N-z,Q-A).normalize(),r[4].setComponents(g-p,k-C,N-F,Q-G).normalize(),t===Iv)r[5].setComponents(g+p,k+C,N+F,Q+G).normalize();else if(t===rR)r[5].setComponents(p,C,F,G).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Lx.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Lx.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Lx)}intersectsSprite(e){return Lx.center.set(0,0,0),Lx.radius=.7071067811865476,Lx.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lx)}intersectsSphere(e){const t=this.planes,r=e.center,o=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<o)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const o=t[r];if(S4.x=o.normal.x>0?e.max.x:e.min.x,S4.y=o.normal.y>0?e.max.y:e.min.y,S4.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(S4)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function nSe(){let n=null,e=!1,t=null,r=null;function o(a,c){t(a,c),r=n.requestAnimationFrame(o)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(o),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function U4e(n,e){const t=e.isWebGL2,r=new WeakMap;function o(_,b){const C=_.array,k=_.usage,B=n.createBuffer();n.bindBuffer(b,B),n.bufferData(b,C,k),_.onUploadCallback();let z;if(C instanceof Float32Array)z=n.FLOAT;else if(C instanceof Uint16Array)if(_.isFloat16BufferAttribute)if(t)z=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else z=n.UNSIGNED_SHORT;else if(C instanceof Int16Array)z=n.SHORT;else if(C instanceof Uint32Array)z=n.UNSIGNED_INT;else if(C instanceof Int32Array)z=n.INT;else if(C instanceof Int8Array)z=n.BYTE;else if(C instanceof Uint8Array)z=n.UNSIGNED_BYTE;else if(C instanceof Uint8ClampedArray)z=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+C);return{buffer:B,type:z,bytesPerElement:C.BYTES_PER_ELEMENT,version:_.version}}function a(_,b,C){const k=b.array,B=b.updateRange;n.bindBuffer(C,_),B.count===-1?n.bufferSubData(C,0,k):(t?n.bufferSubData(C,B.offset*k.BYTES_PER_ELEMENT,k,B.offset,B.count):n.bufferSubData(C,B.offset*k.BYTES_PER_ELEMENT,k.subarray(B.offset,B.offset+B.count)),B.count=-1),b.onUploadCallback()}function c(_){return _.isInterleavedBufferAttribute&&(_=_.data),r.get(_)}function p(_){_.isInterleavedBufferAttribute&&(_=_.data);const b=r.get(_);b&&(n.deleteBuffer(b.buffer),r.delete(_))}function g(_,b){if(_.isGLBufferAttribute){const k=r.get(_);(!k||k.version<_.version)&&r.set(_,{buffer:_.buffer,type:_.type,bytesPerElement:_.elementSize,version:_.version});return}_.isInterleavedBufferAttribute&&(_=_.data);const C=r.get(_);C===void 0?r.set(_,o(_,b)):C.version<_.version&&(a(C.buffer,_,b),C.version=_.version)}return{get:c,remove:p,update:g}}class xm extends yo{constructor(e=1,t=1,r=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:o};const a=e/2,c=t/2,p=Math.floor(r),g=Math.floor(o),_=p+1,b=g+1,C=e/p,k=t/g,B=[],z=[],F=[],N=[];for(let D=0;D<b;D++){const A=D*k-c;for(let G=0;G<_;G++){const Q=G*C-a;z.push(Q,-A,0),F.push(0,0,1),N.push(G/p),N.push(1-D/g)}}for(let D=0;D<g;D++)for(let A=0;A<p;A++){const G=A+_*D,Q=A+_*(D+1),ae=A+1+_*(D+1),Y=A+1+_*D;B.push(G,Q,Y),B.push(Q,ae,Y)}this.setIndex(B),this.setAttribute("position",new _i(z,3)),this.setAttribute("normal",new _i(F,3)),this.setAttribute("uv",new _i(N,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xm(e.width,e.height,e.widthSegments,e.heightSegments)}}var j4e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,H4e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,G4e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,V4e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,W4e=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,X4e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,K4e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Y4e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Q4e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,q4e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,J4e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Z4e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,$4e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,eLe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,tLe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nLe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,rLe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,iLe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,oLe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,sLe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,aLe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,lLe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,uLe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,cLe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dLe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,fLe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hLe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pLe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mLe="gl_FragColor = linearToOutputTexel( gl_FragColor );",gLe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,vLe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,yLe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_Le=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wLe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,SLe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,xLe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,bLe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,ELe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ALe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,CLe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,MLe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,TLe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,PLe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,kLe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,ILe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,RLe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,OLe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,BLe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,DLe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,LLe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,NLe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,FLe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zLe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ULe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,jLe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,HLe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,GLe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,VLe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,WLe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,XLe=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,KLe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,YLe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,QLe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,qLe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,JLe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,ZLe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,$Le=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,eNe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,tNe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,nNe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,rNe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,iNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,oNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sNe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,aNe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,lNe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,uNe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,cNe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,dNe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,fNe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,hNe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,pNe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,mNe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,gNe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,vNe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,yNe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_Ne=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,SNe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,xNe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,bNe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,ENe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ANe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,CNe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,MNe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,TNe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,PNe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,kNe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,INe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,RNe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,ONe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,BNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,DNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,LNe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,NNe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const FNe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zNe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,UNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,jNe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,HNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,GNe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,VNe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,WNe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,XNe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,KNe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,YNe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,QNe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,qNe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,JNe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ZNe=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,$Ne=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eFe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tFe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nFe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,rFe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iFe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,oFe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,sFe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aFe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lFe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,uFe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cFe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dFe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fFe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,hFe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pFe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mFe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,gFe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,vFe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Oo={alphahash_fragment:j4e,alphahash_pars_fragment:H4e,alphamap_fragment:G4e,alphamap_pars_fragment:V4e,alphatest_fragment:W4e,alphatest_pars_fragment:X4e,aomap_fragment:K4e,aomap_pars_fragment:Y4e,begin_vertex:Q4e,beginnormal_vertex:q4e,bsdfs:J4e,iridescence_fragment:Z4e,bumpmap_pars_fragment:$4e,clipping_planes_fragment:eLe,clipping_planes_pars_fragment:tLe,clipping_planes_pars_vertex:nLe,clipping_planes_vertex:rLe,color_fragment:iLe,color_pars_fragment:oLe,color_pars_vertex:sLe,color_vertex:aLe,common:lLe,cube_uv_reflection_fragment:uLe,defaultnormal_vertex:cLe,displacementmap_pars_vertex:dLe,displacementmap_vertex:fLe,emissivemap_fragment:hLe,emissivemap_pars_fragment:pLe,colorspace_fragment:mLe,colorspace_pars_fragment:gLe,envmap_fragment:vLe,envmap_common_pars_fragment:yLe,envmap_pars_fragment:_Le,envmap_pars_vertex:wLe,envmap_physical_pars_fragment:RLe,envmap_vertex:SLe,fog_vertex:xLe,fog_pars_vertex:bLe,fog_fragment:ELe,fog_pars_fragment:ALe,gradientmap_pars_fragment:CLe,lightmap_fragment:MLe,lightmap_pars_fragment:TLe,lights_lambert_fragment:PLe,lights_lambert_pars_fragment:kLe,lights_pars_begin:ILe,lights_toon_fragment:OLe,lights_toon_pars_fragment:BLe,lights_phong_fragment:DLe,lights_phong_pars_fragment:LLe,lights_physical_fragment:NLe,lights_physical_pars_fragment:FLe,lights_fragment_begin:zLe,lights_fragment_maps:ULe,lights_fragment_end:jLe,logdepthbuf_fragment:HLe,logdepthbuf_pars_fragment:GLe,logdepthbuf_pars_vertex:VLe,logdepthbuf_vertex:WLe,map_fragment:XLe,map_pars_fragment:KLe,map_particle_fragment:YLe,map_particle_pars_fragment:QLe,metalnessmap_fragment:qLe,metalnessmap_pars_fragment:JLe,morphcolor_vertex:ZLe,morphnormal_vertex:$Le,morphtarget_pars_vertex:eNe,morphtarget_vertex:tNe,normal_fragment_begin:nNe,normal_fragment_maps:rNe,normal_pars_fragment:iNe,normal_pars_vertex:oNe,normal_vertex:sNe,normalmap_pars_fragment:aNe,clearcoat_normal_fragment_begin:lNe,clearcoat_normal_fragment_maps:uNe,clearcoat_pars_fragment:cNe,iridescence_pars_fragment:dNe,opaque_fragment:fNe,packing:hNe,premultiplied_alpha_fragment:pNe,project_vertex:mNe,dithering_fragment:gNe,dithering_pars_fragment:vNe,roughnessmap_fragment:yNe,roughnessmap_pars_fragment:_Ne,shadowmap_pars_fragment:wNe,shadowmap_pars_vertex:SNe,shadowmap_vertex:xNe,shadowmask_pars_fragment:bNe,skinbase_vertex:ENe,skinning_pars_vertex:ANe,skinning_vertex:CNe,skinnormal_vertex:MNe,specularmap_fragment:TNe,specularmap_pars_fragment:PNe,tonemapping_fragment:kNe,tonemapping_pars_fragment:INe,transmission_fragment:RNe,transmission_pars_fragment:ONe,uv_pars_fragment:BNe,uv_pars_vertex:DNe,uv_vertex:LNe,worldpos_vertex:NNe,background_vert:FNe,background_frag:zNe,backgroundCube_vert:UNe,backgroundCube_frag:jNe,cube_vert:HNe,cube_frag:GNe,depth_vert:VNe,depth_frag:WNe,distanceRGBA_vert:XNe,distanceRGBA_frag:KNe,equirect_vert:YNe,equirect_frag:QNe,linedashed_vert:qNe,linedashed_frag:JNe,meshbasic_vert:ZNe,meshbasic_frag:$Ne,meshlambert_vert:eFe,meshlambert_frag:tFe,meshmatcap_vert:nFe,meshmatcap_frag:rFe,meshnormal_vert:iFe,meshnormal_frag:oFe,meshphong_vert:sFe,meshphong_frag:aFe,meshphysical_vert:lFe,meshphysical_frag:uFe,meshtoon_vert:cFe,meshtoon_frag:dFe,points_vert:fFe,points_frag:hFe,shadow_vert:pFe,shadow_frag:mFe,sprite_vert:gFe,sprite_frag:vFe},Kr={common:{diffuse:{value:new Ir(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Lo},alphaMap:{value:null},alphaMapTransform:{value:new Lo},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Lo}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Lo}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Lo}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Lo},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Lo},normalScale:{value:new Vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Lo},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Lo}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Lo}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Lo}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ir(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ir(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Lo},alphaTest:{value:0},uvTransform:{value:new Lo}},sprite:{diffuse:{value:new Ir(16777215)},opacity:{value:1},center:{value:new Vn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Lo},alphaMap:{value:null},alphaMapTransform:{value:new Lo},alphaTest:{value:0}}},k0={basic:{uniforms:Vh([Kr.common,Kr.specularmap,Kr.envmap,Kr.aomap,Kr.lightmap,Kr.fog]),vertexShader:Oo.meshbasic_vert,fragmentShader:Oo.meshbasic_frag},lambert:{uniforms:Vh([Kr.common,Kr.specularmap,Kr.envmap,Kr.aomap,Kr.lightmap,Kr.emissivemap,Kr.bumpmap,Kr.normalmap,Kr.displacementmap,Kr.fog,Kr.lights,{emissive:{value:new Ir(0)}}]),vertexShader:Oo.meshlambert_vert,fragmentShader:Oo.meshlambert_frag},phong:{uniforms:Vh([Kr.common,Kr.specularmap,Kr.envmap,Kr.aomap,Kr.lightmap,Kr.emissivemap,Kr.bumpmap,Kr.normalmap,Kr.displacementmap,Kr.fog,Kr.lights,{emissive:{value:new Ir(0)},specular:{value:new Ir(1118481)},shininess:{value:30}}]),vertexShader:Oo.meshphong_vert,fragmentShader:Oo.meshphong_frag},standard:{uniforms:Vh([Kr.common,Kr.envmap,Kr.aomap,Kr.lightmap,Kr.emissivemap,Kr.bumpmap,Kr.normalmap,Kr.displacementmap,Kr.roughnessmap,Kr.metalnessmap,Kr.fog,Kr.lights,{emissive:{value:new Ir(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Oo.meshphysical_vert,fragmentShader:Oo.meshphysical_frag},toon:{uniforms:Vh([Kr.common,Kr.aomap,Kr.lightmap,Kr.emissivemap,Kr.bumpmap,Kr.normalmap,Kr.displacementmap,Kr.gradientmap,Kr.fog,Kr.lights,{emissive:{value:new Ir(0)}}]),vertexShader:Oo.meshtoon_vert,fragmentShader:Oo.meshtoon_frag},matcap:{uniforms:Vh([Kr.common,Kr.bumpmap,Kr.normalmap,Kr.displacementmap,Kr.fog,{matcap:{value:null}}]),vertexShader:Oo.meshmatcap_vert,fragmentShader:Oo.meshmatcap_frag},points:{uniforms:Vh([Kr.points,Kr.fog]),vertexShader:Oo.points_vert,fragmentShader:Oo.points_frag},dashed:{uniforms:Vh([Kr.common,Kr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Oo.linedashed_vert,fragmentShader:Oo.linedashed_frag},depth:{uniforms:Vh([Kr.common,Kr.displacementmap]),vertexShader:Oo.depth_vert,fragmentShader:Oo.depth_frag},normal:{uniforms:Vh([Kr.common,Kr.bumpmap,Kr.normalmap,Kr.displacementmap,{opacity:{value:1}}]),vertexShader:Oo.meshnormal_vert,fragmentShader:Oo.meshnormal_frag},sprite:{uniforms:Vh([Kr.sprite,Kr.fog]),vertexShader:Oo.sprite_vert,fragmentShader:Oo.sprite_frag},background:{uniforms:{uvTransform:{value:new Lo},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Oo.background_vert,fragmentShader:Oo.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Oo.backgroundCube_vert,fragmentShader:Oo.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Oo.cube_vert,fragmentShader:Oo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Oo.equirect_vert,fragmentShader:Oo.equirect_frag},distanceRGBA:{uniforms:Vh([Kr.common,Kr.displacementmap,{referencePosition:{value:new Ke},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Oo.distanceRGBA_vert,fragmentShader:Oo.distanceRGBA_frag},shadow:{uniforms:Vh([Kr.lights,Kr.fog,{color:{value:new Ir(0)},opacity:{value:1}}]),vertexShader:Oo.shadow_vert,fragmentShader:Oo.shadow_frag}};k0.physical={uniforms:Vh([k0.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Lo},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Lo},clearcoatNormalScale:{value:new Vn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Lo},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Lo},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Lo},sheen:{value:0},sheenColor:{value:new Ir(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Lo},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Lo},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Lo},transmissionSamplerSize:{value:new Vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Lo},attenuationDistance:{value:0},attenuationColor:{value:new Ir(0)},specularColor:{value:new Ir(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Lo},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Lo},anisotropyVector:{value:new Vn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Lo}}]),vertexShader:Oo.meshphysical_vert,fragmentShader:Oo.meshphysical_frag};const x4={r:0,b:0,g:0};function yFe(n,e,t,r,o,a,c){const p=new Ir(0);let g=a===!0?0:1,_,b,C=null,k=0,B=null;function z(N,D){let A=!1,G=D.isScene===!0?D.background:null;switch(G&&G.isTexture&&(G=(D.backgroundBlurriness>0?t:e).get(G)),G===null?F(p,g):G&&G.isColor&&(F(G,1),A=!0),n.xr.getEnvironmentBlendMode()){case"opaque":A=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,c),A=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,c),A=!0;break}(n.autoClear||A)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),G&&(G.isCubeTexture||G.mapping===kM)?(b===void 0&&(b=new ni(new Ip(1,1,1),new Eg({name:"BackgroundCubeMaterial",uniforms:fM(k0.backgroundCube.uniforms),vertexShader:k0.backgroundCube.vertexShader,fragmentShader:k0.backgroundCube.fragmentShader,side:Xh,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.deleteAttribute("normal"),b.geometry.deleteAttribute("uv"),b.onBeforeRender=function(Y,ge,_e){this.matrixWorld.copyPosition(_e.matrixWorld)},Object.defineProperty(b.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(b)),b.material.uniforms.envMap.value=G,b.material.uniforms.flipEnvMap.value=G.isCubeTexture&&G.isRenderTargetTexture===!1?-1:1,b.material.uniforms.backgroundBlurriness.value=D.backgroundBlurriness,b.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,b.material.toneMapped=G.colorSpace!==Io,(C!==G||k!==G.version||B!==n.toneMapping)&&(b.material.needsUpdate=!0,C=G,k=G.version,B=n.toneMapping),b.layers.enableAll(),N.unshift(b,b.geometry,b.material,0,0,null)):G&&G.isTexture&&(_===void 0&&(_=new ni(new xm(2,2),new Eg({name:"BackgroundMaterial",uniforms:fM(k0.background.uniforms),vertexShader:k0.background.vertexShader,fragmentShader:k0.background.fragmentShader,side:Fv,depthTest:!1,depthWrite:!1,fog:!1})),_.geometry.deleteAttribute("normal"),Object.defineProperty(_.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(_)),_.material.uniforms.t2D.value=G,_.material.uniforms.backgroundIntensity.value=D.backgroundIntensity,_.material.toneMapped=G.colorSpace!==Io,G.matrixAutoUpdate===!0&&G.updateMatrix(),_.material.uniforms.uvTransform.value.copy(G.matrix),(C!==G||k!==G.version||B!==n.toneMapping)&&(_.material.needsUpdate=!0,C=G,k=G.version,B=n.toneMapping),_.layers.enableAll(),N.unshift(_,_.geometry,_.material,0,0,null))}function F(N,D){N.getRGB(x4,$we(n)),r.buffers.color.setClear(x4.r,x4.g,x4.b,D,c)}return{getClearColor:function(){return p},setClearColor:function(N,D=1){p.set(N),g=D,F(p,g)},getClearAlpha:function(){return g},setClearAlpha:function(N){g=N,F(p,g)},render:z}}function _Fe(n,e,t,r){const o=n.getParameter(n.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),c=r.isWebGL2||a!==null,p={},g=N(null);let _=g,b=!1;function C(xe,ot,Ze,mt,we){let Te=!1;if(c){const Ae=F(mt,Ze,ot);_!==Ae&&(_=Ae,B(_.object)),Te=D(xe,mt,Ze,we),Te&&A(xe,mt,Ze,we)}else{const Ae=ot.wireframe===!0;(_.geometry!==mt.id||_.program!==Ze.id||_.wireframe!==Ae)&&(_.geometry=mt.id,_.program=Ze.id,_.wireframe=Ae,Te=!0)}we!==null&&t.update(we,n.ELEMENT_ARRAY_BUFFER),(Te||b)&&(b=!1,_e(xe,ot,Ze,mt),we!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(we).buffer))}function k(){return r.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}function B(xe){return r.isWebGL2?n.bindVertexArray(xe):a.bindVertexArrayOES(xe)}function z(xe){return r.isWebGL2?n.deleteVertexArray(xe):a.deleteVertexArrayOES(xe)}function F(xe,ot,Ze){const mt=Ze.wireframe===!0;let we=p[xe.id];we===void 0&&(we={},p[xe.id]=we);let Te=we[ot.id];Te===void 0&&(Te={},we[ot.id]=Te);let Ae=Te[mt];return Ae===void 0&&(Ae=N(k()),Te[mt]=Ae),Ae}function N(xe){const ot=[],Ze=[],mt=[];for(let we=0;we<o;we++)ot[we]=0,Ze[we]=0,mt[we]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ot,enabledAttributes:Ze,attributeDivisors:mt,object:xe,attributes:{},index:null}}function D(xe,ot,Ze,mt){const we=_.attributes,Te=ot.attributes;let Ae=0;const me=Ze.getAttributes();for(const ce in me)if(me[ce].location>=0){const ht=we[ce];let wt=Te[ce];if(wt===void 0&&(ce==="instanceMatrix"&&xe.instanceMatrix&&(wt=xe.instanceMatrix),ce==="instanceColor"&&xe.instanceColor&&(wt=xe.instanceColor)),ht===void 0||ht.attribute!==wt||wt&&ht.data!==wt.data)return!0;Ae++}return _.attributesNum!==Ae||_.index!==mt}function A(xe,ot,Ze,mt){const we={},Te=ot.attributes;let Ae=0;const me=Ze.getAttributes();for(const ce in me)if(me[ce].location>=0){let ht=Te[ce];ht===void 0&&(ce==="instanceMatrix"&&xe.instanceMatrix&&(ht=xe.instanceMatrix),ce==="instanceColor"&&xe.instanceColor&&(ht=xe.instanceColor));const wt={};wt.attribute=ht,ht&&ht.data&&(wt.data=ht.data),we[ce]=wt,Ae++}_.attributes=we,_.attributesNum=Ae,_.index=mt}function G(){const xe=_.newAttributes;for(let ot=0,Ze=xe.length;ot<Ze;ot++)xe[ot]=0}function Q(xe){ae(xe,0)}function ae(xe,ot){const Ze=_.newAttributes,mt=_.enabledAttributes,we=_.attributeDivisors;Ze[xe]=1,mt[xe]===0&&(n.enableVertexAttribArray(xe),mt[xe]=1),we[xe]!==ot&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](xe,ot),we[xe]=ot)}function Y(){const xe=_.newAttributes,ot=_.enabledAttributes;for(let Ze=0,mt=ot.length;Ze<mt;Ze++)ot[Ze]!==xe[Ze]&&(n.disableVertexAttribArray(Ze),ot[Ze]=0)}function ge(xe,ot,Ze,mt,we,Te,Ae){Ae===!0?n.vertexAttribIPointer(xe,ot,Ze,we,Te):n.vertexAttribPointer(xe,ot,Ze,mt,we,Te)}function _e(xe,ot,Ze,mt){if(r.isWebGL2===!1&&(xe.isInstancedMesh||mt.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;G();const we=mt.attributes,Te=Ze.getAttributes(),Ae=ot.defaultAttributeValues;for(const me in Te){const ce=Te[me];if(ce.location>=0){let qe=we[me];if(qe===void 0&&(me==="instanceMatrix"&&xe.instanceMatrix&&(qe=xe.instanceMatrix),me==="instanceColor"&&xe.instanceColor&&(qe=xe.instanceColor)),qe!==void 0){const ht=qe.normalized,wt=qe.itemSize,et=t.get(qe);if(et===void 0)continue;const Nt=et.buffer,Ot=et.type,an=et.bytesPerElement,fn=r.isWebGL2===!0&&(Ot===n.INT||Ot===n.UNSIGNED_INT||qe.gpuType===fX);if(qe.isInterleavedBufferAttribute){const nn=qe.data,Ye=nn.stride,Xt=qe.offset;if(nn.isInstancedInterleavedBuffer){for(let Ft=0;Ft<ce.locationSize;Ft++)ae(ce.location+Ft,nn.meshPerAttribute);xe.isInstancedMesh!==!0&&mt._maxInstanceCount===void 0&&(mt._maxInstanceCount=nn.meshPerAttribute*nn.count)}else for(let Ft=0;Ft<ce.locationSize;Ft++)Q(ce.location+Ft);n.bindBuffer(n.ARRAY_BUFFER,Nt);for(let Ft=0;Ft<ce.locationSize;Ft++)ge(ce.location+Ft,wt/ce.locationSize,Ot,ht,Ye*an,(Xt+wt/ce.locationSize*Ft)*an,fn)}else{if(qe.isInstancedBufferAttribute){for(let nn=0;nn<ce.locationSize;nn++)ae(ce.location+nn,qe.meshPerAttribute);xe.isInstancedMesh!==!0&&mt._maxInstanceCount===void 0&&(mt._maxInstanceCount=qe.meshPerAttribute*qe.count)}else for(let nn=0;nn<ce.locationSize;nn++)Q(ce.location+nn);n.bindBuffer(n.ARRAY_BUFFER,Nt);for(let nn=0;nn<ce.locationSize;nn++)ge(ce.location+nn,wt/ce.locationSize,Ot,ht,wt*an,wt/ce.locationSize*nn*an,fn)}}else if(Ae!==void 0){const ht=Ae[me];if(ht!==void 0)switch(ht.length){case 2:n.vertexAttrib2fv(ce.location,ht);break;case 3:n.vertexAttrib3fv(ce.location,ht);break;case 4:n.vertexAttrib4fv(ce.location,ht);break;default:n.vertexAttrib1fv(ce.location,ht)}}}}Y()}function J(){_t();for(const xe in p){const ot=p[xe];for(const Ze in ot){const mt=ot[Ze];for(const we in mt)z(mt[we].object),delete mt[we];delete ot[Ze]}delete p[xe]}}function Se(xe){if(p[xe.id]===void 0)return;const ot=p[xe.id];for(const Ze in ot){const mt=ot[Ze];for(const we in mt)z(mt[we].object),delete mt[we];delete ot[Ze]}delete p[xe.id]}function Be(xe){for(const ot in p){const Ze=p[ot];if(Ze[xe.id]===void 0)continue;const mt=Ze[xe.id];for(const we in mt)z(mt[we].object),delete mt[we];delete Ze[xe.id]}}function _t(){Ve(),b=!0,_!==g&&(_=g,B(_.object))}function Ve(){g.geometry=null,g.program=null,g.wireframe=!1}return{setup:C,reset:_t,resetDefaultState:Ve,dispose:J,releaseStatesOfGeometry:Se,releaseStatesOfProgram:Be,initAttributes:G,enableAttribute:Q,disableUnusedAttributes:Y}}function wFe(n,e,t,r){const o=r.isWebGL2;let a;function c(_){a=_}function p(_,b){n.drawArrays(a,_,b),t.update(b,a,1)}function g(_,b,C){if(C===0)return;let k,B;if(o)k=n,B="drawArraysInstanced";else if(k=e.get("ANGLE_instanced_arrays"),B="drawArraysInstancedANGLE",k===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}k[B](a,_,b,C),t.update(b,a,C)}this.setMode=c,this.render=p,this.renderInstances=g}function SFe(n,e,t){let r;function o(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const ge=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(ge.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(ge){if(ge==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";ge="mediump"}return ge==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const c=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let p=t.precision!==void 0?t.precision:"highp";const g=a(p);g!==p&&(console.warn("THREE.WebGLRenderer:",p,"not supported, using",g,"instead."),p=g);const _=c||e.has("WEBGL_draw_buffers"),b=t.logarithmicDepthBuffer===!0,C=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),k=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),B=n.getParameter(n.MAX_TEXTURE_SIZE),z=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),F=n.getParameter(n.MAX_VERTEX_ATTRIBS),N=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),A=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),G=k>0,Q=c||e.has("OES_texture_float"),ae=G&&Q,Y=c?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:c,drawBuffers:_,getMaxAnisotropy:o,getMaxPrecision:a,precision:p,logarithmicDepthBuffer:b,maxTextures:C,maxVertexTextures:k,maxTextureSize:B,maxCubemapSize:z,maxAttributes:F,maxVertexUniforms:N,maxVaryings:D,maxFragmentUniforms:A,vertexTextures:G,floatFragmentTextures:Q,floatVertexTextures:ae,maxSamples:Y}}function xFe(n){const e=this;let t=null,r=0,o=!1,a=!1;const c=new cw,p=new Lo,g={value:null,needsUpdate:!1};this.uniform=g,this.numPlanes=0,this.numIntersection=0,this.init=function(C,k){const B=C.length!==0||k||r!==0||o;return o=k,r=C.length,B},this.beginShadows=function(){a=!0,b(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(C,k){t=b(C,k,0)},this.setState=function(C,k,B){const z=C.clippingPlanes,F=C.clipIntersection,N=C.clipShadows,D=n.get(C);if(!o||z===null||z.length===0||a&&!N)a?b(null):_();else{const A=a?0:r,G=A*4;let Q=D.clippingState||null;g.value=Q,Q=b(z,k,G,B);for(let ae=0;ae!==G;++ae)Q[ae]=t[ae];D.clippingState=Q,this.numIntersection=F?this.numPlanes:0,this.numPlanes+=A}};function _(){g.value!==t&&(g.value=t,g.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function b(C,k,B,z){const F=C!==null?C.length:0;let N=null;if(F!==0){if(N=g.value,z!==!0||N===null){const D=B+F*4,A=k.matrixWorldInverse;p.getNormalMatrix(A),(N===null||N.length<D)&&(N=new Float32Array(D));for(let G=0,Q=B;G!==F;++G,Q+=4)c.copy(C[G]).applyMatrix4(A,p),c.normal.toArray(N,Q),N[Q+3]=c.constant}g.value=N,g.needsUpdate=!0}return e.numPlanes=F,e.numIntersection=0,N}}function bFe(n){let e=new WeakMap;function t(c,p){return p===lM?c.mapping=zv:p===$I&&(c.mapping=Lw),c}function r(c){if(c&&c.isTexture&&c.isRenderTargetTexture===!1){const p=c.mapping;if(p===lM||p===$I)if(e.has(c)){const g=e.get(c).texture;return t(g,c.mapping)}else{const g=c.image;if(g&&g.height>0){const _=new TX(g.height/2);return _.fromEquirectangularTexture(n,c),e.set(c,_),c.addEventListener("dispose",o),t(_.texture,c.mapping)}else return null}}return c}function o(c){const p=c.target;p.removeEventListener("dispose",o);const g=e.get(p);g!==void 0&&(e.delete(p),g.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class Lp extends RM{constructor(e=-1,t=1,r=1,o=-1,a=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=o,this.near=a,this.far=c,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,o,a,c){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=o,this.view.width=a,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let a=r-e,c=r+e,p=o+t,g=o-t;if(this.view!==null&&this.view.enabled){const _=(this.right-this.left)/this.view.fullWidth/this.zoom,b=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=_*this.view.offsetX,c=a+_*this.view.width,p-=b*this.view.offsetY,g=p-b*this.view.height}this.projectionMatrix.makeOrthographic(a,c,p,g,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const OC=4,u0e=[.125,.215,.35,.446,.526,.582],eb=20,E7=new Lp,c0e=new Ir;let A7=null;const Yx=(1+Math.sqrt(5))/2,uC=1/Yx,d0e=[new Ke(1,1,1),new Ke(-1,1,1),new Ke(1,1,-1),new Ke(-1,1,-1),new Ke(0,Yx,uC),new Ke(0,Yx,-uC),new Ke(uC,0,Yx),new Ke(-uC,0,Yx),new Ke(Yx,uC,0),new Ke(-Yx,uC,0)];class PV{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,o=100){A7=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,o,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=p0e(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=h0e(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(A7),e.scissorTest=!1,b4(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===zv||e.mapping===Lw?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),A7=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:aa,minFilter:aa,generateMipmaps:!1,type:uh,format:ah,colorSpace:L0,depthBuffer:!1},o=f0e(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=f0e(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=EFe(a)),this._blurMaterial=AFe(a,e,t)}return o}_compileMaterial(e){const t=new ni(this._lodPlanes[0],e);this._renderer.compile(t,E7)}_sceneToCubeUV(e,t,r,o){const p=new Da(90,1,t,r),g=[1,-1,1,1,1,1],_=[1,1,1,-1,-1,-1],b=this._renderer,C=b.autoClear,k=b.toneMapping;b.getClearColor(c0e),b.toneMapping=R0,b.autoClear=!1;const B=new yf({name:"PMREM.Background",side:Xh,depthWrite:!1,depthTest:!1}),z=new ni(new Ip,B);let F=!1;const N=e.background;N?N.isColor&&(B.color.copy(N),e.background=null,F=!0):(B.color.copy(c0e),F=!0);for(let D=0;D<6;D++){const A=D%3;A===0?(p.up.set(0,g[D],0),p.lookAt(_[D],0,0)):A===1?(p.up.set(0,0,g[D]),p.lookAt(0,_[D],0)):(p.up.set(0,g[D],0),p.lookAt(0,0,_[D]));const G=this._cubeSize;b4(o,A*G,D>2?G:0,G,G),b.setRenderTarget(o),F&&b.render(z,p),b.render(e,p)}z.geometry.dispose(),z.material.dispose(),b.toneMapping=k,b.autoClear=C,e.background=N}_textureToCubeUV(e,t){const r=this._renderer,o=e.mapping===zv||e.mapping===Lw;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=p0e()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=h0e());const a=o?this._cubemapMaterial:this._equirectMaterial,c=new ni(this._lodPlanes[0],a),p=a.uniforms;p.envMap.value=e;const g=this._cubeSize;b4(t,0,0,3*g,2*g),r.setRenderTarget(t),r.render(c,E7)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let o=1;o<this._lodPlanes.length;o++){const a=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),c=d0e[(o-1)%d0e.length];this._blur(e,o-1,o,a,c)}t.autoClear=r}_blur(e,t,r,o,a){const c=this._pingPongRenderTarget;this._halfBlur(e,c,t,r,o,"latitudinal",a),this._halfBlur(c,e,r,r,o,"longitudinal",a)}_halfBlur(e,t,r,o,a,c,p){const g=this._renderer,_=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const b=3,C=new ni(this._lodPlanes[o],_),k=_.uniforms,B=this._sizeLods[r]-1,z=isFinite(a)?Math.PI/(2*B):2*Math.PI/(2*eb-1),F=a/z,N=isFinite(a)?1+Math.floor(b*F):eb;N>eb&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${N} samples when the maximum is set to ${eb}`);const D=[];let A=0;for(let ge=0;ge<eb;++ge){const _e=ge/F,J=Math.exp(-_e*_e/2);D.push(J),ge===0?A+=J:ge<N&&(A+=2*J)}for(let ge=0;ge<D.length;ge++)D[ge]=D[ge]/A;k.envMap.value=e.texture,k.samples.value=N,k.weights.value=D,k.latitudinal.value=c==="latitudinal",p&&(k.poleAxis.value=p);const{_lodMax:G}=this;k.dTheta.value=z,k.mipInt.value=G-r;const Q=this._sizeLods[o],ae=3*Q*(o>G-OC?o-G+OC:0),Y=4*(this._cubeSize-Q);b4(t,ae,Y,3*Q,2*Q),g.setRenderTarget(t),g.render(C,E7)}}function EFe(n){const e=[],t=[],r=[];let o=n;const a=n-OC+1+u0e.length;for(let c=0;c<a;c++){const p=Math.pow(2,o);t.push(p);let g=1/p;c>n-OC?g=u0e[c-n+OC-1]:c===0&&(g=0),r.push(g);const _=1/(p-2),b=-_,C=1+_,k=[b,b,C,b,C,C,b,b,C,C,b,C],B=6,z=6,F=3,N=2,D=1,A=new Float32Array(F*z*B),G=new Float32Array(N*z*B),Q=new Float32Array(D*z*B);for(let Y=0;Y<B;Y++){const ge=Y%3*2/3-1,_e=Y>2?0:-1,J=[ge,_e,0,ge+2/3,_e,0,ge+2/3,_e+1,0,ge,_e,0,ge+2/3,_e+1,0,ge,_e+1,0];A.set(J,F*z*Y),G.set(k,N*z*Y);const Se=[Y,Y,Y,Y,Y,Y];Q.set(Se,D*z*Y)}const ae=new yo;ae.setAttribute("position",new Bs(A,F)),ae.setAttribute("uv",new Bs(G,N)),ae.setAttribute("faceIndex",new Bs(Q,D)),e.push(ae),o>OC&&o--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function f0e(n,e,t){const r=new bg(n,e,t);return r.texture.mapping=kM,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function b4(n,e,t,r,o){n.viewport.set(e,t,r,o),n.scissor.set(e,t,r,o)}function AFe(n,e,t){const r=new Float32Array(eb),o=new Ke(0,1,0);return new Eg({name:"SphericalGaussianBlur",defines:{n:eb,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:PX(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:g1,depthTest:!1,depthWrite:!1})}function h0e(){return new Eg({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:PX(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:g1,depthTest:!1,depthWrite:!1})}function p0e(){return new Eg({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:PX(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:g1,depthTest:!1,depthWrite:!1})}function PX(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function CFe(n){let e=new WeakMap,t=null;function r(p){if(p&&p.isTexture){const g=p.mapping,_=g===lM||g===$I,b=g===zv||g===Lw;if(_||b)if(p.isRenderTargetTexture&&p.needsPMREMUpdate===!0){p.needsPMREMUpdate=!1;let C=e.get(p);return t===null&&(t=new PV(n)),C=_?t.fromEquirectangular(p,C):t.fromCubemap(p,C),e.set(p,C),C.texture}else{if(e.has(p))return e.get(p).texture;{const C=p.image;if(_&&C&&C.height>0||b&&C&&o(C)){t===null&&(t=new PV(n));const k=_?t.fromEquirectangular(p):t.fromCubemap(p);return e.set(p,k),p.addEventListener("dispose",a),k.texture}else return null}}}return p}function o(p){let g=0;const _=6;for(let b=0;b<_;b++)p[b]!==void 0&&g++;return g===_}function a(p){const g=p.target;g.removeEventListener("dispose",a);const _=e.get(g);_!==void 0&&(e.delete(g),_.dispose())}function c(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:c}}function MFe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let o;switch(r){case"WEBGL_depth_texture":o=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=n.getExtension(r)}return e[r]=o,o}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const o=t(r);return o===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),o}}}function TFe(n,e,t,r){const o={},a=new WeakMap;function c(C){const k=C.target;k.index!==null&&e.remove(k.index);for(const z in k.attributes)e.remove(k.attributes[z]);for(const z in k.morphAttributes){const F=k.morphAttributes[z];for(let N=0,D=F.length;N<D;N++)e.remove(F[N])}k.removeEventListener("dispose",c),delete o[k.id];const B=a.get(k);B&&(e.remove(B),a.delete(k)),r.releaseStatesOfGeometry(k),k.isInstancedBufferGeometry===!0&&delete k._maxInstanceCount,t.memory.geometries--}function p(C,k){return o[k.id]===!0||(k.addEventListener("dispose",c),o[k.id]=!0,t.memory.geometries++),k}function g(C){const k=C.attributes;for(const z in k)e.update(k[z],n.ARRAY_BUFFER);const B=C.morphAttributes;for(const z in B){const F=B[z];for(let N=0,D=F.length;N<D;N++)e.update(F[N],n.ARRAY_BUFFER)}}function _(C){const k=[],B=C.index,z=C.attributes.position;let F=0;if(B!==null){const A=B.array;F=B.version;for(let G=0,Q=A.length;G<Q;G+=3){const ae=A[G+0],Y=A[G+1],ge=A[G+2];k.push(ae,Y,Y,ge,ge,ae)}}else if(z!==void 0){const A=z.array;F=z.version;for(let G=0,Q=A.length/3-1;G<Q;G+=3){const ae=G+0,Y=G+1,ge=G+2;k.push(ae,Y,Y,ge,ge,ae)}}else return;const N=new(qwe(k)?MX:CX)(k,1);N.version=F;const D=a.get(C);D&&e.remove(D),a.set(C,N)}function b(C){const k=a.get(C);if(k){const B=C.index;B!==null&&k.version<B.version&&_(C)}else _(C);return a.get(C)}return{get:p,update:g,getWireframeAttribute:b}}function PFe(n,e,t,r){const o=r.isWebGL2;let a;function c(k){a=k}let p,g;function _(k){p=k.type,g=k.bytesPerElement}function b(k,B){n.drawElements(a,B,p,k*g),t.update(B,a,1)}function C(k,B,z){if(z===0)return;let F,N;if(o)F=n,N="drawElementsInstanced";else if(F=e.get("ANGLE_instanced_arrays"),N="drawElementsInstancedANGLE",F===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}F[N](a,B,p,k*g,z),t.update(B,a,z)}this.setMode=c,this.setIndex=_,this.render=b,this.renderInstances=C}function kFe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,c,p){switch(t.calls++,c){case n.TRIANGLES:t.triangles+=p*(a/3);break;case n.LINES:t.lines+=p*(a/2);break;case n.LINE_STRIP:t.lines+=p*(a-1);break;case n.LINE_LOOP:t.lines+=p*a;break;case n.POINTS:t.points+=p*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function o(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:o,update:r}}function IFe(n,e){return n[0]-e[0]}function RFe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function OFe(n,e,t){const r={},o=new Float32Array(8),a=new WeakMap,c=new Es,p=[];for(let _=0;_<8;_++)p[_]=[_,0];function g(_,b,C){const k=_.morphTargetInfluences;if(e.isWebGL2===!0){const z=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,F=z!==void 0?z.length:0;let N=a.get(b);if(N===void 0||N.count!==F){let ot=function(){Ve.dispose(),a.delete(b),b.removeEventListener("dispose",ot)};var B=ot;N!==void 0&&N.texture.dispose();const G=b.morphAttributes.position!==void 0,Q=b.morphAttributes.normal!==void 0,ae=b.morphAttributes.color!==void 0,Y=b.morphAttributes.position||[],ge=b.morphAttributes.normal||[],_e=b.morphAttributes.color||[];let J=0;G===!0&&(J=1),Q===!0&&(J=2),ae===!0&&(J=3);let Se=b.attributes.position.count*J,Be=1;Se>e.maxTextureSize&&(Be=Math.ceil(Se/e.maxTextureSize),Se=e.maxTextureSize);const _t=new Float32Array(Se*Be*4*F),Ve=new HN(_t,Se,Be,F);Ve.type=vf,Ve.needsUpdate=!0;const xe=J*4;for(let Ze=0;Ze<F;Ze++){const mt=Y[Ze],we=ge[Ze],Te=_e[Ze],Ae=Se*Be*4*Ze;for(let me=0;me<mt.count;me++){const ce=me*xe;G===!0&&(c.fromBufferAttribute(mt,me),_t[Ae+ce+0]=c.x,_t[Ae+ce+1]=c.y,_t[Ae+ce+2]=c.z,_t[Ae+ce+3]=0),Q===!0&&(c.fromBufferAttribute(we,me),_t[Ae+ce+4]=c.x,_t[Ae+ce+5]=c.y,_t[Ae+ce+6]=c.z,_t[Ae+ce+7]=0),ae===!0&&(c.fromBufferAttribute(Te,me),_t[Ae+ce+8]=c.x,_t[Ae+ce+9]=c.y,_t[Ae+ce+10]=c.z,_t[Ae+ce+11]=Te.itemSize===4?c.w:1)}}N={count:F,texture:Ve,size:new Vn(Se,Be)},a.set(b,N),b.addEventListener("dispose",ot)}let D=0;for(let G=0;G<k.length;G++)D+=k[G];const A=b.morphTargetsRelative?1:1-D;C.getUniforms().setValue(n,"morphTargetBaseInfluence",A),C.getUniforms().setValue(n,"morphTargetInfluences",k),C.getUniforms().setValue(n,"morphTargetsTexture",N.texture,t),C.getUniforms().setValue(n,"morphTargetsTextureSize",N.size)}else{const z=k===void 0?0:k.length;let F=r[b.id];if(F===void 0||F.length!==z){F=[];for(let Q=0;Q<z;Q++)F[Q]=[Q,0];r[b.id]=F}for(let Q=0;Q<z;Q++){const ae=F[Q];ae[0]=Q,ae[1]=k[Q]}F.sort(RFe);for(let Q=0;Q<8;Q++)Q<z&&F[Q][1]?(p[Q][0]=F[Q][0],p[Q][1]=F[Q][1]):(p[Q][0]=Number.MAX_SAFE_INTEGER,p[Q][1]=0);p.sort(IFe);const N=b.morphAttributes.position,D=b.morphAttributes.normal;let A=0;for(let Q=0;Q<8;Q++){const ae=p[Q],Y=ae[0],ge=ae[1];Y!==Number.MAX_SAFE_INTEGER&&ge?(N&&b.getAttribute("morphTarget"+Q)!==N[Y]&&b.setAttribute("morphTarget"+Q,N[Y]),D&&b.getAttribute("morphNormal"+Q)!==D[Y]&&b.setAttribute("morphNormal"+Q,D[Y]),o[Q]=ge,A+=ge):(N&&b.hasAttribute("morphTarget"+Q)===!0&&b.deleteAttribute("morphTarget"+Q),D&&b.hasAttribute("morphNormal"+Q)===!0&&b.deleteAttribute("morphNormal"+Q),o[Q]=0)}const G=b.morphTargetsRelative?1:1-A;C.getUniforms().setValue(n,"morphTargetBaseInfluence",G),C.getUniforms().setValue(n,"morphTargetInfluences",o)}}return{update:g}}function BFe(n,e,t,r){let o=new WeakMap;function a(g){const _=r.render.frame,b=g.geometry,C=e.get(g,b);if(o.get(C)!==_&&(e.update(C),o.set(C,_)),g.isInstancedMesh&&(g.hasEventListener("dispose",p)===!1&&g.addEventListener("dispose",p),o.get(g)!==_&&(t.update(g.instanceMatrix,n.ARRAY_BUFFER),g.instanceColor!==null&&t.update(g.instanceColor,n.ARRAY_BUFFER),o.set(g,_))),g.isSkinnedMesh){const k=g.skeleton;o.get(k)!==_&&(k.update(),o.set(k,_))}return C}function c(){o=new WeakMap}function p(g){const _=g.target;_.removeEventListener("dispose",p),t.remove(_.instanceMatrix),_.instanceColor!==null&&t.remove(_.instanceColor)}return{update:a,dispose:c}}const rSe=new el,iSe=new HN,oSe=new AX,sSe=new UR,m0e=[],g0e=[],v0e=new Float32Array(16),y0e=new Float32Array(9),_0e=new Float32Array(4);function OM(n,e,t){const r=n[0];if(r<=0||r>0)return n;const o=e*t;let a=m0e[o];if(a===void 0&&(a=new Float32Array(o),m0e[o]=a),e!==0){r.toArray(a,0);for(let c=1,p=0;c!==e;++c)p+=t,n[c].toArray(a,p)}return a}function qc(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Jc(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function VN(n,e){let t=g0e[e];t===void 0&&(t=new Int32Array(e),g0e[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function DFe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function LFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qc(t,e))return;n.uniform2fv(this.addr,e),Jc(t,e)}}function NFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(qc(t,e))return;n.uniform3fv(this.addr,e),Jc(t,e)}}function FFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qc(t,e))return;n.uniform4fv(this.addr,e),Jc(t,e)}}function zFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(qc(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Jc(t,e)}else{if(qc(t,r))return;_0e.set(r),n.uniformMatrix2fv(this.addr,!1,_0e),Jc(t,r)}}function UFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(qc(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Jc(t,e)}else{if(qc(t,r))return;y0e.set(r),n.uniformMatrix3fv(this.addr,!1,y0e),Jc(t,r)}}function jFe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(qc(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Jc(t,e)}else{if(qc(t,r))return;v0e.set(r),n.uniformMatrix4fv(this.addr,!1,v0e),Jc(t,r)}}function HFe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function GFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qc(t,e))return;n.uniform2iv(this.addr,e),Jc(t,e)}}function VFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qc(t,e))return;n.uniform3iv(this.addr,e),Jc(t,e)}}function WFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qc(t,e))return;n.uniform4iv(this.addr,e),Jc(t,e)}}function XFe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function KFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(qc(t,e))return;n.uniform2uiv(this.addr,e),Jc(t,e)}}function YFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(qc(t,e))return;n.uniform3uiv(this.addr,e),Jc(t,e)}}function QFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(qc(t,e))return;n.uniform4uiv(this.addr,e),Jc(t,e)}}function qFe(n,e,t){const r=this.cache,o=t.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),t.setTexture2D(e||rSe,o)}function JFe(n,e,t){const r=this.cache,o=t.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),t.setTexture3D(e||oSe,o)}function ZFe(n,e,t){const r=this.cache,o=t.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),t.setTextureCube(e||sSe,o)}function $Fe(n,e,t){const r=this.cache,o=t.allocateTextureUnit();r[0]!==o&&(n.uniform1i(this.addr,o),r[0]=o),t.setTexture2DArray(e||iSe,o)}function eze(n){switch(n){case 5126:return DFe;case 35664:return LFe;case 35665:return NFe;case 35666:return FFe;case 35674:return zFe;case 35675:return UFe;case 35676:return jFe;case 5124:case 35670:return HFe;case 35667:case 35671:return GFe;case 35668:case 35672:return VFe;case 35669:case 35673:return WFe;case 5125:return XFe;case 36294:return KFe;case 36295:return YFe;case 36296:return QFe;case 35678:case 36198:case 36298:case 36306:case 35682:return qFe;case 35679:case 36299:case 36307:return JFe;case 35680:case 36300:case 36308:case 36293:return ZFe;case 36289:case 36303:case 36311:case 36292:return $Fe}}function tze(n,e){n.uniform1fv(this.addr,e)}function nze(n,e){const t=OM(e,this.size,2);n.uniform2fv(this.addr,t)}function rze(n,e){const t=OM(e,this.size,3);n.uniform3fv(this.addr,t)}function ize(n,e){const t=OM(e,this.size,4);n.uniform4fv(this.addr,t)}function oze(n,e){const t=OM(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function sze(n,e){const t=OM(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function aze(n,e){const t=OM(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function lze(n,e){n.uniform1iv(this.addr,e)}function uze(n,e){n.uniform2iv(this.addr,e)}function cze(n,e){n.uniform3iv(this.addr,e)}function dze(n,e){n.uniform4iv(this.addr,e)}function fze(n,e){n.uniform1uiv(this.addr,e)}function hze(n,e){n.uniform2uiv(this.addr,e)}function pze(n,e){n.uniform3uiv(this.addr,e)}function mze(n,e){n.uniform4uiv(this.addr,e)}function gze(n,e,t){const r=this.cache,o=e.length,a=VN(t,o);qc(r,a)||(n.uniform1iv(this.addr,a),Jc(r,a));for(let c=0;c!==o;++c)t.setTexture2D(e[c]||rSe,a[c])}function vze(n,e,t){const r=this.cache,o=e.length,a=VN(t,o);qc(r,a)||(n.uniform1iv(this.addr,a),Jc(r,a));for(let c=0;c!==o;++c)t.setTexture3D(e[c]||oSe,a[c])}function yze(n,e,t){const r=this.cache,o=e.length,a=VN(t,o);qc(r,a)||(n.uniform1iv(this.addr,a),Jc(r,a));for(let c=0;c!==o;++c)t.setTextureCube(e[c]||sSe,a[c])}function _ze(n,e,t){const r=this.cache,o=e.length,a=VN(t,o);qc(r,a)||(n.uniform1iv(this.addr,a),Jc(r,a));for(let c=0;c!==o;++c)t.setTexture2DArray(e[c]||iSe,a[c])}function wze(n){switch(n){case 5126:return tze;case 35664:return nze;case 35665:return rze;case 35666:return ize;case 35674:return oze;case 35675:return sze;case 35676:return aze;case 5124:case 35670:return lze;case 35667:case 35671:return uze;case 35668:case 35672:return cze;case 35669:case 35673:return dze;case 5125:return fze;case 36294:return hze;case 36295:return pze;case 36296:return mze;case 35678:case 36198:case 36298:case 36306:case 35682:return gze;case 35679:case 36299:case 36307:return vze;case 35680:case 36300:case 36308:case 36293:return yze;case 36289:case 36303:case 36311:case 36292:return _ze}}class Sze{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=eze(t.type)}}class xze{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=wze(t.type)}}class bze{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const o=this.seq;for(let a=0,c=o.length;a!==c;++a){const p=o[a];p.setValue(e,t[p.id],r)}}}const C7=/(\w+)(\])?(\[|\.)?/g;function w0e(n,e){n.seq.push(e),n.map[e.id]=e}function Eze(n,e,t){const r=n.name,o=r.length;for(C7.lastIndex=0;;){const a=C7.exec(r),c=C7.lastIndex;let p=a[1];const g=a[2]==="]",_=a[3];if(g&&(p=p|0),_===void 0||_==="["&&c+2===o){w0e(t,_===void 0?new Sze(p,n,e):new xze(p,n,e));break}else{let C=t.map[p];C===void 0&&(C=new bze(p),w0e(t,C)),t=C}}}class kL{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let o=0;o<r;++o){const a=e.getActiveUniform(t,o),c=e.getUniformLocation(t,a.name);Eze(a,c,this)}}setValue(e,t,r,o){const a=this.map[t];a!==void 0&&a.setValue(e,r,o)}setOptional(e,t,r){const o=t[r];o!==void 0&&this.setValue(e,r,o)}static upload(e,t,r,o){for(let a=0,c=t.length;a!==c;++a){const p=t[a],g=r[p.id];g.needsUpdate!==!1&&p.setValue(e,g.value,o)}}static seqWithValue(e,t){const r=[];for(let o=0,a=e.length;o!==a;++o){const c=e[o];c.id in t&&r.push(c)}return r}}function S0e(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let Aze=0;function Cze(n,e){const t=n.split(`
`),r=[],o=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let c=o;c<a;c++){const p=c+1;r.push(`${p===e?">":" "} ${p}: ${t[c]}`)}return r.join(`
`)}function Mze(n){switch(n){case L0:return["Linear","( value )"];case Io:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}function x0e(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),o=n.getShaderInfoLog(e).trim();if(r&&o==="")return"";const a=/ERROR: 0:(\d+)/.exec(o);if(a){const c=parseInt(a[1]);return t.toUpperCase()+`

`+o+`

`+Cze(n.getShaderSource(e),c)}else return o}function Tze(n,e){const t=Mze(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function Pze(n,e){let t;switch(e){case wwe:t="Linear";break;case Swe:t="Reinhard";break;case xwe:t="OptimizedCineon";break;case NN:t="ACESFilmic";break;case bwe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function kze(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(PI).join(`
`)}function Ize(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Rze(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const a=n.getActiveAttrib(e,o),c=a.name;let p=1;a.type===n.FLOAT_MAT2&&(p=2),a.type===n.FLOAT_MAT3&&(p=3),a.type===n.FLOAT_MAT4&&(p=4),t[c]={type:a.type,location:n.getAttribLocation(e,c),locationSize:p}}return t}function PI(n){return n!==""}function b0e(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function E0e(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Oze=/^[ \t]*#include +<([\w\d./]+)>/gm;function kV(n){return n.replace(Oze,Dze)}const Bze=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Dze(n,e){let t=Oo[e];if(t===void 0){const r=Bze.get(e);if(r!==void 0)t=Oo[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return kV(t)}const Lze=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function A0e(n){return n.replace(Lze,Nze)}function Nze(n,e,t,r){let o="";for(let a=parseInt(e);a<parseInt(t);a++)o+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return o}function C0e(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Fze(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===FR?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ww?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===pg&&(e="SHADOWMAP_TYPE_VSM"),e}function zze(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case zv:case Lw:e="ENVMAP_TYPE_CUBE";break;case kM:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Uze(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Lw:e="ENVMAP_MODE_REFRACTION";break}return e}function jze(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case zR:e="ENVMAP_BLENDING_MULTIPLY";break;case ywe:e="ENVMAP_BLENDING_MIX";break;case _we:e="ENVMAP_BLENDING_ADD";break}return e}function Hze(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Gze(n,e,t,r){const o=n.getContext(),a=t.defines;let c=t.vertexShader,p=t.fragmentShader;const g=Fze(t),_=zze(t),b=Uze(t),C=jze(t),k=Hze(t),B=t.isWebGL2?"":kze(t),z=Ize(a),F=o.createProgram();let N,D,A=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(N=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,z].filter(PI).join(`
`),N.length>0&&(N+=`
`),D=[B,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,z].filter(PI).join(`
`),D.length>0&&(D+=`
`)):(N=[C0e(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,z,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+b:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+g:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(PI).join(`
`),D=[B,C0e(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,z,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+_:"",t.envMap?"#define "+b:"",t.envMap?"#define "+C:"",k?"#define CUBEUV_TEXEL_WIDTH "+k.texelWidth:"",k?"#define CUBEUV_TEXEL_HEIGHT "+k.texelHeight:"",k?"#define CUBEUV_MAX_MIP "+k.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+g:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==R0?"#define TONE_MAPPING":"",t.toneMapping!==R0?Oo.tonemapping_pars_fragment:"",t.toneMapping!==R0?Pze("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Oo.colorspace_pars_fragment,Tze("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(PI).join(`
`)),c=kV(c),c=b0e(c,t),c=E0e(c,t),p=kV(p),p=b0e(p,t),p=E0e(p,t),c=A0e(c),p=A0e(p),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,N=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+N,D=["#define varying in",t.glslVersion===YL?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===YL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+D);const G=A+N+c,Q=A+D+p,ae=S0e(o,o.VERTEX_SHADER,G),Y=S0e(o,o.FRAGMENT_SHADER,Q);if(o.attachShader(F,ae),o.attachShader(F,Y),t.index0AttributeName!==void 0?o.bindAttribLocation(F,0,t.index0AttributeName):t.morphTargets===!0&&o.bindAttribLocation(F,0,"position"),o.linkProgram(F),n.debug.checkShaderErrors){const J=o.getProgramInfoLog(F).trim(),Se=o.getShaderInfoLog(ae).trim(),Be=o.getShaderInfoLog(Y).trim();let _t=!0,Ve=!0;if(o.getProgramParameter(F,o.LINK_STATUS)===!1)if(_t=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(o,F,ae,Y);else{const xe=x0e(o,ae,"vertex"),ot=x0e(o,Y,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(F,o.VALIDATE_STATUS)+`

Program Info Log: `+J+`
`+xe+`
`+ot)}else J!==""?console.warn("THREE.WebGLProgram: Program Info Log:",J):(Se===""||Be==="")&&(Ve=!1);Ve&&(this.diagnostics={runnable:_t,programLog:J,vertexShader:{log:Se,prefix:N},fragmentShader:{log:Be,prefix:D}})}o.deleteShader(ae),o.deleteShader(Y);let ge;this.getUniforms=function(){return ge===void 0&&(ge=new kL(o,F)),ge};let _e;return this.getAttributes=function(){return _e===void 0&&(_e=Rze(o,F)),_e},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(F),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Aze++,this.cacheKey=e,this.usedTimes=1,this.program=F,this.vertexShader=ae,this.fragmentShader=Y,this}let Vze=0;class Wze{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,o=this._getShaderStage(t),a=this._getShaderStage(r),c=this._getShaderCacheForMaterial(e);return c.has(o)===!1&&(c.add(o),o.usedTimes++),c.has(a)===!1&&(c.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Xze(e),t.set(e,r)),r}}class Xze{constructor(e){this.id=Vze++,this.code=e,this.usedTimes=0}}function Kze(n,e,t,r,o,a,c){const p=new Ov,g=new Wze,_=[],b=o.isWebGL2,C=o.logarithmicDepthBuffer,k=o.vertexTextures;let B=o.precision;const z={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function F(J){return J===0?"uv":`uv${J}`}function N(J,Se,Be,_t,Ve){const xe=_t.fog,ot=Ve.geometry,Ze=J.isMeshStandardMaterial?_t.environment:null,mt=(J.isMeshStandardMaterial?t:e).get(J.envMap||Ze),we=mt&&mt.mapping===kM?mt.image.height:null,Te=z[J.type];J.precision!==null&&(B=o.getMaxPrecision(J.precision),B!==J.precision&&console.warn("THREE.WebGLProgram.getParameters:",J.precision,"not supported, using",B,"instead."));const Ae=ot.morphAttributes.position||ot.morphAttributes.normal||ot.morphAttributes.color,me=Ae!==void 0?Ae.length:0;let ce=0;ot.morphAttributes.position!==void 0&&(ce=1),ot.morphAttributes.normal!==void 0&&(ce=2),ot.morphAttributes.color!==void 0&&(ce=3);let qe,ht,wt,et;if(Te){const Li=k0[Te];qe=Li.vertexShader,ht=Li.fragmentShader}else qe=J.vertexShader,ht=J.fragmentShader,g.update(J),wt=g.getVertexShaderID(J),et=g.getFragmentShaderID(J);const Nt=n.getRenderTarget(),Ot=Ve.isInstancedMesh===!0,an=!!J.map,fn=!!J.matcap,nn=!!mt,Ye=!!J.aoMap,Xt=!!J.lightMap,Ft=!!J.bumpMap,Zt=!!J.normalMap,mn=!!J.displacementMap,jn=!!J.emissiveMap,Wn=!!J.metalnessMap,tr=!!J.roughnessMap,_r=J.anisotropy>0,Vr=J.clearcoat>0,si=J.iridescence>0,ct=J.sheen>0,De=J.transmission>0,Ut=_r&&!!J.anisotropyMap,Kn=Vr&&!!J.clearcoatMap,Fn=Vr&&!!J.clearcoatNormalMap,Xn=Vr&&!!J.clearcoatRoughnessMap,xr=si&&!!J.iridescenceMap,nr=si&&!!J.iridescenceThicknessMap,it=ct&&!!J.sheenColorMap,En=ct&&!!J.sheenRoughnessMap,Ln=!!J.specularMap,Yn=!!J.specularColorMap,br=!!J.specularIntensityMap,vr=De&&!!J.transmissionMap,Wr=De&&!!J.thicknessMap,ci=!!J.gradientMap,Ct=!!J.alphaMap,Kt=J.alphaTest>0,gn=!!J.alphaHash,rr=!!J.extensions,Gn=!!ot.attributes.uv1,Ei=!!ot.attributes.uv2,so=!!ot.attributes.uv3;let eo=R0;return J.toneMapped&&(Nt===null||Nt.isXRRenderTarget===!0)&&(eo=n.toneMapping),{isWebGL2:b,shaderID:Te,shaderType:J.type,shaderName:J.name,vertexShader:qe,fragmentShader:ht,defines:J.defines,customVertexShaderID:wt,customFragmentShaderID:et,isRawShaderMaterial:J.isRawShaderMaterial===!0,glslVersion:J.glslVersion,precision:B,instancing:Ot,instancingColor:Ot&&Ve.instanceColor!==null,supportsVertexTextures:k,outputColorSpace:Nt===null?n.outputColorSpace:Nt.isXRRenderTarget===!0?Nt.texture.colorSpace:L0,map:an,matcap:fn,envMap:nn,envMapMode:nn&&mt.mapping,envMapCubeUVHeight:we,aoMap:Ye,lightMap:Xt,bumpMap:Ft,normalMap:Zt,displacementMap:k&&mn,emissiveMap:jn,normalMapObjectSpace:Zt&&J.normalMapType===Fwe,normalMapTangentSpace:Zt&&J.normalMapType===Vw,metalnessMap:Wn,roughnessMap:tr,anisotropy:_r,anisotropyMap:Ut,clearcoat:Vr,clearcoatMap:Kn,clearcoatNormalMap:Fn,clearcoatRoughnessMap:Xn,iridescence:si,iridescenceMap:xr,iridescenceThicknessMap:nr,sheen:ct,sheenColorMap:it,sheenRoughnessMap:En,specularMap:Ln,specularColorMap:Yn,specularIntensityMap:br,transmission:De,transmissionMap:vr,thicknessMap:Wr,gradientMap:ci,opaque:J.transparent===!1&&J.blending===cb,alphaMap:Ct,alphaTest:Kt,alphaHash:gn,combine:J.combine,mapUv:an&&F(J.map.channel),aoMapUv:Ye&&F(J.aoMap.channel),lightMapUv:Xt&&F(J.lightMap.channel),bumpMapUv:Ft&&F(J.bumpMap.channel),normalMapUv:Zt&&F(J.normalMap.channel),displacementMapUv:mn&&F(J.displacementMap.channel),emissiveMapUv:jn&&F(J.emissiveMap.channel),metalnessMapUv:Wn&&F(J.metalnessMap.channel),roughnessMapUv:tr&&F(J.roughnessMap.channel),anisotropyMapUv:Ut&&F(J.anisotropyMap.channel),clearcoatMapUv:Kn&&F(J.clearcoatMap.channel),clearcoatNormalMapUv:Fn&&F(J.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Xn&&F(J.clearcoatRoughnessMap.channel),iridescenceMapUv:xr&&F(J.iridescenceMap.channel),iridescenceThicknessMapUv:nr&&F(J.iridescenceThicknessMap.channel),sheenColorMapUv:it&&F(J.sheenColorMap.channel),sheenRoughnessMapUv:En&&F(J.sheenRoughnessMap.channel),specularMapUv:Ln&&F(J.specularMap.channel),specularColorMapUv:Yn&&F(J.specularColorMap.channel),specularIntensityMapUv:br&&F(J.specularIntensityMap.channel),transmissionMapUv:vr&&F(J.transmissionMap.channel),thicknessMapUv:Wr&&F(J.thicknessMap.channel),alphaMapUv:Ct&&F(J.alphaMap.channel),vertexTangents:!!ot.attributes.tangent&&(Zt||_r),vertexColors:J.vertexColors,vertexAlphas:J.vertexColors===!0&&!!ot.attributes.color&&ot.attributes.color.itemSize===4,vertexUv1s:Gn,vertexUv2s:Ei,vertexUv3s:so,pointsUvs:Ve.isPoints===!0&&!!ot.attributes.uv&&(an||Ct),fog:!!xe,useFog:J.fog===!0,fogExp2:xe&&xe.isFogExp2,flatShading:J.flatShading===!0,sizeAttenuation:J.sizeAttenuation===!0,logarithmicDepthBuffer:C,skinning:Ve.isSkinnedMesh===!0,morphTargets:ot.morphAttributes.position!==void 0,morphNormals:ot.morphAttributes.normal!==void 0,morphColors:ot.morphAttributes.color!==void 0,morphTargetsCount:me,morphTextureStride:ce,numDirLights:Se.directional.length,numPointLights:Se.point.length,numSpotLights:Se.spot.length,numSpotLightMaps:Se.spotLightMap.length,numRectAreaLights:Se.rectArea.length,numHemiLights:Se.hemi.length,numDirLightShadows:Se.directionalShadowMap.length,numPointLightShadows:Se.pointShadowMap.length,numSpotLightShadows:Se.spotShadowMap.length,numSpotLightShadowsWithMaps:Se.numSpotLightShadowsWithMaps,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:J.dithering,shadowMapEnabled:n.shadowMap.enabled&&Be.length>0,shadowMapType:n.shadowMap.type,toneMapping:eo,useLegacyLights:n._useLegacyLights,premultipliedAlpha:J.premultipliedAlpha,doubleSided:J.side===mf,flipSided:J.side===Xh,useDepthPacking:J.depthPacking>=0,depthPacking:J.depthPacking||0,index0AttributeName:J.index0AttributeName,extensionDerivatives:rr&&J.extensions.derivatives===!0,extensionFragDepth:rr&&J.extensions.fragDepth===!0,extensionDrawBuffers:rr&&J.extensions.drawBuffers===!0,extensionShaderTextureLOD:rr&&J.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:b||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:b||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:b||r.has("EXT_shader_texture_lod"),customProgramCacheKey:J.customProgramCacheKey()}}function D(J){const Se=[];if(J.shaderID?Se.push(J.shaderID):(Se.push(J.customVertexShaderID),Se.push(J.customFragmentShaderID)),J.defines!==void 0)for(const Be in J.defines)Se.push(Be),Se.push(J.defines[Be]);return J.isRawShaderMaterial===!1&&(A(Se,J),G(Se,J),Se.push(n.outputColorSpace)),Se.push(J.customProgramCacheKey),Se.join()}function A(J,Se){J.push(Se.precision),J.push(Se.outputColorSpace),J.push(Se.envMapMode),J.push(Se.envMapCubeUVHeight),J.push(Se.mapUv),J.push(Se.alphaMapUv),J.push(Se.lightMapUv),J.push(Se.aoMapUv),J.push(Se.bumpMapUv),J.push(Se.normalMapUv),J.push(Se.displacementMapUv),J.push(Se.emissiveMapUv),J.push(Se.metalnessMapUv),J.push(Se.roughnessMapUv),J.push(Se.anisotropyMapUv),J.push(Se.clearcoatMapUv),J.push(Se.clearcoatNormalMapUv),J.push(Se.clearcoatRoughnessMapUv),J.push(Se.iridescenceMapUv),J.push(Se.iridescenceThicknessMapUv),J.push(Se.sheenColorMapUv),J.push(Se.sheenRoughnessMapUv),J.push(Se.specularMapUv),J.push(Se.specularColorMapUv),J.push(Se.specularIntensityMapUv),J.push(Se.transmissionMapUv),J.push(Se.thicknessMapUv),J.push(Se.combine),J.push(Se.fogExp2),J.push(Se.sizeAttenuation),J.push(Se.morphTargetsCount),J.push(Se.morphAttributeCount),J.push(Se.numDirLights),J.push(Se.numPointLights),J.push(Se.numSpotLights),J.push(Se.numSpotLightMaps),J.push(Se.numHemiLights),J.push(Se.numRectAreaLights),J.push(Se.numDirLightShadows),J.push(Se.numPointLightShadows),J.push(Se.numSpotLightShadows),J.push(Se.numSpotLightShadowsWithMaps),J.push(Se.shadowMapType),J.push(Se.toneMapping),J.push(Se.numClippingPlanes),J.push(Se.numClipIntersection),J.push(Se.depthPacking)}function G(J,Se){p.disableAll(),Se.isWebGL2&&p.enable(0),Se.supportsVertexTextures&&p.enable(1),Se.instancing&&p.enable(2),Se.instancingColor&&p.enable(3),Se.matcap&&p.enable(4),Se.envMap&&p.enable(5),Se.normalMapObjectSpace&&p.enable(6),Se.normalMapTangentSpace&&p.enable(7),Se.clearcoat&&p.enable(8),Se.iridescence&&p.enable(9),Se.alphaTest&&p.enable(10),Se.vertexColors&&p.enable(11),Se.vertexAlphas&&p.enable(12),Se.vertexUv1s&&p.enable(13),Se.vertexUv2s&&p.enable(14),Se.vertexUv3s&&p.enable(15),Se.vertexTangents&&p.enable(16),Se.anisotropy&&p.enable(17),J.push(p.mask),p.disableAll(),Se.fog&&p.enable(0),Se.useFog&&p.enable(1),Se.flatShading&&p.enable(2),Se.logarithmicDepthBuffer&&p.enable(3),Se.skinning&&p.enable(4),Se.morphTargets&&p.enable(5),Se.morphNormals&&p.enable(6),Se.morphColors&&p.enable(7),Se.premultipliedAlpha&&p.enable(8),Se.shadowMapEnabled&&p.enable(9),Se.useLegacyLights&&p.enable(10),Se.doubleSided&&p.enable(11),Se.flipSided&&p.enable(12),Se.useDepthPacking&&p.enable(13),Se.dithering&&p.enable(14),Se.transmission&&p.enable(15),Se.sheen&&p.enable(16),Se.opaque&&p.enable(17),Se.pointsUvs&&p.enable(18),J.push(p.mask)}function Q(J){const Se=z[J.type];let Be;if(Se){const _t=k0[Se];Be=eSe.clone(_t.uniforms)}else Be=J.uniforms;return Be}function ae(J,Se){let Be;for(let _t=0,Ve=_.length;_t<Ve;_t++){const xe=_[_t];if(xe.cacheKey===Se){Be=xe,++Be.usedTimes;break}}return Be===void 0&&(Be=new Gze(n,Se,J,a),_.push(Be)),Be}function Y(J){if(--J.usedTimes===0){const Se=_.indexOf(J);_[Se]=_[_.length-1],_.pop(),J.destroy()}}function ge(J){g.remove(J)}function _e(){g.dispose()}return{getParameters:N,getProgramCacheKey:D,getUniforms:Q,acquireProgram:ae,releaseProgram:Y,releaseShaderCache:ge,programs:_,dispose:_e}}function Yze(){let n=new WeakMap;function e(a){let c=n.get(a);return c===void 0&&(c={},n.set(a,c)),c}function t(a){n.delete(a)}function r(a,c,p){n.get(a)[c]=p}function o(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:o}}function Qze(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function M0e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function T0e(){const n=[];let e=0;const t=[],r=[],o=[];function a(){e=0,t.length=0,r.length=0,o.length=0}function c(C,k,B,z,F,N){let D=n[e];return D===void 0?(D={id:C.id,object:C,geometry:k,material:B,groupOrder:z,renderOrder:C.renderOrder,z:F,group:N},n[e]=D):(D.id=C.id,D.object=C,D.geometry=k,D.material=B,D.groupOrder=z,D.renderOrder=C.renderOrder,D.z=F,D.group=N),e++,D}function p(C,k,B,z,F,N){const D=c(C,k,B,z,F,N);B.transmission>0?r.push(D):B.transparent===!0?o.push(D):t.push(D)}function g(C,k,B,z,F,N){const D=c(C,k,B,z,F,N);B.transmission>0?r.unshift(D):B.transparent===!0?o.unshift(D):t.unshift(D)}function _(C,k){t.length>1&&t.sort(C||Qze),r.length>1&&r.sort(k||M0e),o.length>1&&o.sort(k||M0e)}function b(){for(let C=e,k=n.length;C<k;C++){const B=n[C];if(B.id===null)break;B.id=null,B.object=null,B.geometry=null,B.material=null,B.group=null}}return{opaque:t,transmissive:r,transparent:o,init:a,push:p,unshift:g,finish:b,sort:_}}function qze(){let n=new WeakMap;function e(r,o){const a=n.get(r);let c;return a===void 0?(c=new T0e,n.set(r,[c])):o>=a.length?(c=new T0e,a.push(c)):c=a[o],c}function t(){n=new WeakMap}return{get:e,dispose:t}}function Jze(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ke,color:new Ir};break;case"SpotLight":t={position:new Ke,direction:new Ke,color:new Ir,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ke,color:new Ir,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ke,skyColor:new Ir,groundColor:new Ir};break;case"RectAreaLight":t={color:new Ir,position:new Ke,halfWidth:new Ke,halfHeight:new Ke};break}return n[e.id]=t,t}}}function Zze(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let $ze=0;function e6e(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function t6e(n,e){const t=new Jze,r=Zze(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let b=0;b<9;b++)o.probe.push(new Ke);const a=new Ke,c=new Qi,p=new Qi;function g(b,C){let k=0,B=0,z=0;for(let Be=0;Be<9;Be++)o.probe[Be].set(0,0,0);let F=0,N=0,D=0,A=0,G=0,Q=0,ae=0,Y=0,ge=0,_e=0;b.sort(e6e);const J=C===!0?Math.PI:1;for(let Be=0,_t=b.length;Be<_t;Be++){const Ve=b[Be],xe=Ve.color,ot=Ve.intensity,Ze=Ve.distance,mt=Ve.shadow&&Ve.shadow.map?Ve.shadow.map.texture:null;if(Ve.isAmbientLight)k+=xe.r*ot*J,B+=xe.g*ot*J,z+=xe.b*ot*J;else if(Ve.isLightProbe)for(let we=0;we<9;we++)o.probe[we].addScaledVector(Ve.sh.coefficients[we],ot);else if(Ve.isDirectionalLight){const we=t.get(Ve);if(we.color.copy(Ve.color).multiplyScalar(Ve.intensity*J),Ve.castShadow){const Te=Ve.shadow,Ae=r.get(Ve);Ae.shadowBias=Te.bias,Ae.shadowNormalBias=Te.normalBias,Ae.shadowRadius=Te.radius,Ae.shadowMapSize=Te.mapSize,o.directionalShadow[F]=Ae,o.directionalShadowMap[F]=mt,o.directionalShadowMatrix[F]=Ve.shadow.matrix,Q++}o.directional[F]=we,F++}else if(Ve.isSpotLight){const we=t.get(Ve);we.position.setFromMatrixPosition(Ve.matrixWorld),we.color.copy(xe).multiplyScalar(ot*J),we.distance=Ze,we.coneCos=Math.cos(Ve.angle),we.penumbraCos=Math.cos(Ve.angle*(1-Ve.penumbra)),we.decay=Ve.decay,o.spot[D]=we;const Te=Ve.shadow;if(Ve.map&&(o.spotLightMap[ge]=Ve.map,ge++,Te.updateMatrices(Ve),Ve.castShadow&&_e++),o.spotLightMatrix[D]=Te.matrix,Ve.castShadow){const Ae=r.get(Ve);Ae.shadowBias=Te.bias,Ae.shadowNormalBias=Te.normalBias,Ae.shadowRadius=Te.radius,Ae.shadowMapSize=Te.mapSize,o.spotShadow[D]=Ae,o.spotShadowMap[D]=mt,Y++}D++}else if(Ve.isRectAreaLight){const we=t.get(Ve);we.color.copy(xe).multiplyScalar(ot),we.halfWidth.set(Ve.width*.5,0,0),we.halfHeight.set(0,Ve.height*.5,0),o.rectArea[A]=we,A++}else if(Ve.isPointLight){const we=t.get(Ve);if(we.color.copy(Ve.color).multiplyScalar(Ve.intensity*J),we.distance=Ve.distance,we.decay=Ve.decay,Ve.castShadow){const Te=Ve.shadow,Ae=r.get(Ve);Ae.shadowBias=Te.bias,Ae.shadowNormalBias=Te.normalBias,Ae.shadowRadius=Te.radius,Ae.shadowMapSize=Te.mapSize,Ae.shadowCameraNear=Te.camera.near,Ae.shadowCameraFar=Te.camera.far,o.pointShadow[N]=Ae,o.pointShadowMap[N]=mt,o.pointShadowMatrix[N]=Ve.shadow.matrix,ae++}o.point[N]=we,N++}else if(Ve.isHemisphereLight){const we=t.get(Ve);we.skyColor.copy(Ve.color).multiplyScalar(ot*J),we.groundColor.copy(Ve.groundColor).multiplyScalar(ot*J),o.hemi[G]=we,G++}}A>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(o.rectAreaLTC1=Kr.LTC_FLOAT_1,o.rectAreaLTC2=Kr.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(o.rectAreaLTC1=Kr.LTC_HALF_1,o.rectAreaLTC2=Kr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),o.ambient[0]=k,o.ambient[1]=B,o.ambient[2]=z;const Se=o.hash;(Se.directionalLength!==F||Se.pointLength!==N||Se.spotLength!==D||Se.rectAreaLength!==A||Se.hemiLength!==G||Se.numDirectionalShadows!==Q||Se.numPointShadows!==ae||Se.numSpotShadows!==Y||Se.numSpotMaps!==ge)&&(o.directional.length=F,o.spot.length=D,o.rectArea.length=A,o.point.length=N,o.hemi.length=G,o.directionalShadow.length=Q,o.directionalShadowMap.length=Q,o.pointShadow.length=ae,o.pointShadowMap.length=ae,o.spotShadow.length=Y,o.spotShadowMap.length=Y,o.directionalShadowMatrix.length=Q,o.pointShadowMatrix.length=ae,o.spotLightMatrix.length=Y+ge-_e,o.spotLightMap.length=ge,o.numSpotLightShadowsWithMaps=_e,Se.directionalLength=F,Se.pointLength=N,Se.spotLength=D,Se.rectAreaLength=A,Se.hemiLength=G,Se.numDirectionalShadows=Q,Se.numPointShadows=ae,Se.numSpotShadows=Y,Se.numSpotMaps=ge,o.version=$ze++)}function _(b,C){let k=0,B=0,z=0,F=0,N=0;const D=C.matrixWorldInverse;for(let A=0,G=b.length;A<G;A++){const Q=b[A];if(Q.isDirectionalLight){const ae=o.directional[k];ae.direction.setFromMatrixPosition(Q.matrixWorld),a.setFromMatrixPosition(Q.target.matrixWorld),ae.direction.sub(a),ae.direction.transformDirection(D),k++}else if(Q.isSpotLight){const ae=o.spot[z];ae.position.setFromMatrixPosition(Q.matrixWorld),ae.position.applyMatrix4(D),ae.direction.setFromMatrixPosition(Q.matrixWorld),a.setFromMatrixPosition(Q.target.matrixWorld),ae.direction.sub(a),ae.direction.transformDirection(D),z++}else if(Q.isRectAreaLight){const ae=o.rectArea[F];ae.position.setFromMatrixPosition(Q.matrixWorld),ae.position.applyMatrix4(D),p.identity(),c.copy(Q.matrixWorld),c.premultiply(D),p.extractRotation(c),ae.halfWidth.set(Q.width*.5,0,0),ae.halfHeight.set(0,Q.height*.5,0),ae.halfWidth.applyMatrix4(p),ae.halfHeight.applyMatrix4(p),F++}else if(Q.isPointLight){const ae=o.point[B];ae.position.setFromMatrixPosition(Q.matrixWorld),ae.position.applyMatrix4(D),B++}else if(Q.isHemisphereLight){const ae=o.hemi[N];ae.direction.setFromMatrixPosition(Q.matrixWorld),ae.direction.transformDirection(D),N++}}}return{setup:g,setupView:_,state:o}}function P0e(n,e){const t=new t6e(n,e),r=[],o=[];function a(){r.length=0,o.length=0}function c(C){r.push(C)}function p(C){o.push(C)}function g(C){t.setup(r,C)}function _(C){t.setupView(r,C)}return{init:a,state:{lightsArray:r,shadowsArray:o,lights:t},setupLights:g,setupLightsView:_,pushLight:c,pushShadow:p}}function n6e(n,e){let t=new WeakMap;function r(a,c=0){const p=t.get(a);let g;return p===void 0?(g=new P0e(n,e),t.set(a,[g])):c>=p.length?(g=new P0e(n,e),p.push(g)):g=p[c],g}function o(){t=new WeakMap}return{get:r,dispose:o}}class kX extends nc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Lwe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class IX extends nc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const r6e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,i6e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function o6e(n,e,t){let r=new GN;const o=new Vn,a=new Vn,c=new Es,p=new kX({depthPacking:Nwe}),g=new IX,_={},b=t.maxTextureSize,C={[Fv]:Xh,[Xh]:Fv,[mf]:mf},k=new Eg({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vn},radius:{value:4}},vertexShader:r6e,fragmentShader:i6e}),B=k.clone();B.defines.HORIZONTAL_PASS=1;const z=new yo;z.setAttribute("position",new Bs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const F=new ni(z,k),N=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=FR;let D=this.type;this.render=function(ae,Y,ge){if(N.enabled===!1||N.autoUpdate===!1&&N.needsUpdate===!1||ae.length===0)return;const _e=n.getRenderTarget(),J=n.getActiveCubeFace(),Se=n.getActiveMipmapLevel(),Be=n.state;Be.setBlending(g1),Be.buffers.color.setClear(1,1,1,1),Be.buffers.depth.setTest(!0),Be.setScissorTest(!1);const _t=D!==pg&&this.type===pg,Ve=D===pg&&this.type!==pg;for(let xe=0,ot=ae.length;xe<ot;xe++){const Ze=ae[xe],mt=Ze.shadow;if(mt===void 0){console.warn("THREE.WebGLShadowMap:",Ze,"has no shadow.");continue}if(mt.autoUpdate===!1&&mt.needsUpdate===!1)continue;o.copy(mt.mapSize);const we=mt.getFrameExtents();if(o.multiply(we),a.copy(mt.mapSize),(o.x>b||o.y>b)&&(o.x>b&&(a.x=Math.floor(b/we.x),o.x=a.x*we.x,mt.mapSize.x=a.x),o.y>b&&(a.y=Math.floor(b/we.y),o.y=a.y*we.y,mt.mapSize.y=a.y)),mt.map===null||_t===!0||Ve===!0){const Ae=this.type!==pg?{minFilter:Cu,magFilter:Cu}:{};mt.map!==null&&mt.map.dispose(),mt.map=new bg(o.x,o.y,Ae),mt.map.texture.name=Ze.name+".shadowMap",mt.camera.updateProjectionMatrix()}n.setRenderTarget(mt.map),n.clear();const Te=mt.getViewportCount();for(let Ae=0;Ae<Te;Ae++){const me=mt.getViewport(Ae);c.set(a.x*me.x,a.y*me.y,a.x*me.z,a.y*me.w),Be.viewport(c),mt.updateMatrices(Ze,Ae),r=mt.getFrustum(),Q(Y,ge,mt.camera,Ze,this.type)}mt.isPointLightShadow!==!0&&this.type===pg&&A(mt,ge),mt.needsUpdate=!1}D=this.type,N.needsUpdate=!1,n.setRenderTarget(_e,J,Se)};function A(ae,Y){const ge=e.update(F);k.defines.VSM_SAMPLES!==ae.blurSamples&&(k.defines.VSM_SAMPLES=ae.blurSamples,B.defines.VSM_SAMPLES=ae.blurSamples,k.needsUpdate=!0,B.needsUpdate=!0),ae.mapPass===null&&(ae.mapPass=new bg(o.x,o.y)),k.uniforms.shadow_pass.value=ae.map.texture,k.uniforms.resolution.value=ae.mapSize,k.uniforms.radius.value=ae.radius,n.setRenderTarget(ae.mapPass),n.clear(),n.renderBufferDirect(Y,null,ge,k,F,null),B.uniforms.shadow_pass.value=ae.mapPass.texture,B.uniforms.resolution.value=ae.mapSize,B.uniforms.radius.value=ae.radius,n.setRenderTarget(ae.map),n.clear(),n.renderBufferDirect(Y,null,ge,B,F,null)}function G(ae,Y,ge,_e){let J=null;const Se=ge.isPointLight===!0?ae.customDistanceMaterial:ae.customDepthMaterial;if(Se!==void 0)J=Se;else if(J=ge.isPointLight===!0?g:p,n.localClippingEnabled&&Y.clipShadows===!0&&Array.isArray(Y.clippingPlanes)&&Y.clippingPlanes.length!==0||Y.displacementMap&&Y.displacementScale!==0||Y.alphaMap&&Y.alphaTest>0||Y.map&&Y.alphaTest>0){const Be=J.uuid,_t=Y.uuid;let Ve=_[Be];Ve===void 0&&(Ve={},_[Be]=Ve);let xe=Ve[_t];xe===void 0&&(xe=J.clone(),Ve[_t]=xe),J=xe}if(J.visible=Y.visible,J.wireframe=Y.wireframe,_e===pg?J.side=Y.shadowSide!==null?Y.shadowSide:Y.side:J.side=Y.shadowSide!==null?Y.shadowSide:C[Y.side],J.alphaMap=Y.alphaMap,J.alphaTest=Y.alphaTest,J.map=Y.map,J.clipShadows=Y.clipShadows,J.clippingPlanes=Y.clippingPlanes,J.clipIntersection=Y.clipIntersection,J.displacementMap=Y.displacementMap,J.displacementScale=Y.displacementScale,J.displacementBias=Y.displacementBias,J.wireframeLinewidth=Y.wireframeLinewidth,J.linewidth=Y.linewidth,ge.isPointLight===!0&&J.isMeshDistanceMaterial===!0){const Be=n.properties.get(J);Be.light=ge}return J}function Q(ae,Y,ge,_e,J){if(ae.visible===!1)return;if(ae.layers.test(Y.layers)&&(ae.isMesh||ae.isLine||ae.isPoints)&&(ae.castShadow||ae.receiveShadow&&J===pg)&&(!ae.frustumCulled||r.intersectsObject(ae))){ae.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,ae.matrixWorld);const _t=e.update(ae),Ve=ae.material;if(Array.isArray(Ve)){const xe=_t.groups;for(let ot=0,Ze=xe.length;ot<Ze;ot++){const mt=xe[ot],we=Ve[mt.materialIndex];if(we&&we.visible){const Te=G(ae,we,_e,J);n.renderBufferDirect(ge,null,_t,Te,ae,mt)}}}else if(Ve.visible){const xe=G(ae,Ve,_e,J);n.renderBufferDirect(ge,null,_t,xe,ae,null)}}const Be=ae.children;for(let _t=0,Ve=Be.length;_t<Ve;_t++)Q(Be[_t],Y,ge,_e,J)}}function s6e(n,e,t){const r=t.isWebGL2;function o(){let Ct=!1;const Kt=new Es;let gn=null;const rr=new Es(0,0,0,0);return{setMask:function(Gn){gn!==Gn&&!Ct&&(n.colorMask(Gn,Gn,Gn,Gn),gn=Gn)},setLocked:function(Gn){Ct=Gn},setClear:function(Gn,Ei,so,eo,Vo){Vo===!0&&(Gn*=eo,Ei*=eo,so*=eo),Kt.set(Gn,Ei,so,eo),rr.equals(Kt)===!1&&(n.clearColor(Gn,Ei,so,eo),rr.copy(Kt))},reset:function(){Ct=!1,gn=null,rr.set(-1,0,0,0)}}}function a(){let Ct=!1,Kt=null,gn=null,rr=null;return{setTest:function(Gn){Gn?Nt(n.DEPTH_TEST):Ot(n.DEPTH_TEST)},setMask:function(Gn){Kt!==Gn&&!Ct&&(n.depthMask(Gn),Kt=Gn)},setFunc:function(Gn){if(gn!==Gn){switch(Gn){case dwe:n.depthFunc(n.NEVER);break;case fwe:n.depthFunc(n.ALWAYS);break;case hwe:n.depthFunc(n.LESS);break;case XL:n.depthFunc(n.LEQUAL);break;case pwe:n.depthFunc(n.EQUAL);break;case mwe:n.depthFunc(n.GEQUAL);break;case gwe:n.depthFunc(n.GREATER);break;case vwe:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}gn=Gn}},setLocked:function(Gn){Ct=Gn},setClear:function(Gn){rr!==Gn&&(n.clearDepth(Gn),rr=Gn)},reset:function(){Ct=!1,Kt=null,gn=null,rr=null}}}function c(){let Ct=!1,Kt=null,gn=null,rr=null,Gn=null,Ei=null,so=null,eo=null,Vo=null;return{setTest:function(Li){Ct||(Li?Nt(n.STENCIL_TEST):Ot(n.STENCIL_TEST))},setMask:function(Li){Kt!==Li&&!Ct&&(n.stencilMask(Li),Kt=Li)},setFunc:function(Li,qi,po){(gn!==Li||rr!==qi||Gn!==po)&&(n.stencilFunc(Li,qi,po),gn=Li,rr=qi,Gn=po)},setOp:function(Li,qi,po){(Ei!==Li||so!==qi||eo!==po)&&(n.stencilOp(Li,qi,po),Ei=Li,so=qi,eo=po)},setLocked:function(Li){Ct=Li},setClear:function(Li){Vo!==Li&&(n.clearStencil(Li),Vo=Li)},reset:function(){Ct=!1,Kt=null,gn=null,rr=null,Gn=null,Ei=null,so=null,eo=null,Vo=null}}}const p=new o,g=new a,_=new c,b=new WeakMap,C=new WeakMap;let k={},B={},z=new WeakMap,F=[],N=null,D=!1,A=null,G=null,Q=null,ae=null,Y=null,ge=null,_e=null,J=!1,Se=null,Be=null,_t=null,Ve=null,xe=null;const ot=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ze=!1,mt=0;const we=n.getParameter(n.VERSION);we.indexOf("WebGL")!==-1?(mt=parseFloat(/^WebGL (\d)/.exec(we)[1]),Ze=mt>=1):we.indexOf("OpenGL ES")!==-1&&(mt=parseFloat(/^OpenGL ES (\d)/.exec(we)[1]),Ze=mt>=2);let Te=null,Ae={};const me=n.getParameter(n.SCISSOR_BOX),ce=n.getParameter(n.VIEWPORT),qe=new Es().fromArray(me),ht=new Es().fromArray(ce);function wt(Ct,Kt,gn,rr){const Gn=new Uint8Array(4),Ei=n.createTexture();n.bindTexture(Ct,Ei),n.texParameteri(Ct,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ct,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let so=0;so<gn;so++)r&&(Ct===n.TEXTURE_3D||Ct===n.TEXTURE_2D_ARRAY)?n.texImage3D(Kt,0,n.RGBA,1,1,rr,0,n.RGBA,n.UNSIGNED_BYTE,Gn):n.texImage2D(Kt+so,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Gn);return Ei}const et={};et[n.TEXTURE_2D]=wt(n.TEXTURE_2D,n.TEXTURE_2D,1),et[n.TEXTURE_CUBE_MAP]=wt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(et[n.TEXTURE_2D_ARRAY]=wt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),et[n.TEXTURE_3D]=wt(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),p.setClear(0,0,0,1),g.setClear(1),_.setClear(0),Nt(n.DEPTH_TEST),g.setFunc(XL),mn(!1),jn($G),Nt(n.CULL_FACE),Ft(g1);function Nt(Ct){k[Ct]!==!0&&(n.enable(Ct),k[Ct]=!0)}function Ot(Ct){k[Ct]!==!1&&(n.disable(Ct),k[Ct]=!1)}function an(Ct,Kt){return B[Ct]!==Kt?(n.bindFramebuffer(Ct,Kt),B[Ct]=Kt,r&&(Ct===n.DRAW_FRAMEBUFFER&&(B[n.FRAMEBUFFER]=Kt),Ct===n.FRAMEBUFFER&&(B[n.DRAW_FRAMEBUFFER]=Kt)),!0):!1}function fn(Ct,Kt){let gn=F,rr=!1;if(Ct)if(gn=z.get(Kt),gn===void 0&&(gn=[],z.set(Kt,gn)),Ct.isWebGLMultipleRenderTargets){const Gn=Ct.texture;if(gn.length!==Gn.length||gn[0]!==n.COLOR_ATTACHMENT0){for(let Ei=0,so=Gn.length;Ei<so;Ei++)gn[Ei]=n.COLOR_ATTACHMENT0+Ei;gn.length=Gn.length,rr=!0}}else gn[0]!==n.COLOR_ATTACHMENT0&&(gn[0]=n.COLOR_ATTACHMENT0,rr=!0);else gn[0]!==n.BACK&&(gn[0]=n.BACK,rr=!0);rr&&(t.isWebGL2?n.drawBuffers(gn):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(gn))}function nn(Ct){return N!==Ct?(n.useProgram(Ct),N=Ct,!0):!1}const Ye={[$x]:n.FUNC_ADD,[ewe]:n.FUNC_SUBTRACT,[twe]:n.FUNC_REVERSE_SUBTRACT};if(r)Ye[rV]=n.MIN,Ye[iV]=n.MAX;else{const Ct=e.get("EXT_blend_minmax");Ct!==null&&(Ye[rV]=Ct.MIN_EXT,Ye[iV]=Ct.MAX_EXT)}const Xt={[nwe]:n.ZERO,[rwe]:n.ONE,[iwe]:n.SRC_COLOR,[cX]:n.SRC_ALPHA,[cwe]:n.SRC_ALPHA_SATURATE,[lwe]:n.DST_COLOR,[swe]:n.DST_ALPHA,[owe]:n.ONE_MINUS_SRC_COLOR,[dX]:n.ONE_MINUS_SRC_ALPHA,[uwe]:n.ONE_MINUS_DST_COLOR,[awe]:n.ONE_MINUS_DST_ALPHA};function Ft(Ct,Kt,gn,rr,Gn,Ei,so,eo){if(Ct===g1){D===!0&&(Ot(n.BLEND),D=!1);return}if(D===!1&&(Nt(n.BLEND),D=!0),Ct!==$_e){if(Ct!==A||eo!==J){if((G!==$x||Y!==$x)&&(n.blendEquation(n.FUNC_ADD),G=$x,Y=$x),eo)switch(Ct){case cb:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case eV:n.blendFunc(n.ONE,n.ONE);break;case tV:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case nV:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ct);break}else switch(Ct){case cb:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case eV:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case tV:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case nV:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ct);break}Q=null,ae=null,ge=null,_e=null,A=Ct,J=eo}return}Gn=Gn||Kt,Ei=Ei||gn,so=so||rr,(Kt!==G||Gn!==Y)&&(n.blendEquationSeparate(Ye[Kt],Ye[Gn]),G=Kt,Y=Gn),(gn!==Q||rr!==ae||Ei!==ge||so!==_e)&&(n.blendFuncSeparate(Xt[gn],Xt[rr],Xt[Ei],Xt[so]),Q=gn,ae=rr,ge=Ei,_e=so),A=Ct,J=!1}function Zt(Ct,Kt){Ct.side===mf?Ot(n.CULL_FACE):Nt(n.CULL_FACE);let gn=Ct.side===Xh;Kt&&(gn=!gn),mn(gn),Ct.blending===cb&&Ct.transparent===!1?Ft(g1):Ft(Ct.blending,Ct.blendEquation,Ct.blendSrc,Ct.blendDst,Ct.blendEquationAlpha,Ct.blendSrcAlpha,Ct.blendDstAlpha,Ct.premultipliedAlpha),g.setFunc(Ct.depthFunc),g.setTest(Ct.depthTest),g.setMask(Ct.depthWrite),p.setMask(Ct.colorWrite);const rr=Ct.stencilWrite;_.setTest(rr),rr&&(_.setMask(Ct.stencilWriteMask),_.setFunc(Ct.stencilFunc,Ct.stencilRef,Ct.stencilFuncMask),_.setOp(Ct.stencilFail,Ct.stencilZFail,Ct.stencilZPass)),tr(Ct.polygonOffset,Ct.polygonOffsetFactor,Ct.polygonOffsetUnits),Ct.alphaToCoverage===!0?Nt(n.SAMPLE_ALPHA_TO_COVERAGE):Ot(n.SAMPLE_ALPHA_TO_COVERAGE)}function mn(Ct){Se!==Ct&&(Ct?n.frontFace(n.CW):n.frontFace(n.CCW),Se=Ct)}function jn(Ct){Ct!==J_e?(Nt(n.CULL_FACE),Ct!==Be&&(Ct===$G?n.cullFace(n.BACK):Ct===Z_e?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ot(n.CULL_FACE),Be=Ct}function Wn(Ct){Ct!==_t&&(Ze&&n.lineWidth(Ct),_t=Ct)}function tr(Ct,Kt,gn){Ct?(Nt(n.POLYGON_OFFSET_FILL),(Ve!==Kt||xe!==gn)&&(n.polygonOffset(Kt,gn),Ve=Kt,xe=gn)):Ot(n.POLYGON_OFFSET_FILL)}function _r(Ct){Ct?Nt(n.SCISSOR_TEST):Ot(n.SCISSOR_TEST)}function Vr(Ct){Ct===void 0&&(Ct=n.TEXTURE0+ot-1),Te!==Ct&&(n.activeTexture(Ct),Te=Ct)}function si(Ct,Kt,gn){gn===void 0&&(Te===null?gn=n.TEXTURE0+ot-1:gn=Te);let rr=Ae[gn];rr===void 0&&(rr={type:void 0,texture:void 0},Ae[gn]=rr),(rr.type!==Ct||rr.texture!==Kt)&&(Te!==gn&&(n.activeTexture(gn),Te=gn),n.bindTexture(Ct,Kt||et[Ct]),rr.type=Ct,rr.texture=Kt)}function ct(){const Ct=Ae[Te];Ct!==void 0&&Ct.type!==void 0&&(n.bindTexture(Ct.type,null),Ct.type=void 0,Ct.texture=void 0)}function De(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function Ut(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function Kn(){try{n.texSubImage2D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function Fn(){try{n.texSubImage3D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function Xn(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function xr(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function nr(){try{n.texStorage2D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function it(){try{n.texStorage3D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function En(){try{n.texImage2D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function Ln(){try{n.texImage3D.apply(n,arguments)}catch(Ct){console.error("THREE.WebGLState:",Ct)}}function Yn(Ct){qe.equals(Ct)===!1&&(n.scissor(Ct.x,Ct.y,Ct.z,Ct.w),qe.copy(Ct))}function br(Ct){ht.equals(Ct)===!1&&(n.viewport(Ct.x,Ct.y,Ct.z,Ct.w),ht.copy(Ct))}function vr(Ct,Kt){let gn=C.get(Kt);gn===void 0&&(gn=new WeakMap,C.set(Kt,gn));let rr=gn.get(Ct);rr===void 0&&(rr=n.getUniformBlockIndex(Kt,Ct.name),gn.set(Ct,rr))}function Wr(Ct,Kt){const rr=C.get(Kt).get(Ct);b.get(Kt)!==rr&&(n.uniformBlockBinding(Kt,rr,Ct.__bindingPointIndex),b.set(Kt,rr))}function ci(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),k={},Te=null,Ae={},B={},z=new WeakMap,F=[],N=null,D=!1,A=null,G=null,Q=null,ae=null,Y=null,ge=null,_e=null,J=!1,Se=null,Be=null,_t=null,Ve=null,xe=null,qe.set(0,0,n.canvas.width,n.canvas.height),ht.set(0,0,n.canvas.width,n.canvas.height),p.reset(),g.reset(),_.reset()}return{buffers:{color:p,depth:g,stencil:_},enable:Nt,disable:Ot,bindFramebuffer:an,drawBuffers:fn,useProgram:nn,setBlending:Ft,setMaterial:Zt,setFlipSided:mn,setCullFace:jn,setLineWidth:Wn,setPolygonOffset:tr,setScissorTest:_r,activeTexture:Vr,bindTexture:si,unbindTexture:ct,compressedTexImage2D:De,compressedTexImage3D:Ut,texImage2D:En,texImage3D:Ln,updateUBOMapping:vr,uniformBlockBinding:Wr,texStorage2D:nr,texStorage3D:it,texSubImage2D:Kn,texSubImage3D:Fn,compressedTexSubImage2D:Xn,compressedTexSubImage3D:xr,scissor:Yn,viewport:br,reset:ci}}function a6e(n,e,t,r,o,a,c){const p=o.isWebGL2,g=o.maxTextures,_=o.maxCubemapSize,b=o.maxTextureSize,C=o.maxSamples,k=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,B=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),z=new WeakMap;let F;const N=new WeakMap;let D=!1;try{D=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function A(ct,De){return D?new OffscreenCanvas(ct,De):iR("canvas")}function G(ct,De,Ut,Kn){let Fn=1;if((ct.width>Kn||ct.height>Kn)&&(Fn=Kn/Math.max(ct.width,ct.height)),Fn<1||De===!0)if(typeof HTMLImageElement<"u"&&ct instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ct instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ct instanceof ImageBitmap){const Xn=De?qL:Math.floor,xr=Xn(Fn*ct.width),nr=Xn(Fn*ct.height);F===void 0&&(F=A(xr,nr));const it=Ut?A(xr,nr):F;return it.width=xr,it.height=nr,it.getContext("2d").drawImage(ct,0,0,xr,nr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ct.width+"x"+ct.height+") to ("+xr+"x"+nr+")."),it}else return"data"in ct&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ct.width+"x"+ct.height+")."),ct;return ct}function Q(ct){return TV(ct.width)&&TV(ct.height)}function ae(ct){return p?!1:ct.wrapS!==gf||ct.wrapT!==gf||ct.minFilter!==Cu&&ct.minFilter!==aa}function Y(ct,De){return ct.generateMipmaps&&De&&ct.minFilter!==Cu&&ct.minFilter!==aa}function ge(ct){n.generateMipmap(ct)}function _e(ct,De,Ut,Kn,Fn=!1){if(p===!1)return De;if(ct!==null){if(n[ct]!==void 0)return n[ct];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ct+"'")}let Xn=De;return De===n.RED&&(Ut===n.FLOAT&&(Xn=n.R32F),Ut===n.HALF_FLOAT&&(Xn=n.R16F),Ut===n.UNSIGNED_BYTE&&(Xn=n.R8)),De===n.RED_INTEGER&&(Ut===n.UNSIGNED_BYTE&&(Xn=n.R8UI),Ut===n.UNSIGNED_SHORT&&(Xn=n.R16UI),Ut===n.UNSIGNED_INT&&(Xn=n.R32UI),Ut===n.BYTE&&(Xn=n.R8I),Ut===n.SHORT&&(Xn=n.R16I),Ut===n.INT&&(Xn=n.R32I)),De===n.RG&&(Ut===n.FLOAT&&(Xn=n.RG32F),Ut===n.HALF_FLOAT&&(Xn=n.RG16F),Ut===n.UNSIGNED_BYTE&&(Xn=n.RG8)),De===n.RGBA&&(Ut===n.FLOAT&&(Xn=n.RGBA32F),Ut===n.HALF_FLOAT&&(Xn=n.RGBA16F),Ut===n.UNSIGNED_BYTE&&(Xn=Kn===Io&&Fn===!1?n.SRGB8_ALPHA8:n.RGBA8),Ut===n.UNSIGNED_SHORT_4_4_4_4&&(Xn=n.RGBA4),Ut===n.UNSIGNED_SHORT_5_5_5_1&&(Xn=n.RGB5_A1)),(Xn===n.R16F||Xn===n.R32F||Xn===n.RG16F||Xn===n.RG32F||Xn===n.RGBA16F||Xn===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Xn}function J(ct,De,Ut){return Y(ct,Ut)===!0||ct.isFramebufferTexture&&ct.minFilter!==Cu&&ct.minFilter!==aa?Math.log2(Math.max(De.width,De.height))+1:ct.mipmaps!==void 0&&ct.mipmaps.length>0?ct.mipmaps.length:ct.isCompressedTexture&&Array.isArray(ct.image)?De.mipmaps.length:1}function Se(ct){return ct===Cu||ct===eR||ct===qC?n.NEAREST:n.LINEAR}function Be(ct){const De=ct.target;De.removeEventListener("dispose",Be),Ve(De),De.isVideoTexture&&z.delete(De)}function _t(ct){const De=ct.target;De.removeEventListener("dispose",_t),ot(De)}function Ve(ct){const De=r.get(ct);if(De.__webglInit===void 0)return;const Ut=ct.source,Kn=N.get(Ut);if(Kn){const Fn=Kn[De.__cacheKey];Fn.usedTimes--,Fn.usedTimes===0&&xe(ct),Object.keys(Kn).length===0&&N.delete(Ut)}r.remove(ct)}function xe(ct){const De=r.get(ct);n.deleteTexture(De.__webglTexture);const Ut=ct.source,Kn=N.get(Ut);delete Kn[De.__cacheKey],c.memory.textures--}function ot(ct){const De=ct.texture,Ut=r.get(ct),Kn=r.get(De);if(Kn.__webglTexture!==void 0&&(n.deleteTexture(Kn.__webglTexture),c.memory.textures--),ct.depthTexture&&ct.depthTexture.dispose(),ct.isWebGLCubeRenderTarget)for(let Fn=0;Fn<6;Fn++){if(Array.isArray(Ut.__webglFramebuffer[Fn]))for(let Xn=0;Xn<Ut.__webglFramebuffer[Fn].length;Xn++)n.deleteFramebuffer(Ut.__webglFramebuffer[Fn][Xn]);else n.deleteFramebuffer(Ut.__webglFramebuffer[Fn]);Ut.__webglDepthbuffer&&n.deleteRenderbuffer(Ut.__webglDepthbuffer[Fn])}else{if(Array.isArray(Ut.__webglFramebuffer))for(let Fn=0;Fn<Ut.__webglFramebuffer.length;Fn++)n.deleteFramebuffer(Ut.__webglFramebuffer[Fn]);else n.deleteFramebuffer(Ut.__webglFramebuffer);if(Ut.__webglDepthbuffer&&n.deleteRenderbuffer(Ut.__webglDepthbuffer),Ut.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Ut.__webglMultisampledFramebuffer),Ut.__webglColorRenderbuffer)for(let Fn=0;Fn<Ut.__webglColorRenderbuffer.length;Fn++)Ut.__webglColorRenderbuffer[Fn]&&n.deleteRenderbuffer(Ut.__webglColorRenderbuffer[Fn]);Ut.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Ut.__webglDepthRenderbuffer)}if(ct.isWebGLMultipleRenderTargets)for(let Fn=0,Xn=De.length;Fn<Xn;Fn++){const xr=r.get(De[Fn]);xr.__webglTexture&&(n.deleteTexture(xr.__webglTexture),c.memory.textures--),r.remove(De[Fn])}r.remove(De),r.remove(ct)}let Ze=0;function mt(){Ze=0}function we(){const ct=Ze;return ct>=g&&console.warn("THREE.WebGLTextures: Trying to use "+ct+" texture units while this GPU supports only "+g),Ze+=1,ct}function Te(ct){const De=[];return De.push(ct.wrapS),De.push(ct.wrapT),De.push(ct.wrapR||0),De.push(ct.magFilter),De.push(ct.minFilter),De.push(ct.anisotropy),De.push(ct.internalFormat),De.push(ct.format),De.push(ct.type),De.push(ct.generateMipmaps),De.push(ct.premultiplyAlpha),De.push(ct.flipY),De.push(ct.unpackAlignment),De.push(ct.colorSpace),De.join()}function Ae(ct,De){const Ut=r.get(ct);if(ct.isVideoTexture&&Vr(ct),ct.isRenderTargetTexture===!1&&ct.version>0&&Ut.__version!==ct.version){const Kn=ct.image;if(Kn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Kn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{an(Ut,ct,De);return}}t.bindTexture(n.TEXTURE_2D,Ut.__webglTexture,n.TEXTURE0+De)}function me(ct,De){const Ut=r.get(ct);if(ct.version>0&&Ut.__version!==ct.version){an(Ut,ct,De);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ut.__webglTexture,n.TEXTURE0+De)}function ce(ct,De){const Ut=r.get(ct);if(ct.version>0&&Ut.__version!==ct.version){an(Ut,ct,De);return}t.bindTexture(n.TEXTURE_3D,Ut.__webglTexture,n.TEXTURE0+De)}function qe(ct,De){const Ut=r.get(ct);if(ct.version>0&&Ut.__version!==ct.version){fn(Ut,ct,De);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ut.__webglTexture,n.TEXTURE0+De)}const ht={[Nw]:n.REPEAT,[gf]:n.CLAMP_TO_EDGE,[uM]:n.MIRRORED_REPEAT},wt={[Cu]:n.NEAREST,[eR]:n.NEAREST_MIPMAP_NEAREST,[qC]:n.NEAREST_MIPMAP_LINEAR,[aa]:n.LINEAR,[zN]:n.LINEAR_MIPMAP_NEAREST,[Uv]:n.LINEAR_MIPMAP_LINEAR},et={[Uwe]:n.NEVER,[Kwe]:n.ALWAYS,[jwe]:n.LESS,[Gwe]:n.LEQUAL,[Hwe]:n.EQUAL,[Xwe]:n.GEQUAL,[Vwe]:n.GREATER,[Wwe]:n.NOTEQUAL};function Nt(ct,De,Ut){if(Ut?(n.texParameteri(ct,n.TEXTURE_WRAP_S,ht[De.wrapS]),n.texParameteri(ct,n.TEXTURE_WRAP_T,ht[De.wrapT]),(ct===n.TEXTURE_3D||ct===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ct,n.TEXTURE_WRAP_R,ht[De.wrapR]),n.texParameteri(ct,n.TEXTURE_MAG_FILTER,wt[De.magFilter]),n.texParameteri(ct,n.TEXTURE_MIN_FILTER,wt[De.minFilter])):(n.texParameteri(ct,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(ct,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(ct===n.TEXTURE_3D||ct===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ct,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(De.wrapS!==gf||De.wrapT!==gf)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(ct,n.TEXTURE_MAG_FILTER,Se(De.magFilter)),n.texParameteri(ct,n.TEXTURE_MIN_FILTER,Se(De.minFilter)),De.minFilter!==Cu&&De.minFilter!==aa&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),De.compareFunction&&(n.texParameteri(ct,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ct,n.TEXTURE_COMPARE_FUNC,et[De.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Kn=e.get("EXT_texture_filter_anisotropic");if(De.magFilter===Cu||De.minFilter!==qC&&De.minFilter!==Uv||De.type===vf&&e.has("OES_texture_float_linear")===!1||p===!1&&De.type===uh&&e.has("OES_texture_half_float_linear")===!1)return;(De.anisotropy>1||r.get(De).__currentAnisotropy)&&(n.texParameterf(ct,Kn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(De.anisotropy,o.getMaxAnisotropy())),r.get(De).__currentAnisotropy=De.anisotropy)}}function Ot(ct,De){let Ut=!1;ct.__webglInit===void 0&&(ct.__webglInit=!0,De.addEventListener("dispose",Be));const Kn=De.source;let Fn=N.get(Kn);Fn===void 0&&(Fn={},N.set(Kn,Fn));const Xn=Te(De);if(Xn!==ct.__cacheKey){Fn[Xn]===void 0&&(Fn[Xn]={texture:n.createTexture(),usedTimes:0},c.memory.textures++,Ut=!0),Fn[Xn].usedTimes++;const xr=Fn[ct.__cacheKey];xr!==void 0&&(Fn[ct.__cacheKey].usedTimes--,xr.usedTimes===0&&xe(De)),ct.__cacheKey=Xn,ct.__webglTexture=Fn[Xn].texture}return Ut}function an(ct,De,Ut){let Kn=n.TEXTURE_2D;(De.isDataArrayTexture||De.isCompressedArrayTexture)&&(Kn=n.TEXTURE_2D_ARRAY),De.isData3DTexture&&(Kn=n.TEXTURE_3D);const Fn=Ot(ct,De),Xn=De.source;t.bindTexture(Kn,ct.__webglTexture,n.TEXTURE0+Ut);const xr=r.get(Xn);if(Xn.version!==xr.__version||Fn===!0){t.activeTexture(n.TEXTURE0+Ut),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,De.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,De.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,De.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const nr=ae(De)&&Q(De.image)===!1;let it=G(De.image,nr,!1,b);it=si(De,it);const En=Q(it)||p,Ln=a.convert(De.format,De.colorSpace);let Yn=a.convert(De.type),br=_e(De.internalFormat,Ln,Yn,De.colorSpace);Nt(Kn,De,En);let vr;const Wr=De.mipmaps,ci=p&&De.isVideoTexture!==!0,Ct=xr.__version===void 0||Fn===!0,Kt=J(De,it,En);if(De.isDepthTexture)br=n.DEPTH_COMPONENT,p?De.type===vf?br=n.DEPTH_COMPONENT32F:De.type===u1?br=n.DEPTH_COMPONENT24:De.type===Sw?br=n.DEPTH24_STENCIL8:br=n.DEPTH_COMPONENT16:De.type===vf&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),De.format===xw&&br===n.DEPTH_COMPONENT&&De.type!==UN&&De.type!==u1&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),De.type=u1,Yn=a.convert(De.type)),De.format===yb&&br===n.DEPTH_COMPONENT&&(br=n.DEPTH_STENCIL,De.type!==Sw&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),De.type=Sw,Yn=a.convert(De.type))),Ct&&(ci?t.texStorage2D(n.TEXTURE_2D,1,br,it.width,it.height):t.texImage2D(n.TEXTURE_2D,0,br,it.width,it.height,0,Ln,Yn,null));else if(De.isDataTexture)if(Wr.length>0&&En){ci&&Ct&&t.texStorage2D(n.TEXTURE_2D,Kt,br,Wr[0].width,Wr[0].height);for(let gn=0,rr=Wr.length;gn<rr;gn++)vr=Wr[gn],ci?t.texSubImage2D(n.TEXTURE_2D,gn,0,0,vr.width,vr.height,Ln,Yn,vr.data):t.texImage2D(n.TEXTURE_2D,gn,br,vr.width,vr.height,0,Ln,Yn,vr.data);De.generateMipmaps=!1}else ci?(Ct&&t.texStorage2D(n.TEXTURE_2D,Kt,br,it.width,it.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,it.width,it.height,Ln,Yn,it.data)):t.texImage2D(n.TEXTURE_2D,0,br,it.width,it.height,0,Ln,Yn,it.data);else if(De.isCompressedTexture)if(De.isCompressedArrayTexture){ci&&Ct&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Kt,br,Wr[0].width,Wr[0].height,it.depth);for(let gn=0,rr=Wr.length;gn<rr;gn++)vr=Wr[gn],De.format!==ah?Ln!==null?ci?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,gn,0,0,0,vr.width,vr.height,it.depth,Ln,vr.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,gn,br,vr.width,vr.height,it.depth,0,vr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ci?t.texSubImage3D(n.TEXTURE_2D_ARRAY,gn,0,0,0,vr.width,vr.height,it.depth,Ln,Yn,vr.data):t.texImage3D(n.TEXTURE_2D_ARRAY,gn,br,vr.width,vr.height,it.depth,0,Ln,Yn,vr.data)}else{ci&&Ct&&t.texStorage2D(n.TEXTURE_2D,Kt,br,Wr[0].width,Wr[0].height);for(let gn=0,rr=Wr.length;gn<rr;gn++)vr=Wr[gn],De.format!==ah?Ln!==null?ci?t.compressedTexSubImage2D(n.TEXTURE_2D,gn,0,0,vr.width,vr.height,Ln,vr.data):t.compressedTexImage2D(n.TEXTURE_2D,gn,br,vr.width,vr.height,0,vr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ci?t.texSubImage2D(n.TEXTURE_2D,gn,0,0,vr.width,vr.height,Ln,Yn,vr.data):t.texImage2D(n.TEXTURE_2D,gn,br,vr.width,vr.height,0,Ln,Yn,vr.data)}else if(De.isDataArrayTexture)ci?(Ct&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Kt,br,it.width,it.height,it.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,it.width,it.height,it.depth,Ln,Yn,it.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,br,it.width,it.height,it.depth,0,Ln,Yn,it.data);else if(De.isData3DTexture)ci?(Ct&&t.texStorage3D(n.TEXTURE_3D,Kt,br,it.width,it.height,it.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,it.width,it.height,it.depth,Ln,Yn,it.data)):t.texImage3D(n.TEXTURE_3D,0,br,it.width,it.height,it.depth,0,Ln,Yn,it.data);else if(De.isFramebufferTexture){if(Ct)if(ci)t.texStorage2D(n.TEXTURE_2D,Kt,br,it.width,it.height);else{let gn=it.width,rr=it.height;for(let Gn=0;Gn<Kt;Gn++)t.texImage2D(n.TEXTURE_2D,Gn,br,gn,rr,0,Ln,Yn,null),gn>>=1,rr>>=1}}else if(Wr.length>0&&En){ci&&Ct&&t.texStorage2D(n.TEXTURE_2D,Kt,br,Wr[0].width,Wr[0].height);for(let gn=0,rr=Wr.length;gn<rr;gn++)vr=Wr[gn],ci?t.texSubImage2D(n.TEXTURE_2D,gn,0,0,Ln,Yn,vr):t.texImage2D(n.TEXTURE_2D,gn,br,Ln,Yn,vr);De.generateMipmaps=!1}else ci?(Ct&&t.texStorage2D(n.TEXTURE_2D,Kt,br,it.width,it.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Ln,Yn,it)):t.texImage2D(n.TEXTURE_2D,0,br,Ln,Yn,it);Y(De,En)&&ge(Kn),xr.__version=Xn.version,De.onUpdate&&De.onUpdate(De)}ct.__version=De.version}function fn(ct,De,Ut){if(De.image.length!==6)return;const Kn=Ot(ct,De),Fn=De.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ct.__webglTexture,n.TEXTURE0+Ut);const Xn=r.get(Fn);if(Fn.version!==Xn.__version||Kn===!0){t.activeTexture(n.TEXTURE0+Ut),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,De.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,De.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,De.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const xr=De.isCompressedTexture||De.image[0].isCompressedTexture,nr=De.image[0]&&De.image[0].isDataTexture,it=[];for(let gn=0;gn<6;gn++)!xr&&!nr?it[gn]=G(De.image[gn],!1,!0,_):it[gn]=nr?De.image[gn].image:De.image[gn],it[gn]=si(De,it[gn]);const En=it[0],Ln=Q(En)||p,Yn=a.convert(De.format,De.colorSpace),br=a.convert(De.type),vr=_e(De.internalFormat,Yn,br,De.colorSpace),Wr=p&&De.isVideoTexture!==!0,ci=Xn.__version===void 0||Kn===!0;let Ct=J(De,En,Ln);Nt(n.TEXTURE_CUBE_MAP,De,Ln);let Kt;if(xr){Wr&&ci&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ct,vr,En.width,En.height);for(let gn=0;gn<6;gn++){Kt=it[gn].mipmaps;for(let rr=0;rr<Kt.length;rr++){const Gn=Kt[rr];De.format!==ah?Yn!==null?Wr?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,rr,0,0,Gn.width,Gn.height,Yn,Gn.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,rr,vr,Gn.width,Gn.height,0,Gn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Wr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,rr,0,0,Gn.width,Gn.height,Yn,br,Gn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,rr,vr,Gn.width,Gn.height,0,Yn,br,Gn.data)}}}else{Kt=De.mipmaps,Wr&&ci&&(Kt.length>0&&Ct++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Ct,vr,it[0].width,it[0].height));for(let gn=0;gn<6;gn++)if(nr){Wr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,0,0,0,it[gn].width,it[gn].height,Yn,br,it[gn].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,0,vr,it[gn].width,it[gn].height,0,Yn,br,it[gn].data);for(let rr=0;rr<Kt.length;rr++){const Ei=Kt[rr].image[gn].image;Wr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,rr+1,0,0,Ei.width,Ei.height,Yn,br,Ei.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,rr+1,vr,Ei.width,Ei.height,0,Yn,br,Ei.data)}}else{Wr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,0,0,0,Yn,br,it[gn]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,0,vr,Yn,br,it[gn]);for(let rr=0;rr<Kt.length;rr++){const Gn=Kt[rr];Wr?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,rr+1,0,0,Yn,br,Gn.image[gn]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gn,rr+1,vr,Yn,br,Gn.image[gn])}}}Y(De,Ln)&&ge(n.TEXTURE_CUBE_MAP),Xn.__version=Fn.version,De.onUpdate&&De.onUpdate(De)}ct.__version=De.version}function nn(ct,De,Ut,Kn,Fn,Xn){const xr=a.convert(Ut.format,Ut.colorSpace),nr=a.convert(Ut.type),it=_e(Ut.internalFormat,xr,nr,Ut.colorSpace);if(!r.get(De).__hasExternalTextures){const Ln=Math.max(1,De.width>>Xn),Yn=Math.max(1,De.height>>Xn);Fn===n.TEXTURE_3D||Fn===n.TEXTURE_2D_ARRAY?t.texImage3D(Fn,Xn,it,Ln,Yn,De.depth,0,xr,nr,null):t.texImage2D(Fn,Xn,it,Ln,Yn,0,xr,nr,null)}t.bindFramebuffer(n.FRAMEBUFFER,ct),_r(De)?k.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Kn,Fn,r.get(Ut).__webglTexture,0,tr(De)):(Fn===n.TEXTURE_2D||Fn>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Fn<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Kn,Fn,r.get(Ut).__webglTexture,Xn),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ye(ct,De,Ut){if(n.bindRenderbuffer(n.RENDERBUFFER,ct),De.depthBuffer&&!De.stencilBuffer){let Kn=n.DEPTH_COMPONENT16;if(Ut||_r(De)){const Fn=De.depthTexture;Fn&&Fn.isDepthTexture&&(Fn.type===vf?Kn=n.DEPTH_COMPONENT32F:Fn.type===u1&&(Kn=n.DEPTH_COMPONENT24));const Xn=tr(De);_r(De)?k.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Xn,Kn,De.width,De.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Xn,Kn,De.width,De.height)}else n.renderbufferStorage(n.RENDERBUFFER,Kn,De.width,De.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,ct)}else if(De.depthBuffer&&De.stencilBuffer){const Kn=tr(De);Ut&&_r(De)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Kn,n.DEPTH24_STENCIL8,De.width,De.height):_r(De)?k.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Kn,n.DEPTH24_STENCIL8,De.width,De.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,De.width,De.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,ct)}else{const Kn=De.isWebGLMultipleRenderTargets===!0?De.texture:[De.texture];for(let Fn=0;Fn<Kn.length;Fn++){const Xn=Kn[Fn],xr=a.convert(Xn.format,Xn.colorSpace),nr=a.convert(Xn.type),it=_e(Xn.internalFormat,xr,nr,Xn.colorSpace),En=tr(De);Ut&&_r(De)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,En,it,De.width,De.height):_r(De)?k.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,En,it,De.width,De.height):n.renderbufferStorage(n.RENDERBUFFER,it,De.width,De.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Xt(ct,De){if(De&&De.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,ct),!(De.depthTexture&&De.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(De.depthTexture).__webglTexture||De.depthTexture.image.width!==De.width||De.depthTexture.image.height!==De.height)&&(De.depthTexture.image.width=De.width,De.depthTexture.image.height=De.height,De.depthTexture.needsUpdate=!0),Ae(De.depthTexture,0);const Kn=r.get(De.depthTexture).__webglTexture,Fn=tr(De);if(De.depthTexture.format===xw)_r(De)?k.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Kn,0,Fn):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Kn,0);else if(De.depthTexture.format===yb)_r(De)?k.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Kn,0,Fn):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Kn,0);else throw new Error("Unknown depthTexture format")}function Ft(ct){const De=r.get(ct),Ut=ct.isWebGLCubeRenderTarget===!0;if(ct.depthTexture&&!De.__autoAllocateDepthBuffer){if(Ut)throw new Error("target.depthTexture not supported in Cube render targets");Xt(De.__webglFramebuffer,ct)}else if(Ut){De.__webglDepthbuffer=[];for(let Kn=0;Kn<6;Kn++)t.bindFramebuffer(n.FRAMEBUFFER,De.__webglFramebuffer[Kn]),De.__webglDepthbuffer[Kn]=n.createRenderbuffer(),Ye(De.__webglDepthbuffer[Kn],ct,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,De.__webglFramebuffer),De.__webglDepthbuffer=n.createRenderbuffer(),Ye(De.__webglDepthbuffer,ct,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Zt(ct,De,Ut){const Kn=r.get(ct);De!==void 0&&nn(Kn.__webglFramebuffer,ct,ct.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ut!==void 0&&Ft(ct)}function mn(ct){const De=ct.texture,Ut=r.get(ct),Kn=r.get(De);ct.addEventListener("dispose",_t),ct.isWebGLMultipleRenderTargets!==!0&&(Kn.__webglTexture===void 0&&(Kn.__webglTexture=n.createTexture()),Kn.__version=De.version,c.memory.textures++);const Fn=ct.isWebGLCubeRenderTarget===!0,Xn=ct.isWebGLMultipleRenderTargets===!0,xr=Q(ct)||p;if(Fn){Ut.__webglFramebuffer=[];for(let nr=0;nr<6;nr++)if(p&&De.mipmaps&&De.mipmaps.length>0){Ut.__webglFramebuffer[nr]=[];for(let it=0;it<De.mipmaps.length;it++)Ut.__webglFramebuffer[nr][it]=n.createFramebuffer()}else Ut.__webglFramebuffer[nr]=n.createFramebuffer()}else{if(p&&De.mipmaps&&De.mipmaps.length>0){Ut.__webglFramebuffer=[];for(let nr=0;nr<De.mipmaps.length;nr++)Ut.__webglFramebuffer[nr]=n.createFramebuffer()}else Ut.__webglFramebuffer=n.createFramebuffer();if(Xn)if(o.drawBuffers){const nr=ct.texture;for(let it=0,En=nr.length;it<En;it++){const Ln=r.get(nr[it]);Ln.__webglTexture===void 0&&(Ln.__webglTexture=n.createTexture(),c.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(p&&ct.samples>0&&_r(ct)===!1){const nr=Xn?De:[De];Ut.__webglMultisampledFramebuffer=n.createFramebuffer(),Ut.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ut.__webglMultisampledFramebuffer);for(let it=0;it<nr.length;it++){const En=nr[it];Ut.__webglColorRenderbuffer[it]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ut.__webglColorRenderbuffer[it]);const Ln=a.convert(En.format,En.colorSpace),Yn=a.convert(En.type),br=_e(En.internalFormat,Ln,Yn,En.colorSpace,ct.isXRRenderTarget===!0),vr=tr(ct);n.renderbufferStorageMultisample(n.RENDERBUFFER,vr,br,ct.width,ct.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.RENDERBUFFER,Ut.__webglColorRenderbuffer[it])}n.bindRenderbuffer(n.RENDERBUFFER,null),ct.depthBuffer&&(Ut.__webglDepthRenderbuffer=n.createRenderbuffer(),Ye(Ut.__webglDepthRenderbuffer,ct,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Fn){t.bindTexture(n.TEXTURE_CUBE_MAP,Kn.__webglTexture),Nt(n.TEXTURE_CUBE_MAP,De,xr);for(let nr=0;nr<6;nr++)if(p&&De.mipmaps&&De.mipmaps.length>0)for(let it=0;it<De.mipmaps.length;it++)nn(Ut.__webglFramebuffer[nr][it],ct,De,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+nr,it);else nn(Ut.__webglFramebuffer[nr],ct,De,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+nr,0);Y(De,xr)&&ge(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Xn){const nr=ct.texture;for(let it=0,En=nr.length;it<En;it++){const Ln=nr[it],Yn=r.get(Ln);t.bindTexture(n.TEXTURE_2D,Yn.__webglTexture),Nt(n.TEXTURE_2D,Ln,xr),nn(Ut.__webglFramebuffer,ct,Ln,n.COLOR_ATTACHMENT0+it,n.TEXTURE_2D,0),Y(Ln,xr)&&ge(n.TEXTURE_2D)}t.unbindTexture()}else{let nr=n.TEXTURE_2D;if((ct.isWebGL3DRenderTarget||ct.isWebGLArrayRenderTarget)&&(p?nr=ct.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(nr,Kn.__webglTexture),Nt(nr,De,xr),p&&De.mipmaps&&De.mipmaps.length>0)for(let it=0;it<De.mipmaps.length;it++)nn(Ut.__webglFramebuffer[it],ct,De,n.COLOR_ATTACHMENT0,nr,it);else nn(Ut.__webglFramebuffer,ct,De,n.COLOR_ATTACHMENT0,nr,0);Y(De,xr)&&ge(nr),t.unbindTexture()}ct.depthBuffer&&Ft(ct)}function jn(ct){const De=Q(ct)||p,Ut=ct.isWebGLMultipleRenderTargets===!0?ct.texture:[ct.texture];for(let Kn=0,Fn=Ut.length;Kn<Fn;Kn++){const Xn=Ut[Kn];if(Y(Xn,De)){const xr=ct.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,nr=r.get(Xn).__webglTexture;t.bindTexture(xr,nr),ge(xr),t.unbindTexture()}}}function Wn(ct){if(p&&ct.samples>0&&_r(ct)===!1){const De=ct.isWebGLMultipleRenderTargets?ct.texture:[ct.texture],Ut=ct.width,Kn=ct.height;let Fn=n.COLOR_BUFFER_BIT;const Xn=[],xr=ct.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,nr=r.get(ct),it=ct.isWebGLMultipleRenderTargets===!0;if(it)for(let En=0;En<De.length;En++)t.bindFramebuffer(n.FRAMEBUFFER,nr.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+En,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,nr.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+En,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,nr.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,nr.__webglFramebuffer);for(let En=0;En<De.length;En++){Xn.push(n.COLOR_ATTACHMENT0+En),ct.depthBuffer&&Xn.push(xr);const Ln=nr.__ignoreDepthValues!==void 0?nr.__ignoreDepthValues:!1;if(Ln===!1&&(ct.depthBuffer&&(Fn|=n.DEPTH_BUFFER_BIT),ct.stencilBuffer&&(Fn|=n.STENCIL_BUFFER_BIT)),it&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,nr.__webglColorRenderbuffer[En]),Ln===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[xr]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[xr])),it){const Yn=r.get(De[En]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Yn,0)}n.blitFramebuffer(0,0,Ut,Kn,0,0,Ut,Kn,Fn,n.NEAREST),B&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Xn)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),it)for(let En=0;En<De.length;En++){t.bindFramebuffer(n.FRAMEBUFFER,nr.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+En,n.RENDERBUFFER,nr.__webglColorRenderbuffer[En]);const Ln=r.get(De[En]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,nr.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+En,n.TEXTURE_2D,Ln,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,nr.__webglMultisampledFramebuffer)}}function tr(ct){return Math.min(C,ct.samples)}function _r(ct){const De=r.get(ct);return p&&ct.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&De.__useRenderToTexture!==!1}function Vr(ct){const De=c.render.frame;z.get(ct)!==De&&(z.set(ct,De),ct.update())}function si(ct,De){const Ut=ct.colorSpace,Kn=ct.format,Fn=ct.type;return ct.isCompressedTexture===!0||ct.format===QL||Ut!==L0&&Ut!==Ew&&(Ut===Io?p===!1?e.has("EXT_sRGB")===!0&&Kn===ah?(ct.format=QL,ct.minFilter=aa,ct.generateMipmaps=!1):De=EX.sRGBToLinear(De):(Kn!==ah||Fn!==O0)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ut)),De}this.allocateTextureUnit=we,this.resetTextureUnits=mt,this.setTexture2D=Ae,this.setTexture2DArray=me,this.setTexture3D=ce,this.setTextureCube=qe,this.rebindTextures=Zt,this.setupRenderTarget=mn,this.updateRenderTargetMipmap=jn,this.updateMultisampleRenderTarget=Wn,this.setupDepthRenderbuffer=Ft,this.setupFrameBufferTexture=nn,this.useMultisampledRTT=_r}function aSe(n,e,t){const r=t.isWebGL2;function o(a,c=Ew){let p;if(a===O0)return n.UNSIGNED_BYTE;if(a===hX)return n.UNSIGNED_SHORT_4_4_4_4;if(a===pX)return n.UNSIGNED_SHORT_5_5_5_1;if(a===Ewe)return n.BYTE;if(a===Awe)return n.SHORT;if(a===UN)return n.UNSIGNED_SHORT;if(a===fX)return n.INT;if(a===u1)return n.UNSIGNED_INT;if(a===vf)return n.FLOAT;if(a===uh)return r?n.HALF_FLOAT:(p=e.get("OES_texture_half_float"),p!==null?p.HALF_FLOAT_OES:null);if(a===Cwe)return n.ALPHA;if(a===ah)return n.RGBA;if(a===Mwe)return n.LUMINANCE;if(a===Twe)return n.LUMINANCE_ALPHA;if(a===xw)return n.DEPTH_COMPONENT;if(a===yb)return n.DEPTH_STENCIL;if(a===QL)return p=e.get("EXT_sRGB"),p!==null?p.SRGB_ALPHA_EXT:null;if(a===mX)return n.RED;if(a===gX)return n.RED_INTEGER;if(a===Pwe)return n.RG;if(a===vX)return n.RG_INTEGER;if(a===yX)return n.RGBA_INTEGER;if(a===bL||a===EL||a===AL||a===CL)if(c===Io)if(p=e.get("WEBGL_compressed_texture_s3tc_srgb"),p!==null){if(a===bL)return p.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===EL)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===AL)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===CL)return p.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(p=e.get("WEBGL_compressed_texture_s3tc"),p!==null){if(a===bL)return p.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===EL)return p.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===AL)return p.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===CL)return p.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===oV||a===sV||a===aV||a===lV)if(p=e.get("WEBGL_compressed_texture_pvrtc"),p!==null){if(a===oV)return p.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===sV)return p.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===aV)return p.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===lV)return p.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===kwe)return p=e.get("WEBGL_compressed_texture_etc1"),p!==null?p.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===uV||a===cV)if(p=e.get("WEBGL_compressed_texture_etc"),p!==null){if(a===uV)return c===Io?p.COMPRESSED_SRGB8_ETC2:p.COMPRESSED_RGB8_ETC2;if(a===cV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:p.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===dV||a===fV||a===hV||a===pV||a===mV||a===gV||a===vV||a===yV||a===_V||a===wV||a===SV||a===xV||a===bV||a===EV)if(p=e.get("WEBGL_compressed_texture_astc"),p!==null){if(a===dV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:p.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===fV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:p.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===hV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:p.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===pV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:p.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===mV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:p.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===gV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:p.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===vV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:p.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===yV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:p.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===_V)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:p.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===wV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:p.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===SV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:p.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===xV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:p.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===bV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:p.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===EV)return c===Io?p.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:p.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===ML)if(p=e.get("EXT_texture_compression_bptc"),p!==null){if(a===ML)return c===Io?p.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:p.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(a===Iwe||a===AV||a===CV||a===MV)if(p=e.get("EXT_texture_compression_rgtc"),p!==null){if(a===ML)return p.COMPRESSED_RED_RGTC1_EXT;if(a===AV)return p.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===CV)return p.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===MV)return p.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===Sw?r?n.UNSIGNED_INT_24_8:(p=e.get("WEBGL_depth_texture"),p!==null?p.UNSIGNED_INT_24_8_WEBGL:null):n[a]!==void 0?n[a]:null}return{convert:o}}class lSe extends Da{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Rv extends Jo{constructor(){super(),this.isGroup=!0,this.type="Group"}}const l6e={type:"move"};class M7{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Rv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Rv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ke,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ke),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Rv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ke,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ke),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let o=null,a=null,c=null;const p=this._targetRay,g=this._grip,_=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(_&&e.hand){c=!0;for(const F of e.hand.values()){const N=t.getJointPose(F,r),D=this._getHandJoint(_,F);N!==null&&(D.matrix.fromArray(N.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale),D.matrixWorldNeedsUpdate=!0,D.jointRadius=N.radius),D.visible=N!==null}const b=_.joints["index-finger-tip"],C=_.joints["thumb-tip"],k=b.position.distanceTo(C.position),B=.02,z=.005;_.inputState.pinching&&k>B+z?(_.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!_.inputState.pinching&&k<=B-z&&(_.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else g!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(g.matrix.fromArray(a.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,a.linearVelocity?(g.hasLinearVelocity=!0,g.linearVelocity.copy(a.linearVelocity)):g.hasLinearVelocity=!1,a.angularVelocity?(g.hasAngularVelocity=!0,g.angularVelocity.copy(a.angularVelocity)):g.hasAngularVelocity=!1));p!==null&&(o=t.getPose(e.targetRaySpace,r),o===null&&a!==null&&(o=a),o!==null&&(p.matrix.fromArray(o.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,o.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(o.linearVelocity)):p.hasLinearVelocity=!1,o.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(o.angularVelocity)):p.hasAngularVelocity=!1,this.dispatchEvent(l6e)))}return p!==null&&(p.visible=o!==null),g!==null&&(g.visible=a!==null),_!==null&&(_.visible=c!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Rv;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class RX extends el{constructor(e,t,r,o,a,c,p,g,_,b){if(b=b!==void 0?b:xw,b!==xw&&b!==yb)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&b===xw&&(r=u1),r===void 0&&b===yb&&(r=Sw),super(null,o,a,c,p,g,b,r,_),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=p!==void 0?p:Cu,this.minFilter=g!==void 0?g:Cu,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class u6e extends jv{constructor(e,t){super();const r=this;let o=null,a=1,c=null,p="local-floor",g=1,_=null,b=null,C=null,k=null,B=null,z=null;const F=t.getContextAttributes();let N=null,D=null;const A=[],G=[],Q=new Da;Q.layers.enable(1),Q.viewport=new Es;const ae=new Da;ae.layers.enable(2),ae.viewport=new Es;const Y=[Q,ae],ge=new lSe;ge.layers.enable(1),ge.layers.enable(2);let _e=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(me){let ce=A[me];return ce===void 0&&(ce=new M7,A[me]=ce),ce.getTargetRaySpace()},this.getControllerGrip=function(me){let ce=A[me];return ce===void 0&&(ce=new M7,A[me]=ce),ce.getGripSpace()},this.getHand=function(me){let ce=A[me];return ce===void 0&&(ce=new M7,A[me]=ce),ce.getHandSpace()};function Se(me){const ce=G.indexOf(me.inputSource);if(ce===-1)return;const qe=A[ce];qe!==void 0&&(qe.update(me.inputSource,me.frame,_||c),qe.dispatchEvent({type:me.type,data:me.inputSource}))}function Be(){o.removeEventListener("select",Se),o.removeEventListener("selectstart",Se),o.removeEventListener("selectend",Se),o.removeEventListener("squeeze",Se),o.removeEventListener("squeezestart",Se),o.removeEventListener("squeezeend",Se),o.removeEventListener("end",Be),o.removeEventListener("inputsourceschange",_t);for(let me=0;me<A.length;me++){const ce=G[me];ce!==null&&(G[me]=null,A[me].disconnect(ce))}_e=null,J=null,e.setRenderTarget(N),B=null,k=null,C=null,o=null,D=null,Ae.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(me){a=me,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(me){p=me,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return _||c},this.setReferenceSpace=function(me){_=me},this.getBaseLayer=function(){return k!==null?k:B},this.getBinding=function(){return C},this.getFrame=function(){return z},this.getSession=function(){return o},this.setSession=async function(me){if(o=me,o!==null){if(N=e.getRenderTarget(),o.addEventListener("select",Se),o.addEventListener("selectstart",Se),o.addEventListener("selectend",Se),o.addEventListener("squeeze",Se),o.addEventListener("squeezestart",Se),o.addEventListener("squeezeend",Se),o.addEventListener("end",Be),o.addEventListener("inputsourceschange",_t),F.xrCompatible!==!0&&await t.makeXRCompatible(),o.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ce={antialias:o.renderState.layers===void 0?F.antialias:!0,alpha:!0,depth:F.depth,stencil:F.stencil,framebufferScaleFactor:a};B=new XRWebGLLayer(o,t,ce),o.updateRenderState({baseLayer:B}),D=new bg(B.framebufferWidth,B.framebufferHeight,{format:ah,type:O0,colorSpace:e.outputColorSpace,stencilBuffer:F.stencil})}else{let ce=null,qe=null,ht=null;F.depth&&(ht=F.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ce=F.stencil?yb:xw,qe=F.stencil?Sw:u1);const wt={colorFormat:t.RGBA8,depthFormat:ht,scaleFactor:a};C=new XRWebGLBinding(o,t),k=C.createProjectionLayer(wt),o.updateRenderState({layers:[k]}),D=new bg(k.textureWidth,k.textureHeight,{format:ah,type:O0,depthTexture:new RX(k.textureWidth,k.textureHeight,qe,void 0,void 0,void 0,void 0,void 0,void 0,ce),stencilBuffer:F.stencil,colorSpace:e.outputColorSpace,samples:F.antialias?4:0});const et=e.properties.get(D);et.__ignoreDepthValues=k.ignoreDepthValues}D.isXRRenderTarget=!0,this.setFoveation(g),_=null,c=await o.requestReferenceSpace(p),Ae.setContext(o),Ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode};function _t(me){for(let ce=0;ce<me.removed.length;ce++){const qe=me.removed[ce],ht=G.indexOf(qe);ht>=0&&(G[ht]=null,A[ht].disconnect(qe))}for(let ce=0;ce<me.added.length;ce++){const qe=me.added[ce];let ht=G.indexOf(qe);if(ht===-1){for(let et=0;et<A.length;et++)if(et>=G.length){G.push(qe),ht=et;break}else if(G[et]===null){G[et]=qe,ht=et;break}if(ht===-1)break}const wt=A[ht];wt&&wt.connect(qe)}}const Ve=new Ke,xe=new Ke;function ot(me,ce,qe){Ve.setFromMatrixPosition(ce.matrixWorld),xe.setFromMatrixPosition(qe.matrixWorld);const ht=Ve.distanceTo(xe),wt=ce.projectionMatrix.elements,et=qe.projectionMatrix.elements,Nt=wt[14]/(wt[10]-1),Ot=wt[14]/(wt[10]+1),an=(wt[9]+1)/wt[5],fn=(wt[9]-1)/wt[5],nn=(wt[8]-1)/wt[0],Ye=(et[8]+1)/et[0],Xt=Nt*nn,Ft=Nt*Ye,Zt=ht/(-nn+Ye),mn=Zt*-nn;ce.matrixWorld.decompose(me.position,me.quaternion,me.scale),me.translateX(mn),me.translateZ(Zt),me.matrixWorld.compose(me.position,me.quaternion,me.scale),me.matrixWorldInverse.copy(me.matrixWorld).invert();const jn=Nt+Zt,Wn=Ot+Zt,tr=Xt-mn,_r=Ft+(ht-mn),Vr=an*Ot/Wn*jn,si=fn*Ot/Wn*jn;me.projectionMatrix.makePerspective(tr,_r,Vr,si,jn,Wn),me.projectionMatrixInverse.copy(me.projectionMatrix).invert()}function Ze(me,ce){ce===null?me.matrixWorld.copy(me.matrix):me.matrixWorld.multiplyMatrices(ce.matrixWorld,me.matrix),me.matrixWorldInverse.copy(me.matrixWorld).invert()}this.updateCamera=function(me){if(o===null)return;ge.near=ae.near=Q.near=me.near,ge.far=ae.far=Q.far=me.far,(_e!==ge.near||J!==ge.far)&&(o.updateRenderState({depthNear:ge.near,depthFar:ge.far}),_e=ge.near,J=ge.far);const ce=me.parent,qe=ge.cameras;Ze(ge,ce);for(let ht=0;ht<qe.length;ht++)Ze(qe[ht],ce);qe.length===2?ot(ge,Q,ae):ge.projectionMatrix.copy(Q.projectionMatrix),mt(me,ge,ce)};function mt(me,ce,qe){qe===null?me.matrix.copy(ce.matrixWorld):(me.matrix.copy(qe.matrixWorld),me.matrix.invert(),me.matrix.multiply(ce.matrixWorld)),me.matrix.decompose(me.position,me.quaternion,me.scale),me.updateMatrixWorld(!0);const ht=me.children;for(let wt=0,et=ht.length;wt<et;wt++)ht[wt].updateMatrixWorld(!0);me.projectionMatrix.copy(ce.projectionMatrix),me.projectionMatrixInverse.copy(ce.projectionMatrixInverse),me.isPerspectiveCamera&&(me.fov=dM*2*Math.atan(1/me.projectionMatrix.elements[5]),me.zoom=1)}this.getCamera=function(){return ge},this.getFoveation=function(){if(!(k===null&&B===null))return g},this.setFoveation=function(me){g=me,k!==null&&(k.fixedFoveation=me),B!==null&&B.fixedFoveation!==void 0&&(B.fixedFoveation=me)};let we=null;function Te(me,ce){if(b=ce.getViewerPose(_||c),z=ce,b!==null){const qe=b.views;B!==null&&(e.setRenderTargetFramebuffer(D,B.framebuffer),e.setRenderTarget(D));let ht=!1;qe.length!==ge.cameras.length&&(ge.cameras.length=0,ht=!0);for(let wt=0;wt<qe.length;wt++){const et=qe[wt];let Nt=null;if(B!==null)Nt=B.getViewport(et);else{const an=C.getViewSubImage(k,et);Nt=an.viewport,wt===0&&(e.setRenderTargetTextures(D,an.colorTexture,k.ignoreDepthValues?void 0:an.depthStencilTexture),e.setRenderTarget(D))}let Ot=Y[wt];Ot===void 0&&(Ot=new Da,Ot.layers.enable(wt),Ot.viewport=new Es,Y[wt]=Ot),Ot.matrix.fromArray(et.transform.matrix),Ot.matrix.decompose(Ot.position,Ot.quaternion,Ot.scale),Ot.projectionMatrix.fromArray(et.projectionMatrix),Ot.projectionMatrixInverse.copy(Ot.projectionMatrix).invert(),Ot.viewport.set(Nt.x,Nt.y,Nt.width,Nt.height),wt===0&&(ge.matrix.copy(Ot.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale)),ht===!0&&ge.cameras.push(Ot)}}for(let qe=0;qe<A.length;qe++){const ht=G[qe],wt=A[qe];ht!==null&&wt!==void 0&&wt.update(ht,ce,_||c)}we&&we(me,ce),ce.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ce}),z=null}const Ae=new nSe;Ae.setAnimationLoop(Te),this.setAnimationLoop=function(me){we=me},this.dispose=function(){}}}function c6e(n,e){function t(N,D){N.matrixAutoUpdate===!0&&N.updateMatrix(),D.value.copy(N.matrix)}function r(N,D){D.color.getRGB(N.fogColor.value,$we(n)),D.isFog?(N.fogNear.value=D.near,N.fogFar.value=D.far):D.isFogExp2&&(N.fogDensity.value=D.density)}function o(N,D,A,G,Q){D.isMeshBasicMaterial||D.isMeshLambertMaterial?a(N,D):D.isMeshToonMaterial?(a(N,D),C(N,D)):D.isMeshPhongMaterial?(a(N,D),b(N,D)):D.isMeshStandardMaterial?(a(N,D),k(N,D),D.isMeshPhysicalMaterial&&B(N,D,Q)):D.isMeshMatcapMaterial?(a(N,D),z(N,D)):D.isMeshDepthMaterial?a(N,D):D.isMeshDistanceMaterial?(a(N,D),F(N,D)):D.isMeshNormalMaterial?a(N,D):D.isLineBasicMaterial?(c(N,D),D.isLineDashedMaterial&&p(N,D)):D.isPointsMaterial?g(N,D,A,G):D.isSpriteMaterial?_(N,D):D.isShadowMaterial?(N.color.value.copy(D.color),N.opacity.value=D.opacity):D.isShaderMaterial&&(D.uniformsNeedUpdate=!1)}function a(N,D){N.opacity.value=D.opacity,D.color&&N.diffuse.value.copy(D.color),D.emissive&&N.emissive.value.copy(D.emissive).multiplyScalar(D.emissiveIntensity),D.map&&(N.map.value=D.map,t(D.map,N.mapTransform)),D.alphaMap&&(N.alphaMap.value=D.alphaMap,t(D.alphaMap,N.alphaMapTransform)),D.bumpMap&&(N.bumpMap.value=D.bumpMap,t(D.bumpMap,N.bumpMapTransform),N.bumpScale.value=D.bumpScale,D.side===Xh&&(N.bumpScale.value*=-1)),D.normalMap&&(N.normalMap.value=D.normalMap,t(D.normalMap,N.normalMapTransform),N.normalScale.value.copy(D.normalScale),D.side===Xh&&N.normalScale.value.negate()),D.displacementMap&&(N.displacementMap.value=D.displacementMap,t(D.displacementMap,N.displacementMapTransform),N.displacementScale.value=D.displacementScale,N.displacementBias.value=D.displacementBias),D.emissiveMap&&(N.emissiveMap.value=D.emissiveMap,t(D.emissiveMap,N.emissiveMapTransform)),D.specularMap&&(N.specularMap.value=D.specularMap,t(D.specularMap,N.specularMapTransform)),D.alphaTest>0&&(N.alphaTest.value=D.alphaTest);const A=e.get(D).envMap;if(A&&(N.envMap.value=A,N.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,N.reflectivity.value=D.reflectivity,N.ior.value=D.ior,N.refractionRatio.value=D.refractionRatio),D.lightMap){N.lightMap.value=D.lightMap;const G=n._useLegacyLights===!0?Math.PI:1;N.lightMapIntensity.value=D.lightMapIntensity*G,t(D.lightMap,N.lightMapTransform)}D.aoMap&&(N.aoMap.value=D.aoMap,N.aoMapIntensity.value=D.aoMapIntensity,t(D.aoMap,N.aoMapTransform))}function c(N,D){N.diffuse.value.copy(D.color),N.opacity.value=D.opacity,D.map&&(N.map.value=D.map,t(D.map,N.mapTransform))}function p(N,D){N.dashSize.value=D.dashSize,N.totalSize.value=D.dashSize+D.gapSize,N.scale.value=D.scale}function g(N,D,A,G){N.diffuse.value.copy(D.color),N.opacity.value=D.opacity,N.size.value=D.size*A,N.scale.value=G*.5,D.map&&(N.map.value=D.map,t(D.map,N.uvTransform)),D.alphaMap&&(N.alphaMap.value=D.alphaMap,t(D.alphaMap,N.alphaMapTransform)),D.alphaTest>0&&(N.alphaTest.value=D.alphaTest)}function _(N,D){N.diffuse.value.copy(D.color),N.opacity.value=D.opacity,N.rotation.value=D.rotation,D.map&&(N.map.value=D.map,t(D.map,N.mapTransform)),D.alphaMap&&(N.alphaMap.value=D.alphaMap,t(D.alphaMap,N.alphaMapTransform)),D.alphaTest>0&&(N.alphaTest.value=D.alphaTest)}function b(N,D){N.specular.value.copy(D.specular),N.shininess.value=Math.max(D.shininess,1e-4)}function C(N,D){D.gradientMap&&(N.gradientMap.value=D.gradientMap)}function k(N,D){N.metalness.value=D.metalness,D.metalnessMap&&(N.metalnessMap.value=D.metalnessMap,t(D.metalnessMap,N.metalnessMapTransform)),N.roughness.value=D.roughness,D.roughnessMap&&(N.roughnessMap.value=D.roughnessMap,t(D.roughnessMap,N.roughnessMapTransform)),e.get(D).envMap&&(N.envMapIntensity.value=D.envMapIntensity)}function B(N,D,A){N.ior.value=D.ior,D.sheen>0&&(N.sheenColor.value.copy(D.sheenColor).multiplyScalar(D.sheen),N.sheenRoughness.value=D.sheenRoughness,D.sheenColorMap&&(N.sheenColorMap.value=D.sheenColorMap,t(D.sheenColorMap,N.sheenColorMapTransform)),D.sheenRoughnessMap&&(N.sheenRoughnessMap.value=D.sheenRoughnessMap,t(D.sheenRoughnessMap,N.sheenRoughnessMapTransform))),D.clearcoat>0&&(N.clearcoat.value=D.clearcoat,N.clearcoatRoughness.value=D.clearcoatRoughness,D.clearcoatMap&&(N.clearcoatMap.value=D.clearcoatMap,t(D.clearcoatMap,N.clearcoatMapTransform)),D.clearcoatRoughnessMap&&(N.clearcoatRoughnessMap.value=D.clearcoatRoughnessMap,t(D.clearcoatRoughnessMap,N.clearcoatRoughnessMapTransform)),D.clearcoatNormalMap&&(N.clearcoatNormalMap.value=D.clearcoatNormalMap,t(D.clearcoatNormalMap,N.clearcoatNormalMapTransform),N.clearcoatNormalScale.value.copy(D.clearcoatNormalScale),D.side===Xh&&N.clearcoatNormalScale.value.negate())),D.iridescence>0&&(N.iridescence.value=D.iridescence,N.iridescenceIOR.value=D.iridescenceIOR,N.iridescenceThicknessMinimum.value=D.iridescenceThicknessRange[0],N.iridescenceThicknessMaximum.value=D.iridescenceThicknessRange[1],D.iridescenceMap&&(N.iridescenceMap.value=D.iridescenceMap,t(D.iridescenceMap,N.iridescenceMapTransform)),D.iridescenceThicknessMap&&(N.iridescenceThicknessMap.value=D.iridescenceThicknessMap,t(D.iridescenceThicknessMap,N.iridescenceThicknessMapTransform))),D.transmission>0&&(N.transmission.value=D.transmission,N.transmissionSamplerMap.value=A.texture,N.transmissionSamplerSize.value.set(A.width,A.height),D.transmissionMap&&(N.transmissionMap.value=D.transmissionMap,t(D.transmissionMap,N.transmissionMapTransform)),N.thickness.value=D.thickness,D.thicknessMap&&(N.thicknessMap.value=D.thicknessMap,t(D.thicknessMap,N.thicknessMapTransform)),N.attenuationDistance.value=D.attenuationDistance,N.attenuationColor.value.copy(D.attenuationColor)),D.anisotropy>0&&(N.anisotropyVector.value.set(D.anisotropy*Math.cos(D.anisotropyRotation),D.anisotropy*Math.sin(D.anisotropyRotation)),D.anisotropyMap&&(N.anisotropyMap.value=D.anisotropyMap,t(D.anisotropyMap,N.anisotropyMapTransform))),N.specularIntensity.value=D.specularIntensity,N.specularColor.value.copy(D.specularColor),D.specularColorMap&&(N.specularColorMap.value=D.specularColorMap,t(D.specularColorMap,N.specularColorMapTransform)),D.specularIntensityMap&&(N.specularIntensityMap.value=D.specularIntensityMap,t(D.specularIntensityMap,N.specularIntensityMapTransform))}function z(N,D){D.matcap&&(N.matcap.value=D.matcap)}function F(N,D){const A=e.get(D).light;N.referencePosition.value.setFromMatrixPosition(A.matrixWorld),N.nearDistance.value=A.shadow.camera.near,N.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:o}}function d6e(n,e,t,r){let o={},a={},c=[];const p=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function g(A,G){const Q=G.program;r.uniformBlockBinding(A,Q)}function _(A,G){let Q=o[A.id];Q===void 0&&(z(A),Q=b(A),o[A.id]=Q,A.addEventListener("dispose",N));const ae=G.program;r.updateUBOMapping(A,ae);const Y=e.render.frame;a[A.id]!==Y&&(k(A),a[A.id]=Y)}function b(A){const G=C();A.__bindingPointIndex=G;const Q=n.createBuffer(),ae=A.__size,Y=A.usage;return n.bindBuffer(n.UNIFORM_BUFFER,Q),n.bufferData(n.UNIFORM_BUFFER,ae,Y),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,G,Q),Q}function C(){for(let A=0;A<p;A++)if(c.indexOf(A)===-1)return c.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function k(A){const G=o[A.id],Q=A.uniforms,ae=A.__cache;n.bindBuffer(n.UNIFORM_BUFFER,G);for(let Y=0,ge=Q.length;Y<ge;Y++){const _e=Q[Y];if(B(_e,Y,ae)===!0){const J=_e.__offset,Se=Array.isArray(_e.value)?_e.value:[_e.value];let Be=0;for(let _t=0;_t<Se.length;_t++){const Ve=Se[_t],xe=F(Ve);typeof Ve=="number"?(_e.__data[0]=Ve,n.bufferSubData(n.UNIFORM_BUFFER,J+Be,_e.__data)):Ve.isMatrix3?(_e.__data[0]=Ve.elements[0],_e.__data[1]=Ve.elements[1],_e.__data[2]=Ve.elements[2],_e.__data[3]=Ve.elements[0],_e.__data[4]=Ve.elements[3],_e.__data[5]=Ve.elements[4],_e.__data[6]=Ve.elements[5],_e.__data[7]=Ve.elements[0],_e.__data[8]=Ve.elements[6],_e.__data[9]=Ve.elements[7],_e.__data[10]=Ve.elements[8],_e.__data[11]=Ve.elements[0]):(Ve.toArray(_e.__data,Be),Be+=xe.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,J,_e.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function B(A,G,Q){const ae=A.value;if(Q[G]===void 0){if(typeof ae=="number")Q[G]=ae;else{const Y=Array.isArray(ae)?ae:[ae],ge=[];for(let _e=0;_e<Y.length;_e++)ge.push(Y[_e].clone());Q[G]=ge}return!0}else if(typeof ae=="number"){if(Q[G]!==ae)return Q[G]=ae,!0}else{const Y=Array.isArray(Q[G])?Q[G]:[Q[G]],ge=Array.isArray(ae)?ae:[ae];for(let _e=0;_e<Y.length;_e++){const J=Y[_e];if(J.equals(ge[_e])===!1)return J.copy(ge[_e]),!0}}return!1}function z(A){const G=A.uniforms;let Q=0;const ae=16;let Y=0;for(let ge=0,_e=G.length;ge<_e;ge++){const J=G[ge],Se={boundary:0,storage:0},Be=Array.isArray(J.value)?J.value:[J.value];for(let _t=0,Ve=Be.length;_t<Ve;_t++){const xe=Be[_t],ot=F(xe);Se.boundary+=ot.boundary,Se.storage+=ot.storage}if(J.__data=new Float32Array(Se.storage/Float32Array.BYTES_PER_ELEMENT),J.__offset=Q,ge>0){Y=Q%ae;const _t=ae-Y;Y!==0&&_t-Se.boundary<0&&(Q+=ae-Y,J.__offset=Q)}Q+=Se.storage}return Y=Q%ae,Y>0&&(Q+=ae-Y),A.__size=Q,A.__cache={},this}function F(A){const G={boundary:0,storage:0};return typeof A=="number"?(G.boundary=4,G.storage=4):A.isVector2?(G.boundary=8,G.storage=8):A.isVector3||A.isColor?(G.boundary=16,G.storage=12):A.isVector4?(G.boundary=16,G.storage=16):A.isMatrix3?(G.boundary=48,G.storage=48):A.isMatrix4?(G.boundary=64,G.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),G}function N(A){const G=A.target;G.removeEventListener("dispose",N);const Q=c.indexOf(G.__bindingPointIndex);c.splice(Q,1),n.deleteBuffer(o[G.id]),delete o[G.id],delete a[G.id]}function D(){for(const A in o)n.deleteBuffer(o[A]);c=[],o={},a={}}return{bind:g,update:_,dispose:D}}function f6e(){const n=iR("canvas");return n.style.display="block",n}class WN{constructor(e={}){const{canvas:t=f6e(),context:r=null,depth:o=!0,stencil:a=!0,alpha:c=!1,antialias:p=!1,premultipliedAlpha:g=!0,preserveDrawingBuffer:_=!1,powerPreference:b="default",failIfMajorPerformanceCaveat:C=!1}=e;this.isWebGLRenderer=!0;let k;r!==null?k=r.getContextAttributes().alpha:k=c;const B=new Uint32Array(4),z=new Int32Array(4);let F=null,N=null;const D=[],A=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Io,this._useLegacyLights=!1,this.toneMapping=R0,this.toneMappingExposure=1;const G=this;let Q=!1,ae=0,Y=0,ge=null,_e=-1,J=null;const Se=new Es,Be=new Es;let _t=null;const Ve=new Ir(0);let xe=0,ot=t.width,Ze=t.height,mt=1,we=null,Te=null;const Ae=new Es(0,0,ot,Ze),me=new Es(0,0,ot,Ze);let ce=!1;const qe=new GN;let ht=!1,wt=!1,et=null;const Nt=new Qi,Ot=new Vn,an=new Ke,fn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function nn(){return ge===null?mt:1}let Ye=r;function Xt(de,Fe){for(let dt=0;dt<de.length;dt++){const at=de[dt],vt=t.getContext(at,Fe);if(vt!==null)return vt}return null}try{const de={alpha:!0,depth:o,stencil:a,antialias:p,premultipliedAlpha:g,preserveDrawingBuffer:_,powerPreference:b,failIfMajorPerformanceCaveat:C};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${PM}`),t.addEventListener("webglcontextlost",Kt,!1),t.addEventListener("webglcontextrestored",gn,!1),t.addEventListener("webglcontextcreationerror",rr,!1),Ye===null){const Fe=["webgl2","webgl","experimental-webgl"];if(G.isWebGL1Renderer===!0&&Fe.shift(),Ye=Xt(Fe,de),Ye===null)throw Xt(Fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Ye instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Ye.getShaderPrecisionFormat===void 0&&(Ye.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(de){throw console.error("THREE.WebGLRenderer: "+de.message),de}let Ft,Zt,mn,jn,Wn,tr,_r,Vr,si,ct,De,Ut,Kn,Fn,Xn,xr,nr,it,En,Ln,Yn,br,vr,Wr;function ci(){Ft=new MFe(Ye),Zt=new SFe(Ye,Ft,e),Ft.init(Zt),br=new aSe(Ye,Ft,Zt),mn=new s6e(Ye,Ft,Zt),jn=new kFe(Ye),Wn=new Yze,tr=new a6e(Ye,Ft,mn,Wn,Zt,br,jn),_r=new bFe(G),Vr=new CFe(G),si=new U4e(Ye,Zt),vr=new _Fe(Ye,Ft,si,Zt),ct=new TFe(Ye,si,jn,vr),De=new BFe(Ye,ct,si,jn),En=new OFe(Ye,Zt,tr),xr=new xFe(Wn),Ut=new Kze(G,_r,Vr,Ft,Zt,vr,xr),Kn=new c6e(G,Wn),Fn=new qze,Xn=new n6e(Ft,Zt),it=new yFe(G,_r,Vr,mn,De,k,g),nr=new o6e(G,De,Zt),Wr=new d6e(Ye,jn,Zt,mn),Ln=new wFe(Ye,Ft,jn,Zt),Yn=new PFe(Ye,Ft,jn,Zt),jn.programs=Ut.programs,G.capabilities=Zt,G.extensions=Ft,G.properties=Wn,G.renderLists=Fn,G.shadowMap=nr,G.state=mn,G.info=jn}ci();const Ct=new u6e(G,Ye);this.xr=Ct,this.getContext=function(){return Ye},this.getContextAttributes=function(){return Ye.getContextAttributes()},this.forceContextLoss=function(){const de=Ft.get("WEBGL_lose_context");de&&de.loseContext()},this.forceContextRestore=function(){const de=Ft.get("WEBGL_lose_context");de&&de.restoreContext()},this.getPixelRatio=function(){return mt},this.setPixelRatio=function(de){de!==void 0&&(mt=de,this.setSize(ot,Ze,!1))},this.getSize=function(de){return de.set(ot,Ze)},this.setSize=function(de,Fe,dt=!0){if(Ct.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ot=de,Ze=Fe,t.width=Math.floor(de*mt),t.height=Math.floor(Fe*mt),dt===!0&&(t.style.width=de+"px",t.style.height=Fe+"px"),this.setViewport(0,0,de,Fe)},this.getDrawingBufferSize=function(de){return de.set(ot*mt,Ze*mt).floor()},this.setDrawingBufferSize=function(de,Fe,dt){ot=de,Ze=Fe,mt=dt,t.width=Math.floor(de*dt),t.height=Math.floor(Fe*dt),this.setViewport(0,0,de,Fe)},this.getCurrentViewport=function(de){return de.copy(Se)},this.getViewport=function(de){return de.copy(Ae)},this.setViewport=function(de,Fe,dt,at){de.isVector4?Ae.set(de.x,de.y,de.z,de.w):Ae.set(de,Fe,dt,at),mn.viewport(Se.copy(Ae).multiplyScalar(mt).floor())},this.getScissor=function(de){return de.copy(me)},this.setScissor=function(de,Fe,dt,at){de.isVector4?me.set(de.x,de.y,de.z,de.w):me.set(de,Fe,dt,at),mn.scissor(Be.copy(me).multiplyScalar(mt).floor())},this.getScissorTest=function(){return ce},this.setScissorTest=function(de){mn.setScissorTest(ce=de)},this.setOpaqueSort=function(de){we=de},this.setTransparentSort=function(de){Te=de},this.getClearColor=function(de){return de.copy(it.getClearColor())},this.setClearColor=function(){it.setClearColor.apply(it,arguments)},this.getClearAlpha=function(){return it.getClearAlpha()},this.setClearAlpha=function(){it.setClearAlpha.apply(it,arguments)},this.clear=function(de=!0,Fe=!0,dt=!0){let at=0;if(de){let vt=!1;if(ge!==null){const tn=ge.texture.format;vt=tn===yX||tn===vX||tn===gX}if(vt){const tn=ge.texture.type,rn=tn===O0||tn===u1||tn===UN||tn===Sw||tn===hX||tn===pX,Tn=it.getClearColor(),Mn=it.getClearAlpha(),Bn=Tn.r,Cn=Tn.g,ir=Tn.b;rn?(B[0]=Bn,B[1]=Cn,B[2]=ir,B[3]=Mn,Ye.clearBufferuiv(Ye.COLOR,0,B)):(z[0]=Bn,z[1]=Cn,z[2]=ir,z[3]=Mn,Ye.clearBufferiv(Ye.COLOR,0,z))}else at|=Ye.COLOR_BUFFER_BIT}Fe&&(at|=Ye.DEPTH_BUFFER_BIT),dt&&(at|=Ye.STENCIL_BUFFER_BIT),Ye.clear(at)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Kt,!1),t.removeEventListener("webglcontextrestored",gn,!1),t.removeEventListener("webglcontextcreationerror",rr,!1),Fn.dispose(),Xn.dispose(),Wn.dispose(),_r.dispose(),Vr.dispose(),De.dispose(),vr.dispose(),Wr.dispose(),Ut.dispose(),Ct.dispose(),Ct.removeEventListener("sessionstart",Li),Ct.removeEventListener("sessionend",qi),et&&(et.dispose(),et=null),po.stop()};function Kt(de){de.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Q=!0}function gn(){console.log("THREE.WebGLRenderer: Context Restored."),Q=!1;const de=jn.autoReset,Fe=nr.enabled,dt=nr.autoUpdate,at=nr.needsUpdate,vt=nr.type;ci(),jn.autoReset=de,nr.enabled=Fe,nr.autoUpdate=dt,nr.needsUpdate=at,nr.type=vt}function rr(de){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",de.statusMessage)}function Gn(de){const Fe=de.target;Fe.removeEventListener("dispose",Gn),Ei(Fe)}function Ei(de){so(de),Wn.remove(de)}function so(de){const Fe=Wn.get(de).programs;Fe!==void 0&&(Fe.forEach(function(dt){Ut.releaseProgram(dt)}),de.isShaderMaterial&&Ut.releaseShaderCache(de))}this.renderBufferDirect=function(de,Fe,dt,at,vt,tn){Fe===null&&(Fe=fn);const rn=vt.isMesh&&vt.matrixWorld.determinant()<0,Tn=Ea(de,Fe,dt,at,vt);mn.setMaterial(at,rn);let Mn=dt.index,Bn=1;if(at.wireframe===!0){if(Mn=ct.getWireframeAttribute(dt),Mn===void 0)return;Bn=2}const Cn=dt.drawRange,ir=dt.attributes.position;let qn=Cn.start*Bn,lr=(Cn.start+Cn.count)*Bn;tn!==null&&(qn=Math.max(qn,tn.start*Bn),lr=Math.min(lr,(tn.start+tn.count)*Bn)),Mn!==null?(qn=Math.max(qn,0),lr=Math.min(lr,Mn.count)):ir!=null&&(qn=Math.max(qn,0),lr=Math.min(lr,ir.count));const Lr=lr-qn;if(Lr<0||Lr===1/0)return;vr.setup(vt,at,Tn,dt,Mn);let Zr,Qr=Ln;if(Mn!==null&&(Zr=si.get(Mn),Qr=Yn,Qr.setIndex(Zr)),vt.isMesh)at.wireframe===!0?(mn.setLineWidth(at.wireframeLinewidth*nn()),Qr.setMode(Ye.LINES)):Qr.setMode(Ye.TRIANGLES);else if(vt.isLine){let wr=at.linewidth;wr===void 0&&(wr=1),mn.setLineWidth(wr*nn()),vt.isLineSegments?Qr.setMode(Ye.LINES):vt.isLineLoop?Qr.setMode(Ye.LINE_LOOP):Qr.setMode(Ye.LINE_STRIP)}else vt.isPoints?Qr.setMode(Ye.POINTS):vt.isSprite&&Qr.setMode(Ye.TRIANGLES);if(vt.isInstancedMesh)Qr.renderInstances(qn,Lr,vt.count);else if(dt.isInstancedBufferGeometry){const wr=dt._maxInstanceCount!==void 0?dt._maxInstanceCount:1/0,jr=Math.min(dt.instanceCount,wr);Qr.renderInstances(qn,Lr,jr)}else Qr.render(qn,Lr)},this.compile=function(de,Fe){function dt(at,vt,tn){at.transparent===!0&&at.side===mf&&at.forceSinglePass===!1?(at.side=Xh,at.needsUpdate=!0,ms(at,vt,tn),at.side=Fv,at.needsUpdate=!0,ms(at,vt,tn),at.side=mf):ms(at,vt,tn)}N=Xn.get(de),N.init(),A.push(N),de.traverseVisible(function(at){at.isLight&&at.layers.test(Fe.layers)&&(N.pushLight(at),at.castShadow&&N.pushShadow(at))}),N.setupLights(G._useLegacyLights),de.traverse(function(at){const vt=at.material;if(vt)if(Array.isArray(vt))for(let tn=0;tn<vt.length;tn++){const rn=vt[tn];dt(rn,de,at)}else dt(vt,de,at)}),A.pop(),N=null};let eo=null;function Vo(de){eo&&eo(de)}function Li(){po.stop()}function qi(){po.start()}const po=new nSe;po.setAnimationLoop(Vo),typeof self<"u"&&po.setContext(self),this.setAnimationLoop=function(de){eo=de,Ct.setAnimationLoop(de),de===null?po.stop():po.start()},Ct.addEventListener("sessionstart",Li),Ct.addEventListener("sessionend",qi),this.render=function(de,Fe){if(Fe!==void 0&&Fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Q===!0)return;de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),Fe.parent===null&&Fe.matrixWorldAutoUpdate===!0&&Fe.updateMatrixWorld(),Ct.enabled===!0&&Ct.isPresenting===!0&&(Ct.cameraAutoUpdate===!0&&Ct.updateCamera(Fe),Fe=Ct.getCamera()),de.isScene===!0&&de.onBeforeRender(G,de,Fe,ge),N=Xn.get(de,A.length),N.init(),A.push(N),Nt.multiplyMatrices(Fe.projectionMatrix,Fe.matrixWorldInverse),qe.setFromProjectionMatrix(Nt),wt=this.localClippingEnabled,ht=xr.init(this.clippingPlanes,wt),F=Fn.get(de,D.length),F.init(),D.push(F),ba(de,Fe,0,G.sortObjects),F.finish(),G.sortObjects===!0&&F.sort(we,Te),this.info.render.frame++,ht===!0&&xr.beginShadows();const dt=N.state.shadowsArray;if(nr.render(dt,de,Fe),ht===!0&&xr.endShadows(),this.info.autoReset===!0&&this.info.reset(),it.render(F,de),N.setupLights(G._useLegacyLights),Fe.isArrayCamera){const at=Fe.cameras;for(let vt=0,tn=at.length;vt<tn;vt++){const rn=at[vt];tl(F,de,rn,rn.viewport)}}else tl(F,de,Fe);ge!==null&&(tr.updateMultisampleRenderTarget(ge),tr.updateRenderTargetMipmap(ge)),de.isScene===!0&&de.onAfterRender(G,de,Fe),vr.resetDefaultState(),_e=-1,J=null,A.pop(),A.length>0?N=A[A.length-1]:N=null,D.pop(),D.length>0?F=D[D.length-1]:F=null};function ba(de,Fe,dt,at){if(de.visible===!1)return;if(de.layers.test(Fe.layers)){if(de.isGroup)dt=de.renderOrder;else if(de.isLOD)de.autoUpdate===!0&&de.update(Fe);else if(de.isLight)N.pushLight(de),de.castShadow&&N.pushShadow(de);else if(de.isSprite){if(!de.frustumCulled||qe.intersectsSprite(de)){at&&an.setFromMatrixPosition(de.matrixWorld).applyMatrix4(Nt);const rn=De.update(de),Tn=de.material;Tn.visible&&F.push(de,rn,Tn,dt,an.z,null)}}else if((de.isMesh||de.isLine||de.isPoints)&&(!de.frustumCulled||qe.intersectsObject(de))){const rn=De.update(de),Tn=de.material;if(at&&(de.boundingSphere!==void 0?(de.boundingSphere===null&&de.computeBoundingSphere(),an.copy(de.boundingSphere.center)):(rn.boundingSphere===null&&rn.computeBoundingSphere(),an.copy(rn.boundingSphere.center)),an.applyMatrix4(de.matrixWorld).applyMatrix4(Nt)),Array.isArray(Tn)){const Mn=rn.groups;for(let Bn=0,Cn=Mn.length;Bn<Cn;Bn++){const ir=Mn[Bn],qn=Tn[ir.materialIndex];qn&&qn.visible&&F.push(de,rn,qn,dt,an.z,ir)}}else Tn.visible&&F.push(de,rn,Tn,dt,an.z,null)}}const tn=de.children;for(let rn=0,Tn=tn.length;rn<Tn;rn++)ba(tn[rn],Fe,dt,at)}function tl(de,Fe,dt,at){const vt=de.opaque,tn=de.transmissive,rn=de.transparent;N.setupLightsView(dt),ht===!0&&xr.setGlobalState(G.clippingPlanes,dt),tn.length>0&&Ds(vt,tn,Fe,dt),at&&mn.viewport(Se.copy(at)),vt.length>0&&ua(vt,Fe,dt),tn.length>0&&ua(tn,Fe,dt),rn.length>0&&ua(rn,Fe,dt),mn.buffers.depth.setTest(!0),mn.buffers.depth.setMask(!0),mn.buffers.color.setMask(!0),mn.setPolygonOffset(!1)}function Ds(de,Fe,dt,at){const vt=Zt.isWebGL2;et===null&&(et=new bg(1,1,{generateMipmaps:!0,type:Ft.has("EXT_color_buffer_half_float")?uh:O0,minFilter:Uv,samples:vt?4:0})),G.getDrawingBufferSize(Ot),vt?et.setSize(Ot.x,Ot.y):et.setSize(qL(Ot.x),qL(Ot.y));const tn=G.getRenderTarget();G.setRenderTarget(et),G.getClearColor(Ve),xe=G.getClearAlpha(),xe<1&&G.setClearColor(16777215,.5),G.clear();const rn=G.toneMapping;G.toneMapping=R0,ua(de,dt,at),tr.updateMultisampleRenderTarget(et),tr.updateRenderTargetMipmap(et);let Tn=!1;for(let Mn=0,Bn=Fe.length;Mn<Bn;Mn++){const Cn=Fe[Mn],ir=Cn.object,qn=Cn.geometry,lr=Cn.material,Lr=Cn.group;if(lr.side===mf&&ir.layers.test(at.layers)){const Zr=lr.side;lr.side=Xh,lr.needsUpdate=!0,Cs(ir,dt,at,qn,lr,Lr),lr.side=Zr,lr.needsUpdate=!0,Tn=!0}}Tn===!0&&(tr.updateMultisampleRenderTarget(et),tr.updateRenderTargetMipmap(et)),G.setRenderTarget(tn),G.setClearColor(Ve,xe),G.toneMapping=rn}function ua(de,Fe,dt){const at=Fe.isScene===!0?Fe.overrideMaterial:null;for(let vt=0,tn=de.length;vt<tn;vt++){const rn=de[vt],Tn=rn.object,Mn=rn.geometry,Bn=at===null?rn.material:at,Cn=rn.group;Tn.layers.test(dt.layers)&&Cs(Tn,Fe,dt,Mn,Bn,Cn)}}function Cs(de,Fe,dt,at,vt,tn){de.onBeforeRender(G,Fe,dt,at,vt,tn),de.modelViewMatrix.multiplyMatrices(dt.matrixWorldInverse,de.matrixWorld),de.normalMatrix.getNormalMatrix(de.modelViewMatrix),vt.onBeforeRender(G,Fe,dt,at,de,tn),vt.transparent===!0&&vt.side===mf&&vt.forceSinglePass===!1?(vt.side=Xh,vt.needsUpdate=!0,G.renderBufferDirect(dt,Fe,at,vt,de,tn),vt.side=Fv,vt.needsUpdate=!0,G.renderBufferDirect(dt,Fe,at,vt,de,tn),vt.side=mf):G.renderBufferDirect(dt,Fe,at,vt,de,tn),de.onAfterRender(G,Fe,dt,at,vt,tn)}function ms(de,Fe,dt){Fe.isScene!==!0&&(Fe=fn);const at=Wn.get(de),vt=N.state.lights,tn=N.state.shadowsArray,rn=vt.state.version,Tn=Ut.getParameters(de,vt.state,tn,Fe,dt),Mn=Ut.getProgramCacheKey(Tn);let Bn=at.programs;at.environment=de.isMeshStandardMaterial?Fe.environment:null,at.fog=Fe.fog,at.envMap=(de.isMeshStandardMaterial?Vr:_r).get(de.envMap||at.environment),Bn===void 0&&(de.addEventListener("dispose",Gn),Bn=new Map,at.programs=Bn);let Cn=Bn.get(Mn);if(Cn!==void 0){if(at.currentProgram===Cn&&at.lightsStateVersion===rn)return di(de,Tn),Cn}else Tn.uniforms=Ut.getUniforms(de),de.onBuild(dt,Tn,G),de.onBeforeCompile(Tn,G),Cn=Ut.acquireProgram(Tn,Mn),Bn.set(Mn,Cn),at.uniforms=Tn.uniforms;const ir=at.uniforms;(!de.isShaderMaterial&&!de.isRawShaderMaterial||de.clipping===!0)&&(ir.clippingPlanes=xr.uniform),di(de,Tn),at.needsLights=Re(de),at.lightsStateVersion=rn,at.needsLights&&(ir.ambientLightColor.value=vt.state.ambient,ir.lightProbe.value=vt.state.probe,ir.directionalLights.value=vt.state.directional,ir.directionalLightShadows.value=vt.state.directionalShadow,ir.spotLights.value=vt.state.spot,ir.spotLightShadows.value=vt.state.spotShadow,ir.rectAreaLights.value=vt.state.rectArea,ir.ltc_1.value=vt.state.rectAreaLTC1,ir.ltc_2.value=vt.state.rectAreaLTC2,ir.pointLights.value=vt.state.point,ir.pointLightShadows.value=vt.state.pointShadow,ir.hemisphereLights.value=vt.state.hemi,ir.directionalShadowMap.value=vt.state.directionalShadowMap,ir.directionalShadowMatrix.value=vt.state.directionalShadowMatrix,ir.spotShadowMap.value=vt.state.spotShadowMap,ir.spotLightMatrix.value=vt.state.spotLightMatrix,ir.spotLightMap.value=vt.state.spotLightMap,ir.pointShadowMap.value=vt.state.pointShadowMap,ir.pointShadowMatrix.value=vt.state.pointShadowMatrix);const qn=Cn.getUniforms(),lr=kL.seqWithValue(qn.seq,ir);return at.currentProgram=Cn,at.uniformsList=lr,Cn}function di(de,Fe){const dt=Wn.get(de);dt.outputColorSpace=Fe.outputColorSpace,dt.instancing=Fe.instancing,dt.instancingColor=Fe.instancingColor,dt.skinning=Fe.skinning,dt.morphTargets=Fe.morphTargets,dt.morphNormals=Fe.morphNormals,dt.morphColors=Fe.morphColors,dt.morphTargetsCount=Fe.morphTargetsCount,dt.numClippingPlanes=Fe.numClippingPlanes,dt.numIntersection=Fe.numClipIntersection,dt.vertexAlphas=Fe.vertexAlphas,dt.vertexTangents=Fe.vertexTangents,dt.toneMapping=Fe.toneMapping}function Ea(de,Fe,dt,at,vt){Fe.isScene!==!0&&(Fe=fn),tr.resetTextureUnits();const tn=Fe.fog,rn=at.isMeshStandardMaterial?Fe.environment:null,Tn=ge===null?G.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:L0,Mn=(at.isMeshStandardMaterial?Vr:_r).get(at.envMap||rn),Bn=at.vertexColors===!0&&!!dt.attributes.color&&dt.attributes.color.itemSize===4,Cn=!!dt.attributes.tangent&&(!!at.normalMap||at.anisotropy>0),ir=!!dt.morphAttributes.position,qn=!!dt.morphAttributes.normal,lr=!!dt.morphAttributes.color;let Lr=R0;at.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(Lr=G.toneMapping);const Zr=dt.morphAttributes.position||dt.morphAttributes.normal||dt.morphAttributes.color,Qr=Zr!==void 0?Zr.length:0,wr=Wn.get(at),jr=N.state.lights;if(ht===!0&&(wt===!0||de!==J)){const ai=de===J&&at.id===_e;xr.setState(at,de,ai)}let Qn=!1;at.version===wr.__version?(wr.needsLights&&wr.lightsStateVersion!==jr.state.version||wr.outputColorSpace!==Tn||vt.isInstancedMesh&&wr.instancing===!1||!vt.isInstancedMesh&&wr.instancing===!0||vt.isSkinnedMesh&&wr.skinning===!1||!vt.isSkinnedMesh&&wr.skinning===!0||vt.isInstancedMesh&&wr.instancingColor===!0&&vt.instanceColor===null||vt.isInstancedMesh&&wr.instancingColor===!1&&vt.instanceColor!==null||wr.envMap!==Mn||at.fog===!0&&wr.fog!==tn||wr.numClippingPlanes!==void 0&&(wr.numClippingPlanes!==xr.numPlanes||wr.numIntersection!==xr.numIntersection)||wr.vertexAlphas!==Bn||wr.vertexTangents!==Cn||wr.morphTargets!==ir||wr.morphNormals!==qn||wr.morphColors!==lr||wr.toneMapping!==Lr||Zt.isWebGL2===!0&&wr.morphTargetsCount!==Qr)&&(Qn=!0):(Qn=!0,wr.__version=at.version);let Br=wr.currentProgram;Qn===!0&&(Br=ms(at,Fe,vt));let ri=!1,Hr=!1,Si=!1;const Ai=Br.getUniforms(),Ni=wr.uniforms;if(mn.useProgram(Br.program)&&(ri=!0,Hr=!0,Si=!0),at.id!==_e&&(_e=at.id,Hr=!0),ri||J!==de){if(Ai.setValue(Ye,"projectionMatrix",de.projectionMatrix),Zt.logarithmicDepthBuffer&&Ai.setValue(Ye,"logDepthBufFC",2/(Math.log(de.far+1)/Math.LN2)),J!==de&&(J=de,Hr=!0,Si=!0),at.isShaderMaterial||at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshStandardMaterial||at.envMap){const ai=Ai.map.cameraPosition;ai!==void 0&&ai.setValue(Ye,an.setFromMatrixPosition(de.matrixWorld))}(at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshLambertMaterial||at.isMeshBasicMaterial||at.isMeshStandardMaterial||at.isShaderMaterial)&&Ai.setValue(Ye,"isOrthographic",de.isOrthographicCamera===!0),(at.isMeshPhongMaterial||at.isMeshToonMaterial||at.isMeshLambertMaterial||at.isMeshBasicMaterial||at.isMeshStandardMaterial||at.isShaderMaterial||at.isShadowMaterial||vt.isSkinnedMesh)&&Ai.setValue(Ye,"viewMatrix",de.matrixWorldInverse)}if(vt.isSkinnedMesh){Ai.setOptional(Ye,vt,"bindMatrix"),Ai.setOptional(Ye,vt,"bindMatrixInverse");const ai=vt.skeleton;ai&&(Zt.floatVertexTextures?(ai.boneTexture===null&&ai.computeBoneTexture(),Ai.setValue(Ye,"boneTexture",ai.boneTexture,tr),Ai.setValue(Ye,"boneTextureSize",ai.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ui=dt.morphAttributes;if((Ui.position!==void 0||Ui.normal!==void 0||Ui.color!==void 0&&Zt.isWebGL2===!0)&&En.update(vt,dt,Br),(Hr||wr.receiveShadow!==vt.receiveShadow)&&(wr.receiveShadow=vt.receiveShadow,Ai.setValue(Ye,"receiveShadow",vt.receiveShadow)),at.isMeshGouraudMaterial&&at.envMap!==null&&(Ni.envMap.value=Mn,Ni.flipEnvMap.value=Mn.isCubeTexture&&Mn.isRenderTargetTexture===!1?-1:1),Hr&&(Ai.setValue(Ye,"toneMappingExposure",G.toneMappingExposure),wr.needsLights&&Tu(Ni,Si),tn&&at.fog===!0&&Kn.refreshFogUniforms(Ni,tn),Kn.refreshMaterialUniforms(Ni,at,mt,Ze,et),kL.upload(Ye,wr.uniformsList,Ni,tr)),at.isShaderMaterial&&at.uniformsNeedUpdate===!0&&(kL.upload(Ye,wr.uniformsList,Ni,tr),at.uniformsNeedUpdate=!1),at.isSpriteMaterial&&Ai.setValue(Ye,"center",vt.center),Ai.setValue(Ye,"modelViewMatrix",vt.modelViewMatrix),Ai.setValue(Ye,"normalMatrix",vt.normalMatrix),Ai.setValue(Ye,"modelMatrix",vt.matrixWorld),at.isShaderMaterial||at.isRawShaderMaterial){const ai=at.uniformsGroups;for(let wo=0,le=ai.length;wo<le;wo++)if(Zt.isWebGL2){const Ee=ai[wo];Wr.update(Ee,Br),Wr.bind(Ee,Br)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Br}function Tu(de,Fe){de.ambientLightColor.needsUpdate=Fe,de.lightProbe.needsUpdate=Fe,de.directionalLights.needsUpdate=Fe,de.directionalLightShadows.needsUpdate=Fe,de.pointLights.needsUpdate=Fe,de.pointLightShadows.needsUpdate=Fe,de.spotLights.needsUpdate=Fe,de.spotLightShadows.needsUpdate=Fe,de.rectAreaLights.needsUpdate=Fe,de.hemisphereLights.needsUpdate=Fe}function Re(de){return de.isMeshLambertMaterial||de.isMeshToonMaterial||de.isMeshPhongMaterial||de.isMeshStandardMaterial||de.isShadowMaterial||de.isShaderMaterial&&de.lights===!0}this.getActiveCubeFace=function(){return ae},this.getActiveMipmapLevel=function(){return Y},this.getRenderTarget=function(){return ge},this.setRenderTargetTextures=function(de,Fe,dt){Wn.get(de.texture).__webglTexture=Fe,Wn.get(de.depthTexture).__webglTexture=dt;const at=Wn.get(de);at.__hasExternalTextures=!0,at.__hasExternalTextures&&(at.__autoAllocateDepthBuffer=dt===void 0,at.__autoAllocateDepthBuffer||Ft.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),at.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(de,Fe){const dt=Wn.get(de);dt.__webglFramebuffer=Fe,dt.__useDefaultFramebuffer=Fe===void 0},this.setRenderTarget=function(de,Fe=0,dt=0){ge=de,ae=Fe,Y=dt;let at=!0,vt=null,tn=!1,rn=!1;if(de){const Mn=Wn.get(de);Mn.__useDefaultFramebuffer!==void 0?(mn.bindFramebuffer(Ye.FRAMEBUFFER,null),at=!1):Mn.__webglFramebuffer===void 0?tr.setupRenderTarget(de):Mn.__hasExternalTextures&&tr.rebindTextures(de,Wn.get(de.texture).__webglTexture,Wn.get(de.depthTexture).__webglTexture);const Bn=de.texture;(Bn.isData3DTexture||Bn.isDataArrayTexture||Bn.isCompressedArrayTexture)&&(rn=!0);const Cn=Wn.get(de).__webglFramebuffer;de.isWebGLCubeRenderTarget?(Array.isArray(Cn[Fe])?vt=Cn[Fe][dt]:vt=Cn[Fe],tn=!0):Zt.isWebGL2&&de.samples>0&&tr.useMultisampledRTT(de)===!1?vt=Wn.get(de).__webglMultisampledFramebuffer:Array.isArray(Cn)?vt=Cn[dt]:vt=Cn,Se.copy(de.viewport),Be.copy(de.scissor),_t=de.scissorTest}else Se.copy(Ae).multiplyScalar(mt).floor(),Be.copy(me).multiplyScalar(mt).floor(),_t=ce;if(mn.bindFramebuffer(Ye.FRAMEBUFFER,vt)&&Zt.drawBuffers&&at&&mn.drawBuffers(de,vt),mn.viewport(Se),mn.scissor(Be),mn.setScissorTest(_t),tn){const Mn=Wn.get(de.texture);Ye.framebufferTexture2D(Ye.FRAMEBUFFER,Ye.COLOR_ATTACHMENT0,Ye.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Mn.__webglTexture,dt)}else if(rn){const Mn=Wn.get(de.texture),Bn=Fe||0;Ye.framebufferTextureLayer(Ye.FRAMEBUFFER,Ye.COLOR_ATTACHMENT0,Mn.__webglTexture,dt||0,Bn)}_e=-1},this.readRenderTargetPixels=function(de,Fe,dt,at,vt,tn,rn){if(!(de&&de.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Tn=Wn.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&rn!==void 0&&(Tn=Tn[rn]),Tn){mn.bindFramebuffer(Ye.FRAMEBUFFER,Tn);try{const Mn=de.texture,Bn=Mn.format,Cn=Mn.type;if(Bn!==ah&&br.convert(Bn)!==Ye.getParameter(Ye.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const ir=Cn===uh&&(Ft.has("EXT_color_buffer_half_float")||Zt.isWebGL2&&Ft.has("EXT_color_buffer_float"));if(Cn!==O0&&br.convert(Cn)!==Ye.getParameter(Ye.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Cn===vf&&(Zt.isWebGL2||Ft.has("OES_texture_float")||Ft.has("WEBGL_color_buffer_float")))&&!ir){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Fe>=0&&Fe<=de.width-at&&dt>=0&&dt<=de.height-vt&&Ye.readPixels(Fe,dt,at,vt,br.convert(Bn),br.convert(Cn),tn)}finally{const Mn=ge!==null?Wn.get(ge).__webglFramebuffer:null;mn.bindFramebuffer(Ye.FRAMEBUFFER,Mn)}}},this.copyFramebufferToTexture=function(de,Fe,dt=0){const at=Math.pow(2,-dt),vt=Math.floor(Fe.image.width*at),tn=Math.floor(Fe.image.height*at);tr.setTexture2D(Fe,0),Ye.copyTexSubImage2D(Ye.TEXTURE_2D,dt,0,0,de.x,de.y,vt,tn),mn.unbindTexture()},this.copyTextureToTexture=function(de,Fe,dt,at=0){const vt=Fe.image.width,tn=Fe.image.height,rn=br.convert(dt.format),Tn=br.convert(dt.type);tr.setTexture2D(dt,0),Ye.pixelStorei(Ye.UNPACK_FLIP_Y_WEBGL,dt.flipY),Ye.pixelStorei(Ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,dt.premultiplyAlpha),Ye.pixelStorei(Ye.UNPACK_ALIGNMENT,dt.unpackAlignment),Fe.isDataTexture?Ye.texSubImage2D(Ye.TEXTURE_2D,at,de.x,de.y,vt,tn,rn,Tn,Fe.image.data):Fe.isCompressedTexture?Ye.compressedTexSubImage2D(Ye.TEXTURE_2D,at,de.x,de.y,Fe.mipmaps[0].width,Fe.mipmaps[0].height,rn,Fe.mipmaps[0].data):Ye.texSubImage2D(Ye.TEXTURE_2D,at,de.x,de.y,rn,Tn,Fe.image),at===0&&dt.generateMipmaps&&Ye.generateMipmap(Ye.TEXTURE_2D),mn.unbindTexture()},this.copyTextureToTexture3D=function(de,Fe,dt,at,vt=0){if(G.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const tn=de.max.x-de.min.x+1,rn=de.max.y-de.min.y+1,Tn=de.max.z-de.min.z+1,Mn=br.convert(at.format),Bn=br.convert(at.type);let Cn;if(at.isData3DTexture)tr.setTexture3D(at,0),Cn=Ye.TEXTURE_3D;else if(at.isDataArrayTexture)tr.setTexture2DArray(at,0),Cn=Ye.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Ye.pixelStorei(Ye.UNPACK_FLIP_Y_WEBGL,at.flipY),Ye.pixelStorei(Ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,at.premultiplyAlpha),Ye.pixelStorei(Ye.UNPACK_ALIGNMENT,at.unpackAlignment);const ir=Ye.getParameter(Ye.UNPACK_ROW_LENGTH),qn=Ye.getParameter(Ye.UNPACK_IMAGE_HEIGHT),lr=Ye.getParameter(Ye.UNPACK_SKIP_PIXELS),Lr=Ye.getParameter(Ye.UNPACK_SKIP_ROWS),Zr=Ye.getParameter(Ye.UNPACK_SKIP_IMAGES),Qr=dt.isCompressedTexture?dt.mipmaps[0]:dt.image;Ye.pixelStorei(Ye.UNPACK_ROW_LENGTH,Qr.width),Ye.pixelStorei(Ye.UNPACK_IMAGE_HEIGHT,Qr.height),Ye.pixelStorei(Ye.UNPACK_SKIP_PIXELS,de.min.x),Ye.pixelStorei(Ye.UNPACK_SKIP_ROWS,de.min.y),Ye.pixelStorei(Ye.UNPACK_SKIP_IMAGES,de.min.z),dt.isDataTexture||dt.isData3DTexture?Ye.texSubImage3D(Cn,vt,Fe.x,Fe.y,Fe.z,tn,rn,Tn,Mn,Bn,Qr.data):dt.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ye.compressedTexSubImage3D(Cn,vt,Fe.x,Fe.y,Fe.z,tn,rn,Tn,Mn,Qr.data)):Ye.texSubImage3D(Cn,vt,Fe.x,Fe.y,Fe.z,tn,rn,Tn,Mn,Bn,Qr),Ye.pixelStorei(Ye.UNPACK_ROW_LENGTH,ir),Ye.pixelStorei(Ye.UNPACK_IMAGE_HEIGHT,qn),Ye.pixelStorei(Ye.UNPACK_SKIP_PIXELS,lr),Ye.pixelStorei(Ye.UNPACK_SKIP_ROWS,Lr),Ye.pixelStorei(Ye.UNPACK_SKIP_IMAGES,Zr),vt===0&&at.generateMipmaps&&Ye.generateMipmap(Cn),mn.unbindTexture()},this.initTexture=function(de){de.isCubeTexture?tr.setTextureCube(de,0):de.isData3DTexture?tr.setTexture3D(de,0):de.isDataArrayTexture||de.isCompressedArrayTexture?tr.setTexture2DArray(de,0):tr.setTexture2D(de,0),mn.unbindTexture()},this.resetState=function(){ae=0,Y=0,ge=null,mn.reset(),vr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Iv}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Io?bw:SX}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===bw?Io:L0}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class uSe extends WN{}uSe.prototype.isWebGL1Renderer=!0;class XN{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ir(e),this.density=t}clone(){return new XN(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class KN{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ir(e),this.near=t,this.far=r}clone(){return new KN(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}let wb=class extends Jo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}};class jR{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=nR,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Cm()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let o=0,a=this.stride;o<a;o++)this.array[e+o]=t.array[r+o];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cm()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cm()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Hh=new Ke;class Fw{constructor(e,t,r,o=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=o}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Hh.fromBufferAttribute(this,t),Hh.applyMatrix4(e),this.setXYZ(t,Hh.x,Hh.y,Hh.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Hh.fromBufferAttribute(this,t),Hh.applyNormalMatrix(e),this.setXYZ(t,Hh.x,Hh.y,Hh.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Hh.fromBufferAttribute(this,t),Hh.transformDirection(e),this.setXYZ(t,Hh.x,Hh.y,Hh.z);return this}setX(e,t){return this.normalized&&(t=Bo(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Bo(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Bo(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Bo(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Bp(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Bp(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Bp(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Bp(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,o){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array),o=Bo(o,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=o,this}setXYZW(e,t,r,o,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Bo(t,this.array),r=Bo(r,this.array),o=Bo(o,this.array),a=Bo(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=o,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[o+a])}return new Bs(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Fw(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const o=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[o+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class OX extends nc{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ir(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let cC;const Jk=new Ke,dC=new Ke,fC=new Ke,hC=new Vn,Zk=new Vn,cSe=new Qi,E4=new Ke,$k=new Ke,A4=new Ke,k0e=new Vn,T7=new Vn,I0e=new Vn;class dSe extends Jo{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",cC===void 0){cC=new yo;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new jR(t,5);cC.setIndex([0,1,2,0,2,3]),cC.setAttribute("position",new Fw(r,3,0,!1)),cC.setAttribute("uv",new Fw(r,2,3,!1))}this.geometry=cC,this.material=e!==void 0?e:new OX,this.center=new Vn(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),dC.setFromMatrixScale(this.matrixWorld),cSe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fC.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&dC.multiplyScalar(-fC.z);const r=this.material.rotation;let o,a;r!==0&&(a=Math.cos(r),o=Math.sin(r));const c=this.center;C4(E4.set(-.5,-.5,0),fC,c,dC,o,a),C4($k.set(.5,-.5,0),fC,c,dC,o,a),C4(A4.set(.5,.5,0),fC,c,dC,o,a),k0e.set(0,0),T7.set(1,0),I0e.set(1,1);let p=e.ray.intersectTriangle(E4,$k,A4,!1,Jk);if(p===null&&(C4($k.set(-.5,.5,0),fC,c,dC,o,a),T7.set(0,1),p=e.ray.intersectTriangle(E4,A4,$k,!1,Jk),p===null))return;const g=e.ray.origin.distanceTo(Jk);g<e.near||g>e.far||t.push({distance:g,point:Jk.clone(),uv:Rp.getInterpolation(Jk,E4,$k,A4,k0e,T7,I0e,new Vn),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function C4(n,e,t,r,o,a){hC.subVectors(n,t).addScalar(.5).multiply(r),o!==void 0?(Zk.x=a*hC.x-o*hC.y,Zk.y=o*hC.x+a*hC.y):Zk.copy(hC),n.copy(e),n.x+=Zk.x,n.y+=Zk.y,n.applyMatrix4(cSe)}const M4=new Ke,R0e=new Ke;class fSe extends Jo{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,o=t.length;r<o;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const o=this.levels;let a;for(a=0;a<o.length&&!(t<o[a].distance);a++);return o.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,o;for(r=1,o=t.length;r<o;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){M4.setFromMatrixPosition(this.matrixWorld);const o=e.ray.origin.distanceTo(M4);this.getObjectForDistance(o).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){M4.setFromMatrixPosition(e.matrixWorld),R0e.setFromMatrixPosition(this.matrixWorld);const r=M4.distanceTo(R0e)/e.zoom;t[0].object.visible=!0;let o,a;for(o=1,a=t.length;o<a;o++){let c=t[o].distance;if(t[o].object.visible&&(c-=c*t[o].hysteresis),r>=c)t[o-1].object.visible=!1,t[o].object.visible=!0;else break}for(this._currentLevel=o-1;o<a;o++)t[o].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let o=0,a=r.length;o<a;o++){const c=r[o];t.object.levels.push({object:c.object.uuid,distance:c.distance,hysteresis:c.hysteresis})}return t}}const O0e=new Ke,B0e=new Es,D0e=new Es,h6e=new Ke,L0e=new Qi,pC=new Ke,P7=new Mg,N0e=new Qi,k7=new IM;class BX extends ni{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Qi,this.bindMatrixInverse=new Qi,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new F0),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)pC.fromBufferAttribute(t,r),this.applyBoneTransform(r,pC),this.boundingBox.expandByPoint(pC)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Mg),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)pC.fromBufferAttribute(t,r),this.applyBoneTransform(r,pC),this.boundingSphere.expandByPoint(pC)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,o=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),P7.copy(this.boundingSphere),P7.applyMatrix4(o),e.ray.intersectsSphere(P7)!==!1&&(N0e.copy(o).invert(),k7.copy(e.ray).applyMatrix4(N0e),!(this.boundingBox!==null&&k7.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,k7)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Es,t=this.geometry.attributes.skinWeight;for(let r=0,o=t.count;r<o;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,o=this.geometry;B0e.fromBufferAttribute(o.attributes.skinIndex,e),D0e.fromBufferAttribute(o.attributes.skinWeight,e),O0e.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const c=D0e.getComponent(a);if(c!==0){const p=B0e.getComponent(a);L0e.multiplyMatrices(r.bones[p].matrixWorld,r.boneInverses[p]),t.addScaledVector(h6e.copy(O0e).applyMatrix4(L0e),c)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class YN extends Jo{constructor(){super(),this.isBone=!0,this.type="Bone"}}class ZC extends el{constructor(e=null,t=1,r=1,o,a,c,p,g,_=Cu,b=Cu,C,k){super(null,c,p,g,_,b,o,a,C,k),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const F0e=new Qi,p6e=new Qi;class HR{constructor(e=[],t=[]){this.uuid=Cm(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,o=this.bones.length;r<o;r++)this.boneInverses.push(new Qi)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Qi;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,o=this.boneTexture;for(let a=0,c=e.length;a<c;a++){const p=e[a]?e[a].matrixWorld:p6e;F0e.multiplyMatrices(p,t[a]),F0e.toArray(r,a*16)}o!==null&&(o.needsUpdate=!0)}clone(){return new HR(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Ywe(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new ZC(t,e,e,ah,vf);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const o=this.bones[t];if(o.name===e)return o}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,o=e.bones.length;r<o;r++){const a=e.bones[r];let c=t[a];c===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),c=new YN),this.bones.push(c),this.boneInverses.push(new Qi().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let o=0,a=t.length;o<a;o++){const c=t[o];e.bones.push(c.uuid);const p=r[o];e.boneInverses.push(p.toArray())}return e}}class hM extends Bs{constructor(e,t,r,o=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=o}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const mC=new Qi,z0e=new Qi,T4=[],U0e=new F0,m6e=new Qi,eI=new ni,tI=new Mg;class DX extends ni{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new hM(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let o=0;o<r;o++)this.setMatrixAt(o,m6e)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new F0),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,mC),U0e.copy(e.boundingBox).applyMatrix4(mC),this.boundingBox.union(U0e)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Mg),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,mC),tI.copy(e.boundingSphere).applyMatrix4(mC),this.boundingSphere.union(tI)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,o=this.count;if(eI.geometry=this.geometry,eI.material=this.material,eI.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),tI.copy(this.boundingSphere),tI.applyMatrix4(r),e.ray.intersectsSphere(tI)!==!1))for(let a=0;a<o;a++){this.getMatrixAt(a,mC),z0e.multiplyMatrices(r,mC),eI.matrixWorld=z0e,eI.raycast(e,T4);for(let c=0,p=T4.length;c<p;c++){const g=T4[c];g.instanceId=a,g.object=this,t.push(g)}T4.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new hM(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class xf extends nc{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ir(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const j0e=new Ke,H0e=new Ke,G0e=new Qi,I7=new IM,P4=new Mg;class Do extends Jo{constructor(e=new yo,t=new xf){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let o=1,a=t.count;o<a;o++)j0e.fromBufferAttribute(t,o-1),H0e.fromBufferAttribute(t,o),r[o]=r[o-1],r[o]+=j0e.distanceTo(H0e);e.setAttribute("lineDistance",new _i(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,o=this.matrixWorld,a=e.params.Line.threshold,c=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),P4.copy(r.boundingSphere),P4.applyMatrix4(o),P4.radius+=a,e.ray.intersectsSphere(P4)===!1)return;G0e.copy(o).invert(),I7.copy(e.ray).applyMatrix4(G0e);const p=a/((this.scale.x+this.scale.y+this.scale.z)/3),g=p*p,_=new Ke,b=new Ke,C=new Ke,k=new Ke,B=this.isLineSegments?2:1,z=r.index,N=r.attributes.position;if(z!==null){const D=Math.max(0,c.start),A=Math.min(z.count,c.start+c.count);for(let G=D,Q=A-1;G<Q;G+=B){const ae=z.getX(G),Y=z.getX(G+1);if(_.fromBufferAttribute(N,ae),b.fromBufferAttribute(N,Y),I7.distanceSqToSegment(_,b,k,C)>g)continue;k.applyMatrix4(this.matrixWorld);const _e=e.ray.origin.distanceTo(k);_e<e.near||_e>e.far||t.push({distance:_e,point:C.clone().applyMatrix4(this.matrixWorld),index:G,face:null,faceIndex:null,object:this})}}else{const D=Math.max(0,c.start),A=Math.min(N.count,c.start+c.count);for(let G=D,Q=A-1;G<Q;G+=B){if(_.fromBufferAttribute(N,G),b.fromBufferAttribute(N,G+1),I7.distanceSqToSegment(_,b,k,C)>g)continue;k.applyMatrix4(this.matrixWorld);const Y=e.ray.origin.distanceTo(k);Y<e.near||Y>e.far||t.push({distance:Y,point:C.clone().applyMatrix4(this.matrixWorld),index:G,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const o=t[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,c=o.length;a<c;a++){const p=o[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=a}}}}}const V0e=new Ke,W0e=new Ke;class z0 extends Do{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let o=0,a=t.count;o<a;o+=2)V0e.fromBufferAttribute(t,o),W0e.fromBufferAttribute(t,o+1),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+V0e.distanceTo(W0e);e.setAttribute("lineDistance",new _i(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LX extends Do{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class QN extends nc{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ir(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const X0e=new Qi,IV=new IM,k4=new Mg,I4=new Ke;class NX extends Jo{constructor(e=new yo,t=new QN){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,o=this.matrixWorld,a=e.params.Points.threshold,c=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),k4.copy(r.boundingSphere),k4.applyMatrix4(o),k4.radius+=a,e.ray.intersectsSphere(k4)===!1)return;X0e.copy(o).invert(),IV.copy(e.ray).applyMatrix4(X0e);const p=a/((this.scale.x+this.scale.y+this.scale.z)/3),g=p*p,_=r.index,C=r.attributes.position;if(_!==null){const k=Math.max(0,c.start),B=Math.min(_.count,c.start+c.count);for(let z=k,F=B;z<F;z++){const N=_.getX(z);I4.fromBufferAttribute(C,N),K0e(I4,N,g,o,e,t,this)}}else{const k=Math.max(0,c.start),B=Math.min(C.count,c.start+c.count);for(let z=k,F=B;z<F;z++)I4.fromBufferAttribute(C,z),K0e(I4,z,g,o,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const o=t[r[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,c=o.length;a<c;a++){const p=o[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[p]=a}}}}}function K0e(n,e,t,r,o,a,c){const p=IV.distanceSqToPoint(n);if(p<t){const g=new Ke;IV.closestPointToPoint(n,g),g.applyMatrix4(r);const _=o.ray.origin.distanceTo(g);if(_<o.near||_>o.far)return;a.push({distance:_,distanceToRay:Math.sqrt(p),point:g,index:e,face:null,object:c})}}class g6e extends el{constructor(e,t,r,o,a,c,p,g,_){super(e,t,r,o,a,c,p,g,_),this.isVideoTexture=!0,this.minFilter=c!==void 0?c:aa,this.magFilter=a!==void 0?a:aa,this.generateMipmaps=!1;const b=this;function C(){b.needsUpdate=!0,e.requestVideoFrameCallback(C)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(C)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class v6e extends el{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Cu,this.minFilter=Cu,this.generateMipmaps=!1,this.needsUpdate=!0}}class qN extends el{constructor(e,t,r,o,a,c,p,g,_,b,C,k){super(null,c,p,g,_,b,o,a,C,k),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class y6e extends qN{constructor(e,t,r,o,a,c){super(e,t,r,a,c),this.isCompressedArrayTexture=!0,this.image.depth=o,this.wrapR=gf}}class _6e extends qN{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,zv),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class w6e extends el{constructor(e,t,r,o,a,c,p,g,_){super(e,t,r,o,a,c,p,g,_),this.isCanvasTexture=!0,this.needsUpdate=!0}}class U0{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,o=this.getPoint(0),a=0;t.push(0);for(let c=1;c<=e;c++)r=this.getPoint(c/e),a+=r.distanceTo(o),t.push(a),o=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let o=0;const a=r.length;let c;t?c=t:c=e*r[a-1];let p=0,g=a-1,_;for(;p<=g;)if(o=Math.floor(p+(g-p)/2),_=r[o]-c,_<0)p=o+1;else if(_>0)g=o-1;else{g=o;break}if(o=g,r[o]===c)return o/(a-1);const b=r[o],k=r[o+1]-b,B=(c-b)/k;return(o+B)/(a-1)}getTangent(e,t){let o=e-1e-4,a=e+1e-4;o<0&&(o=0),a>1&&(a=1);const c=this.getPoint(o),p=this.getPoint(a),g=t||(c.isVector2?new Vn:new Ke);return g.copy(p).sub(c).normalize(),g}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Ke,o=[],a=[],c=[],p=new Ke,g=new Qi;for(let B=0;B<=e;B++){const z=B/e;o[B]=this.getTangentAt(z,new Ke)}a[0]=new Ke,c[0]=new Ke;let _=Number.MAX_VALUE;const b=Math.abs(o[0].x),C=Math.abs(o[0].y),k=Math.abs(o[0].z);b<=_&&(_=b,r.set(1,0,0)),C<=_&&(_=C,r.set(0,1,0)),k<=_&&r.set(0,0,1),p.crossVectors(o[0],r).normalize(),a[0].crossVectors(o[0],p),c[0].crossVectors(o[0],a[0]);for(let B=1;B<=e;B++){if(a[B]=a[B-1].clone(),c[B]=c[B-1].clone(),p.crossVectors(o[B-1],o[B]),p.length()>Number.EPSILON){p.normalize();const z=Math.acos(Mu(o[B-1].dot(o[B]),-1,1));a[B].applyMatrix4(g.makeRotationAxis(p,z))}c[B].crossVectors(o[B],a[B])}if(t===!0){let B=Math.acos(Mu(a[0].dot(a[e]),-1,1));B/=e,o[0].dot(p.crossVectors(a[0],a[e]))>0&&(B=-B);for(let z=1;z<=e;z++)a[z].applyMatrix4(g.makeRotationAxis(o[z],B*z)),c[z].crossVectors(o[z],a[z])}return{tangents:o,normals:a,binormals:c}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class JN extends U0{constructor(e=0,t=0,r=1,o=1,a=0,c=Math.PI*2,p=!1,g=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=o,this.aStartAngle=a,this.aEndAngle=c,this.aClockwise=p,this.aRotation=g}getPoint(e,t){const r=t||new Vn,o=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const c=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=o;for(;a>o;)a-=o;a<Number.EPSILON&&(c?a=0:a=o),this.aClockwise===!0&&!c&&(a===o?a=-o:a=a-o);const p=this.aStartAngle+e*a;let g=this.aX+this.xRadius*Math.cos(p),_=this.aY+this.yRadius*Math.sin(p);if(this.aRotation!==0){const b=Math.cos(this.aRotation),C=Math.sin(this.aRotation),k=g-this.aX,B=_-this.aY;g=k*b-B*C+this.aX,_=k*C+B*b+this.aY}return r.set(g,_)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class hSe extends JN{constructor(e,t,r,o,a,c){super(e,t,r,r,o,a,c),this.isArcCurve=!0,this.type="ArcCurve"}}function FX(){let n=0,e=0,t=0,r=0;function o(a,c,p,g){n=a,e=p,t=-3*a+3*c-2*p-g,r=2*a-2*c+p+g}return{initCatmullRom:function(a,c,p,g,_){o(c,p,_*(p-a),_*(g-c))},initNonuniformCatmullRom:function(a,c,p,g,_,b,C){let k=(c-a)/_-(p-a)/(_+b)+(p-c)/b,B=(p-c)/b-(g-c)/(b+C)+(g-p)/C;k*=b,B*=b,o(c,p,k,B)},calc:function(a){const c=a*a,p=c*a;return n+e*a+t*c+r*p}}}const R4=new Ke,R7=new FX,O7=new FX,B7=new FX;class pSe extends U0{constructor(e=[],t=!1,r="centripetal",o=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=o}getPoint(e,t=new Ke){const r=t,o=this.points,a=o.length,c=(a-(this.closed?0:1))*e;let p=Math.floor(c),g=c-p;this.closed?p+=p>0?0:(Math.floor(Math.abs(p)/a)+1)*a:g===0&&p===a-1&&(p=a-2,g=1);let _,b;this.closed||p>0?_=o[(p-1)%a]:(R4.subVectors(o[0],o[1]).add(o[0]),_=R4);const C=o[p%a],k=o[(p+1)%a];if(this.closed||p+2<a?b=o[(p+2)%a]:(R4.subVectors(o[a-1],o[a-2]).add(o[a-1]),b=R4),this.curveType==="centripetal"||this.curveType==="chordal"){const B=this.curveType==="chordal"?.5:.25;let z=Math.pow(_.distanceToSquared(C),B),F=Math.pow(C.distanceToSquared(k),B),N=Math.pow(k.distanceToSquared(b),B);F<1e-4&&(F=1),z<1e-4&&(z=F),N<1e-4&&(N=F),R7.initNonuniformCatmullRom(_.x,C.x,k.x,b.x,z,F,N),O7.initNonuniformCatmullRom(_.y,C.y,k.y,b.y,z,F,N),B7.initNonuniformCatmullRom(_.z,C.z,k.z,b.z,z,F,N)}else this.curveType==="catmullrom"&&(R7.initCatmullRom(_.x,C.x,k.x,b.x,this.tension),O7.initCatmullRom(_.y,C.y,k.y,b.y,this.tension),B7.initCatmullRom(_.z,C.z,k.z,b.z,this.tension));return r.set(R7.calc(g),O7.calc(g),B7.calc(g)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const o=e.points[t];this.points.push(o.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const o=this.points[t];e.points.push(o.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const o=e.points[t];this.points.push(new Ke().fromArray(o))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Y0e(n,e,t,r,o){const a=(r-e)*.5,c=(o-t)*.5,p=n*n,g=n*p;return(2*t-2*r+a+c)*g+(-3*t+3*r-2*a-c)*p+a*n+t}function S6e(n,e){const t=1-n;return t*t*e}function x6e(n,e){return 2*(1-n)*n*e}function b6e(n,e){return n*n*e}function NI(n,e,t,r){return S6e(n,e)+x6e(n,t)+b6e(n,r)}function E6e(n,e){const t=1-n;return t*t*t*e}function A6e(n,e){const t=1-n;return 3*t*t*n*e}function C6e(n,e){return 3*(1-n)*n*n*e}function M6e(n,e){return n*n*n*e}function FI(n,e,t,r,o){return E6e(n,e)+A6e(n,t)+C6e(n,r)+M6e(n,o)}class zX extends U0{constructor(e=new Vn,t=new Vn,r=new Vn,o=new Vn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=o}getPoint(e,t=new Vn){const r=t,o=this.v0,a=this.v1,c=this.v2,p=this.v3;return r.set(FI(e,o.x,a.x,c.x,p.x),FI(e,o.y,a.y,c.y,p.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class mSe extends U0{constructor(e=new Ke,t=new Ke,r=new Ke,o=new Ke){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=o}getPoint(e,t=new Ke){const r=t,o=this.v0,a=this.v1,c=this.v2,p=this.v3;return r.set(FI(e,o.x,a.x,c.x,p.x),FI(e,o.y,a.y,c.y,p.y),FI(e,o.z,a.z,c.z,p.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ZN extends U0{constructor(e=new Vn,t=new Vn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Vn){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Vn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gSe extends U0{constructor(e=new Ke,t=new Ke){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Ke){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ke){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class UX extends U0{constructor(e=new Vn,t=new Vn,r=new Vn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Vn){const r=t,o=this.v0,a=this.v1,c=this.v2;return r.set(NI(e,o.x,a.x,c.x),NI(e,o.y,a.y,c.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jX extends U0{constructor(e=new Ke,t=new Ke,r=new Ke){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ke){const r=t,o=this.v0,a=this.v1,c=this.v2;return r.set(NI(e,o.x,a.x,c.x),NI(e,o.y,a.y,c.y),NI(e,o.z,a.z,c.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HX extends U0{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Vn){const r=t,o=this.points,a=(o.length-1)*e,c=Math.floor(a),p=a-c,g=o[c===0?c:c-1],_=o[c],b=o[c>o.length-2?o.length-1:c+1],C=o[c>o.length-3?o.length-1:c+2];return r.set(Y0e(p,g.x,_.x,b.x,C.x),Y0e(p,g.y,_.y,b.y,C.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const o=e.points[t];this.points.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const o=this.points[t];e.points.push(o.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const o=e.points[t];this.points.push(new Vn().fromArray(o))}return this}}var GX=Object.freeze({__proto__:null,ArcCurve:hSe,CatmullRomCurve3:pSe,CubicBezierCurve:zX,CubicBezierCurve3:mSe,EllipseCurve:JN,LineCurve:ZN,LineCurve3:gSe,QuadraticBezierCurve:UX,QuadraticBezierCurve3:jX,SplineCurve:HX});class vSe extends U0{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new ZN(t,e))}getPoint(e,t){const r=e*this.getLength(),o=this.getCurveLengths();let a=0;for(;a<o.length;){if(o[a]>=r){const c=o[a]-r,p=this.curves[a],g=p.getLength(),_=g===0?0:1-c/g;return p.getPointAt(_,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,o=this.curves.length;r<o;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let o=0,a=this.curves;o<a.length;o++){const c=a[o],p=c.isEllipseCurve?e*2:c.isLineCurve||c.isLineCurve3?1:c.isSplineCurve?e*c.points.length:e,g=c.getPoints(p);for(let _=0;_<g.length;_++){const b=g[_];r&&r.equals(b)||(t.push(b),r=b)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const o=e.curves[t];this.curves.push(o.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const o=this.curves[t];e.curves.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const o=e.curves[t];this.curves.push(new GX[o.type]().fromJSON(o))}return this}}class oR extends vSe{constructor(e){super(),this.type="Path",this.currentPoint=new Vn,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new ZN(this.currentPoint.clone(),new Vn(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,o){const a=new UX(this.currentPoint.clone(),new Vn(e,t),new Vn(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this}bezierCurveTo(e,t,r,o,a,c){const p=new zX(this.currentPoint.clone(),new Vn(e,t),new Vn(r,o),new Vn(a,c));return this.curves.push(p),this.currentPoint.set(a,c),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new HX(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,o,a,c){const p=this.currentPoint.x,g=this.currentPoint.y;return this.absarc(e+p,t+g,r,o,a,c),this}absarc(e,t,r,o,a,c){return this.absellipse(e,t,r,r,o,a,c),this}ellipse(e,t,r,o,a,c,p,g){const _=this.currentPoint.x,b=this.currentPoint.y;return this.absellipse(e+_,t+b,r,o,a,c,p,g),this}absellipse(e,t,r,o,a,c,p,g){const _=new JN(e,t,r,o,a,c,p,g);if(this.curves.length>0){const C=_.getPoint(0);C.equals(this.currentPoint)||this.lineTo(C.x,C.y)}this.curves.push(_);const b=_.getPoint(1);return this.currentPoint.copy(b),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class GR extends yo{constructor(e=[new Vn(0,-.5),new Vn(.5,0),new Vn(0,.5)],t=12,r=0,o=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:o},t=Math.floor(t),o=Mu(o,0,Math.PI*2);const a=[],c=[],p=[],g=[],_=[],b=1/t,C=new Ke,k=new Vn,B=new Ke,z=new Ke,F=new Ke;let N=0,D=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:N=e[A+1].x-e[A].x,D=e[A+1].y-e[A].y,B.x=D*1,B.y=-N,B.z=D*0,F.copy(B),B.normalize(),g.push(B.x,B.y,B.z);break;case e.length-1:g.push(F.x,F.y,F.z);break;default:N=e[A+1].x-e[A].x,D=e[A+1].y-e[A].y,B.x=D*1,B.y=-N,B.z=D*0,z.copy(B),B.x+=F.x,B.y+=F.y,B.z+=F.z,B.normalize(),g.push(B.x,B.y,B.z),F.copy(z)}for(let A=0;A<=t;A++){const G=r+A*b*o,Q=Math.sin(G),ae=Math.cos(G);for(let Y=0;Y<=e.length-1;Y++){C.x=e[Y].x*Q,C.y=e[Y].y,C.z=e[Y].x*ae,c.push(C.x,C.y,C.z),k.x=A/t,k.y=Y/(e.length-1),p.push(k.x,k.y);const ge=g[3*Y+0]*Q,_e=g[3*Y+1],J=g[3*Y+0]*ae;_.push(ge,_e,J)}}for(let A=0;A<t;A++)for(let G=0;G<e.length-1;G++){const Q=G+A*e.length,ae=Q,Y=Q+e.length,ge=Q+e.length+1,_e=Q+1;a.push(ae,Y,_e),a.push(ge,_e,Y)}this.setIndex(a),this.setAttribute("position",new _i(c,3)),this.setAttribute("uv",new _i(p,2)),this.setAttribute("normal",new _i(_,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GR(e.points,e.segments,e.phiStart,e.phiLength)}}class $N extends GR{constructor(e=1,t=1,r=4,o=8){const a=new oR;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(r),o),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:o}}static fromJSON(e){return new $N(e.radius,e.length,e.capSegments,e.radialSegments)}}class eF extends yo{constructor(e=1,t=32,r=0,o=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:o},t=Math.max(3,t);const a=[],c=[],p=[],g=[],_=new Ke,b=new Vn;c.push(0,0,0),p.push(0,0,1),g.push(.5,.5);for(let C=0,k=3;C<=t;C++,k+=3){const B=r+C/t*o;_.x=e*Math.cos(B),_.y=e*Math.sin(B),c.push(_.x,_.y,_.z),p.push(0,0,1),b.x=(c[k]/e+1)/2,b.y=(c[k+1]/e+1)/2,g.push(b.x,b.y)}for(let C=1;C<=t;C++)a.push(C,C+1,0);this.setIndex(a),this.setAttribute("position",new _i(c,3)),this.setAttribute("normal",new _i(p,3)),this.setAttribute("uv",new _i(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eF(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class pf extends yo{constructor(e=1,t=1,r=1,o=32,a=1,c=!1,p=0,g=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:o,heightSegments:a,openEnded:c,thetaStart:p,thetaLength:g};const _=this;o=Math.floor(o),a=Math.floor(a);const b=[],C=[],k=[],B=[];let z=0;const F=[],N=r/2;let D=0;A(),c===!1&&(e>0&&G(!0),t>0&&G(!1)),this.setIndex(b),this.setAttribute("position",new _i(C,3)),this.setAttribute("normal",new _i(k,3)),this.setAttribute("uv",new _i(B,2));function A(){const Q=new Ke,ae=new Ke;let Y=0;const ge=(t-e)/r;for(let _e=0;_e<=a;_e++){const J=[],Se=_e/a,Be=Se*(t-e)+e;for(let _t=0;_t<=o;_t++){const Ve=_t/o,xe=Ve*g+p,ot=Math.sin(xe),Ze=Math.cos(xe);ae.x=Be*ot,ae.y=-Se*r+N,ae.z=Be*Ze,C.push(ae.x,ae.y,ae.z),Q.set(ot,ge,Ze).normalize(),k.push(Q.x,Q.y,Q.z),B.push(Ve,1-Se),J.push(z++)}F.push(J)}for(let _e=0;_e<o;_e++)for(let J=0;J<a;J++){const Se=F[J][_e],Be=F[J+1][_e],_t=F[J+1][_e+1],Ve=F[J][_e+1];b.push(Se,Be,Ve),b.push(Be,_t,Ve),Y+=6}_.addGroup(D,Y,0),D+=Y}function G(Q){const ae=z,Y=new Vn,ge=new Ke;let _e=0;const J=Q===!0?e:t,Se=Q===!0?1:-1;for(let _t=1;_t<=o;_t++)C.push(0,N*Se,0),k.push(0,Se,0),B.push(.5,.5),z++;const Be=z;for(let _t=0;_t<=o;_t++){const xe=_t/o*g+p,ot=Math.cos(xe),Ze=Math.sin(xe);ge.x=J*Ze,ge.y=N*Se,ge.z=J*ot,C.push(ge.x,ge.y,ge.z),k.push(0,Se,0),Y.x=ot*.5+.5,Y.y=Ze*.5*Se+.5,B.push(Y.x,Y.y),z++}for(let _t=0;_t<o;_t++){const Ve=ae+_t,xe=Be+_t;Q===!0?b.push(xe,xe+1,Ve):b.push(xe+1,xe,Ve),_e+=3}_.addGroup(D,_e,Q===!0?1:2),D+=_e}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pf(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tF extends pf{constructor(e=1,t=1,r=32,o=1,a=!1,c=0,p=Math.PI*2){super(0,e,t,r,o,a,c,p),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:o,openEnded:a,thetaStart:c,thetaLength:p}}static fromJSON(e){return new tF(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ww extends yo{constructor(e=[],t=[],r=1,o=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:o};const a=[],c=[];p(o),_(r),b(),this.setAttribute("position",new _i(a,3)),this.setAttribute("normal",new _i(a.slice(),3)),this.setAttribute("uv",new _i(c,2)),o===0?this.computeVertexNormals():this.normalizeNormals();function p(A){const G=new Ke,Q=new Ke,ae=new Ke;for(let Y=0;Y<t.length;Y+=3)B(t[Y+0],G),B(t[Y+1],Q),B(t[Y+2],ae),g(G,Q,ae,A)}function g(A,G,Q,ae){const Y=ae+1,ge=[];for(let _e=0;_e<=Y;_e++){ge[_e]=[];const J=A.clone().lerp(Q,_e/Y),Se=G.clone().lerp(Q,_e/Y),Be=Y-_e;for(let _t=0;_t<=Be;_t++)_t===0&&_e===Y?ge[_e][_t]=J:ge[_e][_t]=J.clone().lerp(Se,_t/Be)}for(let _e=0;_e<Y;_e++)for(let J=0;J<2*(Y-_e)-1;J++){const Se=Math.floor(J/2);J%2===0?(k(ge[_e][Se+1]),k(ge[_e+1][Se]),k(ge[_e][Se])):(k(ge[_e][Se+1]),k(ge[_e+1][Se+1]),k(ge[_e+1][Se]))}}function _(A){const G=new Ke;for(let Q=0;Q<a.length;Q+=3)G.x=a[Q+0],G.y=a[Q+1],G.z=a[Q+2],G.normalize().multiplyScalar(A),a[Q+0]=G.x,a[Q+1]=G.y,a[Q+2]=G.z}function b(){const A=new Ke;for(let G=0;G<a.length;G+=3){A.x=a[G+0],A.y=a[G+1],A.z=a[G+2];const Q=N(A)/2/Math.PI+.5,ae=D(A)/Math.PI+.5;c.push(Q,1-ae)}z(),C()}function C(){for(let A=0;A<c.length;A+=6){const G=c[A+0],Q=c[A+2],ae=c[A+4],Y=Math.max(G,Q,ae),ge=Math.min(G,Q,ae);Y>.9&&ge<.1&&(G<.2&&(c[A+0]+=1),Q<.2&&(c[A+2]+=1),ae<.2&&(c[A+4]+=1))}}function k(A){a.push(A.x,A.y,A.z)}function B(A,G){const Q=A*3;G.x=e[Q+0],G.y=e[Q+1],G.z=e[Q+2]}function z(){const A=new Ke,G=new Ke,Q=new Ke,ae=new Ke,Y=new Vn,ge=new Vn,_e=new Vn;for(let J=0,Se=0;J<a.length;J+=9,Se+=6){A.set(a[J+0],a[J+1],a[J+2]),G.set(a[J+3],a[J+4],a[J+5]),Q.set(a[J+6],a[J+7],a[J+8]),Y.set(c[Se+0],c[Se+1]),ge.set(c[Se+2],c[Se+3]),_e.set(c[Se+4],c[Se+5]),ae.copy(A).add(G).add(Q).divideScalar(3);const Be=N(ae);F(Y,Se+0,A,Be),F(ge,Se+2,G,Be),F(_e,Se+4,Q,Be)}}function F(A,G,Q,ae){ae<0&&A.x===1&&(c[G]=A.x-1),Q.x===0&&Q.z===0&&(c[G]=ae/2/Math.PI+.5)}function N(A){return Math.atan2(A.z,-A.x)}function D(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ww(e.vertices,e.indices,e.radius,e.details)}}class nF extends Ww{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,o=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-r,0,-o,r,0,o,-r,0,o,r,-o,-r,0,-o,r,0,o,-r,0,o,r,0,-r,0,-o,r,0,-o,-r,0,o,r,0,o],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,c,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nF(e.radius,e.detail)}}const O4=new Ke,B4=new Ke,D7=new Ke,D4=new Rp;class ySe extends yo{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const o=Math.pow(10,4),a=Math.cos(db*t),c=e.getIndex(),p=e.getAttribute("position"),g=c?c.count:p.count,_=[0,0,0],b=["a","b","c"],C=new Array(3),k={},B=[];for(let z=0;z<g;z+=3){c?(_[0]=c.getX(z),_[1]=c.getX(z+1),_[2]=c.getX(z+2)):(_[0]=z,_[1]=z+1,_[2]=z+2);const{a:F,b:N,c:D}=D4;if(F.fromBufferAttribute(p,_[0]),N.fromBufferAttribute(p,_[1]),D.fromBufferAttribute(p,_[2]),D4.getNormal(D7),C[0]=`${Math.round(F.x*o)},${Math.round(F.y*o)},${Math.round(F.z*o)}`,C[1]=`${Math.round(N.x*o)},${Math.round(N.y*o)},${Math.round(N.z*o)}`,C[2]=`${Math.round(D.x*o)},${Math.round(D.y*o)},${Math.round(D.z*o)}`,!(C[0]===C[1]||C[1]===C[2]||C[2]===C[0]))for(let A=0;A<3;A++){const G=(A+1)%3,Q=C[A],ae=C[G],Y=D4[b[A]],ge=D4[b[G]],_e=`${Q}_${ae}`,J=`${ae}_${Q}`;J in k&&k[J]?(D7.dot(k[J].normal)<=a&&(B.push(Y.x,Y.y,Y.z),B.push(ge.x,ge.y,ge.z)),k[J]=null):_e in k||(k[_e]={index0:_[A],index1:_[G],normal:D7.clone()})}}for(const z in k)if(k[z]){const{index0:F,index1:N}=k[z];O4.fromBufferAttribute(p,F),B4.fromBufferAttribute(p,N),B.push(O4.x,O4.y,O4.z),B.push(B4.x,B4.y,B4.z)}this.setAttribute("position",new _i(B,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class fb extends oR{constructor(e){super(e),this.uuid=Cm(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,o=this.holes.length;r<o;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const o=e.holes[t];this.holes.push(o.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const o=this.holes[t];e.holes.push(o.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const o=e.holes[t];this.holes.push(new oR().fromJSON(o))}return this}}const T6e={triangulate:function(n,e,t=2){const r=e&&e.length,o=r?e[0]*t:n.length;let a=_Se(n,0,o,t,!0);const c=[];if(!a||a.next===a.prev)return c;let p,g,_,b,C,k,B;if(r&&(a=O6e(n,e,a,t)),n.length>80*t){p=_=n[0],g=b=n[1];for(let z=t;z<o;z+=t)C=n[z],k=n[z+1],C<p&&(p=C),k<g&&(g=k),C>_&&(_=C),k>b&&(b=k);B=Math.max(_-p,b-g),B=B!==0?32767/B:0}return sR(a,c,t,p,g,B,0),c}};function _Se(n,e,t,r,o){let a,c;if(o===V6e(n,e,t,r)>0)for(a=e;a<t;a+=r)c=Q0e(a,n[a],n[a+1],c);else for(a=t-r;a>=e;a-=r)c=Q0e(a,n[a],n[a+1],c);return c&&rF(c,c.next)&&(lR(c),c=c.next),c}function Sb(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(rF(t,t.next)||ou(t.prev,t,t.next)===0)){if(lR(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function sR(n,e,t,r,o,a,c){if(!n)return;!c&&a&&F6e(n,r,o,a);let p=n,g,_;for(;n.prev!==n.next;){if(g=n.prev,_=n.next,a?k6e(n,r,o,a):P6e(n)){e.push(g.i/t|0),e.push(n.i/t|0),e.push(_.i/t|0),lR(n),n=_.next,p=_.next;continue}if(n=_,n===p){c?c===1?(n=I6e(Sb(n),e,t),sR(n,e,t,r,o,a,2)):c===2&&R6e(n,e,t,r,o,a):sR(Sb(n),e,t,r,o,a,1);break}}}function P6e(n){const e=n.prev,t=n,r=n.next;if(ou(e,t,r)>=0)return!1;const o=e.x,a=t.x,c=r.x,p=e.y,g=t.y,_=r.y,b=o<a?o<c?o:c:a<c?a:c,C=p<g?p<_?p:_:g<_?g:_,k=o>a?o>c?o:c:a>c?a:c,B=p>g?p>_?p:_:g>_?g:_;let z=r.next;for(;z!==e;){if(z.x>=b&&z.x<=k&&z.y>=C&&z.y<=B&&BC(o,p,a,g,c,_,z.x,z.y)&&ou(z.prev,z,z.next)>=0)return!1;z=z.next}return!0}function k6e(n,e,t,r){const o=n.prev,a=n,c=n.next;if(ou(o,a,c)>=0)return!1;const p=o.x,g=a.x,_=c.x,b=o.y,C=a.y,k=c.y,B=p<g?p<_?p:_:g<_?g:_,z=b<C?b<k?b:k:C<k?C:k,F=p>g?p>_?p:_:g>_?g:_,N=b>C?b>k?b:k:C>k?C:k,D=RV(B,z,e,t,r),A=RV(F,N,e,t,r);let G=n.prevZ,Q=n.nextZ;for(;G&&G.z>=D&&Q&&Q.z<=A;){if(G.x>=B&&G.x<=F&&G.y>=z&&G.y<=N&&G!==o&&G!==c&&BC(p,b,g,C,_,k,G.x,G.y)&&ou(G.prev,G,G.next)>=0||(G=G.prevZ,Q.x>=B&&Q.x<=F&&Q.y>=z&&Q.y<=N&&Q!==o&&Q!==c&&BC(p,b,g,C,_,k,Q.x,Q.y)&&ou(Q.prev,Q,Q.next)>=0))return!1;Q=Q.nextZ}for(;G&&G.z>=D;){if(G.x>=B&&G.x<=F&&G.y>=z&&G.y<=N&&G!==o&&G!==c&&BC(p,b,g,C,_,k,G.x,G.y)&&ou(G.prev,G,G.next)>=0)return!1;G=G.prevZ}for(;Q&&Q.z<=A;){if(Q.x>=B&&Q.x<=F&&Q.y>=z&&Q.y<=N&&Q!==o&&Q!==c&&BC(p,b,g,C,_,k,Q.x,Q.y)&&ou(Q.prev,Q,Q.next)>=0)return!1;Q=Q.nextZ}return!0}function I6e(n,e,t){let r=n;do{const o=r.prev,a=r.next.next;!rF(o,a)&&wSe(o,r,r.next,a)&&aR(o,a)&&aR(a,o)&&(e.push(o.i/t|0),e.push(r.i/t|0),e.push(a.i/t|0),lR(r),lR(r.next),r=n=a),r=r.next}while(r!==n);return Sb(r)}function R6e(n,e,t,r,o,a){let c=n;do{let p=c.next.next;for(;p!==c.prev;){if(c.i!==p.i&&j6e(c,p)){let g=SSe(c,p);c=Sb(c,c.next),g=Sb(g,g.next),sR(c,e,t,r,o,a,0),sR(g,e,t,r,o,a,0);return}p=p.next}c=c.next}while(c!==n)}function O6e(n,e,t,r){const o=[];let a,c,p,g,_;for(a=0,c=e.length;a<c;a++)p=e[a]*r,g=a<c-1?e[a+1]*r:n.length,_=_Se(n,p,g,r,!1),_===_.next&&(_.steiner=!0),o.push(U6e(_));for(o.sort(B6e),a=0;a<o.length;a++)t=D6e(o[a],t);return t}function B6e(n,e){return n.x-e.x}function D6e(n,e){const t=L6e(n,e);if(!t)return e;const r=SSe(t,n);return Sb(r,r.next),Sb(t,t.next)}function L6e(n,e){let t=e,r=-1/0,o;const a=n.x,c=n.y;do{if(c<=t.y&&c>=t.next.y&&t.next.y!==t.y){const k=t.x+(c-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(k<=a&&k>r&&(r=k,o=t.x<t.next.x?t:t.next,k===a))return o}t=t.next}while(t!==e);if(!o)return null;const p=o,g=o.x,_=o.y;let b=1/0,C;t=o;do a>=t.x&&t.x>=g&&a!==t.x&&BC(c<_?a:r,c,g,_,c<_?r:a,c,t.x,t.y)&&(C=Math.abs(c-t.y)/(a-t.x),aR(t,n)&&(C<b||C===b&&(t.x>o.x||t.x===o.x&&N6e(o,t)))&&(o=t,b=C)),t=t.next;while(t!==p);return o}function N6e(n,e){return ou(n.prev,n,e.prev)<0&&ou(e.next,n,n.next)<0}function F6e(n,e,t,r){let o=n;do o.z===0&&(o.z=RV(o.x,o.y,e,t,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==n);o.prevZ.nextZ=null,o.prevZ=null,z6e(o)}function z6e(n){let e,t,r,o,a,c,p,g,_=1;do{for(t=n,n=null,a=null,c=0;t;){for(c++,r=t,p=0,e=0;e<_&&(p++,r=r.nextZ,!!r);e++);for(g=_;p>0||g>0&&r;)p!==0&&(g===0||!r||t.z<=r.z)?(o=t,t=t.nextZ,p--):(o=r,r=r.nextZ,g--),a?a.nextZ=o:n=o,o.prevZ=a,a=o;t=r}a.nextZ=null,_*=2}while(c>1);return n}function RV(n,e,t,r,o){return n=(n-t)*o|0,e=(e-r)*o|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function U6e(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function BC(n,e,t,r,o,a,c,p){return(o-c)*(e-p)>=(n-c)*(a-p)&&(n-c)*(r-p)>=(t-c)*(e-p)&&(t-c)*(a-p)>=(o-c)*(r-p)}function j6e(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!H6e(n,e)&&(aR(n,e)&&aR(e,n)&&G6e(n,e)&&(ou(n.prev,n,e.prev)||ou(n,e.prev,e))||rF(n,e)&&ou(n.prev,n,n.next)>0&&ou(e.prev,e,e.next)>0)}function ou(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function rF(n,e){return n.x===e.x&&n.y===e.y}function wSe(n,e,t,r){const o=N4(ou(n,e,t)),a=N4(ou(n,e,r)),c=N4(ou(t,r,n)),p=N4(ou(t,r,e));return!!(o!==a&&c!==p||o===0&&L4(n,t,e)||a===0&&L4(n,r,e)||c===0&&L4(t,n,r)||p===0&&L4(t,e,r))}function L4(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function N4(n){return n>0?1:n<0?-1:0}function H6e(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&wSe(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function aR(n,e){return ou(n.prev,n,n.next)<0?ou(n,e,n.next)>=0&&ou(n,n.prev,e)>=0:ou(n,e,n.prev)<0||ou(n,n.next,e)<0}function G6e(n,e){let t=n,r=!1;const o=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&o<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function SSe(n,e){const t=new OV(n.i,n.x,n.y),r=new OV(e.i,e.x,e.y),o=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=o,o.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function Q0e(n,e,t,r){const o=new OV(n,e,t);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function lR(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function OV(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function V6e(n,e,t,r){let o=0;for(let a=e,c=t-r;a<t;a+=r)o+=(n[c]-n[a])*(n[a+1]+n[c+1]),c=a;return o}class Bv{static area(e){const t=e.length;let r=0;for(let o=t-1,a=0;a<t;o=a++)r+=e[o].x*e[a].y-e[a].x*e[o].y;return r*.5}static isClockWise(e){return Bv.area(e)<0}static triangulateShape(e,t){const r=[],o=[],a=[];q0e(e),J0e(r,e);let c=e.length;t.forEach(q0e);for(let g=0;g<t.length;g++)o.push(c),c+=t[g].length,J0e(r,t[g]);const p=T6e.triangulate(r,o);for(let g=0;g<p.length;g+=3)a.push(p.slice(g,g+3));return a}}function q0e(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function J0e(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class iF extends yo{constructor(e=new fb([new Vn(.5,.5),new Vn(-.5,.5),new Vn(-.5,-.5),new Vn(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,o=[],a=[];for(let p=0,g=e.length;p<g;p++){const _=e[p];c(_)}this.setAttribute("position",new _i(o,3)),this.setAttribute("uv",new _i(a,2)),this.computeVertexNormals();function c(p){const g=[],_=t.curveSegments!==void 0?t.curveSegments:12,b=t.steps!==void 0?t.steps:1,C=t.depth!==void 0?t.depth:1;let k=t.bevelEnabled!==void 0?t.bevelEnabled:!0,B=t.bevelThickness!==void 0?t.bevelThickness:.2,z=t.bevelSize!==void 0?t.bevelSize:B-.1,F=t.bevelOffset!==void 0?t.bevelOffset:0,N=t.bevelSegments!==void 0?t.bevelSegments:3;const D=t.extrudePath,A=t.UVGenerator!==void 0?t.UVGenerator:W6e;let G,Q=!1,ae,Y,ge,_e;D&&(G=D.getSpacedPoints(b),Q=!0,k=!1,ae=D.computeFrenetFrames(b,!1),Y=new Ke,ge=new Ke,_e=new Ke),k||(N=0,B=0,z=0,F=0);const J=p.extractPoints(_);let Se=J.shape;const Be=J.holes;if(!Bv.isClockWise(Se)){Se=Se.reverse();for(let Ye=0,Xt=Be.length;Ye<Xt;Ye++){const Ft=Be[Ye];Bv.isClockWise(Ft)&&(Be[Ye]=Ft.reverse())}}const Ve=Bv.triangulateShape(Se,Be),xe=Se;for(let Ye=0,Xt=Be.length;Ye<Xt;Ye++){const Ft=Be[Ye];Se=Se.concat(Ft)}function ot(Ye,Xt,Ft){return Xt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ye.clone().addScaledVector(Xt,Ft)}const Ze=Se.length,mt=Ve.length;function we(Ye,Xt,Ft){let Zt,mn,jn;const Wn=Ye.x-Xt.x,tr=Ye.y-Xt.y,_r=Ft.x-Ye.x,Vr=Ft.y-Ye.y,si=Wn*Wn+tr*tr,ct=Wn*Vr-tr*_r;if(Math.abs(ct)>Number.EPSILON){const De=Math.sqrt(si),Ut=Math.sqrt(_r*_r+Vr*Vr),Kn=Xt.x-tr/De,Fn=Xt.y+Wn/De,Xn=Ft.x-Vr/Ut,xr=Ft.y+_r/Ut,nr=((Xn-Kn)*Vr-(xr-Fn)*_r)/(Wn*Vr-tr*_r);Zt=Kn+Wn*nr-Ye.x,mn=Fn+tr*nr-Ye.y;const it=Zt*Zt+mn*mn;if(it<=2)return new Vn(Zt,mn);jn=Math.sqrt(it/2)}else{let De=!1;Wn>Number.EPSILON?_r>Number.EPSILON&&(De=!0):Wn<-Number.EPSILON?_r<-Number.EPSILON&&(De=!0):Math.sign(tr)===Math.sign(Vr)&&(De=!0),De?(Zt=-tr,mn=Wn,jn=Math.sqrt(si)):(Zt=Wn,mn=tr,jn=Math.sqrt(si/2))}return new Vn(Zt/jn,mn/jn)}const Te=[];for(let Ye=0,Xt=xe.length,Ft=Xt-1,Zt=Ye+1;Ye<Xt;Ye++,Ft++,Zt++)Ft===Xt&&(Ft=0),Zt===Xt&&(Zt=0),Te[Ye]=we(xe[Ye],xe[Ft],xe[Zt]);const Ae=[];let me,ce=Te.concat();for(let Ye=0,Xt=Be.length;Ye<Xt;Ye++){const Ft=Be[Ye];me=[];for(let Zt=0,mn=Ft.length,jn=mn-1,Wn=Zt+1;Zt<mn;Zt++,jn++,Wn++)jn===mn&&(jn=0),Wn===mn&&(Wn=0),me[Zt]=we(Ft[Zt],Ft[jn],Ft[Wn]);Ae.push(me),ce=ce.concat(me)}for(let Ye=0;Ye<N;Ye++){const Xt=Ye/N,Ft=B*Math.cos(Xt*Math.PI/2),Zt=z*Math.sin(Xt*Math.PI/2)+F;for(let mn=0,jn=xe.length;mn<jn;mn++){const Wn=ot(xe[mn],Te[mn],Zt);Nt(Wn.x,Wn.y,-Ft)}for(let mn=0,jn=Be.length;mn<jn;mn++){const Wn=Be[mn];me=Ae[mn];for(let tr=0,_r=Wn.length;tr<_r;tr++){const Vr=ot(Wn[tr],me[tr],Zt);Nt(Vr.x,Vr.y,-Ft)}}}const qe=z+F;for(let Ye=0;Ye<Ze;Ye++){const Xt=k?ot(Se[Ye],ce[Ye],qe):Se[Ye];Q?(ge.copy(ae.normals[0]).multiplyScalar(Xt.x),Y.copy(ae.binormals[0]).multiplyScalar(Xt.y),_e.copy(G[0]).add(ge).add(Y),Nt(_e.x,_e.y,_e.z)):Nt(Xt.x,Xt.y,0)}for(let Ye=1;Ye<=b;Ye++)for(let Xt=0;Xt<Ze;Xt++){const Ft=k?ot(Se[Xt],ce[Xt],qe):Se[Xt];Q?(ge.copy(ae.normals[Ye]).multiplyScalar(Ft.x),Y.copy(ae.binormals[Ye]).multiplyScalar(Ft.y),_e.copy(G[Ye]).add(ge).add(Y),Nt(_e.x,_e.y,_e.z)):Nt(Ft.x,Ft.y,C/b*Ye)}for(let Ye=N-1;Ye>=0;Ye--){const Xt=Ye/N,Ft=B*Math.cos(Xt*Math.PI/2),Zt=z*Math.sin(Xt*Math.PI/2)+F;for(let mn=0,jn=xe.length;mn<jn;mn++){const Wn=ot(xe[mn],Te[mn],Zt);Nt(Wn.x,Wn.y,C+Ft)}for(let mn=0,jn=Be.length;mn<jn;mn++){const Wn=Be[mn];me=Ae[mn];for(let tr=0,_r=Wn.length;tr<_r;tr++){const Vr=ot(Wn[tr],me[tr],Zt);Q?Nt(Vr.x,Vr.y+G[b-1].y,G[b-1].x+Ft):Nt(Vr.x,Vr.y,C+Ft)}}}ht(),wt();function ht(){const Ye=o.length/3;if(k){let Xt=0,Ft=Ze*Xt;for(let Zt=0;Zt<mt;Zt++){const mn=Ve[Zt];Ot(mn[2]+Ft,mn[1]+Ft,mn[0]+Ft)}Xt=b+N*2,Ft=Ze*Xt;for(let Zt=0;Zt<mt;Zt++){const mn=Ve[Zt];Ot(mn[0]+Ft,mn[1]+Ft,mn[2]+Ft)}}else{for(let Xt=0;Xt<mt;Xt++){const Ft=Ve[Xt];Ot(Ft[2],Ft[1],Ft[0])}for(let Xt=0;Xt<mt;Xt++){const Ft=Ve[Xt];Ot(Ft[0]+Ze*b,Ft[1]+Ze*b,Ft[2]+Ze*b)}}r.addGroup(Ye,o.length/3-Ye,0)}function wt(){const Ye=o.length/3;let Xt=0;et(xe,Xt),Xt+=xe.length;for(let Ft=0,Zt=Be.length;Ft<Zt;Ft++){const mn=Be[Ft];et(mn,Xt),Xt+=mn.length}r.addGroup(Ye,o.length/3-Ye,1)}function et(Ye,Xt){let Ft=Ye.length;for(;--Ft>=0;){const Zt=Ft;let mn=Ft-1;mn<0&&(mn=Ye.length-1);for(let jn=0,Wn=b+N*2;jn<Wn;jn++){const tr=Ze*jn,_r=Ze*(jn+1),Vr=Xt+Zt+tr,si=Xt+mn+tr,ct=Xt+mn+_r,De=Xt+Zt+_r;an(Vr,si,ct,De)}}}function Nt(Ye,Xt,Ft){g.push(Ye),g.push(Xt),g.push(Ft)}function Ot(Ye,Xt,Ft){fn(Ye),fn(Xt),fn(Ft);const Zt=o.length/3,mn=A.generateTopUV(r,o,Zt-3,Zt-2,Zt-1);nn(mn[0]),nn(mn[1]),nn(mn[2])}function an(Ye,Xt,Ft,Zt){fn(Ye),fn(Xt),fn(Zt),fn(Xt),fn(Ft),fn(Zt);const mn=o.length/3,jn=A.generateSideWallUV(r,o,mn-6,mn-3,mn-2,mn-1);nn(jn[0]),nn(jn[1]),nn(jn[3]),nn(jn[1]),nn(jn[2]),nn(jn[3])}function fn(Ye){o.push(g[Ye*3+0]),o.push(g[Ye*3+1]),o.push(g[Ye*3+2])}function nn(Ye){a.push(Ye.x),a.push(Ye.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return X6e(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,c=e.shapes.length;a<c;a++){const p=t[e.shapes[a]];r.push(p)}const o=e.options.extrudePath;return o!==void 0&&(e.options.extrudePath=new GX[o.type]().fromJSON(o)),new iF(r,e.options)}}const W6e={generateTopUV:function(n,e,t,r,o){const a=e[t*3],c=e[t*3+1],p=e[r*3],g=e[r*3+1],_=e[o*3],b=e[o*3+1];return[new Vn(a,c),new Vn(p,g),new Vn(_,b)]},generateSideWallUV:function(n,e,t,r,o,a){const c=e[t*3],p=e[t*3+1],g=e[t*3+2],_=e[r*3],b=e[r*3+1],C=e[r*3+2],k=e[o*3],B=e[o*3+1],z=e[o*3+2],F=e[a*3],N=e[a*3+1],D=e[a*3+2];return Math.abs(p-b)<Math.abs(c-_)?[new Vn(c,1-g),new Vn(_,1-C),new Vn(k,1-z),new Vn(F,1-D)]:[new Vn(p,1-g),new Vn(b,1-C),new Vn(B,1-z),new Vn(N,1-D)]}};function X6e(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,o=n.length;r<o;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class VR extends Ww{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,o=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(o,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new VR(e.radius,e.detail)}}class gg extends Ww{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,o,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gg(e.radius,e.detail)}}class oF extends yo{constructor(e=.5,t=1,r=32,o=1,a=0,c=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:o,thetaStart:a,thetaLength:c},r=Math.max(3,r),o=Math.max(1,o);const p=[],g=[],_=[],b=[];let C=e;const k=(t-e)/o,B=new Ke,z=new Vn;for(let F=0;F<=o;F++){for(let N=0;N<=r;N++){const D=a+N/r*c;B.x=C*Math.cos(D),B.y=C*Math.sin(D),g.push(B.x,B.y,B.z),_.push(0,0,1),z.x=(B.x/t+1)/2,z.y=(B.y/t+1)/2,b.push(z.x,z.y)}C+=k}for(let F=0;F<o;F++){const N=F*(r+1);for(let D=0;D<r;D++){const A=D+N,G=A,Q=A+r+1,ae=A+r+2,Y=A+1;p.push(G,Q,Y),p.push(Q,ae,Y)}}this.setIndex(p),this.setAttribute("position",new _i(g,3)),this.setAttribute("normal",new _i(_,3)),this.setAttribute("uv",new _i(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oF(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class sF extends yo{constructor(e=new fb([new Vn(0,.5),new Vn(-.5,-.5),new Vn(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],o=[],a=[],c=[];let p=0,g=0;if(Array.isArray(e)===!1)_(e);else for(let b=0;b<e.length;b++)_(e[b]),this.addGroup(p,g,b),p+=g,g=0;this.setIndex(r),this.setAttribute("position",new _i(o,3)),this.setAttribute("normal",new _i(a,3)),this.setAttribute("uv",new _i(c,2));function _(b){const C=o.length/3,k=b.extractPoints(t);let B=k.shape;const z=k.holes;Bv.isClockWise(B)===!1&&(B=B.reverse());for(let N=0,D=z.length;N<D;N++){const A=z[N];Bv.isClockWise(A)===!0&&(z[N]=A.reverse())}const F=Bv.triangulateShape(B,z);for(let N=0,D=z.length;N<D;N++){const A=z[N];B=B.concat(A)}for(let N=0,D=B.length;N<D;N++){const A=B[N];o.push(A.x,A.y,0),a.push(0,0,1),c.push(A.x,A.y)}for(let N=0,D=F.length;N<D;N++){const A=F[N],G=A[0]+C,Q=A[1]+C,ae=A[2]+C;r.push(G,Q,ae),g+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return K6e(t,e)}static fromJSON(e,t){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const c=t[e.shapes[o]];r.push(c)}return new sF(r,e.curveSegments)}}function K6e(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const o=n[t];e.shapes.push(o.uuid)}else e.shapes.push(n.uuid);return e}class BM extends yo{constructor(e=1,t=32,r=16,o=0,a=Math.PI*2,c=0,p=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:o,phiLength:a,thetaStart:c,thetaLength:p},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const g=Math.min(c+p,Math.PI);let _=0;const b=[],C=new Ke,k=new Ke,B=[],z=[],F=[],N=[];for(let D=0;D<=r;D++){const A=[],G=D/r;let Q=0;D===0&&c===0?Q=.5/t:D===r&&g===Math.PI&&(Q=-.5/t);for(let ae=0;ae<=t;ae++){const Y=ae/t;C.x=-e*Math.cos(o+Y*a)*Math.sin(c+G*p),C.y=e*Math.cos(c+G*p),C.z=e*Math.sin(o+Y*a)*Math.sin(c+G*p),z.push(C.x,C.y,C.z),k.copy(C).normalize(),F.push(k.x,k.y,k.z),N.push(Y+Q,1-G),A.push(_++)}b.push(A)}for(let D=0;D<r;D++)for(let A=0;A<t;A++){const G=b[D][A+1],Q=b[D][A],ae=b[D+1][A],Y=b[D+1][A+1];(D!==0||c>0)&&B.push(G,Q,Y),(D!==r-1||g<Math.PI)&&B.push(Q,ae,Y)}this.setIndex(B),this.setAttribute("position",new _i(z,3)),this.setAttribute("normal",new _i(F,3)),this.setAttribute("uv",new _i(N,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class aF extends Ww{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,o,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new aF(e.radius,e.detail)}}class gw extends yo{constructor(e=1,t=.4,r=12,o=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:o,arc:a},r=Math.floor(r),o=Math.floor(o);const c=[],p=[],g=[],_=[],b=new Ke,C=new Ke,k=new Ke;for(let B=0;B<=r;B++)for(let z=0;z<=o;z++){const F=z/o*a,N=B/r*Math.PI*2;C.x=(e+t*Math.cos(N))*Math.cos(F),C.y=(e+t*Math.cos(N))*Math.sin(F),C.z=t*Math.sin(N),p.push(C.x,C.y,C.z),b.x=e*Math.cos(F),b.y=e*Math.sin(F),k.subVectors(C,b).normalize(),g.push(k.x,k.y,k.z),_.push(z/o),_.push(B/r)}for(let B=1;B<=r;B++)for(let z=1;z<=o;z++){const F=(o+1)*B+z-1,N=(o+1)*(B-1)+z-1,D=(o+1)*(B-1)+z,A=(o+1)*B+z;c.push(F,N,A),c.push(N,D,A)}this.setIndex(c),this.setAttribute("position",new _i(p,3)),this.setAttribute("normal",new _i(g,3)),this.setAttribute("uv",new _i(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class lF extends yo{constructor(e=1,t=.4,r=64,o=8,a=2,c=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:o,p:a,q:c},r=Math.floor(r),o=Math.floor(o);const p=[],g=[],_=[],b=[],C=new Ke,k=new Ke,B=new Ke,z=new Ke,F=new Ke,N=new Ke,D=new Ke;for(let G=0;G<=r;++G){const Q=G/r*a*Math.PI*2;A(Q,a,c,e,B),A(Q+.01,a,c,e,z),N.subVectors(z,B),D.addVectors(z,B),F.crossVectors(N,D),D.crossVectors(F,N),F.normalize(),D.normalize();for(let ae=0;ae<=o;++ae){const Y=ae/o*Math.PI*2,ge=-t*Math.cos(Y),_e=t*Math.sin(Y);C.x=B.x+(ge*D.x+_e*F.x),C.y=B.y+(ge*D.y+_e*F.y),C.z=B.z+(ge*D.z+_e*F.z),g.push(C.x,C.y,C.z),k.subVectors(C,B).normalize(),_.push(k.x,k.y,k.z),b.push(G/r),b.push(ae/o)}}for(let G=1;G<=r;G++)for(let Q=1;Q<=o;Q++){const ae=(o+1)*(G-1)+(Q-1),Y=(o+1)*G+(Q-1),ge=(o+1)*G+Q,_e=(o+1)*(G-1)+Q;p.push(ae,Y,_e),p.push(Y,ge,_e)}this.setIndex(p),this.setAttribute("position",new _i(g,3)),this.setAttribute("normal",new _i(_,3)),this.setAttribute("uv",new _i(b,2));function A(G,Q,ae,Y,ge){const _e=Math.cos(G),J=Math.sin(G),Se=ae/Q*G,Be=Math.cos(Se);ge.x=Y*(2+Be)*.5*_e,ge.y=Y*(2+Be)*J*.5,ge.z=Y*Math.sin(Se)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new lF(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class uF extends yo{constructor(e=new jX(new Ke(-1,-1,0),new Ke(-1,1,0),new Ke(1,1,0)),t=64,r=1,o=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:o,closed:a};const c=e.computeFrenetFrames(t,a);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;const p=new Ke,g=new Ke,_=new Vn;let b=new Ke;const C=[],k=[],B=[],z=[];F(),this.setIndex(z),this.setAttribute("position",new _i(C,3)),this.setAttribute("normal",new _i(k,3)),this.setAttribute("uv",new _i(B,2));function F(){for(let G=0;G<t;G++)N(G);N(a===!1?t:0),A(),D()}function N(G){b=e.getPointAt(G/t,b);const Q=c.normals[G],ae=c.binormals[G];for(let Y=0;Y<=o;Y++){const ge=Y/o*Math.PI*2,_e=Math.sin(ge),J=-Math.cos(ge);g.x=J*Q.x+_e*ae.x,g.y=J*Q.y+_e*ae.y,g.z=J*Q.z+_e*ae.z,g.normalize(),k.push(g.x,g.y,g.z),p.x=b.x+r*g.x,p.y=b.y+r*g.y,p.z=b.z+r*g.z,C.push(p.x,p.y,p.z)}}function D(){for(let G=1;G<=t;G++)for(let Q=1;Q<=o;Q++){const ae=(o+1)*(G-1)+(Q-1),Y=(o+1)*G+(Q-1),ge=(o+1)*G+Q,_e=(o+1)*(G-1)+Q;z.push(ae,Y,_e),z.push(Y,ge,_e)}}function A(){for(let G=0;G<=t;G++)for(let Q=0;Q<=o;Q++)_.x=G/t,_.y=Q/o,B.push(_.x,_.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new uF(new GX[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class xSe extends yo{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,o=new Ke,a=new Ke;if(e.index!==null){const c=e.attributes.position,p=e.index;let g=e.groups;g.length===0&&(g=[{start:0,count:p.count,materialIndex:0}]);for(let _=0,b=g.length;_<b;++_){const C=g[_],k=C.start,B=C.count;for(let z=k,F=k+B;z<F;z+=3)for(let N=0;N<3;N++){const D=p.getX(z+N),A=p.getX(z+(N+1)%3);o.fromBufferAttribute(c,D),a.fromBufferAttribute(c,A),Z0e(o,a,r)===!0&&(t.push(o.x,o.y,o.z),t.push(a.x,a.y,a.z))}}}else{const c=e.attributes.position;for(let p=0,g=c.count/3;p<g;p++)for(let _=0;_<3;_++){const b=3*p+_,C=3*p+(_+1)%3;o.fromBufferAttribute(c,b),a.fromBufferAttribute(c,C),Z0e(o,a,r)===!0&&(t.push(o.x,o.y,o.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new _i(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Z0e(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,o=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(o)===!0?!1:(t.add(r),t.add(o),!0)}var $0e=Object.freeze({__proto__:null,BoxGeometry:Ip,CapsuleGeometry:$N,CircleGeometry:eF,ConeGeometry:tF,CylinderGeometry:pf,DodecahedronGeometry:nF,EdgesGeometry:ySe,ExtrudeGeometry:iF,IcosahedronGeometry:VR,LatheGeometry:GR,OctahedronGeometry:gg,PlaneGeometry:xm,PolyhedronGeometry:Ww,RingGeometry:oF,ShapeGeometry:sF,SphereGeometry:BM,TetrahedronGeometry:aF,TorusGeometry:gw,TorusKnotGeometry:lF,TubeGeometry:uF,WireframeGeometry:xSe});class bSe extends nc{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ir(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ESe extends Eg{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class WR extends nc{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ir(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ir(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vw,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Hv extends WR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mu(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ir(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ir(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ir(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class VX extends nc{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ir(16777215),this.specular=new Ir(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ir(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vw,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ASe extends nc{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ir(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ir(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vw,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class CSe extends nc{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vw,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class MSe extends nc{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ir(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ir(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vw,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=zR,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TSe extends nc{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ir(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vw,this.normalScale=new Vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PSe extends xf{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function mg(n,e,t){return WX(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function ob(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function WX(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function kSe(n){function e(o,a){return n[o]-n[a]}const t=n.length,r=new Array(t);for(let o=0;o!==t;++o)r[o]=o;return r.sort(e),r}function BV(n,e,t){const r=n.length,o=new n.constructor(r);for(let a=0,c=0;c!==r;++a){const p=t[a]*e;for(let g=0;g!==e;++g)o[c++]=n[p+g]}return o}function XX(n,e,t,r){let o=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[o++];if(a===void 0)return;let c=a[r];if(c!==void 0)if(Array.isArray(c))do c=a[r],c!==void 0&&(e.push(a.time),t.push.apply(t,c)),a=n[o++];while(a!==void 0);else if(c.toArray!==void 0)do c=a[r],c!==void 0&&(e.push(a.time),c.toArray(t,t.length)),a=n[o++];while(a!==void 0);else do c=a[r],c!==void 0&&(e.push(a.time),t.push(c)),a=n[o++];while(a!==void 0)}function Y6e(n,e,t,r,o=30){const a=n.clone();a.name=e;const c=[];for(let g=0;g<a.tracks.length;++g){const _=a.tracks[g],b=_.getValueSize(),C=[],k=[];for(let B=0;B<_.times.length;++B){const z=_.times[B]*o;if(!(z<t||z>=r)){C.push(_.times[B]);for(let F=0;F<b;++F)k.push(_.values[B*b+F])}}C.length!==0&&(_.times=ob(C,_.times.constructor),_.values=ob(k,_.values.constructor),c.push(_))}a.tracks=c;let p=1/0;for(let g=0;g<a.tracks.length;++g)p>a.tracks[g].times[0]&&(p=a.tracks[g].times[0]);for(let g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*p);return a.resetDuration(),a}function Q6e(n,e=0,t=n,r=30){r<=0&&(r=30);const o=t.tracks.length,a=e/r;for(let c=0;c<o;++c){const p=t.tracks[c],g=p.ValueTypeName;if(g==="bool"||g==="string")continue;const _=n.tracks.find(function(D){return D.name===p.name&&D.ValueTypeName===g});if(_===void 0)continue;let b=0;const C=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=C/3);let k=0;const B=_.getValueSize();_.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(k=B/3);const z=p.times.length-1;let F;if(a<=p.times[0]){const D=b,A=C-b;F=mg(p.values,D,A)}else if(a>=p.times[z]){const D=z*C+b,A=D+C-b;F=mg(p.values,D,A)}else{const D=p.createInterpolant(),A=b,G=C-b;D.evaluate(a),F=mg(D.resultBuffer,A,G)}g==="quaternion"&&new jo().fromArray(F).normalize().conjugate().toArray(F);const N=_.times.length;for(let D=0;D<N;++D){const A=D*B+k;if(g==="quaternion")jo.multiplyQuaternionsFlat(_.values,A,F,0,_.values,A);else{const G=B-k*2;for(let Q=0;Q<G;++Q)_.values[A+Q]-=F[Q]}}}return n.blendMode=_X,n}const q6e={arraySlice:mg,convertArray:ob,isTypedArray:WX,getKeyframeOrder:kSe,sortedArray:BV,flattenJSON:XX,subclip:Y6e,makeClipAdditive:Q6e};class DM{constructor(e,t,r,o){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=o!==void 0?o:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,o=t[r],a=t[r-1];e:{t:{let c;n:{r:if(!(e<o)){for(let p=r+2;;){if(o===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===p)break;if(a=o,o=t[++r],e<o)break t}c=t.length;break n}if(!(e>=a)){const p=t[1];e<p&&(r=2,a=p);for(let g=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===g)break;if(o=a,a=t[--r-1],e>=a)break t}c=r,r=0;break n}break e}for(;r<c;){const p=r+c>>>1;e<t[p]?c=p:r=p+1}if(o=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(o===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,o)}return this.interpolate_(r,a,e,o)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,o=this.valueSize,a=e*o;for(let c=0;c!==o;++c)t[c]=r[a+c];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ISe extends DM{constructor(e,t,r,o){super(e,t,r,o),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:tb,endingEnd:tb}}intervalChanged_(e,t,r){const o=this.parameterPositions;let a=e-2,c=e+1,p=o[a],g=o[c];if(p===void 0)switch(this.getSettings_().endingStart){case nb:a=e,p=2*t-r;break;case tR:a=o.length-2,p=t+o[a]-o[a+1];break;default:a=e,p=r}if(g===void 0)switch(this.getSettings_().endingEnd){case nb:c=e,g=2*r-t;break;case tR:c=1,g=r+o[1]-o[0];break;default:c=e-1,g=t}const _=(r-t)*.5,b=this.valueSize;this._weightPrev=_/(t-p),this._weightNext=_/(g-r),this._offsetPrev=a*b,this._offsetNext=c*b}interpolate_(e,t,r,o){const a=this.resultBuffer,c=this.sampleValues,p=this.valueSize,g=e*p,_=g-p,b=this._offsetPrev,C=this._offsetNext,k=this._weightPrev,B=this._weightNext,z=(r-t)/(o-t),F=z*z,N=F*z,D=-k*N+2*k*F-k*z,A=(1+k)*N+(-1.5-2*k)*F+(-.5+k)*z+1,G=(-1-B)*N+(1.5+B)*F+.5*z,Q=B*N-B*F;for(let ae=0;ae!==p;++ae)a[ae]=D*c[b+ae]+A*c[_+ae]+G*c[g+ae]+Q*c[C+ae];return a}}class KX extends DM{constructor(e,t,r,o){super(e,t,r,o)}interpolate_(e,t,r,o){const a=this.resultBuffer,c=this.sampleValues,p=this.valueSize,g=e*p,_=g-p,b=(r-t)/(o-t),C=1-b;for(let k=0;k!==p;++k)a[k]=c[_+k]*C+c[g+k]*b;return a}}class RSe extends DM{constructor(e,t,r,o){super(e,t,r,o)}interpolate_(e){return this.copySampleValue_(e-1)}}class j0{constructor(e,t,r,o){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ob(t,this.TimeBufferType),this.values=ob(r,this.ValueBufferType),this.setInterpolation(o||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ob(e.times,Array),values:ob(e.values,Array)};const o=e.getInterpolation();o!==e.DefaultInterpolation&&(r.interpolation=o)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new RSe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new KX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ISe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case cM:t=this.InterpolantFactoryMethodDiscrete;break;case _b:t=this.InterpolantFactoryMethodLinear;break;case TL:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return cM;case this.InterpolantFactoryMethodLinear:return _b;case this.InterpolantFactoryMethodSmooth:return TL}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,o=t.length;r!==o;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,o=t.length;r!==o;++r)t[r]*=e}return this}trim(e,t){const r=this.times,o=r.length;let a=0,c=o-1;for(;a!==o&&r[a]<e;)++a;for(;c!==-1&&r[c]>t;)--c;if(++c,a!==0||c!==o){a>=c&&(c=Math.max(c,1),a=c-1);const p=this.getValueSize();this.times=mg(r,a,c),this.values=mg(this.values,a*p,c*p)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,o=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let c=null;for(let p=0;p!==a;p++){const g=r[p];if(typeof g=="number"&&isNaN(g)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,p,g),e=!1;break}if(c!==null&&c>g){console.error("THREE.KeyframeTrack: Out of order keys.",this,p,g,c),e=!1;break}c=g}if(o!==void 0&&WX(o))for(let p=0,g=o.length;p!==g;++p){const _=o[p];if(isNaN(_)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,p,_),e=!1;break}}return e}optimize(){const e=mg(this.times),t=mg(this.values),r=this.getValueSize(),o=this.getInterpolation()===TL,a=e.length-1;let c=1;for(let p=1;p<a;++p){let g=!1;const _=e[p],b=e[p+1];if(_!==b&&(p!==1||_!==e[0]))if(o)g=!0;else{const C=p*r,k=C-r,B=C+r;for(let z=0;z!==r;++z){const F=t[C+z];if(F!==t[k+z]||F!==t[B+z]){g=!0;break}}}if(g){if(p!==c){e[c]=e[p];const C=p*r,k=c*r;for(let B=0;B!==r;++B)t[k+B]=t[C+B]}++c}}if(a>0){e[c]=e[a];for(let p=a*r,g=c*r,_=0;_!==r;++_)t[g+_]=t[p+_];++c}return c!==e.length?(this.times=mg(e,0,c),this.values=mg(t,0,c*r)):(this.times=e,this.values=t),this}clone(){const e=mg(this.times,0),t=mg(this.values,0),r=this.constructor,o=new r(this.name,e,t);return o.createInterpolant=this.createInterpolant,o}}j0.prototype.TimeBufferType=Float32Array;j0.prototype.ValueBufferType=Float32Array;j0.prototype.DefaultInterpolation=_b;class kb extends j0{}kb.prototype.ValueTypeName="bool";kb.prototype.ValueBufferType=Array;kb.prototype.DefaultInterpolation=cM;kb.prototype.InterpolantFactoryMethodLinear=void 0;kb.prototype.InterpolantFactoryMethodSmooth=void 0;class YX extends j0{}YX.prototype.ValueTypeName="color";class pM extends j0{}pM.prototype.ValueTypeName="number";class OSe extends DM{constructor(e,t,r,o){super(e,t,r,o)}interpolate_(e,t,r,o){const a=this.resultBuffer,c=this.sampleValues,p=this.valueSize,g=(r-t)/(o-t);let _=e*p;for(let b=_+p;_!==b;_+=4)jo.slerpFlat(a,0,c,_-p,c,_,g);return a}}class zw extends j0{InterpolantFactoryMethodLinear(e){return new OSe(this.times,this.values,this.getValueSize(),e)}}zw.prototype.ValueTypeName="quaternion";zw.prototype.DefaultInterpolation=_b;zw.prototype.InterpolantFactoryMethodSmooth=void 0;class Ib extends j0{}Ib.prototype.ValueTypeName="string";Ib.prototype.ValueBufferType=Array;Ib.prototype.DefaultInterpolation=cM;Ib.prototype.InterpolantFactoryMethodLinear=void 0;Ib.prototype.InterpolantFactoryMethodSmooth=void 0;class mM extends j0{}mM.prototype.ValueTypeName="vector";class gM{constructor(e,t=-1,r,o=jN){this.name=e,this.tracks=r,this.duration=t,this.blendMode=o,this.uuid=Cm(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,o=1/(e.fps||1);for(let c=0,p=r.length;c!==p;++c)t.push(Z6e(r[c]).scale(o));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],r=e.tracks,o={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,c=r.length;a!==c;++a)t.push(j0.toJSON(r[a]));return o}static CreateFromMorphTargetSequence(e,t,r,o){const a=t.length,c=[];for(let p=0;p<a;p++){let g=[],_=[];g.push((p+a-1)%a,p,(p+1)%a),_.push(0,1,0);const b=kSe(g);g=BV(g,1,b),_=BV(_,1,b),!o&&g[0]===0&&(g.push(a),_.push(_[0])),c.push(new pM(".morphTargetInfluences["+t[p].name+"]",g,_).scale(1/r))}return new this(e,-1,c)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const o=e;r=o.geometry&&o.geometry.animations||o.animations}for(let o=0;o<r.length;o++)if(r[o].name===t)return r[o];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const o={},a=/^([\w-]*?)([\d]+)$/;for(let p=0,g=e.length;p<g;p++){const _=e[p],b=_.name.match(a);if(b&&b.length>1){const C=b[1];let k=o[C];k||(o[C]=k=[]),k.push(_)}}const c=[];for(const p in o)c.push(this.CreateFromMorphTargetSequence(p,o[p],t,r));return c}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(C,k,B,z,F){if(B.length!==0){const N=[],D=[];XX(B,N,D,z),N.length!==0&&F.push(new C(k,N,D))}},o=[],a=e.name||"default",c=e.fps||30,p=e.blendMode;let g=e.length||-1;const _=e.hierarchy||[];for(let C=0;C<_.length;C++){const k=_[C].keys;if(!(!k||k.length===0))if(k[0].morphTargets){const B={};let z;for(z=0;z<k.length;z++)if(k[z].morphTargets)for(let F=0;F<k[z].morphTargets.length;F++)B[k[z].morphTargets[F]]=-1;for(const F in B){const N=[],D=[];for(let A=0;A!==k[z].morphTargets.length;++A){const G=k[z];N.push(G.time),D.push(G.morphTarget===F?1:0)}o.push(new pM(".morphTargetInfluence["+F+"]",N,D))}g=B.length*c}else{const B=".bones["+t[C].name+"]";r(mM,B+".position",k,"pos",o),r(zw,B+".quaternion",k,"rot",o),r(mM,B+".scale",k,"scl",o)}}return o.length===0?null:new this(a,g,o,p)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,o=e.length;r!==o;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function J6e(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return pM;case"vector":case"vector2":case"vector3":case"vector4":return mM;case"color":return YX;case"quaternion":return zw;case"bool":case"boolean":return kb;case"string":return Ib}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Z6e(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=J6e(n.type);if(n.times===void 0){const t=[],r=[];XX(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const xb={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class QX{constructor(e,t,r){const o=this;let a=!1,c=0,p=0,g;const _=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(b){p++,a===!1&&o.onStart!==void 0&&o.onStart(b,c,p),a=!0},this.itemEnd=function(b){c++,o.onProgress!==void 0&&o.onProgress(b,c,p),c===p&&(a=!1,o.onLoad!==void 0&&o.onLoad())},this.itemError=function(b){o.onError!==void 0&&o.onError(b)},this.resolveURL=function(b){return g?g(b):b},this.setURLModifier=function(b){return g=b,this},this.addHandler=function(b,C){return _.push(b,C),this},this.removeHandler=function(b){const C=_.indexOf(b);return C!==-1&&_.splice(C,2),this},this.getHandler=function(b){for(let C=0,k=_.length;C<k;C+=2){const B=_[C],z=_[C+1];if(B.global&&(B.lastIndex=0),B.test(b))return z}return null}}}const BSe=new QX;class fh{constructor(e){this.manager=e!==void 0?e:BSe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(o,a){r.load(e,o,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}fh.DEFAULT_MATERIAL_NAME="__DEFAULT";const t1={};class $6e extends Error{constructor(e,t){super(e),this.response=t}}class Tm extends fh{constructor(e){super(e)}load(e,t,r,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=xb.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(t1[e]!==void 0){t1[e].push({onLoad:t,onProgress:r,onError:o});return}t1[e]=[],t1[e].push({onLoad:t,onProgress:r,onError:o});const c=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),p=this.mimeType,g=this.responseType;fetch(c).then(_=>{if(_.status===200||_.status===0){if(_.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||_.body===void 0||_.body.getReader===void 0)return _;const b=t1[e],C=_.body.getReader(),k=_.headers.get("Content-Length")||_.headers.get("X-File-Size"),B=k?parseInt(k):0,z=B!==0;let F=0;const N=new ReadableStream({start(D){A();function A(){C.read().then(({done:G,value:Q})=>{if(G)D.close();else{F+=Q.byteLength;const ae=new ProgressEvent("progress",{lengthComputable:z,loaded:F,total:B});for(let Y=0,ge=b.length;Y<ge;Y++){const _e=b[Y];_e.onProgress&&_e.onProgress(ae)}D.enqueue(Q),A()}})}}});return new Response(N)}else throw new $6e(`fetch for "${_.url}" responded with ${_.status}: ${_.statusText}`,_)}).then(_=>{switch(g){case"arraybuffer":return _.arrayBuffer();case"blob":return _.blob();case"document":return _.text().then(b=>new DOMParser().parseFromString(b,p));case"json":return _.json();default:if(p===void 0)return _.text();{const C=/charset="?([^;"\s]*)"?/i.exec(p),k=C&&C[1]?C[1].toLowerCase():void 0,B=new TextDecoder(k);return _.arrayBuffer().then(z=>B.decode(z))}}}).then(_=>{xb.add(e,_);const b=t1[e];delete t1[e];for(let C=0,k=b.length;C<k;C++){const B=b[C];B.onLoad&&B.onLoad(_)}}).catch(_=>{const b=t1[e];if(b===void 0)throw this.manager.itemError(e),_;delete t1[e];for(let C=0,k=b.length;C<k;C++){const B=b[C];B.onError&&B.onError(_)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class e8e extends fh{constructor(e){super(e)}load(e,t,r,o){const a=this,c=new Tm(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(p){try{t(a.parse(JSON.parse(p)))}catch(g){o?o(g):console.error(g),a.manager.itemError(e)}},r,o)}parse(e){const t=[];for(let r=0;r<e.length;r++){const o=gM.parse(e[r]);t.push(o)}return t}}class t8e extends fh{constructor(e){super(e)}load(e,t,r,o){const a=this,c=[],p=new qN,g=new Tm(this.manager);g.setPath(this.path),g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setWithCredentials(a.withCredentials);let _=0;function b(C){g.load(e[C],function(k){const B=a.parse(k,!0);c[C]={width:B.width,height:B.height,format:B.format,mipmaps:B.mipmaps},_+=1,_===6&&(B.mipmapCount===1&&(p.minFilter=aa),p.image=c,p.format=B.format,p.needsUpdate=!0,t&&t(p))},r,o)}if(Array.isArray(e))for(let C=0,k=e.length;C<k;++C)b(C);else g.load(e,function(C){const k=a.parse(C,!0);if(k.isCubemap){const B=k.mipmaps.length/k.mipmapCount;for(let z=0;z<B;z++){c[z]={mipmaps:[]};for(let F=0;F<k.mipmapCount;F++)c[z].mipmaps.push(k.mipmaps[z*k.mipmapCount+F]),c[z].format=k.format,c[z].width=k.width,c[z].height=k.height}p.image=c}else p.image.width=k.width,p.image.height=k.height,p.mipmaps=k.mipmaps;k.mipmapCount===1&&(p.minFilter=aa),p.format=k.format,p.needsUpdate=!0,t&&t(p)},r,o);return p}}class uR extends fh{constructor(e){super(e)}load(e,t,r,o){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,c=xb.get(e);if(c!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(c),a.manager.itemEnd(e)},0),c;const p=iR("img");function g(){b(),xb.add(e,this),t&&t(this),a.manager.itemEnd(e)}function _(C){b(),o&&o(C),a.manager.itemError(e),a.manager.itemEnd(e)}function b(){p.removeEventListener("load",g,!1),p.removeEventListener("error",_,!1)}return p.addEventListener("load",g,!1),p.addEventListener("error",_,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(p.crossOrigin=this.crossOrigin),a.manager.itemStart(e),p.src=e,p}}class DSe extends fh{constructor(e){super(e)}load(e,t,r,o){const a=new UR;a.colorSpace=Io;const c=new uR(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);let p=0;function g(_){c.load(e[_],function(b){a.images[_]=b,p++,p===6&&(a.needsUpdate=!0,t&&t(a))},void 0,o)}for(let _=0;_<e.length;++_)g(_);return a}}class qX extends fh{constructor(e){super(e)}load(e,t,r,o){const a=this,c=new ZC,p=new Tm(this.manager);return p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setPath(this.path),p.setWithCredentials(a.withCredentials),p.load(e,function(g){let _;try{_=a.parse(g)}catch(b){if(o!==void 0)o(b);else{console.error(b);return}}if(!_)return o();_.image!==void 0?c.image=_.image:_.data!==void 0&&(c.image.width=_.width,c.image.height=_.height,c.image.data=_.data),c.wrapS=_.wrapS!==void 0?_.wrapS:gf,c.wrapT=_.wrapT!==void 0?_.wrapT:gf,c.magFilter=_.magFilter!==void 0?_.magFilter:aa,c.minFilter=_.minFilter!==void 0?_.minFilter:aa,c.anisotropy=_.anisotropy!==void 0?_.anisotropy:1,_.colorSpace!==void 0?c.colorSpace=_.colorSpace:_.encoding!==void 0&&(c.encoding=_.encoding),_.flipY!==void 0&&(c.flipY=_.flipY),_.format!==void 0&&(c.format=_.format),_.type!==void 0&&(c.type=_.type),_.mipmaps!==void 0&&(c.mipmaps=_.mipmaps,c.minFilter=Uv),_.mipmapCount===1&&(c.minFilter=aa),_.generateMipmaps!==void 0&&(c.generateMipmaps=_.generateMipmaps),c.needsUpdate=!0,t&&t(c,_)},r,o),c}}class LSe extends fh{constructor(e){super(e)}load(e,t,r,o){const a=new el,c=new uR(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(p){a.image=p,a.needsUpdate=!0,t!==void 0&&t(a)},r,o),a}}class Xw extends Jo{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Ir(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class NSe extends Xw{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Jo.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ir(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const L7=new Qi,eve=new Ke,tve=new Ke;class JX{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vn(512,512),this.map=null,this.mapPass=null,this.matrix=new Qi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new GN,this._frameExtents=new Vn(1,1),this._viewportCount=1,this._viewports=[new Es(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;eve.setFromMatrixPosition(e.matrixWorld),t.position.copy(eve),tve.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(tve),t.updateMatrixWorld(),L7.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(L7),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(L7)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class n8e extends JX{constructor(){super(new Da(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=dM*2*e.angle*this.focus,o=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||o!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=o,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ZX extends Xw{constructor(e,t,r=0,o=Math.PI/3,a=0,c=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Jo.DEFAULT_UP),this.updateMatrix(),this.target=new Jo,this.distance=r,this.angle=o,this.penumbra=a,this.decay=c,this.map=null,this.shadow=new n8e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const nve=new Qi,nI=new Ke,N7=new Ke;class r8e extends JX{constructor(){super(new Da(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vn(4,2),this._viewportCount=6,this._viewports=[new Es(2,1,1,1),new Es(0,1,1,1),new Es(3,1,1,1),new Es(1,1,1,1),new Es(3,0,1,1),new Es(1,0,1,1)],this._cubeDirections=[new Ke(1,0,0),new Ke(-1,0,0),new Ke(0,0,1),new Ke(0,0,-1),new Ke(0,1,0),new Ke(0,-1,0)],this._cubeUps=[new Ke(0,1,0),new Ke(0,1,0),new Ke(0,1,0),new Ke(0,1,0),new Ke(0,0,1),new Ke(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,o=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),nI.setFromMatrixPosition(e.matrixWorld),r.position.copy(nI),N7.copy(r.position),N7.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(N7),r.updateMatrixWorld(),o.makeTranslation(-nI.x,-nI.y,-nI.z),nve.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nve)}}class $X extends Xw{constructor(e,t,r=0,o=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=o,this.shadow=new r8e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class i8e extends JX{constructor(){super(new Lp(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class eK extends Xw{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Jo.DEFAULT_UP),this.updateMatrix(),this.target=new Jo,this.shadow=new i8e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class FSe extends Xw{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class zSe extends Xw{constructor(e,t,r=10,o=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=o}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class USe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ke)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,o=e.y,a=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.282095),t.addScaledVector(c[1],.488603*o),t.addScaledVector(c[2],.488603*a),t.addScaledVector(c[3],.488603*r),t.addScaledVector(c[4],1.092548*(r*o)),t.addScaledVector(c[5],1.092548*(o*a)),t.addScaledVector(c[6],.315392*(3*a*a-1)),t.addScaledVector(c[7],1.092548*(r*a)),t.addScaledVector(c[8],.546274*(r*r-o*o)),t}getIrradianceAt(e,t){const r=e.x,o=e.y,a=e.z,c=this.coefficients;return t.copy(c[0]).multiplyScalar(.886227),t.addScaledVector(c[1],2*.511664*o),t.addScaledVector(c[2],2*.511664*a),t.addScaledVector(c[3],2*.511664*r),t.addScaledVector(c[4],2*.429043*r*o),t.addScaledVector(c[5],2*.429043*o*a),t.addScaledVector(c[6],.743125*a*a-.247708),t.addScaledVector(c[7],2*.429043*r*a),t.addScaledVector(c[8],.429043*(r*r-o*o)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].fromArray(e,t+o*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let o=0;o<9;o++)r[o].toArray(e,t+o*3);return e}static getBasisAt(e,t){const r=e.x,o=e.y,a=e.z;t[0]=.282095,t[1]=.488603*o,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*o,t[5]=1.092548*o*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-o*o)}}class cF extends Xw{constructor(e=new USe,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class dF extends fh{constructor(e){super(e),this.textures={}}load(e,t,r,o){const a=this,c=new Tm(a.manager);c.setPath(a.path),c.setRequestHeader(a.requestHeader),c.setWithCredentials(a.withCredentials),c.load(e,function(p){try{t(a.parse(JSON.parse(p)))}catch(g){o?o(g):console.error(g),a.manager.itemError(e)}},r,o)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const o=dF.createMaterialFromType(e.type);if(e.uuid!==void 0&&(o.uuid=e.uuid),e.name!==void 0&&(o.name=e.name),e.color!==void 0&&o.color!==void 0&&o.color.setHex(e.color),e.roughness!==void 0&&(o.roughness=e.roughness),e.metalness!==void 0&&(o.metalness=e.metalness),e.sheen!==void 0&&(o.sheen=e.sheen),e.sheenColor!==void 0&&(o.sheenColor=new Ir().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(o.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&o.emissive!==void 0&&o.emissive.setHex(e.emissive),e.specular!==void 0&&o.specular!==void 0&&o.specular.setHex(e.specular),e.specularIntensity!==void 0&&(o.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&o.specularColor!==void 0&&o.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(o.shininess=e.shininess),e.clearcoat!==void 0&&(o.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(o.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(o.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(o.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(o.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(o.transmission=e.transmission),e.thickness!==void 0&&(o.thickness=e.thickness),e.attenuationDistance!==void 0&&(o.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&o.attenuationColor!==void 0&&o.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(o.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(o.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(o.fog=e.fog),e.flatShading!==void 0&&(o.flatShading=e.flatShading),e.blending!==void 0&&(o.blending=e.blending),e.combine!==void 0&&(o.combine=e.combine),e.side!==void 0&&(o.side=e.side),e.shadowSide!==void 0&&(o.shadowSide=e.shadowSide),e.opacity!==void 0&&(o.opacity=e.opacity),e.transparent!==void 0&&(o.transparent=e.transparent),e.alphaTest!==void 0&&(o.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(o.alphaHash=e.alphaHash),e.depthTest!==void 0&&(o.depthTest=e.depthTest),e.depthWrite!==void 0&&(o.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(o.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(o.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(o.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(o.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(o.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(o.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(o.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(o.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(o.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(o.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(o.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(o.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(o.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(o.rotation=e.rotation),e.linewidth!==1&&(o.linewidth=e.linewidth),e.dashSize!==void 0&&(o.dashSize=e.dashSize),e.gapSize!==void 0&&(o.gapSize=e.gapSize),e.scale!==void 0&&(o.scale=e.scale),e.polygonOffset!==void 0&&(o.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(o.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(o.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(o.dithering=e.dithering),e.alphaToCoverage!==void 0&&(o.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(o.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(o.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(o.visible=e.visible),e.toneMapped!==void 0&&(o.toneMapped=e.toneMapped),e.userData!==void 0&&(o.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?o.vertexColors=e.vertexColors>0:o.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const c=e.uniforms[a];switch(o.uniforms[a]={},c.type){case"t":o.uniforms[a].value=r(c.value);break;case"c":o.uniforms[a].value=new Ir().setHex(c.value);break;case"v2":o.uniforms[a].value=new Vn().fromArray(c.value);break;case"v3":o.uniforms[a].value=new Ke().fromArray(c.value);break;case"v4":o.uniforms[a].value=new Es().fromArray(c.value);break;case"m3":o.uniforms[a].value=new Lo().fromArray(c.value);break;case"m4":o.uniforms[a].value=new Qi().fromArray(c.value);break;default:o.uniforms[a].value=c.value}}if(e.defines!==void 0&&(o.defines=e.defines),e.vertexShader!==void 0&&(o.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(o.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(o.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)o.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(o.lights=e.lights),e.clipping!==void 0&&(o.clipping=e.clipping),e.size!==void 0&&(o.size=e.size),e.sizeAttenuation!==void 0&&(o.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(o.map=r(e.map)),e.matcap!==void 0&&(o.matcap=r(e.matcap)),e.alphaMap!==void 0&&(o.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(o.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(o.bumpScale=e.bumpScale),e.normalMap!==void 0&&(o.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(o.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),o.normalScale=new Vn().fromArray(a)}return e.displacementMap!==void 0&&(o.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(o.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(o.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(o.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(o.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(o.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(o.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(o.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(o.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(o.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(o.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(o.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(o.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(o.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(o.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(o.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(o.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(o.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(o.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(o.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(o.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(o.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(o.clearcoatNormalScale=new Vn().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(o.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(o.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(o.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(o.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(o.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(o.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(o.sheenRoughnessMap=r(e.sheenRoughnessMap)),o}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:bSe,SpriteMaterial:OX,RawShaderMaterial:ESe,ShaderMaterial:Eg,PointsMaterial:QN,MeshPhysicalMaterial:Hv,MeshStandardMaterial:WR,MeshPhongMaterial:VX,MeshToonMaterial:ASe,MeshNormalMaterial:CSe,MeshLambertMaterial:MSe,MeshDepthMaterial:kX,MeshDistanceMaterial:IX,MeshBasicMaterial:yf,MeshMatcapMaterial:TSe,LineDashedMaterial:PSe,LineBasicMaterial:xf,Material:nc};return new t[e]}}class Dv{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,o=e.length;r<o;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class jSe extends yo{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class HSe extends fh{constructor(e){super(e)}load(e,t,r,o){const a=this,c=new Tm(a.manager);c.setPath(a.path),c.setRequestHeader(a.requestHeader),c.setWithCredentials(a.withCredentials),c.load(e,function(p){try{t(a.parse(JSON.parse(p)))}catch(g){o?o(g):console.error(g),a.manager.itemError(e)}},r,o)}parse(e){const t={},r={};function o(B,z){if(t[z]!==void 0)return t[z];const N=B.interleavedBuffers[z],D=a(B,N.buffer),A=RC(N.type,D),G=new jR(A,N.stride);return G.uuid=N.uuid,t[z]=G,G}function a(B,z){if(r[z]!==void 0)return r[z];const N=B.arrayBuffers[z],D=new Uint32Array(N).buffer;return r[z]=D,D}const c=e.isInstancedBufferGeometry?new jSe:new yo,p=e.data.index;if(p!==void 0){const B=RC(p.type,p.array);c.setIndex(new Bs(B,1))}const g=e.data.attributes;for(const B in g){const z=g[B];let F;if(z.isInterleavedBufferAttribute){const N=o(e.data,z.data);F=new Fw(N,z.itemSize,z.offset,z.normalized)}else{const N=RC(z.type,z.array),D=z.isInstancedBufferAttribute?hM:Bs;F=new D(N,z.itemSize,z.normalized)}z.name!==void 0&&(F.name=z.name),z.usage!==void 0&&F.setUsage(z.usage),z.updateRange!==void 0&&(F.updateRange.offset=z.updateRange.offset,F.updateRange.count=z.updateRange.count),c.setAttribute(B,F)}const _=e.data.morphAttributes;if(_)for(const B in _){const z=_[B],F=[];for(let N=0,D=z.length;N<D;N++){const A=z[N];let G;if(A.isInterleavedBufferAttribute){const Q=o(e.data,A.data);G=new Fw(Q,A.itemSize,A.offset,A.normalized)}else{const Q=RC(A.type,A.array);G=new Bs(Q,A.itemSize,A.normalized)}A.name!==void 0&&(G.name=A.name),F.push(G)}c.morphAttributes[B]=F}e.data.morphTargetsRelative&&(c.morphTargetsRelative=!0);const C=e.data.groups||e.data.drawcalls||e.data.offsets;if(C!==void 0)for(let B=0,z=C.length;B!==z;++B){const F=C[B];c.addGroup(F.start,F.count,F.materialIndex)}const k=e.data.boundingSphere;if(k!==void 0){const B=new Ke;k.center!==void 0&&B.fromArray(k.center),c.boundingSphere=new Mg(B,k.radius)}return e.name&&(c.name=e.name),e.userData&&(c.userData=e.userData),c}}class o8e extends fh{constructor(e){super(e)}load(e,t,r,o){const a=this,c=this.path===""?Dv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||c;const p=new Tm(this.manager);p.setPath(this.path),p.setRequestHeader(this.requestHeader),p.setWithCredentials(this.withCredentials),p.load(e,function(g){let _=null;try{_=JSON.parse(g)}catch(C){o!==void 0&&o(C),console.error("THREE:ObjectLoader: Can't parse "+e+".",C.message);return}const b=_.metadata;if(b===void 0||b.type===void 0||b.type.toLowerCase()==="geometry"){o!==void 0&&o(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(_,t)},r,o)}async loadAsync(e,t){const r=this,o=this.path===""?Dv.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Tm(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const c=await a.loadAsync(e,t),p=JSON.parse(c),g=p.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(p)}parse(e,t){const r=this.parseAnimations(e.animations),o=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,o),c=this.parseImages(e.images,function(){t!==void 0&&t(_)}),p=this.parseTextures(e.textures,c),g=this.parseMaterials(e.materials,p),_=this.parseObject(e.object,a,g,p,r),b=this.parseSkeletons(e.skeletons,_);if(this.bindSkeletons(_,b),t!==void 0){let C=!1;for(const k in c)if(c[k].data instanceof HTMLImageElement){C=!0;break}C===!1&&t(_)}return _}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),c=this.parseTextures(e.textures,a),p=this.parseMaterials(e.materials,c),g=this.parseObject(e.object,o,p,c,t),_=this.parseSkeletons(e.skeletons,g);return this.bindSkeletons(g,_),g}parseShapes(e){const t={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const a=new fb().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},o={};if(t.traverse(function(a){a.isBone&&(o[a.uuid]=a)}),e!==void 0)for(let a=0,c=e.length;a<c;a++){const p=new HR().fromJSON(e[a],o);r[p.uuid]=p}return r}parseGeometries(e,t){const r={};if(e!==void 0){const o=new HSe;for(let a=0,c=e.length;a<c;a++){let p;const g=e[a];switch(g.type){case"BufferGeometry":case"InstancedBufferGeometry":p=o.parse(g);break;default:g.type in $0e?p=$0e[g.type].fromJSON(g,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${g.type}"`)}p.uuid=g.uuid,g.name!==void 0&&(p.name=g.name),g.userData!==void 0&&(p.userData=g.userData),r[g.uuid]=p}}return r}parseMaterials(e,t){const r={},o={};if(e!==void 0){const a=new dF;a.setTextures(t);for(let c=0,p=e.length;c<p;c++){const g=e[c];r[g.uuid]===void 0&&(r[g.uuid]=a.parse(g)),o[g.uuid]=r[g.uuid]}}return o}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const o=e[r],a=gM.parse(o);t[a.uuid]=a}return t}parseImages(e,t){const r=this,o={};let a;function c(g){return r.manager.itemStart(g),a.load(g,function(){r.manager.itemEnd(g)},void 0,function(){r.manager.itemError(g),r.manager.itemEnd(g)})}function p(g){if(typeof g=="string"){const _=g,b=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(_)?_:r.resourcePath+_;return c(b)}else return g.data?{data:RC(g.type,g.data),width:g.width,height:g.height}:null}if(e!==void 0&&e.length>0){const g=new QX(t);a=new uR(g),a.setCrossOrigin(this.crossOrigin);for(let _=0,b=e.length;_<b;_++){const C=e[_],k=C.url;if(Array.isArray(k)){const B=[];for(let z=0,F=k.length;z<F;z++){const N=k[z],D=p(N);D!==null&&(D instanceof HTMLImageElement?B.push(D):B.push(new ZC(D.data,D.width,D.height)))}o[C.uuid]=new rb(B)}else{const B=p(C.url);o[C.uuid]=new rb(B)}}}return o}async parseImagesAsync(e){const t=this,r={};let o;async function a(c){if(typeof c=="string"){const p=c,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:t.resourcePath+p;return await o.loadAsync(g)}else return c.data?{data:RC(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){o=new uR(this.manager),o.setCrossOrigin(this.crossOrigin);for(let c=0,p=e.length;c<p;c++){const g=e[c],_=g.url;if(Array.isArray(_)){const b=[];for(let C=0,k=_.length;C<k;C++){const B=_[C],z=await a(B);z!==null&&(z instanceof HTMLImageElement?b.push(z):b.push(new ZC(z.data,z.width,z.height)))}r[g.uuid]=new rb(b)}else{const b=await a(g.url);r[g.uuid]=new rb(b)}}}return r}parseTextures(e,t){function r(a,c){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),c[a])}const o={};if(e!==void 0)for(let a=0,c=e.length;a<c;a++){const p=e[a];p.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',p.uuid),t[p.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",p.image);const g=t[p.image],_=g.data;let b;Array.isArray(_)?(b=new UR,_.length===6&&(b.needsUpdate=!0)):(_&&_.data?b=new ZC:b=new el,_&&(b.needsUpdate=!0)),b.source=g,b.uuid=p.uuid,p.name!==void 0&&(b.name=p.name),p.mapping!==void 0&&(b.mapping=r(p.mapping,s8e)),p.channel!==void 0&&(b.channel=p.channel),p.offset!==void 0&&b.offset.fromArray(p.offset),p.repeat!==void 0&&b.repeat.fromArray(p.repeat),p.center!==void 0&&b.center.fromArray(p.center),p.rotation!==void 0&&(b.rotation=p.rotation),p.wrap!==void 0&&(b.wrapS=r(p.wrap[0],rve),b.wrapT=r(p.wrap[1],rve)),p.format!==void 0&&(b.format=p.format),p.internalFormat!==void 0&&(b.internalFormat=p.internalFormat),p.type!==void 0&&(b.type=p.type),p.colorSpace!==void 0&&(b.colorSpace=p.colorSpace),p.encoding!==void 0&&(b.encoding=p.encoding),p.minFilter!==void 0&&(b.minFilter=r(p.minFilter,ive)),p.magFilter!==void 0&&(b.magFilter=r(p.magFilter,ive)),p.anisotropy!==void 0&&(b.anisotropy=p.anisotropy),p.flipY!==void 0&&(b.flipY=p.flipY),p.generateMipmaps!==void 0&&(b.generateMipmaps=p.generateMipmaps),p.premultiplyAlpha!==void 0&&(b.premultiplyAlpha=p.premultiplyAlpha),p.unpackAlignment!==void 0&&(b.unpackAlignment=p.unpackAlignment),p.compareFunction!==void 0&&(b.compareFunction=p.compareFunction),p.userData!==void 0&&(b.userData=p.userData),o[p.uuid]=b}return o}parseObject(e,t,r,o,a){let c;function p(k){return t[k]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",k),t[k]}function g(k){if(k!==void 0){if(Array.isArray(k)){const B=[];for(let z=0,F=k.length;z<F;z++){const N=k[z];r[N]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",N),B.push(r[N])}return B}return r[k]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",k),r[k]}}function _(k){return o[k]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",k),o[k]}let b,C;switch(e.type){case"Scene":c=new wb,e.background!==void 0&&(Number.isInteger(e.background)?c.background=new Ir(e.background):c.background=_(e.background)),e.environment!==void 0&&(c.environment=_(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?c.fog=new KN(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(c.fog=new XN(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(c.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(c.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":c=new Da(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(c.focus=e.focus),e.zoom!==void 0&&(c.zoom=e.zoom),e.filmGauge!==void 0&&(c.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(c.filmOffset=e.filmOffset),e.view!==void 0&&(c.view=Object.assign({},e.view));break;case"OrthographicCamera":c=new Lp(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(c.zoom=e.zoom),e.view!==void 0&&(c.view=Object.assign({},e.view));break;case"AmbientLight":c=new FSe(e.color,e.intensity);break;case"DirectionalLight":c=new eK(e.color,e.intensity);break;case"PointLight":c=new $X(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":c=new zSe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":c=new ZX(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":c=new NSe(e.color,e.groundColor,e.intensity);break;case"LightProbe":c=new cF().fromJSON(e);break;case"SkinnedMesh":b=p(e.geometry),C=g(e.material),c=new BX(b,C),e.bindMode!==void 0&&(c.bindMode=e.bindMode),e.bindMatrix!==void 0&&c.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(c.skeleton=e.skeleton);break;case"Mesh":b=p(e.geometry),C=g(e.material),c=new ni(b,C);break;case"InstancedMesh":b=p(e.geometry),C=g(e.material);const k=e.count,B=e.instanceMatrix,z=e.instanceColor;c=new DX(b,C,k),c.instanceMatrix=new hM(new Float32Array(B.array),16),z!==void 0&&(c.instanceColor=new hM(new Float32Array(z.array),z.itemSize));break;case"LOD":c=new fSe;break;case"Line":c=new Do(p(e.geometry),g(e.material));break;case"LineLoop":c=new LX(p(e.geometry),g(e.material));break;case"LineSegments":c=new z0(p(e.geometry),g(e.material));break;case"PointCloud":case"Points":c=new NX(p(e.geometry),g(e.material));break;case"Sprite":c=new dSe(g(e.material));break;case"Group":c=new Rv;break;case"Bone":c=new YN;break;default:c=new Jo}if(c.uuid=e.uuid,e.name!==void 0&&(c.name=e.name),e.matrix!==void 0?(c.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(c.matrixAutoUpdate=e.matrixAutoUpdate),c.matrixAutoUpdate&&c.matrix.decompose(c.position,c.quaternion,c.scale)):(e.position!==void 0&&c.position.fromArray(e.position),e.rotation!==void 0&&c.rotation.fromArray(e.rotation),e.quaternion!==void 0&&c.quaternion.fromArray(e.quaternion),e.scale!==void 0&&c.scale.fromArray(e.scale)),e.up!==void 0&&c.up.fromArray(e.up),e.castShadow!==void 0&&(c.castShadow=e.castShadow),e.receiveShadow!==void 0&&(c.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(c.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(c.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(c.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&c.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(c.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(c.visible=e.visible),e.frustumCulled!==void 0&&(c.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(c.renderOrder=e.renderOrder),e.userData!==void 0&&(c.userData=e.userData),e.layers!==void 0&&(c.layers.mask=e.layers),e.children!==void 0){const k=e.children;for(let B=0;B<k.length;B++)c.add(this.parseObject(k[B],t,r,o,a))}if(e.animations!==void 0){const k=e.animations;for(let B=0;B<k.length;B++){const z=k[B];c.animations.push(a[z])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(c.autoUpdate=e.autoUpdate);const k=e.levels;for(let B=0;B<k.length;B++){const z=k[B],F=c.getObjectByProperty("uuid",z.object);F!==void 0&&c.addLevel(F,z.distance,z.hysteresis)}}return c}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const o=t[r.skeleton];o===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(o,r.bindMatrix)}})}}const s8e={UVMapping:FN,CubeReflectionMapping:zv,CubeRefractionMapping:Lw,EquirectangularReflectionMapping:lM,EquirectangularRefractionMapping:$I,CubeUVReflectionMapping:kM},rve={RepeatWrapping:Nw,ClampToEdgeWrapping:gf,MirroredRepeatWrapping:uM},ive={NearestFilter:Cu,NearestMipmapNearestFilter:eR,NearestMipmapLinearFilter:qC,LinearFilter:aa,LinearMipmapNearestFilter:zN,LinearMipmapLinearFilter:Uv};class GSe extends fh{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,o){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,c=xb.get(e);if(c!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(c),a.manager.itemEnd(e)},0),c;const p={};p.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",p.headers=this.requestHeader,fetch(e,p).then(function(g){return g.blob()}).then(function(g){return createImageBitmap(g,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(g){xb.add(e,g),t&&t(g),a.manager.itemEnd(e)}).catch(function(g){o&&o(g),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}let F4,tK=class{static getContext(){return F4===void 0&&(F4=new(window.AudioContext||window.webkitAudioContext)),F4}static setContext(e){F4=e}};class a8e extends fh{constructor(e){super(e)}load(e,t,r,o){const a=this,c=new Tm(this.manager);c.setResponseType("arraybuffer"),c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(g){try{const _=g.slice(0);tK.getContext().decodeAudioData(_,function(C){t(C)},p)}catch(_){p(_)}},r,o);function p(g){o?o(g):console.error(g),a.manager.itemError(e)}}}class l8e extends cF{constructor(e,t,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const o=new Ir().set(e),a=new Ir().set(t),c=new Ke(o.r,o.g,o.b),p=new Ke(a.r,a.g,a.b),g=Math.sqrt(Math.PI),_=g*Math.sqrt(.75);this.sh.coefficients[0].copy(c).add(p).multiplyScalar(g),this.sh.coefficients[1].copy(c).sub(p).multiplyScalar(_)}}class u8e extends cF{constructor(e,t=1){super(void 0,t),this.isAmbientLightProbe=!0;const r=new Ir().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const ove=new Qi,sve=new Qi,Nx=new Qi;class c8e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Da,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Da,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Nx.copy(e.projectionMatrix);const o=t.eyeSep/2,a=o*t.near/t.focus,c=t.near*Math.tan(db*t.fov*.5)/t.zoom;let p,g;sve.elements[12]=-o,ove.elements[12]=o,p=-c*t.aspect+a,g=c*t.aspect+a,Nx.elements[0]=2*t.near/(g-p),Nx.elements[8]=(g+p)/(g-p),this.cameraL.projectionMatrix.copy(Nx),p=-c*t.aspect-a,g=c*t.aspect-a,Nx.elements[0]=2*t.near/(g-p),Nx.elements[8]=(g+p)/(g-p),this.cameraR.projectionMatrix.copy(Nx)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(sve),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ove)}}class fF{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=ave(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=ave();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function ave(){return(typeof performance>"u"?Date:performance).now()}const Fx=new Ke,lve=new jo,d8e=new Ke,zx=new Ke;class f8e extends Jo{constructor(){super(),this.type="AudioListener",this.context=tK.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new fF}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Fx,lve,d8e),zx.set(0,0,-1).applyQuaternion(lve),t.positionX){const o=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Fx.x,o),t.positionY.linearRampToValueAtTime(Fx.y,o),t.positionZ.linearRampToValueAtTime(Fx.z,o),t.forwardX.linearRampToValueAtTime(zx.x,o),t.forwardY.linearRampToValueAtTime(zx.y,o),t.forwardZ.linearRampToValueAtTime(zx.z,o),t.upX.linearRampToValueAtTime(r.x,o),t.upY.linearRampToValueAtTime(r.y,o),t.upZ.linearRampToValueAtTime(r.z,o)}else t.setPosition(Fx.x,Fx.y,Fx.z),t.setOrientation(zx.x,zx.y,zx.z,r.x,r.y,r.z)}}class VSe extends Jo{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ux=new Ke,uve=new jo,h8e=new Ke,jx=new Ke;class p8e extends VSe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ux,uve,h8e),jx.set(0,0,1).applyQuaternion(uve);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Ux.x,r),t.positionY.linearRampToValueAtTime(Ux.y,r),t.positionZ.linearRampToValueAtTime(Ux.z,r),t.orientationX.linearRampToValueAtTime(jx.x,r),t.orientationY.linearRampToValueAtTime(jx.y,r),t.orientationZ.linearRampToValueAtTime(jx.z,r)}else t.setPosition(Ux.x,Ux.y,Ux.z),t.setOrientation(jx.x,jx.y,jx.z)}}class m8e{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class WSe{constructor(e,t,r){this.binding=e,this.valueSize=r;let o,a,c;switch(t){case"quaternion":o=this._slerp,a=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":o=this._select,a=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:o=this._lerp,a=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=o,this._mixBufferRegionAdditive=a,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,o=this.valueSize,a=e*o+o;let c=this.cumulativeWeight;if(c===0){for(let p=0;p!==o;++p)r[a+p]=r[p];c=t}else{c+=t;const p=t/c;this._mixBufferRegion(r,a,0,p,o)}this.cumulativeWeight=c}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,o=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,o,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,o=e*t+t,a=this.cumulativeWeight,c=this.cumulativeWeightAdditive,p=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const g=t*this._origIndex;this._mixBufferRegion(r,o,g,1-a,t)}c>0&&this._mixBufferRegionAdditive(r,o,this._addIndex*t,1,t);for(let g=t,_=t+t;g!==_;++g)if(r[g]!==r[g+t]){p.setValue(r,o);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,o=r*this._origIndex;e.getValue(t,o);for(let a=r,c=o;a!==c;++a)t[a]=t[o+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,o,a){if(o>=.5)for(let c=0;c!==a;++c)e[t+c]=e[r+c]}_slerp(e,t,r,o){jo.slerpFlat(e,t,e,t,e,r,o)}_slerpAdditive(e,t,r,o,a){const c=this._workIndex*a;jo.multiplyQuaternionsFlat(e,c,e,t,e,r),jo.slerpFlat(e,t,e,t,e,c,o)}_lerp(e,t,r,o,a){const c=1-o;for(let p=0;p!==a;++p){const g=t+p;e[g]=e[g]*c+e[r+p]*o}}_lerpAdditive(e,t,r,o,a){for(let c=0;c!==a;++c){const p=t+c;e[p]=e[p]+e[r+c]*o}}}const nK="\\[\\]\\.:\\/",g8e=new RegExp("["+nK+"]","g"),rK="[^"+nK+"]",v8e="[^"+nK.replace("\\.","")+"]",y8e=/((?:WC+[\/:])*)/.source.replace("WC",rK),_8e=/(WCOD+)?/.source.replace("WCOD",v8e),w8e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",rK),S8e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",rK),x8e=new RegExp("^"+y8e+_8e+w8e+S8e+"$"),b8e=["material","materials","bones","map"];class E8e{constructor(e,t,r){const o=r||hs.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,o)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,o=this._bindings[r];o!==void 0&&o.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let o=this._targetGroup.nCachedObjects_,a=r.length;o!==a;++o)r[o].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class hs{constructor(e,t,r){this.path=t,this.parsedPath=r||hs.parseTrackName(t),this.node=hs.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new hs.Composite(e,t,r):new hs(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(g8e,"")}static parseTrackName(e){const t=x8e.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(o!==void 0&&o!==-1){const a=r.nodeName.substring(o+1);b8e.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let c=0;c<a.length;c++){const p=a[c];if(p.name===t||p.uuid===t)return p;const g=r(p.children);if(g)return g}return null},o=r(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let o=0,a=r.length;o!==a;++o)e[t++]=r[o]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let o=0,a=r.length;o!==a;++o)r[o]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let o=0,a=r.length;o!==a;++o)r[o]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let o=0,a=r.length;o!==a;++o)r[o]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,o=t.propertyName;let a=t.propertyIndex;if(e||(e=hs.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let _=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let b=0;b<e.length;b++)if(e[b].name===_){_=b;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(_!==void 0){if(e[_]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[_]}}const c=e[o];if(c===void 0){const _=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+_+"."+o+" but it wasn't found.",e);return}let p=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?p=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(p=this.Versioning.MatrixWorldNeedsUpdate);let g=this.BindingType.Direct;if(a!==void 0){if(o==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}g=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=a}else c.fromArray!==void 0&&c.toArray!==void 0?(g=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(g=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=o;this.getValue=this.GetterByBindingType[g],this.setValue=this.SetterByBindingTypeAndVersioning[g][p]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}hs.Composite=E8e;hs.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};hs.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};hs.prototype.GetterByBindingType=[hs.prototype._getValue_direct,hs.prototype._getValue_array,hs.prototype._getValue_arrayElement,hs.prototype._getValue_toArray];hs.prototype.SetterByBindingTypeAndVersioning=[[hs.prototype._setValue_direct,hs.prototype._setValue_direct_setNeedsUpdate,hs.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[hs.prototype._setValue_array,hs.prototype._setValue_array_setNeedsUpdate,hs.prototype._setValue_array_setMatrixWorldNeedsUpdate],[hs.prototype._setValue_arrayElement,hs.prototype._setValue_arrayElement_setNeedsUpdate,hs.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[hs.prototype._setValue_fromArray,hs.prototype._setValue_fromArray_setNeedsUpdate,hs.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class A8e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Cm(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,o=arguments.length;r!==o;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,o=this._parsedPaths,a=this._bindings,c=a.length;let p,g=e.length,_=this.nCachedObjects_;for(let b=0,C=arguments.length;b!==C;++b){const k=arguments[b],B=k.uuid;let z=t[B];if(z===void 0){z=g++,t[B]=z,e.push(k);for(let F=0,N=c;F!==N;++F)a[F].push(new hs(k,r[F],o[F]))}else if(z<_){p=e[z];const F=--_,N=e[F];t[N.uuid]=z,e[z]=N,t[B]=F,e[F]=k;for(let D=0,A=c;D!==A;++D){const G=a[D],Q=G[F];let ae=G[z];G[z]=Q,ae===void 0&&(ae=new hs(k,r[D],o[D])),G[F]=ae}}else e[z]!==p&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=_}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,o=r.length;let a=this.nCachedObjects_;for(let c=0,p=arguments.length;c!==p;++c){const g=arguments[c],_=g.uuid,b=t[_];if(b!==void 0&&b>=a){const C=a++,k=e[C];t[k.uuid]=b,e[b]=k,t[_]=C,e[C]=g;for(let B=0,z=o;B!==z;++B){const F=r[B],N=F[C],D=F[b];F[b]=N,F[C]=D}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,o=r.length;let a=this.nCachedObjects_,c=e.length;for(let p=0,g=arguments.length;p!==g;++p){const _=arguments[p],b=_.uuid,C=t[b];if(C!==void 0)if(delete t[b],C<a){const k=--a,B=e[k],z=--c,F=e[z];t[B.uuid]=C,e[C]=B,t[F.uuid]=k,e[k]=F,e.pop();for(let N=0,D=o;N!==D;++N){const A=r[N],G=A[k],Q=A[z];A[C]=G,A[k]=Q,A.pop()}}else{const k=--c,B=e[k];k>0&&(t[B.uuid]=C),e[C]=B,e.pop();for(let z=0,F=o;z!==F;++z){const N=r[z];N[C]=N[k],N.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let o=r[e];const a=this._bindings;if(o!==void 0)return a[o];const c=this._paths,p=this._parsedPaths,g=this._objects,_=g.length,b=this.nCachedObjects_,C=new Array(_);o=a.length,r[e]=o,c.push(e),p.push(t),a.push(C);for(let k=b,B=g.length;k!==B;++k){const z=g[k];C[k]=new hs(z,e,t)}return C}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const o=this._paths,a=this._parsedPaths,c=this._bindings,p=c.length-1,g=c[p],_=e[p];t[_]=r,c[r]=g,c.pop(),a[r]=a[p],a.pop(),o[r]=o[p],o.pop()}}}class XSe{constructor(e,t,r=null,o=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=o;const a=t.tracks,c=a.length,p=new Array(c),g={endingStart:tb,endingEnd:tb};for(let _=0;_!==c;++_){const b=a[_].createInterpolant(null);p[_]=b,b.settings=g}this._interpolantSettings=g,this._interpolants=p,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Owe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const o=this._clip.duration,a=e._clip.duration,c=a/o,p=o/a;e.warp(1,c,t),this.warp(p,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const o=this._mixer,a=o.time,c=this.timeScale;let p=this._timeScaleInterpolant;p===null&&(p=o._lendControlInterpolant(),this._timeScaleInterpolant=p);const g=p.parameterPositions,_=p.sampleValues;return g[0]=a,g[1]=a+r,_[0]=e/c,_[1]=t/c,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,o){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const g=(e-a)*r;g<0||r===0?t=0:(this._startTime=null,t=r*g)}t*=this._updateTimeScale(e);const c=this._updateTime(t),p=this._updateWeight(e);if(p>0){const g=this._interpolants,_=this._propertyBindings;switch(this.blendMode){case _X:for(let b=0,C=g.length;b!==C;++b)g[b].evaluate(c),_[b].accumulateAdditive(p);break;case jN:default:for(let b=0,C=g.length;b!==C;++b)g[b].evaluate(c),_[b].accumulate(o,p)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const o=r.evaluate(e)[0];t*=o,e>r.parameterPositions[1]&&(this.stopFading(),o===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const o=r.evaluate(e)[0];t*=o,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let o=this.time+e,a=this._loopCount;const c=r===Bwe;if(e===0)return a===-1?o:c&&(a&1)===1?t-o:o;if(r===Rwe){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(o>=t)o=t;else if(o<0)o=0;else{this.time=o;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),o>=t||o<0){const p=Math.floor(o/t);o-=t*p,a+=Math.abs(p);const g=this.repetitions-a;if(g<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,o=e>0?t:0,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(g===1){const _=e<0;this._setEndings(_,!_,c)}else this._setEndings(!1,!1,c);this._loopCount=a,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:p})}}else this.time=o;if(c&&(a&1)===1)return t-o}return o}_setEndings(e,t,r){const o=this._interpolantSettings;r?(o.endingStart=nb,o.endingEnd=nb):(e?o.endingStart=this.zeroSlopeAtStart?nb:tb:o.endingStart=tR,t?o.endingEnd=this.zeroSlopeAtEnd?nb:tb:o.endingEnd=tR)}_scheduleFading(e,t,r){const o=this._mixer,a=o.time;let c=this._weightInterpolant;c===null&&(c=o._lendControlInterpolant(),this._weightInterpolant=c);const p=c.parameterPositions,g=c.sampleValues;return p[0]=a,g[0]=t,p[1]=a+e,g[1]=r,this}}const C8e=new Float32Array(1);class M8e extends jv{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,o=e._clip.tracks,a=o.length,c=e._propertyBindings,p=e._interpolants,g=r.uuid,_=this._bindingsByRootAndName;let b=_[g];b===void 0&&(b={},_[g]=b);for(let C=0;C!==a;++C){const k=o[C],B=k.name;let z=b[B];if(z!==void 0)++z.referenceCount,c[C]=z;else{if(z=c[C],z!==void 0){z._cacheIndex===null&&(++z.referenceCount,this._addInactiveBinding(z,g,B));continue}const F=t&&t._propertyBindings[C].binding.parsedPath;z=new WSe(hs.create(r,B,F),k.ValueTypeName,k.getValueSize()),++z.referenceCount,this._addInactiveBinding(z,g,B),c[C]=z}p[C].resultBuffer=z.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,o=e._clip.uuid,a=this._actionsByClip[o];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,o,r)}const t=e._propertyBindings;for(let r=0,o=t.length;r!==o;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,o=t.length;r!==o;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const o=this._actions,a=this._actionsByClip;let c=a[t];if(c===void 0)c={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=c;else{const p=c.knownActions;e._byClipCacheIndex=p.length,p.push(e)}e._cacheIndex=o.length,o.push(e),c.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],o=e._cacheIndex;r._cacheIndex=o,t[o]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,c=this._actionsByClip,p=c[a],g=p.knownActions,_=g[g.length-1],b=e._byClipCacheIndex;_._byClipCacheIndex=b,g[b]=_,g.pop(),e._byClipCacheIndex=null;const C=p.actionByRoot,k=(e._localRoot||this._root).uuid;delete C[k],g.length===0&&delete c[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,o=t.length;r!==o;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,o=this._nActiveActions++,a=t[o];e._cacheIndex=o,t[o]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,o=--this._nActiveActions,a=t[o];e._cacheIndex=o,t[o]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const o=this._bindingsByRootAndName,a=this._bindings;let c=o[t];c===void 0&&(c={},o[t]=c),c[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,o=r.rootNode.uuid,a=r.path,c=this._bindingsByRootAndName,p=c[o],g=t[t.length-1],_=e._cacheIndex;g._cacheIndex=_,t[_]=g,t.pop(),delete p[a],Object.keys(p).length===0&&delete c[o]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,o=this._nActiveBindings++,a=t[o];e._cacheIndex=o,t[o]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,o=--this._nActiveBindings,a=t[o];e._cacheIndex=o,t[o]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new KX(new Float32Array(2),new Float32Array(2),1,C8e),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,o=--this._nActiveControlInterpolants,a=t[o];e.__cacheIndex=o,t[o]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const o=t||this._root,a=o.uuid;let c=typeof e=="string"?gM.findByName(o,e):e;const p=c!==null?c.uuid:e,g=this._actionsByClip[p];let _=null;if(r===void 0&&(c!==null?r=c.blendMode:r=jN),g!==void 0){const C=g.actionByRoot[a];if(C!==void 0&&C.blendMode===r)return C;_=g.knownActions[0],c===null&&(c=_._clip)}if(c===null)return null;const b=new XSe(this,c,t,r);return this._bindAction(b,_),this._addInactiveAction(b,p,a),b}existingAction(e,t){const r=t||this._root,o=r.uuid,a=typeof e=="string"?gM.findByName(r,e):e,c=a?a.uuid:e,p=this._actionsByClip[c];return p!==void 0&&p.actionByRoot[o]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,o=this.time+=e,a=Math.sign(e),c=this._accuIndex^=1;for(let _=0;_!==r;++_)t[_]._update(o,e,a,c);const p=this._bindings,g=this._nActiveBindings;for(let _=0;_!==g;++_)p[_].apply(c);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,o=this._actionsByClip,a=o[r];if(a!==void 0){const c=a.knownActions;for(let p=0,g=c.length;p!==g;++p){const _=c[p];this._deactivateAction(_);const b=_._cacheIndex,C=t[t.length-1];_._cacheIndex=null,_._byClipCacheIndex=null,C._cacheIndex=b,t[b]=C,t.pop(),this._removeInactiveBindingsForAction(_)}delete o[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const c in r){const p=r[c].actionByRoot,g=p[t];g!==void 0&&(this._deactivateAction(g),this._removeInactiveAction(g))}const o=this._bindingsByRootAndName,a=o[t];if(a!==void 0)for(const c in a){const p=a[c];p.restoreOriginalState(),this._removeInactiveBinding(p)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class iK{constructor(e){this.value=e}clone(){return new iK(this.value.clone===void 0?this.value:this.value.clone())}}let T8e=0;class P8e extends jv{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:T8e++}),this.name="",this.usage=nR,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,o=t.length;r<o;r++)this.uniforms.push(t[r].clone());return this}clone(){return new this.constructor().copy(this)}}class k8e extends jR{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class I8e{constructor(e,t,r,o,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=o,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class LM{constructor(e,t,r=0,o=1/0){this.ray=new IM(e,t),this.near=r,this.far=o,this.camera=null,this.layers=new Ov,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return DV(e,this,r,t),r.sort(cve),r}intersectObjects(e,t=!0,r=[]){for(let o=0,a=e.length;o<a;o++)DV(e[o],this,r,t);return r.sort(cve),r}}function cve(n,e){return n.distance-e.distance}function DV(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const o=n.children;for(let a=0,c=o.length;a<c;a++)DV(o[a],e,t,!0)}}class JL{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Mu(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class R8e{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const dve=new Vn;class O8e{constructor(e=new Vn(1/0,1/0),t=new Vn(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=dve.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,dve).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const fve=new Ke,z4=new Ke;class B8e{constructor(e=new Ke,t=new Ke){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){fve.subVectors(e,this.start),z4.subVectors(this.end,this.start);const r=z4.dot(z4);let a=z4.dot(fve)/r;return t&&(a=Mu(a,0,1)),a}closestPointToPoint(e,t,r){const o=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(o).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const hve=new Ke;class KSe extends Jo{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new yo,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,p=1,g=32;c<g;c++,p++){const _=c/g*Math.PI*2,b=p/g*Math.PI*2;o.push(Math.cos(_),Math.sin(_),1,Math.cos(b),Math.sin(b),1)}r.setAttribute("position",new _i(o,3));const a=new xf({fog:!1,toneMapped:!1});this.cone=new z0(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),hve.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(hve),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rw=new Ke,U4=new Qi,F7=new Qi;class D8e extends z0{constructor(e){const t=YSe(e),r=new yo,o=[],a=[],c=new Ir(0,0,1),p=new Ir(0,1,0);for(let _=0;_<t.length;_++){const b=t[_];b.parent&&b.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),a.push(c.r,c.g,c.b),a.push(p.r,p.g,p.b))}r.setAttribute("position",new _i(o,3)),r.setAttribute("color",new _i(a,3));const g=new xf({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,g),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,o=r.getAttribute("position");F7.copy(this.root.matrixWorld).invert();for(let a=0,c=0;a<t.length;a++){const p=t[a];p.parent&&p.parent.isBone&&(U4.multiplyMatrices(F7,p.matrixWorld),rw.setFromMatrixPosition(U4),o.setXYZ(c,rw.x,rw.y,rw.z),U4.multiplyMatrices(F7,p.parent.matrixWorld),rw.setFromMatrixPosition(U4),o.setXYZ(c+1,rw.x,rw.y,rw.z),c+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function YSe(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,YSe(n.children[t]));return e}class QSe extends ni{constructor(e,t,r){const o=new BM(t,4,2),a=new yf({wireframe:!0,fog:!1,toneMapped:!1});super(o,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const L8e=new Ke,pve=new Ir,mve=new Ir;class N8e extends Jo{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const o=new gg(t);o.rotateY(Math.PI*.5),this.material=new yf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=o.getAttribute("position"),c=new Float32Array(a.count*3);o.setAttribute("color",new Bs(c,3)),this.add(new ni(o,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");pve.copy(this.light.color),mve.copy(this.light.groundColor);for(let r=0,o=t.count;r<o;r++){const a=r<o/2?pve:mve;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(L8e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class F8e extends z0{constructor(e=10,t=10,r=4473924,o=8947848){r=new Ir(r),o=new Ir(o);const a=t/2,c=e/t,p=e/2,g=[],_=[];for(let k=0,B=0,z=-p;k<=t;k++,z+=c){g.push(-p,0,z,p,0,z),g.push(z,0,-p,z,0,p);const F=k===a?r:o;F.toArray(_,B),B+=3,F.toArray(_,B),B+=3,F.toArray(_,B),B+=3,F.toArray(_,B),B+=3}const b=new yo;b.setAttribute("position",new _i(g,3)),b.setAttribute("color",new _i(_,3));const C=new xf({vertexColors:!0,toneMapped:!1});super(b,C),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class z8e extends z0{constructor(e=10,t=16,r=8,o=64,a=4473924,c=8947848){a=new Ir(a),c=new Ir(c);const p=[],g=[];if(t>1)for(let C=0;C<t;C++){const k=C/t*(Math.PI*2),B=Math.sin(k)*e,z=Math.cos(k)*e;p.push(0,0,0),p.push(B,0,z);const F=C&1?a:c;g.push(F.r,F.g,F.b),g.push(F.r,F.g,F.b)}for(let C=0;C<r;C++){const k=C&1?a:c,B=e-e/r*C;for(let z=0;z<o;z++){let F=z/o*(Math.PI*2),N=Math.sin(F)*B,D=Math.cos(F)*B;p.push(N,0,D),g.push(k.r,k.g,k.b),F=(z+1)/o*(Math.PI*2),N=Math.sin(F)*B,D=Math.cos(F)*B,p.push(N,0,D),g.push(k.r,k.g,k.b)}}const _=new yo;_.setAttribute("position",new _i(p,3)),_.setAttribute("color",new _i(g,3));const b=new xf({vertexColors:!0,toneMapped:!1});super(_,b),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gve=new Ke,j4=new Ke,vve=new Ke;class qSe extends Jo{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let o=new yo;o.setAttribute("position",new _i([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new xf({fog:!1,toneMapped:!1});this.lightPlane=new Do(o,a),this.add(this.lightPlane),o=new yo,o.setAttribute("position",new _i([0,0,0,0,0,1],3)),this.targetLine=new Do(o,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gve.setFromMatrixPosition(this.light.matrixWorld),j4.setFromMatrixPosition(this.light.target.matrixWorld),vve.subVectors(j4,gve),this.lightPlane.lookAt(j4),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(j4),this.targetLine.scale.z=vve.length()}}const H4=new Ke,bu=new RM;class JSe extends z0{constructor(e){const t=new yo,r=new xf({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],a=[],c={};p("n1","n2"),p("n2","n4"),p("n4","n3"),p("n3","n1"),p("f1","f2"),p("f2","f4"),p("f4","f3"),p("f3","f1"),p("n1","f1"),p("n2","f2"),p("n3","f3"),p("n4","f4"),p("p","n1"),p("p","n2"),p("p","n3"),p("p","n4"),p("u1","u2"),p("u2","u3"),p("u3","u1"),p("c","t"),p("p","c"),p("cn1","cn2"),p("cn3","cn4"),p("cf1","cf2"),p("cf3","cf4");function p(z,F){g(z),g(F)}function g(z){o.push(0,0,0),a.push(0,0,0),c[z]===void 0&&(c[z]=[]),c[z].push(o.length/3-1)}t.setAttribute("position",new _i(o,3)),t.setAttribute("color",new _i(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update();const _=new Ir(16755200),b=new Ir(16711680),C=new Ir(43775),k=new Ir(16777215),B=new Ir(3355443);this.setColors(_,b,C,k,B)}setColors(e,t,r,o,a){const p=this.geometry.getAttribute("color");p.setXYZ(0,e.r,e.g,e.b),p.setXYZ(1,e.r,e.g,e.b),p.setXYZ(2,e.r,e.g,e.b),p.setXYZ(3,e.r,e.g,e.b),p.setXYZ(4,e.r,e.g,e.b),p.setXYZ(5,e.r,e.g,e.b),p.setXYZ(6,e.r,e.g,e.b),p.setXYZ(7,e.r,e.g,e.b),p.setXYZ(8,e.r,e.g,e.b),p.setXYZ(9,e.r,e.g,e.b),p.setXYZ(10,e.r,e.g,e.b),p.setXYZ(11,e.r,e.g,e.b),p.setXYZ(12,e.r,e.g,e.b),p.setXYZ(13,e.r,e.g,e.b),p.setXYZ(14,e.r,e.g,e.b),p.setXYZ(15,e.r,e.g,e.b),p.setXYZ(16,e.r,e.g,e.b),p.setXYZ(17,e.r,e.g,e.b),p.setXYZ(18,e.r,e.g,e.b),p.setXYZ(19,e.r,e.g,e.b),p.setXYZ(20,e.r,e.g,e.b),p.setXYZ(21,e.r,e.g,e.b),p.setXYZ(22,e.r,e.g,e.b),p.setXYZ(23,e.r,e.g,e.b),p.setXYZ(24,t.r,t.g,t.b),p.setXYZ(25,t.r,t.g,t.b),p.setXYZ(26,t.r,t.g,t.b),p.setXYZ(27,t.r,t.g,t.b),p.setXYZ(28,t.r,t.g,t.b),p.setXYZ(29,t.r,t.g,t.b),p.setXYZ(30,t.r,t.g,t.b),p.setXYZ(31,t.r,t.g,t.b),p.setXYZ(32,r.r,r.g,r.b),p.setXYZ(33,r.r,r.g,r.b),p.setXYZ(34,r.r,r.g,r.b),p.setXYZ(35,r.r,r.g,r.b),p.setXYZ(36,r.r,r.g,r.b),p.setXYZ(37,r.r,r.g,r.b),p.setXYZ(38,o.r,o.g,o.b),p.setXYZ(39,o.r,o.g,o.b),p.setXYZ(40,a.r,a.g,a.b),p.setXYZ(41,a.r,a.g,a.b),p.setXYZ(42,a.r,a.g,a.b),p.setXYZ(43,a.r,a.g,a.b),p.setXYZ(44,a.r,a.g,a.b),p.setXYZ(45,a.r,a.g,a.b),p.setXYZ(46,a.r,a.g,a.b),p.setXYZ(47,a.r,a.g,a.b),p.setXYZ(48,a.r,a.g,a.b),p.setXYZ(49,a.r,a.g,a.b),p.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,o=1;bu.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ec("c",t,e,bu,0,0,-1),ec("t",t,e,bu,0,0,1),ec("n1",t,e,bu,-r,-o,-1),ec("n2",t,e,bu,r,-o,-1),ec("n3",t,e,bu,-r,o,-1),ec("n4",t,e,bu,r,o,-1),ec("f1",t,e,bu,-r,-o,1),ec("f2",t,e,bu,r,-o,1),ec("f3",t,e,bu,-r,o,1),ec("f4",t,e,bu,r,o,1),ec("u1",t,e,bu,r*.7,o*1.1,-1),ec("u2",t,e,bu,-r*.7,o*1.1,-1),ec("u3",t,e,bu,0,o*2,-1),ec("cf1",t,e,bu,-r,0,1),ec("cf2",t,e,bu,r,0,1),ec("cf3",t,e,bu,0,-o,1),ec("cf4",t,e,bu,0,o,1),ec("cn1",t,e,bu,-r,0,-1),ec("cn2",t,e,bu,r,0,-1),ec("cn3",t,e,bu,0,-o,-1),ec("cn4",t,e,bu,0,o,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ec(n,e,t,r,o,a,c){H4.set(o,a,c).unproject(r);const p=e[n];if(p!==void 0){const g=t.getAttribute("position");for(let _=0,b=p.length;_<b;_++)g.setXYZ(p[_],H4.x,H4.y,H4.z)}}const G4=new F0;class ZL extends z0{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(8*3),a=new yo;a.setIndex(new Bs(r,1)),a.setAttribute("position",new Bs(o,3)),super(a,new xf({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&G4.setFromObject(this.object),G4.isEmpty())return;const t=G4.min,r=G4.max,o=this.geometry.attributes.position,a=o.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=t.x,a[4]=r.y,a[5]=r.z,a[6]=t.x,a[7]=t.y,a[8]=r.z,a[9]=r.x,a[10]=t.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=t.z,a[15]=t.x,a[16]=r.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=r.x,a[22]=t.y,a[23]=t.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class U8e extends z0{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new yo;a.setIndex(new Bs(r,1)),a.setAttribute("position",new _i(o,3)),super(a,new xf({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class j8e extends Do{constructor(e,t=1,r=16776960){const o=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],c=new yo;c.setAttribute("position",new _i(a,3)),c.computeBoundingSphere(),super(c,new xf({color:o,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const p=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],g=new yo;g.setAttribute("position",new _i(p,3)),g.computeBoundingSphere(),this.add(new ni(g,new yf({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const yve=new Ke;let V4,z7;class H8e extends Jo{constructor(e=new Ke(0,0,1),t=new Ke(0,0,0),r=1,o=16776960,a=r*.2,c=a*.2){super(),this.type="ArrowHelper",V4===void 0&&(V4=new yo,V4.setAttribute("position",new _i([0,0,0,0,1,0],3)),z7=new pf(0,.5,1,5,1),z7.translate(0,-.5,0)),this.position.copy(t),this.line=new Do(V4,new xf({color:o,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ni(z7,new yf({color:o,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,c)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{yve.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(yve,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class G8e extends z0{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new yo;o.setAttribute("position",new _i(t,3)),o.setAttribute("color",new _i(r,3));const a=new xf({vertexColors:!0,toneMapped:!1});super(o,a),this.type="AxesHelper"}setColors(e,t,r){const o=new Ir,a=this.geometry.attributes.color.array;return o.set(e),o.toArray(a,0),o.toArray(a,3),o.set(t),o.toArray(a,6),o.toArray(a,9),o.set(r),o.toArray(a,12),o.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class V8e{constructor(){this.type="ShapePath",this.color=new Ir,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new oR,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,o){return this.currentPath.quadraticCurveTo(e,t,r,o),this}bezierCurveTo(e,t,r,o,a,c){return this.currentPath.bezierCurveTo(e,t,r,o,a,c),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(D){const A=[];for(let G=0,Q=D.length;G<Q;G++){const ae=D[G],Y=new fb;Y.curves=ae.curves,A.push(Y)}return A}function r(D,A){const G=A.length;let Q=!1;for(let ae=G-1,Y=0;Y<G;ae=Y++){let ge=A[ae],_e=A[Y],J=_e.x-ge.x,Se=_e.y-ge.y;if(Math.abs(Se)>Number.EPSILON){if(Se<0&&(ge=A[Y],J=-J,_e=A[ae],Se=-Se),D.y<ge.y||D.y>_e.y)continue;if(D.y===ge.y){if(D.x===ge.x)return!0}else{const Be=Se*(D.x-ge.x)-J*(D.y-ge.y);if(Be===0)return!0;if(Be<0)continue;Q=!Q}}else{if(D.y!==ge.y)continue;if(_e.x<=D.x&&D.x<=ge.x||ge.x<=D.x&&D.x<=_e.x)return!0}}return Q}const o=Bv.isClockWise,a=this.subPaths;if(a.length===0)return[];let c,p,g;const _=[];if(a.length===1)return p=a[0],g=new fb,g.curves=p.curves,_.push(g),_;let b=!o(a[0].getPoints());b=e?!b:b;const C=[],k=[];let B=[],z=0,F;k[z]=void 0,B[z]=[];for(let D=0,A=a.length;D<A;D++)p=a[D],F=p.getPoints(),c=o(F),c=e?!c:c,c?(!b&&k[z]&&z++,k[z]={s:new fb,p:F},k[z].s.curves=p.curves,b&&z++,B[z]=[]):B[z].push({h:p,p:F[0]});if(!k[0])return t(a);if(k.length>1){let D=!1,A=0;for(let G=0,Q=k.length;G<Q;G++)C[G]=[];for(let G=0,Q=k.length;G<Q;G++){const ae=B[G];for(let Y=0;Y<ae.length;Y++){const ge=ae[Y];let _e=!0;for(let J=0;J<k.length;J++)r(ge.p,k[J].p)&&(G!==J&&A++,_e?(_e=!1,C[J].push(ge)):D=!0);_e&&C[G].push(ge)}}A>0&&D===!1&&(B=C)}let N;for(let D=0,A=k.length;D<A;D++){g=k[D].s,_.push(g),N=B[D];for(let G=0,Q=N.length;G<Q;G++)g.holes.push(N[G].h)}return _}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:PM}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=PM);const ZSe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:NN,AddEquation:$x,AddOperation:_we,AdditiveAnimationBlendMode:_X,AdditiveBlending:eV,AlphaFormat:Cwe,AlwaysCompare:Kwe,AlwaysDepth:fwe,AlwaysStencilFunc:zwe,AmbientLight:FSe,AmbientLightProbe:u8e,AnimationAction:XSe,AnimationClip:gM,AnimationLoader:e8e,AnimationMixer:M8e,AnimationObjectGroup:A8e,AnimationUtils:q6e,ArcCurve:hSe,ArrayCamera:lSe,ArrowHelper:H8e,Audio:VSe,AudioAnalyser:m8e,AudioContext:tK,AudioListener:f8e,AudioLoader:a8e,AxesHelper:G8e,BackSide:Xh,BasicDepthPacking:Lwe,BasicShadowMap:uX,Bone:YN,BooleanKeyframeTrack:kb,Box2:O8e,Box3:F0,Box3Helper:U8e,BoxGeometry:Ip,BoxHelper:ZL,BufferAttribute:Bs,BufferGeometry:yo,BufferGeometryLoader:HSe,ByteType:Ewe,Cache:xb,Camera:RM,CameraHelper:JSe,CanvasTexture:w6e,CapsuleGeometry:$N,CatmullRomCurve3:pSe,CineonToneMapping:xwe,CircleGeometry:eF,ClampToEdgeWrapping:gf,Clock:fF,Color:Ir,ColorKeyframeTrack:YX,ColorManagement:fg,CompressedArrayTexture:y6e,CompressedCubeTexture:_6e,CompressedTexture:qN,CompressedTextureLoader:t8e,ConeGeometry:tF,CubeCamera:tSe,CubeReflectionMapping:zv,CubeRefractionMapping:Lw,CubeTexture:UR,CubeTextureLoader:DSe,CubeUVReflectionMapping:kM,CubicBezierCurve:zX,CubicBezierCurve3:mSe,CubicInterpolant:ISe,CullFaceBack:$G,CullFaceFront:Z_e,CullFaceFrontBack:v5e,CullFaceNone:J_e,Curve:U0,CurvePath:vSe,CustomBlending:$_e,CustomToneMapping:bwe,CylinderGeometry:pf,Cylindrical:R8e,Data3DTexture:AX,DataArrayTexture:HN,DataTexture:ZC,DataTextureLoader:qX,DataUtils:ib,DecrementStencilOp:C5e,DecrementWrapStencilOp:T5e,DefaultLoadingManager:BSe,DepthFormat:xw,DepthStencilFormat:yb,DepthTexture:RX,DirectionalLight:eK,DirectionalLightHelper:qSe,DiscreteInterpolant:RSe,DisplayP3ColorSpace:xX,DodecahedronGeometry:nF,DoubleSide:mf,DstAlphaFactor:swe,DstColorFactor:lwe,DynamicCopyUsage:G5e,DynamicDrawUsage:N5e,DynamicReadUsage:U5e,EdgesGeometry:ySe,EllipseCurve:JN,EqualCompare:Hwe,EqualDepth:pwe,EqualStencilFunc:R5e,EquirectangularReflectionMapping:lM,EquirectangularRefractionMapping:$I,Euler:Pb,EventDispatcher:jv,ExtrudeGeometry:iF,FileLoader:Tm,Float16BufferAttribute:I4e,Float32BufferAttribute:_i,Float64BufferAttribute:R4e,FloatType:vf,Fog:KN,FogExp2:XN,FramebufferTexture:v6e,FrontSide:Fv,Frustum:GN,GLBufferAttribute:I8e,GLSL1:W5e,GLSL3:YL,GreaterCompare:Vwe,GreaterDepth:gwe,GreaterEqualCompare:Xwe,GreaterEqualDepth:mwe,GreaterEqualStencilFunc:L5e,GreaterStencilFunc:B5e,GridHelper:F8e,Group:Rv,HalfFloatType:uh,HemisphereLight:NSe,HemisphereLightHelper:N8e,HemisphereLightProbe:l8e,IcosahedronGeometry:VR,ImageBitmapLoader:GSe,ImageLoader:uR,ImageUtils:EX,IncrementStencilOp:A5e,IncrementWrapStencilOp:M5e,InstancedBufferAttribute:hM,InstancedBufferGeometry:jSe,InstancedInterleavedBuffer:k8e,InstancedMesh:DX,Int16BufferAttribute:P4e,Int32BufferAttribute:k4e,Int8BufferAttribute:C4e,IntType:fX,InterleavedBuffer:jR,InterleavedBufferAttribute:Fw,Interpolant:DM,InterpolateDiscrete:cM,InterpolateLinear:_b,InterpolateSmooth:TL,InvertStencilOp:P5e,KeepStencilOp:PL,KeyframeTrack:j0,LOD:fSe,LatheGeometry:GR,Layers:Ov,LessCompare:jwe,LessDepth:hwe,LessEqualCompare:Gwe,LessEqualDepth:XL,LessEqualStencilFunc:O5e,LessStencilFunc:I5e,Light:Xw,LightProbe:cF,Line:Do,Line3:B8e,LineBasicMaterial:xf,LineCurve:ZN,LineCurve3:gSe,LineDashedMaterial:PSe,LineLoop:LX,LineSegments:z0,LinearEncoding:SX,LinearFilter:aa,LinearInterpolant:KX,LinearMipMapLinearFilter:x5e,LinearMipMapNearestFilter:S5e,LinearMipmapLinearFilter:Uv,LinearMipmapNearestFilter:zN,LinearSRGBColorSpace:L0,LinearToneMapping:wwe,Loader:fh,LoaderUtils:Dv,LoadingManager:QX,LoopOnce:Rwe,LoopPingPong:Bwe,LoopRepeat:Owe,LuminanceAlphaFormat:Twe,LuminanceFormat:Mwe,MOUSE:Xx,Material:nc,MaterialLoader:dF,MathUtils:Qwe,Matrix3:Lo,Matrix4:Qi,MaxEquation:iV,Mesh:ni,MeshBasicMaterial:yf,MeshDepthMaterial:kX,MeshDistanceMaterial:IX,MeshLambertMaterial:MSe,MeshMatcapMaterial:TSe,MeshNormalMaterial:CSe,MeshPhongMaterial:VX,MeshPhysicalMaterial:Hv,MeshStandardMaterial:WR,MeshToonMaterial:ASe,MinEquation:rV,MirroredRepeatWrapping:uM,MixOperation:ywe,MultiplyBlending:nV,MultiplyOperation:zR,NearestFilter:Cu,NearestMipMapLinearFilter:w5e,NearestMipMapNearestFilter:_5e,NearestMipmapLinearFilter:qC,NearestMipmapNearestFilter:eR,NeverCompare:Uwe,NeverDepth:dwe,NeverStencilFunc:k5e,NoBlending:g1,NoColorSpace:Ew,NoToneMapping:R0,NormalAnimationBlendMode:jN,NormalBlending:cb,NotEqualCompare:Wwe,NotEqualDepth:vwe,NotEqualStencilFunc:D5e,NumberKeyframeTrack:pM,Object3D:Jo,ObjectLoader:o8e,ObjectSpaceNormalMap:Fwe,OctahedronGeometry:gg,OneFactor:rwe,OneMinusDstAlphaFactor:awe,OneMinusDstColorFactor:uwe,OneMinusSrcAlphaFactor:dX,OneMinusSrcColorFactor:owe,OrthographicCamera:Lp,PCFShadowMap:FR,PCFSoftShadowMap:ww,PMREMGenerator:PV,Path:oR,PerspectiveCamera:Da,Plane:cw,PlaneGeometry:xm,PlaneHelper:j8e,PointLight:$X,PointLightHelper:QSe,Points:NX,PointsMaterial:QN,PolarGridHelper:z8e,PolyhedronGeometry:Ww,PositionalAudio:p8e,PropertyBinding:hs,PropertyMixer:WSe,QuadraticBezierCurve:UX,QuadraticBezierCurve3:jX,Quaternion:jo,QuaternionKeyframeTrack:zw,QuaternionLinearInterpolant:OSe,RED_GREEN_RGTC2_Format:CV,RED_RGTC1_Format:Iwe,REVISION:PM,RGBADepthPacking:Nwe,RGBAFormat:ah,RGBAIntegerFormat:yX,RGBA_ASTC_10x10_Format:xV,RGBA_ASTC_10x5_Format:_V,RGBA_ASTC_10x6_Format:wV,RGBA_ASTC_10x8_Format:SV,RGBA_ASTC_12x10_Format:bV,RGBA_ASTC_12x12_Format:EV,RGBA_ASTC_4x4_Format:dV,RGBA_ASTC_5x4_Format:fV,RGBA_ASTC_5x5_Format:hV,RGBA_ASTC_6x5_Format:pV,RGBA_ASTC_6x6_Format:mV,RGBA_ASTC_8x5_Format:gV,RGBA_ASTC_8x6_Format:vV,RGBA_ASTC_8x8_Format:yV,RGBA_BPTC_Format:ML,RGBA_ETC2_EAC_Format:cV,RGBA_PVRTC_2BPPV1_Format:lV,RGBA_PVRTC_4BPPV1_Format:aV,RGBA_S3TC_DXT1_Format:EL,RGBA_S3TC_DXT3_Format:AL,RGBA_S3TC_DXT5_Format:CL,RGB_ETC1_Format:kwe,RGB_ETC2_Format:uV,RGB_PVRTC_2BPPV1_Format:sV,RGB_PVRTC_4BPPV1_Format:oV,RGB_S3TC_DXT1_Format:bL,RGFormat:Pwe,RGIntegerFormat:vX,RawShaderMaterial:ESe,Ray:IM,Raycaster:LM,RectAreaLight:zSe,RedFormat:mX,RedIntegerFormat:gX,ReinhardToneMapping:Swe,RenderTarget:Jwe,RepeatWrapping:Nw,ReplaceStencilOp:E5e,ReverseSubtractEquation:twe,RingGeometry:oF,SIGNED_RED_GREEN_RGTC2_Format:MV,SIGNED_RED_RGTC1_Format:AV,SRGBColorSpace:Io,Scene:wb,ShaderChunk:Oo,ShaderLib:k0,ShaderMaterial:Eg,ShadowMaterial:bSe,Shape:fb,ShapeGeometry:sF,ShapePath:V8e,ShapeUtils:Bv,ShortType:Awe,Skeleton:HR,SkeletonHelper:D8e,SkinnedMesh:BX,Source:rb,Sphere:Mg,SphereGeometry:BM,Spherical:JL,SphericalHarmonics3:USe,SplineCurve:HX,SpotLight:ZX,SpotLightHelper:KSe,Sprite:dSe,SpriteMaterial:OX,SrcAlphaFactor:cX,SrcAlphaSaturateFactor:cwe,SrcColorFactor:iwe,StaticCopyUsage:H5e,StaticDrawUsage:nR,StaticReadUsage:z5e,StereoCamera:c8e,StreamCopyUsage:V5e,StreamDrawUsage:F5e,StreamReadUsage:j5e,StringKeyframeTrack:Ib,SubtractEquation:ewe,SubtractiveBlending:tV,TOUCH:Kx,TangentSpaceNormalMap:Vw,TetrahedronGeometry:aF,Texture:el,TextureLoader:LSe,TorusGeometry:gw,TorusKnotGeometry:lF,Triangle:Rp,TriangleFanDrawMode:KL,TriangleStripDrawMode:wX,TrianglesDrawMode:Dwe,TubeGeometry:uF,TwoPassDoubleSide:y5e,UVMapping:FN,Uint16BufferAttribute:CX,Uint32BufferAttribute:MX,Uint8BufferAttribute:M4e,Uint8ClampedBufferAttribute:T4e,Uniform:iK,UniformsGroup:P8e,UniformsLib:Kr,UniformsUtils:eSe,UnsignedByteType:O0,UnsignedInt248Type:Sw,UnsignedIntType:u1,UnsignedShort4444Type:hX,UnsignedShort5551Type:pX,UnsignedShortType:UN,VSMShadowMap:pg,Vector2:Vn,Vector3:Ke,Vector4:Es,VectorKeyframeTrack:mM,VideoTexture:g6e,WebGL1Renderer:uSe,WebGL3DRenderTarget:m4e,WebGLArrayRenderTarget:p4e,WebGLCoordinateSystem:Iv,WebGLCubeRenderTarget:TX,WebGLMultipleRenderTargets:g4e,WebGLRenderTarget:bg,WebGLRenderer:WN,WebGLUtils:aSe,WebGPUCoordinateSystem:rR,WireframeGeometry:xSe,WrapAroundEnding:tR,ZeroCurvatureEnding:tb,ZeroFactor:nwe,ZeroSlopeEnding:nb,ZeroStencilOp:b5e,_SRGBAFormat:QL,sRGBEncoding:bw},Symbol.toStringTag,{value:"Module"}));var $Se={exports:{}},Rb={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Rb.ConcurrentRoot=1;Rb.ContinuousEventPriority=4;Rb.DefaultEventPriority=16;Rb.DiscreteEventPriority=1;Rb.IdleEventPriority=536870912;Rb.LegacyRoot=0;$Se.exports=Rb;var DC=$Se.exports;function W8e(n){let e;const t=new Set,r=(_,b)=>{const C=typeof _=="function"?_(e):_;if(C!==e){const k=e;e=b?C:Object.assign({},e,C),t.forEach(B=>B(e,k))}},o=()=>e,a=(_,b=o,C=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let k=b(e);function B(){const z=b(e);if(!C(k,z)){const F=k;_(k=z,F)}}return t.add(B),()=>t.delete(B)},g={setState:r,getState:o,subscribe:(_,b,C)=>b||C?a(_,b,C):(t.add(_),()=>t.delete(_)),destroy:()=>t.clear()};return e=n(r,o,g),g}const X8e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_ve=X8e?qt.useEffect:qt.useLayoutEffect;function exe(n){const e=typeof n=="function"?W8e(n):n,t=(r=e.getState,o=Object.is)=>{const[,a]=qt.useReducer(N=>N+1,0),c=e.getState(),p=qt.useRef(c),g=qt.useRef(r),_=qt.useRef(o),b=qt.useRef(!1),C=qt.useRef();C.current===void 0&&(C.current=r(c));let k,B=!1;(p.current!==c||g.current!==r||_.current!==o||b.current)&&(k=r(c),B=!o(C.current,k)),_ve(()=>{B&&(C.current=k),p.current=c,g.current=r,_.current=o,b.current=!1});const z=qt.useRef(c);_ve(()=>{const N=()=>{try{const A=e.getState(),G=g.current(A);_.current(C.current,G)||(p.current=A,C.current=G,a())}catch{b.current=!0,a()}},D=e.subscribe(N);return e.getState()!==z.current&&N(),D},[]);const F=B?k:C.current;return qt.useDebugValue(F),F};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const o=r.length<=0;return{value:r.shift(),done:o}}}},t}var txe={exports:{}},nxe={exports:{}},rxe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(we,Te){var Ae=we.length;we.push(Te);e:for(;0<Ae;){var me=Ae-1>>>1,ce=we[me];if(0<o(ce,Te))we[me]=Te,we[Ae]=ce,Ae=me;else break e}}function t(we){return we.length===0?null:we[0]}function r(we){if(we.length===0)return null;var Te=we[0],Ae=we.pop();if(Ae!==Te){we[0]=Ae;e:for(var me=0,ce=we.length,qe=ce>>>1;me<qe;){var ht=2*(me+1)-1,wt=we[ht],et=ht+1,Nt=we[et];if(0>o(wt,Ae))et<ce&&0>o(Nt,wt)?(we[me]=Nt,we[et]=Ae,me=et):(we[me]=wt,we[ht]=Ae,me=ht);else if(et<ce&&0>o(Nt,Ae))we[me]=Nt,we[et]=Ae,me=et;else break e}}return Te}function o(we,Te){var Ae=we.sortIndex-Te.sortIndex;return Ae!==0?Ae:we.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var g=[],_=[],b=1,C=null,k=3,B=!1,z=!1,F=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(we){for(var Te=t(_);Te!==null;){if(Te.callback===null)r(_);else if(Te.startTime<=we)r(_),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=t(_)}}function Q(we){if(F=!1,G(we),!z)if(t(g)!==null)z=!0,Ze(ae);else{var Te=t(_);Te!==null&&mt(Q,Te.startTime-we)}}function ae(we,Te){z=!1,F&&(F=!1,D(_e),_e=-1),B=!0;var Ae=k;try{for(G(Te),C=t(g);C!==null&&(!(C.expirationTime>Te)||we&&!Be());){var me=C.callback;if(typeof me=="function"){C.callback=null,k=C.priorityLevel;var ce=me(C.expirationTime<=Te);Te=n.unstable_now(),typeof ce=="function"?C.callback=ce:C===t(g)&&r(g),G(Te)}else r(g);C=t(g)}if(C!==null)var qe=!0;else{var ht=t(_);ht!==null&&mt(Q,ht.startTime-Te),qe=!1}return qe}finally{C=null,k=Ae,B=!1}}var Y=!1,ge=null,_e=-1,J=5,Se=-1;function Be(){return!(n.unstable_now()-Se<J)}function _t(){if(ge!==null){var we=n.unstable_now();Se=we;var Te=!0;try{Te=ge(!0,we)}finally{Te?Ve():(Y=!1,ge=null)}}else Y=!1}var Ve;if(typeof A=="function")Ve=function(){A(_t)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ot=xe.port2;xe.port1.onmessage=_t,Ve=function(){ot.postMessage(null)}}else Ve=function(){N(_t,0)};function Ze(we){ge=we,Y||(Y=!0,Ve())}function mt(we,Te){_e=N(function(){we(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(we){we.callback=null},n.unstable_continueExecution=function(){z||B||(z=!0,Ze(ae))},n.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<we?Math.floor(1e3/we):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(we){switch(k){case 1:case 2:case 3:var Te=3;break;default:Te=k}var Ae=k;k=Te;try{return we()}finally{k=Ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(we,Te){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var Ae=k;k=we;try{return Te()}finally{k=Ae}},n.unstable_scheduleCallback=function(we,Te,Ae){var me=n.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?me+Ae:me):Ae=me,we){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Ae+ce,we={id:b++,callback:Te,priorityLevel:we,startTime:Ae,expirationTime:ce,sortIndex:-1},Ae>me?(we.sortIndex=Ae,e(_,we),t(g)===null&&we===t(_)&&(F?(D(_e),_e=-1):F=!0,mt(Q,Ae-me))):(we.sortIndex=ce,e(g,we),z||B||(z=!0,Ze(ae))),we},n.unstable_shouldYield=Be,n.unstable_wrapCallback=function(we){var Te=k;return function(){var Ae=k;k=Te;try{return we.apply(this,arguments)}finally{k=Ae}}}})(rxe);nxe.exports=rxe;var LV=nxe.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K8e=function(e){var t={},r=qt,o=LV,a=Object.assign;function c(S){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+S,d=1;d<arguments.length;d++)s+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+S+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,g=Symbol.for("react.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),z=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),ae=Symbol.iterator;function Y(S){return S===null||typeof S!="object"?null:(S=ae&&S[ae]||S["@@iterator"],typeof S=="function"?S:null)}function ge(S){if(S==null)return null;if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case b:return"Fragment";case _:return"Portal";case k:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case z:return(S.displayName||"Context")+".Consumer";case B:return(S._context.displayName||"Context")+".Provider";case F:var s=S.render;return S=S.displayName,S||(S=s.displayName||s.name||"",S=S!==""?"ForwardRef("+S+")":"ForwardRef"),S;case A:return s=S.displayName||null,s!==null?s:ge(S.type)||"Memo";case G:s=S._payload,S=S._init;try{return ge(S(s))}catch{}}return null}function _e(S){var s=S.type;switch(S.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return S=s.render,S=S.displayName||S.name||"",s.displayName||(S!==""?"ForwardRef("+S+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function J(S){var s=S,d=S;if(S.alternate)for(;s.return;)s=s.return;else{S=s;do s=S,s.flags&4098&&(d=s.return),S=s.return;while(S)}return s.tag===3?d:null}function Se(S){if(J(S)!==S)throw Error(c(188))}function Be(S){var s=S.alternate;if(!s){if(s=J(S),s===null)throw Error(c(188));return s!==S?null:S}for(var d=S,x=s;;){var I=d.return;if(I===null)break;var U=I.alternate;if(U===null){if(x=I.return,x!==null){d=x;continue}break}if(I.child===U.child){for(U=I.child;U;){if(U===d)return Se(I),S;if(U===x)return Se(I),s;U=U.sibling}throw Error(c(188))}if(d.return!==x.return)d=I,x=U;else{for(var ne=!1,Pe=I.child;Pe;){if(Pe===d){ne=!0,d=I,x=U;break}if(Pe===x){ne=!0,x=I,d=U;break}Pe=Pe.sibling}if(!ne){for(Pe=U.child;Pe;){if(Pe===d){ne=!0,d=U,x=I;break}if(Pe===x){ne=!0,x=U,d=I;break}Pe=Pe.sibling}if(!ne)throw Error(c(189))}}if(d.alternate!==x)throw Error(c(190))}if(d.tag!==3)throw Error(c(188));return d.stateNode.current===d?S:s}function _t(S){return S=Be(S),S!==null?Ve(S):null}function Ve(S){if(S.tag===5||S.tag===6)return S;for(S=S.child;S!==null;){var s=Ve(S);if(s!==null)return s;S=S.sibling}return null}function xe(S){if(S.tag===5||S.tag===6)return S;for(S=S.child;S!==null;){if(S.tag!==4){var s=xe(S);if(s!==null)return s}S=S.sibling}return null}var ot=Array.isArray,Ze=e.getPublicInstance,mt=e.getRootHostContext,we=e.getChildHostContext,Te=e.prepareForCommit,Ae=e.resetAfterCommit,me=e.createInstance,ce=e.appendInitialChild,qe=e.finalizeInitialChildren,ht=e.prepareUpdate,wt=e.shouldSetTextContent,et=e.createTextInstance,Nt=e.scheduleTimeout,Ot=e.cancelTimeout,an=e.noTimeout,fn=e.isPrimaryRenderer,nn=e.supportsMutation,Ye=e.supportsPersistence,Xt=e.supportsHydration,Ft=e.getInstanceFromNode,Zt=e.preparePortalMount,mn=e.getCurrentEventPriority,jn=e.detachDeletedInstance,Wn=e.supportsMicrotasks,tr=e.scheduleMicrotask,_r=e.supportsTestSelectors,Vr=e.findFiberRoot,si=e.getBoundingRect,ct=e.getTextContent,De=e.isHiddenSubtree,Ut=e.matchAccessibilityRole,Kn=e.setFocusIfFocusable,Fn=e.setupIntersectionObserver,Xn=e.appendChild,xr=e.appendChildToContainer,nr=e.commitTextUpdate,it=e.commitMount,En=e.commitUpdate,Ln=e.insertBefore,Yn=e.insertInContainerBefore,br=e.removeChild,vr=e.removeChildFromContainer,Wr=e.resetTextContent,ci=e.hideInstance,Ct=e.hideTextInstance,Kt=e.unhideInstance,gn=e.unhideTextInstance,rr=e.clearContainer,Gn=e.cloneInstance,Ei=e.createContainerChildSet,so=e.appendChildToContainerChildSet,eo=e.finalizeContainerChildren,Vo=e.replaceContainerChildren,Li=e.cloneHiddenInstance,qi=e.cloneHiddenTextInstance,po=e.canHydrateInstance,ba=e.canHydrateTextInstance,tl=e.canHydrateSuspenseInstance,Ds=e.isSuspenseInstancePending,ua=e.isSuspenseInstanceFallback,Cs=e.registerSuspenseInstanceRetry,ms=e.getNextHydratableSibling,di=e.getFirstHydratableChild,Ea=e.getFirstHydratableChildWithinContainer,Tu=e.getFirstHydratableChildWithinSuspenseInstance,Re=e.hydrateInstance,de=e.hydrateTextInstance,Fe=e.hydrateSuspenseInstance,dt=e.getNextHydratableInstanceAfterSuspenseInstance,at=e.commitHydratedContainer,vt=e.commitHydratedSuspenseInstance,tn=e.clearSuspenseBoundary,rn=e.clearSuspenseBoundaryFromContainer,Tn=e.shouldDeleteUnhydratedTailInstances,Mn=e.didNotMatchHydratedContainerTextInstance,Bn=e.didNotMatchHydratedTextInstance,Cn;function ir(S){if(Cn===void 0)try{throw Error()}catch(d){var s=d.stack.trim().match(/\n( *(at )?)/);Cn=s&&s[1]||""}return`
`+Cn+S}var qn=!1;function lr(S,s){if(!S||qn)return"";qn=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Tt){var x=Tt}Reflect.construct(S,[],s)}else{try{s.call()}catch(Tt){x=Tt}S.call(s.prototype)}else{try{throw Error()}catch(Tt){x=Tt}S()}}catch(Tt){if(Tt&&x&&typeof Tt.stack=="string"){for(var I=Tt.stack.split(`
`),U=x.stack.split(`
`),ne=I.length-1,Pe=U.length-1;1<=ne&&0<=Pe&&I[ne]!==U[Pe];)Pe--;for(;1<=ne&&0<=Pe;ne--,Pe--)if(I[ne]!==U[Pe]){if(ne!==1||Pe!==1)do if(ne--,Pe--,0>Pe||I[ne]!==U[Pe]){var Je=`
`+I[ne].replace(" at new "," at ");return S.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",S.displayName)),Je}while(1<=ne&&0<=Pe);break}}}finally{qn=!1,Error.prepareStackTrace=d}return(S=S?S.displayName||S.name:"")?ir(S):""}var Lr=Object.prototype.hasOwnProperty,Zr=[],Qr=-1;function wr(S){return{current:S}}function jr(S){0>Qr||(S.current=Zr[Qr],Zr[Qr]=null,Qr--)}function Qn(S,s){Qr++,Zr[Qr]=S.current,S.current=s}var Br={},ri=wr(Br),Hr=wr(!1),Si=Br;function Ai(S,s){var d=S.type.contextTypes;if(!d)return Br;var x=S.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===s)return x.__reactInternalMemoizedMaskedChildContext;var I={},U;for(U in d)I[U]=s[U];return x&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=s,S.__reactInternalMemoizedMaskedChildContext=I),I}function Ni(S){return S=S.childContextTypes,S!=null}function Ui(){jr(Hr),jr(ri)}function ai(S,s,d){if(ri.current!==Br)throw Error(c(168));Qn(ri,s),Qn(Hr,d)}function wo(S,s,d){var x=S.stateNode;if(s=s.childContextTypes,typeof x.getChildContext!="function")return d;x=x.getChildContext();for(var I in x)if(!(I in s))throw Error(c(108,_e(S)||"Unknown",I));return a({},d,x)}function le(S){return S=(S=S.stateNode)&&S.__reactInternalMemoizedMergedChildContext||Br,Si=ri.current,Qn(ri,S),Qn(Hr,Hr.current),!0}function Ee(S,s,d){var x=S.stateNode;if(!x)throw Error(c(169));d?(S=wo(S,s,Si),x.__reactInternalMemoizedMergedChildContext=S,jr(Hr),jr(ri),Qn(ri,S)):jr(Hr),Qn(Hr,d)}var He=Math.clz32?Math.clz32:Wt,lt=Math.log,Jt=Math.LN2;function Wt(S){return S>>>=0,S===0?32:31-(lt(S)/Jt|0)|0}var On=64,ur=4194304;function fr(S){switch(S&-S){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return S&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return S}}function $r(S,s){var d=S.pendingLanes;if(d===0)return 0;var x=0,I=S.suspendedLanes,U=S.pingedLanes,ne=d&268435455;if(ne!==0){var Pe=ne&~I;Pe!==0?x=fr(Pe):(U&=ne,U!==0&&(x=fr(U)))}else ne=d&~I,ne!==0?x=fr(ne):U!==0&&(x=fr(U));if(x===0)return 0;if(s!==0&&s!==x&&!(s&I)&&(I=x&-x,U=s&-s,I>=U||I===16&&(U&4194240)!==0))return s;if(x&4&&(x|=d&16),s=S.entangledLanes,s!==0)for(S=S.entanglements,s&=x;0<s;)d=31-He(s),I=1<<d,x|=S[d],s&=~I;return x}function Ii(S,s){switch(S){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(S,s){for(var d=S.suspendedLanes,x=S.pingedLanes,I=S.expirationTimes,U=S.pendingLanes;0<U;){var ne=31-He(U),Pe=1<<ne,Je=I[ne];Je===-1?(!(Pe&d)||Pe&x)&&(I[ne]=Ii(Pe,s)):Je<=s&&(S.expiredLanes|=Pe),U&=~Pe}}function Aa(S){return S=S.pendingLanes&-1073741825,S!==0?S:S&1073741824?1073741824:0}function $s(S){for(var s=[],d=0;31>d;d++)s.push(S);return s}function No(S,s,d){S.pendingLanes|=s,s!==536870912&&(S.suspendedLanes=0,S.pingedLanes=0),S=S.eventTimes,s=31-He(s),S[s]=d}function La(S,s){var d=S.pendingLanes&~s;S.pendingLanes=s,S.suspendedLanes=0,S.pingedLanes=0,S.expiredLanes&=s,S.mutableReadLanes&=s,S.entangledLanes&=s,s=S.entanglements;var x=S.eventTimes;for(S=S.expirationTimes;0<d;){var I=31-He(d),U=1<<I;s[I]=0,x[I]=-1,S[I]=-1,d&=~U}}function Na(S,s){var d=S.entangledLanes|=s;for(S=S.entanglements;d;){var x=31-He(d),I=1<<x;I&s|S[x]&s&&(S[x]|=s),d&=~I}}var bi=0;function Ci(S){return S&=-S,1<S?4<S?S&268435455?16:536870912:4:1}var ca=o.unstable_scheduleCallback,ea=o.unstable_cancelCallback,uu=o.unstable_shouldYield,Pu=o.unstable_requestPaint,Ls=o.unstable_now,us=o.unstable_ImmediatePriority,Tc=o.unstable_UserBlockingPriority,rc=o.unstable_NormalPriority,da=o.unstable_IdlePriority,ku=null,Ns=null;function ji(S){if(Ns&&typeof Ns.onCommitFiberRoot=="function")try{Ns.onCommitFiberRoot(ku,S,void 0,(S.current.flags&128)===128)}catch{}}function Ca(S,s){return S===s&&(S!==0||1/S===1/s)||S!==S&&s!==s}var Vs=typeof Object.is=="function"?Object.is:Ca,Po=null,cs=!1,Iu=!1;function Ll(S){Po===null?Po=[S]:Po.push(S)}function Md(S){cs=!0,Ll(S)}function Ma(){if(!Iu&&Po!==null){Iu=!0;var S=0,s=bi;try{var d=Po;for(bi=1;S<d.length;S++){var x=d[S];do x=x(!0);while(x!==null)}Po=null,cs=!1}catch(I){throw Po!==null&&(Po=Po.slice(S+1)),ca(us,Ma),I}finally{bi=s,Iu=!1}}return null}var Ta=p.ReactCurrentBatchConfig;function Pc(S,s){if(Vs(S,s))return!0;if(typeof S!="object"||S===null||typeof s!="object"||s===null)return!1;var d=Object.keys(S),x=Object.keys(s);if(d.length!==x.length)return!1;for(x=0;x<d.length;x++){var I=d[x];if(!Lr.call(s,I)||!Vs(S[I],s[I]))return!1}return!0}function nl(S){switch(S.tag){case 5:return ir(S.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 2:case 15:return S=lr(S.type,!1),S;case 11:return S=lr(S.type.render,!1),S;case 1:return S=lr(S.type,!0),S;default:return""}}function fa(S,s){if(S&&S.defaultProps){s=a({},s),S=S.defaultProps;for(var d in S)s[d]===void 0&&(s[d]=S[d]);return s}return s}var Ws=wr(null),Ru=null,ha=null,Fa=null;function Al(){Fa=ha=Ru=null}function rs(S,s,d){fn?(Qn(Ws,s._currentValue),s._currentValue=d):(Qn(Ws,s._currentValue2),s._currentValue2=d)}function cu(S){var s=Ws.current;jr(Ws),fn?S._currentValue=s:S._currentValue2=s}function Nl(S,s,d){for(;S!==null;){var x=S.alternate;if((S.childLanes&s)!==s?(S.childLanes|=s,x!==null&&(x.childLanes|=s)):x!==null&&(x.childLanes&s)!==s&&(x.childLanes|=s),S===d)break;S=S.return}}function gs(S,s){Ru=S,Fa=ha=null,S=S.dependencies,S!==null&&S.firstContext!==null&&(S.lanes&s&&(Hl=!0),S.firstContext=null)}function is(S){var s=fn?S._currentValue:S._currentValue2;if(Fa!==S)if(S={context:S,memoizedValue:s,next:null},ha===null){if(Ru===null)throw Error(c(308));ha=S,Ru.dependencies={lanes:0,firstContext:S}}else ha=ha.next=S;return s}var ko=null,Ro=!1;function Zo(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function du(S,s){S=S.updateQueue,s.updateQueue===S&&(s.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,effects:S.effects})}function Xs(S,s){return{eventTime:S,lane:s,tag:0,payload:null,callback:null,next:null}}function _o(S,s){var d=S.updateQueue;d!==null&&(d=d.shared,ii!==null&&S.mode&1&&!(Jr&2)?(S=d.interleaved,S===null?(s.next=s,ko===null?ko=[d]:ko.push(d)):(s.next=S.next,S.next=s),d.interleaved=s):(S=d.pending,S===null?s.next=s:(s.next=S.next,S.next=s),d.pending=s))}function ta(S,s,d){if(s=s.updateQueue,s!==null&&(s=s.shared,(d&4194240)!==0)){var x=s.lanes;x&=S.pendingLanes,d|=x,s.lanes=d,Na(S,d)}}function Ms(S,s){var d=S.updateQueue,x=S.alternate;if(x!==null&&(x=x.updateQueue,d===x)){var I=null,U=null;if(d=d.firstBaseUpdate,d!==null){do{var ne={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};U===null?I=U=ne:U=U.next=ne,d=d.next}while(d!==null);U===null?I=U=s:U=U.next=s}else I=U=s;d={baseState:x.baseState,firstBaseUpdate:I,lastBaseUpdate:U,shared:x.shared,effects:x.effects},S.updateQueue=d;return}S=d.lastBaseUpdate,S===null?d.firstBaseUpdate=s:S.next=s,d.lastBaseUpdate=s}function ic(S,s,d,x){var I=S.updateQueue;Ro=!1;var U=I.firstBaseUpdate,ne=I.lastBaseUpdate,Pe=I.shared.pending;if(Pe!==null){I.shared.pending=null;var Je=Pe,Tt=Je.next;Je.next=null,ne===null?U=Tt:ne.next=Tt,ne=Je;var hn=S.alternate;hn!==null&&(hn=hn.updateQueue,Pe=hn.lastBaseUpdate,Pe!==ne&&(Pe===null?hn.firstBaseUpdate=Tt:Pe.next=Tt,hn.lastBaseUpdate=Je))}if(U!==null){var kn=I.baseState;ne=0,hn=Tt=Je=null,Pe=U;do{var dr=Pe.lane,Dr=Pe.eventTime;if((x&dr)===dr){hn!==null&&(hn=hn.next={eventTime:Dr,lane:0,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null});e:{var Pr=S,Ar=Pe;switch(dr=s,Dr=d,Ar.tag){case 1:if(Pr=Ar.payload,typeof Pr=="function"){kn=Pr.call(Dr,kn,dr);break e}kn=Pr;break e;case 3:Pr.flags=Pr.flags&-65537|128;case 0:if(Pr=Ar.payload,dr=typeof Pr=="function"?Pr.call(Dr,kn,dr):Pr,dr==null)break e;kn=a({},kn,dr);break e;case 2:Ro=!0}}Pe.callback!==null&&Pe.lane!==0&&(S.flags|=64,dr=I.effects,dr===null?I.effects=[Pe]:dr.push(Pe))}else Dr={eventTime:Dr,lane:dr,tag:Pe.tag,payload:Pe.payload,callback:Pe.callback,next:null},hn===null?(Tt=hn=Dr,Je=kn):hn=hn.next=Dr,ne|=dr;if(Pe=Pe.next,Pe===null){if(Pe=I.shared.pending,Pe===null)break;dr=Pe,Pe=dr.next,dr.next=null,I.lastBaseUpdate=dr,I.shared.pending=null}}while(1);if(hn===null&&(Je=kn),I.baseState=Je,I.firstBaseUpdate=Tt,I.lastBaseUpdate=hn,s=I.shared.interleaved,s!==null){I=s;do ne|=I.lane,I=I.next;while(I!==s)}else U===null&&(I.shared.lanes=0);mc|=ne,S.lanes=ne,S.memoizedState=kn}}function rl(S,s,d){if(S=s.effects,s.effects=null,S!==null)for(s=0;s<S.length;s++){var x=S[s],I=x.callback;if(I!==null){if(x.callback=null,x=d,typeof I!="function")throw Error(c(191,I));I.call(x)}}}var fu=new r.Component().refs;function kc(S,s,d,x){s=S.memoizedState,d=d(x,s),d=d==null?s:a({},s,d),S.memoizedState=d,S.lanes===0&&(S.updateQueue.baseState=d)}var Ou={isMounted:function(S){return(S=S._reactInternals)?J(S)===S:!1},enqueueSetState:function(S,s,d){S=S._reactInternals;var x=Oi(),I=Uo(S),U=Xs(x,I);U.payload=s,d!=null&&(U.callback=d),_o(S,U),s=Hs(S,I,x),s!==null&&ta(s,S,I)},enqueueReplaceState:function(S,s,d){S=S._reactInternals;var x=Oi(),I=Uo(S),U=Xs(x,I);U.tag=1,U.payload=s,d!=null&&(U.callback=d),_o(S,U),s=Hs(S,I,x),s!==null&&ta(s,S,I)},enqueueForceUpdate:function(S,s){S=S._reactInternals;var d=Oi(),x=Uo(S),I=Xs(d,x);I.tag=2,s!=null&&(I.callback=s),_o(S,I),s=Hs(S,x,d),s!==null&&ta(s,S,x)}};function Bu(S,s,d,x,I,U,ne){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate(x,U,ne):s.prototype&&s.prototype.isPureReactComponent?!Pc(d,x)||!Pc(I,U):!0}function Td(S,s,d){var x=!1,I=Br,U=s.contextType;return typeof U=="object"&&U!==null?U=is(U):(I=Ni(s)?Si:ri.current,x=s.contextTypes,U=(x=x!=null)?Ai(S,I):Br),s=new s(d,U),S.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ou,S.stateNode=s,s._reactInternals=S,x&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=I,S.__reactInternalMemoizedMaskedChildContext=U),s}function Ic(S,s,d,x){S=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(d,x),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(d,x),s.state!==S&&Ou.enqueueReplaceState(s,s.state,null)}function oc(S,s,d,x){var I=S.stateNode;I.props=d,I.state=S.memoizedState,I.refs=fu,Zo(S);var U=s.contextType;typeof U=="object"&&U!==null?I.context=is(U):(U=Ni(s)?Si:ri.current,I.context=Ai(S,U)),I.state=S.memoizedState,U=s.getDerivedStateFromProps,typeof U=="function"&&(kc(S,s,U,d),I.state=S.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(s=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),s!==I.state&&Ou.enqueueReplaceState(I,I.state,null),ic(S,d,I,x),I.state=S.memoizedState),typeof I.componentDidMount=="function"&&(S.flags|=4194308)}var Fl=[],Cl=0,Pa=null,zl=0,Fs=[],ue=0,Ce=null,Ge=1,ut="";function $t(S,s){Fl[Cl++]=zl,Fl[Cl++]=Pa,Pa=S,zl=s}function jt(S,s,d){Fs[ue++]=Ge,Fs[ue++]=ut,Fs[ue++]=Ce,Ce=S;var x=Ge;S=ut;var I=32-He(x)-1;x&=~(1<<I),d+=1;var U=32-He(s)+I;if(30<U){var ne=I-I%5;U=(x&(1<<ne)-1).toString(32),x>>=ne,I-=ne,Ge=1<<32-He(s)+I|d<<I|x,ut=U+S}else Ge=1<<U|d<<I|x,ut=S}function Dn(S){S.return!==null&&($t(S,1),jt(S,1,0))}function cr(S){for(;S===Pa;)Pa=Fl[--Cl],Fl[Cl]=null,zl=Fl[--Cl],Fl[Cl]=null;for(;S===Ce;)Ce=Fs[--ue],Fs[ue]=null,ut=Fs[--ue],Fs[ue]=null,Ge=Fs[--ue],Fs[ue]=null}var Xr=null,Gr=null,Tr=!1,Nr=!1,ao=null;function Fo(S,s){var d=Kl(5,null,null,0);d.elementType="DELETED",d.stateNode=s,d.return=S,s=S.deletions,s===null?(S.deletions=[d],S.flags|=16):s.push(d)}function zs(S,s){switch(S.tag){case 5:return s=po(s,S.type,S.pendingProps),s!==null?(S.stateNode=s,Xr=S,Gr=di(s),!0):!1;case 6:return s=ba(s,S.pendingProps),s!==null?(S.stateNode=s,Xr=S,Gr=null,!0):!1;case 13:if(s=tl(s),s!==null){var d=Ce!==null?{id:Ge,overflow:ut}:null;return S.memoizedState={dehydrated:s,treeContext:d,retryLane:1073741824},d=Kl(18,null,null,0),d.stateNode=s,d.return=S,S.child=d,Xr=S,Gr=null,!0}return!1;default:return!1}}function hu(S){return(S.mode&1)!==0&&(S.flags&128)===0}function mo(S){if(Tr){var s=Gr;if(s){var d=s;if(!zs(S,s)){if(hu(S))throw Error(c(418));s=ms(d);var x=Xr;s&&zs(S,s)?Fo(x,d):(S.flags=S.flags&-4097|2,Tr=!1,Xr=S)}}else{if(hu(S))throw Error(c(418));S.flags=S.flags&-4097|2,Tr=!1,Xr=S}}}function il(S){for(S=S.return;S!==null&&S.tag!==5&&S.tag!==3&&S.tag!==13;)S=S.return;Xr=S}function bf(S){if(!Xt||S!==Xr)return!1;if(!Tr)return il(S),Tr=!0,!1;if(S.tag!==3&&(S.tag!==5||Tn(S.type)&&!wt(S.type,S.memoizedProps))){var s=Gr;if(s){if(hu(S)){for(S=Gr;S;)S=ms(S);throw Error(c(418))}for(;s;)Fo(S,s),s=ms(s)}}if(il(S),S.tag===13){if(!Xt)throw Error(c(316));if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(c(317));Gr=dt(S)}else Gr=Xr?ms(S.stateNode):null;return!0}function Ul(){Xt&&(Gr=Xr=null,Nr=Tr=!1)}function sc(S){ao===null?ao=[S]:ao.push(S)}function Rc(S,s,d){if(S=d.ref,S!==null&&typeof S!="function"&&typeof S!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(c(309));var x=d.stateNode}if(!x)throw Error(c(147,S));var I=x,U=""+S;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===U?s.ref:(s=function(ne){var Pe=I.refs;Pe===fu&&(Pe=I.refs={}),ne===null?delete Pe[U]:Pe[U]=ne},s._stringRef=U,s)}if(typeof S!="string")throw Error(c(284));if(!d._owner)throw Error(c(290,S))}return S}function Oc(S,s){throw S=Object.prototype.toString.call(s),Error(c(31,S==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":S))}function Ml(S){var s=S._init;return s(S._payload)}function ac(S){function s(on,Qe){if(S){var tt=on.deletions;tt===null?(on.deletions=[Qe],on.flags|=16):tt.push(Qe)}}function d(on,Qe){if(!S)return null;for(;Qe!==null;)s(on,Qe),Qe=Qe.sibling;return null}function x(on,Qe){for(on=new Map;Qe!==null;)Qe.key!==null?on.set(Qe.key,Qe):on.set(Qe.index,Qe),Qe=Qe.sibling;return on}function I(on,Qe){return on=Yd(on,Qe),on.index=0,on.sibling=null,on}function U(on,Qe,tt){return on.index=tt,S?(tt=on.alternate,tt!==null?(tt=tt.index,tt<Qe?(on.flags|=2,Qe):tt):(on.flags|=2,Qe)):(on.flags|=1048576,Qe)}function ne(on){return S&&on.alternate===null&&(on.flags|=2),on}function Pe(on,Qe,tt,kt){return Qe===null||Qe.tag!==6?(Qe=fd(tt,on.mode,kt),Qe.return=on,Qe):(Qe=I(Qe,tt),Qe.return=on,Qe)}function Je(on,Qe,tt,kt){var In=tt.type;return In===b?hn(on,Qe,tt.props.children,kt,tt.key):Qe!==null&&(Qe.elementType===In||typeof In=="object"&&In!==null&&In.$$typeof===G&&Ml(In)===Qe.type)?(kt=I(Qe,tt.props),kt.ref=Rc(on,Qe,tt),kt.return=on,kt):(kt=Yl(tt.type,tt.key,tt.props,null,on.mode,kt),kt.ref=Rc(on,Qe,tt),kt.return=on,kt)}function Tt(on,Qe,tt,kt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==tt.containerInfo||Qe.stateNode.implementation!==tt.implementation?(Qe=Mh(tt,on.mode,kt),Qe.return=on,Qe):(Qe=I(Qe,tt.children||[]),Qe.return=on,Qe)}function hn(on,Qe,tt,kt,In){return Qe===null||Qe.tag!==7?(Qe=vc(tt,on.mode,kt,In),Qe.return=on,Qe):(Qe=I(Qe,tt),Qe.return=on,Qe)}function kn(on,Qe,tt){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Qe=fd(""+Qe,on.mode,tt),Qe.return=on,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case g:return tt=Yl(Qe.type,Qe.key,Qe.props,null,on.mode,tt),tt.ref=Rc(on,null,Qe),tt.return=on,tt;case _:return Qe=Mh(Qe,on.mode,tt),Qe.return=on,Qe;case G:var kt=Qe._init;return kn(on,kt(Qe._payload),tt)}if(ot(Qe)||Y(Qe))return Qe=vc(Qe,on.mode,tt,null),Qe.return=on,Qe;Oc(on,Qe)}return null}function dr(on,Qe,tt,kt){var In=Qe!==null?Qe.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number")return In!==null?null:Pe(on,Qe,""+tt,kt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case g:return tt.key===In?Je(on,Qe,tt,kt):null;case _:return tt.key===In?Tt(on,Qe,tt,kt):null;case G:return In=tt._init,dr(on,Qe,In(tt._payload),kt)}if(ot(tt)||Y(tt))return In!==null?null:hn(on,Qe,tt,kt,null);Oc(on,tt)}return null}function Dr(on,Qe,tt,kt,In){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return on=on.get(tt)||null,Pe(Qe,on,""+kt,In);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case g:return on=on.get(kt.key===null?tt:kt.key)||null,Je(Qe,on,kt,In);case _:return on=on.get(kt.key===null?tt:kt.key)||null,Tt(Qe,on,kt,In);case G:var sr=kt._init;return Dr(on,Qe,tt,sr(kt._payload),In)}if(ot(kt)||Y(kt))return on=on.get(tt)||null,hn(Qe,on,kt,In,null);Oc(Qe,kt)}return null}function Pr(on,Qe,tt,kt){for(var In=null,sr=null,kr=Qe,Fr=Qe=0,Ri=null;kr!==null&&Fr<tt.length;Fr++){kr.index>Fr?(Ri=kr,kr=null):Ri=kr.sibling;var Ti=dr(on,kr,tt[Fr],kt);if(Ti===null){kr===null&&(kr=Ri);break}S&&kr&&Ti.alternate===null&&s(on,kr),Qe=U(Ti,Qe,Fr),sr===null?In=Ti:sr.sibling=Ti,sr=Ti,kr=Ri}if(Fr===tt.length)return d(on,kr),Tr&&$t(on,Fr),In;if(kr===null){for(;Fr<tt.length;Fr++)kr=kn(on,tt[Fr],kt),kr!==null&&(Qe=U(kr,Qe,Fr),sr===null?In=kr:sr.sibling=kr,sr=kr);return Tr&&$t(on,Fr),In}for(kr=x(on,kr);Fr<tt.length;Fr++)Ri=Dr(kr,on,Fr,tt[Fr],kt),Ri!==null&&(S&&Ri.alternate!==null&&kr.delete(Ri.key===null?Fr:Ri.key),Qe=U(Ri,Qe,Fr),sr===null?In=Ri:sr.sibling=Ri,sr=Ri);return S&&kr.forEach(function($i){return s(on,$i)}),Tr&&$t(on,Fr),In}function Ar(on,Qe,tt,kt){var In=Y(tt);if(typeof In!="function")throw Error(c(150));if(tt=In.call(tt),tt==null)throw Error(c(151));for(var sr=In=null,kr=Qe,Fr=Qe=0,Ri=null,Ti=tt.next();kr!==null&&!Ti.done;Fr++,Ti=tt.next()){kr.index>Fr?(Ri=kr,kr=null):Ri=kr.sibling;var $i=dr(on,kr,Ti.value,kt);if($i===null){kr===null&&(kr=Ri);break}S&&kr&&$i.alternate===null&&s(on,kr),Qe=U($i,Qe,Fr),sr===null?In=$i:sr.sibling=$i,sr=$i,kr=Ri}if(Ti.done)return d(on,kr),Tr&&$t(on,Fr),In;if(kr===null){for(;!Ti.done;Fr++,Ti=tt.next())Ti=kn(on,Ti.value,kt),Ti!==null&&(Qe=U(Ti,Qe,Fr),sr===null?In=Ti:sr.sibling=Ti,sr=Ti);return Tr&&$t(on,Fr),In}for(kr=x(on,kr);!Ti.done;Fr++,Ti=tt.next())Ti=Dr(kr,on,Fr,Ti.value,kt),Ti!==null&&(S&&Ti.alternate!==null&&kr.delete(Ti.key===null?Fr:Ti.key),Qe=U(Ti,Qe,Fr),sr===null?In=Ti:sr.sibling=Ti,sr=Ti);return S&&kr.forEach(function(hd){return s(on,hd)}),Tr&&$t(on,Fr),In}function Zi(on,Qe,tt,kt){if(typeof tt=="object"&&tt!==null&&tt.type===b&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case g:e:{for(var In=tt.key,sr=Qe;sr!==null;){if(sr.key===In){if(In=tt.type,In===b){if(sr.tag===7){d(on,sr.sibling),Qe=I(sr,tt.props.children),Qe.return=on,on=Qe;break e}}else if(sr.elementType===In||typeof In=="object"&&In!==null&&In.$$typeof===G&&Ml(In)===sr.type){d(on,sr.sibling),Qe=I(sr,tt.props),Qe.ref=Rc(on,sr,tt),Qe.return=on,on=Qe;break e}d(on,sr);break}else s(on,sr);sr=sr.sibling}tt.type===b?(Qe=vc(tt.props.children,on.mode,kt,tt.key),Qe.return=on,on=Qe):(kt=Yl(tt.type,tt.key,tt.props,null,on.mode,kt),kt.ref=Rc(on,Qe,tt),kt.return=on,on=kt)}return ne(on);case _:e:{for(sr=tt.key;Qe!==null;){if(Qe.key===sr)if(Qe.tag===4&&Qe.stateNode.containerInfo===tt.containerInfo&&Qe.stateNode.implementation===tt.implementation){d(on,Qe.sibling),Qe=I(Qe,tt.children||[]),Qe.return=on,on=Qe;break e}else{d(on,Qe);break}else s(on,Qe);Qe=Qe.sibling}Qe=Mh(tt,on.mode,kt),Qe.return=on,on=Qe}return ne(on);case G:return sr=tt._init,Zi(on,Qe,sr(tt._payload),kt)}if(ot(tt))return Pr(on,Qe,tt,kt);if(Y(tt))return Ar(on,Qe,tt,kt);Oc(on,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"?(tt=""+tt,Qe!==null&&Qe.tag===6?(d(on,Qe.sibling),Qe=I(Qe,tt),Qe.return=on,on=Qe):(d(on,Qe),Qe=fd(tt,on.mode,kt),Qe.return=on,on=Qe),ne(on)):d(on,Qe)}return Zi}var Pd=ac(!0),Du=ac(!1),lc={},na=wr(lc),pa=wr(lc),Me=wr(lc);function rt(S){if(S===lc)throw Error(c(174));return S}function Mt(S,s){Qn(Me,s),Qn(pa,S),Qn(na,lc),S=mt(s),jr(na),Qn(na,S)}function Sn(){jr(na),jr(pa),jr(Me)}function gi(S){var s=rt(Me.current),d=rt(na.current);s=we(d,S.type,s),d!==s&&(Qn(pa,S),Qn(na,s))}function Ao(S){pa.current===S&&(jr(na),jr(pa))}var Ji=wr(0);function go(S){for(var s=S;s!==null;){if(s.tag===13){var d=s.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Ds(d)||ua(d)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===S)break;for(;s.sibling===null;){if(s.return===null||s.return===S)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kd=[];function Ks(){for(var S=0;S<kd.length;S++){var s=kd[S];fn?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}kd.length=0}var ol=p.ReactCurrentDispatcher,sl=p.ReactCurrentBatchConfig,za=0,Wo=null,no=null,Co=null,Us=!1,Id=!1,jl=0,Bc=0;function js(){throw Error(c(321))}function Ys(S,s){if(s===null)return!1;for(var d=0;d<s.length&&d<S.length;d++)if(!Vs(S[d],s[d]))return!1;return!0}function Ef(S,s,d,x,I,U){if(za=U,Wo=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ol.current=S===null||S.memoizedState===null?zo:Om,S=d(x,I),Id){U=0;do{if(Id=!1,jl=0,25<=U)throw Error(c(301));U+=1,Co=no=null,s.updateQueue=null,ol.current=Ig,S=d(x,I)}while(Id)}if(ol.current=Ld,s=no!==null&&no.next!==null,za=0,Co=no=Wo=null,Us=!1,s)throw Error(c(300));return S}function Rd(){var S=jl!==0;return jl=0,S}function al(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Co===null?Wo.memoizedState=Co=S:Co=Co.next=S,Co}function Qs(){if(no===null){var S=Wo.alternate;S=S!==null?S.memoizedState:null}else S=no.next;var s=Co===null?Wo.memoizedState:Co.next;if(s!==null)Co=s,no=S;else{if(S===null)throw Error(c(310));no=S,S={memoizedState:no.memoizedState,baseState:no.baseState,baseQueue:no.baseQueue,queue:no.queue,next:null},Co===null?Wo.memoizedState=Co=S:Co=Co.next=S}return Co}function ka(S,s){return typeof s=="function"?s(S):s}function Tl(S){var s=Qs(),d=s.queue;if(d===null)throw Error(c(311));d.lastRenderedReducer=S;var x=no,I=x.baseQueue,U=d.pending;if(U!==null){if(I!==null){var ne=I.next;I.next=U.next,U.next=ne}x.baseQueue=I=U,d.pending=null}if(I!==null){U=I.next,x=x.baseState;var Pe=ne=null,Je=null,Tt=U;do{var hn=Tt.lane;if((za&hn)===hn)Je!==null&&(Je=Je.next={lane:0,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null}),x=Tt.hasEagerState?Tt.eagerState:S(x,Tt.action);else{var kn={lane:hn,action:Tt.action,hasEagerState:Tt.hasEagerState,eagerState:Tt.eagerState,next:null};Je===null?(Pe=Je=kn,ne=x):Je=Je.next=kn,Wo.lanes|=hn,mc|=hn}Tt=Tt.next}while(Tt!==null&&Tt!==U);Je===null?ne=x:Je.next=Pe,Vs(x,s.memoizedState)||(Hl=!0),s.memoizedState=x,s.baseState=ne,s.baseQueue=Je,d.lastRenderedState=x}if(S=d.interleaved,S!==null){I=S;do U=I.lane,Wo.lanes|=U,mc|=U,I=I.next;while(I!==S)}else I===null&&(d.lanes=0);return[s.memoizedState,d.dispatch]}function Zc(S){var s=Qs(),d=s.queue;if(d===null)throw Error(c(311));d.lastRenderedReducer=S;var x=d.dispatch,I=d.pending,U=s.memoizedState;if(I!==null){d.pending=null;var ne=I=I.next;do U=S(U,ne.action),ne=ne.next;while(ne!==I);Vs(U,s.memoizedState)||(Hl=!0),s.memoizedState=U,s.baseQueue===null&&(s.baseState=U),d.lastRenderedState=U}return[U,x]}function hh(){}function jp(S,s){var d=Wo,x=Qs(),I=s(),U=!Vs(x.memoizedState,I);if(U&&(x.memoizedState=I,Hl=!0),x=x.queue,$c(Hp.bind(null,d,x,S),[S]),x.getSnapshot!==s||U||Co!==null&&Co.memoizedState.tag&1){if(d.flags|=2048,Od(9,qh.bind(null,d,x,I,s),void 0,null),ii===null)throw Error(c(349));za&30||ph(d,s,I)}return I}function ph(S,s,d){S.flags|=16384,S={getSnapshot:s,value:d},s=Wo.updateQueue,s===null?(s={lastEffect:null,stores:null},Wo.updateQueue=s,s.stores=[S]):(d=s.stores,d===null?s.stores=[S]:d.push(S))}function qh(S,s,d,x){s.value=d,s.getSnapshot=x,Dc(s)&&Hs(S,1,-1)}function Hp(S,s,d){return d(function(){Dc(s)&&Hs(S,1,-1)})}function Dc(S){var s=S.getSnapshot;S=S.value;try{var d=s();return!Vs(S,d)}catch{return!0}}function Af(S){var s=al();return typeof S=="function"&&(S=S()),s.memoizedState=s.baseState=S,S={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:S},s.queue=S,S=S.dispatch=Pg.bind(null,Wo,S),[s.memoizedState,S]}function Od(S,s,d,x){return S={tag:S,create:s,destroy:d,deps:x,next:null},s=Wo.updateQueue,s===null?(s={lastEffect:null,stores:null},Wo.updateQueue=s,s.lastEffect=S.next=S):(d=s.lastEffect,d===null?s.lastEffect=S.next=S:(x=d.next,d.next=S,S.next=x,s.lastEffect=S)),S}function Bd(){return Qs().memoizedState}function Dd(S,s,d,x){var I=al();Wo.flags|=S,I.memoizedState=Od(1|s,d,void 0,x===void 0?null:x)}function uc(S,s,d,x){var I=Qs();x=x===void 0?null:x;var U=void 0;if(no!==null){var ne=no.memoizedState;if(U=ne.destroy,x!==null&&Ys(x,ne.deps)){I.memoizedState=Od(s,d,U,x);return}}Wo.flags|=S,I.memoizedState=Od(1|s,d,U,x)}function Cf(S,s){return Dd(8390656,8,S,s)}function $c(S,s){return uc(2048,8,S,s)}function Mf(S,s){return uc(4,2,S,s)}function Xo(S,s){return uc(4,4,S,s)}function Jh(S,s){if(typeof s=="function")return S=S(),s(S),function(){s(null)};if(s!=null)return S=S(),s.current=S,function(){s.current=null}}function mh(S,s,d){return d=d!=null?d.concat([S]):null,uc(4,4,Jh.bind(null,s,S),d)}function cc(){}function Zh(S,s){var d=Qs();s=s===void 0?null:s;var x=d.memoizedState;return x!==null&&s!==null&&Ys(s,x[1])?x[0]:(d.memoizedState=[S,s],S)}function $h(S,s){var d=Qs();s=s===void 0?null:s;var x=d.memoizedState;return x!==null&&s!==null&&Ys(s,x[1])?x[0]:(S=S(),d.memoizedState=[S,s],S)}function gh(S,s){var d=bi;bi=d!==0&&4>d?d:4,S(!0);var x=sl.transition;sl.transition={};try{S(!1),s()}finally{bi=d,sl.transition=x}}function ep(){return Qs().memoizedState}function Tf(S,s,d){var x=Uo(S);d={lane:x,action:d,hasEagerState:!1,eagerState:null,next:null},kg(S)?Rm(s,d):(Gp(S,s,d),d=Oi(),S=Hs(S,x,d),S!==null&&vh(S,s,x))}function Pg(S,s,d){var x=Uo(S),I={lane:x,action:d,hasEagerState:!1,eagerState:null,next:null};if(kg(S))Rm(s,I);else{Gp(S,s,I);var U=S.alternate;if(S.lanes===0&&(U===null||U.lanes===0)&&(U=s.lastRenderedReducer,U!==null))try{var ne=s.lastRenderedState,Pe=U(ne,d);if(I.hasEagerState=!0,I.eagerState=Pe,Vs(Pe,ne))return}catch{}finally{}d=Oi(),S=Hs(S,x,d),S!==null&&vh(S,s,x)}}function kg(S){var s=S.alternate;return S===Wo||s!==null&&s===Wo}function Rm(S,s){Id=Us=!0;var d=S.pending;d===null?s.next=s:(s.next=d.next,d.next=s),S.pending=s}function Gp(S,s,d){ii!==null&&S.mode&1&&!(Jr&2)?(S=s.interleaved,S===null?(d.next=d,ko===null?ko=[s]:ko.push(s)):(d.next=S.next,S.next=d),s.interleaved=d):(S=s.pending,S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d)}function vh(S,s,d){if(d&4194240){var x=s.lanes;x&=S.pendingLanes,d|=x,s.lanes=d,Na(S,d)}}var Ld={readContext:is,useCallback:js,useContext:js,useEffect:js,useImperativeHandle:js,useInsertionEffect:js,useLayoutEffect:js,useMemo:js,useReducer:js,useRef:js,useState:js,useDebugValue:js,useDeferredValue:js,useTransition:js,useMutableSource:js,useSyncExternalStore:js,useId:js,unstable_isNewReconciler:!1},zo={readContext:is,useCallback:function(S,s){return al().memoizedState=[S,s===void 0?null:s],S},useContext:is,useEffect:Cf,useImperativeHandle:function(S,s,d){return d=d!=null?d.concat([S]):null,Dd(4194308,4,Jh.bind(null,s,S),d)},useLayoutEffect:function(S,s){return Dd(4194308,4,S,s)},useInsertionEffect:function(S,s){return Dd(4,2,S,s)},useMemo:function(S,s){var d=al();return s=s===void 0?null:s,S=S(),d.memoizedState=[S,s],S},useReducer:function(S,s,d){var x=al();return s=d!==void 0?d(s):s,x.memoizedState=x.baseState=s,S={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:S,lastRenderedState:s},x.queue=S,S=S.dispatch=Tf.bind(null,Wo,S),[x.memoizedState,S]},useRef:function(S){var s=al();return S={current:S},s.memoizedState=S},useState:Af,useDebugValue:cc,useDeferredValue:function(S){var s=Af(S),d=s[0],x=s[1];return Cf(function(){var I=sl.transition;sl.transition={};try{x(S)}finally{sl.transition=I}},[S]),d},useTransition:function(){var S=Af(!1),s=S[0];return S=gh.bind(null,S[1]),al().memoizedState=S,[s,S]},useMutableSource:function(){},useSyncExternalStore:function(S,s,d){var x=Wo,I=al();if(Tr){if(d===void 0)throw Error(c(407));d=d()}else{if(d=s(),ii===null)throw Error(c(349));za&30||ph(x,s,d)}I.memoizedState=d;var U={value:d,getSnapshot:s};return I.queue=U,Cf(Hp.bind(null,x,U,S),[S]),x.flags|=2048,Od(9,qh.bind(null,x,U,d,s),void 0,null),d},useId:function(){var S=al(),s=ii.identifierPrefix;if(Tr){var d=ut,x=Ge;d=(x&~(1<<32-He(x)-1)).toString(32)+d,s=":"+s+"R"+d,d=jl++,0<d&&(s+="H"+d.toString(32)),s+=":"}else d=Bc++,s=":"+s+"r"+d.toString(32)+":";return S.memoizedState=s},unstable_isNewReconciler:!1},Om={readContext:is,useCallback:Zh,useContext:is,useEffect:$c,useImperativeHandle:mh,useInsertionEffect:Mf,useLayoutEffect:Xo,useMemo:$h,useReducer:Tl,useRef:Bd,useState:function(){return Tl(ka)},useDebugValue:cc,useDeferredValue:function(S){var s=Tl(ka),d=s[0],x=s[1];return $c(function(){var I=sl.transition;sl.transition={};try{x(S)}finally{sl.transition=I}},[S]),d},useTransition:function(){var S=Tl(ka)[0],s=Qs().memoizedState;return[S,s]},useMutableSource:hh,useSyncExternalStore:jp,useId:ep,unstable_isNewReconciler:!1},Ig={readContext:is,useCallback:Zh,useContext:is,useEffect:$c,useImperativeHandle:mh,useInsertionEffect:Mf,useLayoutEffect:Xo,useMemo:$h,useReducer:Zc,useRef:Bd,useState:function(){return Zc(ka)},useDebugValue:cc,useDeferredValue:function(S){var s=Zc(ka),d=s[0],x=s[1];return $c(function(){var I=sl.transition;sl.transition={};try{x(S)}finally{sl.transition=I}},[S]),d},useTransition:function(){var S=Zc(ka)[0],s=Qs().memoizedState;return[S,s]},useMutableSource:hh,useSyncExternalStore:jp,useId:ep,unstable_isNewReconciler:!1};function Vp(S,s){try{var d="",x=s;do d+=nl(x),x=x.return;while(x);var I=d}catch(U){I=`
Error generating stack: `+U.message+`
`+U.stack}return{value:S,source:s,stack:I}}function Pf(S,s){try{console.error(s.value)}catch(d){setTimeout(function(){throw d})}}var tp=typeof WeakMap=="function"?WeakMap:Map;function Bm(S,s,d){d=Xs(-1,d),d.tag=3,d.payload={element:null};var x=s.value;return d.callback=function(){ld||(ld=!0,zc=x),Pf(S,s)},d}function kf(S,s,d){d=Xs(-1,d),d.tag=3;var x=S.type.getDerivedStateFromError;if(typeof x=="function"){var I=s.value;d.payload=function(){return x(I)},d.callback=function(){Pf(S,s)}}var U=S.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(d.callback=function(){Pf(S,s),typeof x!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var ne=s.stack;this.componentDidCatch(s.value,{componentStack:ne!==null?ne:""})}),d}function np(S,s,d){var x=S.pingCache;if(x===null){x=S.pingCache=new tp;var I=new Set;x.set(s,I)}else I=x.get(s),I===void 0&&(I=new Set,x.set(s,I));I.has(d)||(I.add(d),S=fl.bind(null,S,s,d),s.then(S,S))}function Lu(S){do{var s;if((s=S.tag===13)&&(s=S.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return S;S=S.return}while(S!==null);return null}function Wp(S,s,d,x,I){return S.mode&1?(S.flags|=65536,S.lanes=I,S):(S===s?S.flags|=65536:(S.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(s=Xs(-1,1),s.tag=2,_o(d,s))),d.lanes|=1),S)}function Ua(S){S.flags|=4}function ma(S,s){if(S!==null&&S.child===s.child)return!0;if(s.flags&16)return!1;for(S=s.child;S!==null;){if(S.flags&12854||S.subtreeFlags&12854)return!1;S=S.sibling}return!0}var So,ja,dc,If;if(nn)So=function(S,s){for(var d=s.child;d!==null;){if(d.tag===5||d.tag===6)ce(S,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},ja=function(){},dc=function(S,s,d,x,I){if(S=S.memoizedProps,S!==x){var U=s.stateNode,ne=rt(na.current);d=ht(U,d,S,x,I,ne),(s.updateQueue=d)&&Ua(s)}},If=function(S,s,d,x){d!==x&&Ua(s)};else if(Ye){So=function(S,s,d,x){for(var I=s.child;I!==null;){if(I.tag===5){var U=I.stateNode;d&&x&&(U=Li(U,I.type,I.memoizedProps,I)),ce(S,U)}else if(I.tag===6)U=I.stateNode,d&&x&&(U=qi(U,I.memoizedProps,I)),ce(S,U);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)U=I.child,U!==null&&(U.return=I),So(S,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===s)break;for(;I.sibling===null;){if(I.return===null||I.return===s)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var yh=function(S,s,d,x){for(var I=s.child;I!==null;){if(I.tag===5){var U=I.stateNode;d&&x&&(U=Li(U,I.type,I.memoizedProps,I)),so(S,U)}else if(I.tag===6)U=I.stateNode,d&&x&&(U=qi(U,I.memoizedProps,I)),so(S,U);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)U=I.child,U!==null&&(U.return=I),yh(S,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===s)break;for(;I.sibling===null;){if(I.return===null||I.return===s)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};ja=function(S,s){var d=s.stateNode;if(!ma(S,s)){S=d.containerInfo;var x=Ei(S);yh(x,s,!1,!1),d.pendingChildren=x,Ua(s),eo(S,x)}},dc=function(S,s,d,x,I){var U=S.stateNode,ne=S.memoizedProps;if((S=ma(S,s))&&ne===x)s.stateNode=U;else{var Pe=s.stateNode,Je=rt(na.current),Tt=null;ne!==x&&(Tt=ht(Pe,d,ne,x,I,Je)),S&&Tt===null?s.stateNode=U:(U=Gn(U,Tt,d,ne,x,s,S,Pe),qe(U,d,x,I,Je)&&Ua(s),s.stateNode=U,S?Ua(s):So(U,s,!1,!1))}},If=function(S,s,d,x){d!==x?(S=rt(Me.current),d=rt(na.current),s.stateNode=et(x,S,d,s),Ua(s)):s.stateNode=S.stateNode}}else ja=function(){},dc=function(){},If=function(){};function pu(S,s){if(!Tr)switch(S.tailMode){case"hidden":s=S.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?S.tail=null:d.sibling=null;break;case"collapsed":d=S.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?s||S.tail===null?S.tail=null:S.tail.sibling=null:x.sibling=null}}function Ko(S){var s=S.alternate!==null&&S.alternate.child===S.child,d=0,x=0;if(s)for(var I=S.child;I!==null;)d|=I.lanes|I.childLanes,x|=I.subtreeFlags&14680064,x|=I.flags&14680064,I.return=S,I=I.sibling;else for(I=S.child;I!==null;)d|=I.lanes|I.childLanes,x|=I.subtreeFlags,x|=I.flags,I.return=S,I=I.sibling;return S.subtreeFlags|=x,S.childLanes=d,s}function qs(S,s,d){var x=s.pendingProps;switch(cr(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(s),null;case 1:return Ni(s.type)&&Ui(),Ko(s),null;case 3:return x=s.stateNode,Sn(),jr(Hr),jr(ri),Ks(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(S===null||S.child===null)&&(bf(s)?Ua(s):S===null||S.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ao!==null&&(Yo(ao),ao=null))),ja(S,s),Ko(s),null;case 5:Ao(s),d=rt(Me.current);var I=s.type;if(S!==null&&s.stateNode!=null)dc(S,s,I,x,d),S.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!x){if(s.stateNode===null)throw Error(c(166));return Ko(s),null}if(S=rt(na.current),bf(s)){if(!Xt)throw Error(c(175));S=Re(s.stateNode,s.type,s.memoizedProps,d,S,s,!Nr),s.updateQueue=S,S!==null&&Ua(s)}else{var U=me(I,x,d,S,s);So(U,s,!1,!1),s.stateNode=U,qe(U,I,x,d,S)&&Ua(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ko(s),null;case 6:if(S&&s.stateNode!=null)If(S,s,S.memoizedProps,x);else{if(typeof x!="string"&&s.stateNode===null)throw Error(c(166));if(S=rt(Me.current),d=rt(na.current),bf(s)){if(!Xt)throw Error(c(176));if(S=s.stateNode,x=s.memoizedProps,(d=de(S,x,s,!Nr))&&(I=Xr,I!==null))switch(U=(I.mode&1)!==0,I.tag){case 3:Mn(I.stateNode.containerInfo,S,x,U);break;case 5:Bn(I.type,I.memoizedProps,I.stateNode,S,x,U)}d&&Ua(s)}else s.stateNode=et(x,S,d,s)}return Ko(s),null;case 13:if(jr(Ji),x=s.memoizedState,Tr&&Gr!==null&&s.mode&1&&!(s.flags&128)){for(S=Gr;S;)S=ms(S);return Ul(),s.flags|=98560,s}if(x!==null&&x.dehydrated!==null){if(x=bf(s),S===null){if(!x)throw Error(c(318));if(!Xt)throw Error(c(344));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(c(317));Fe(S,s)}else Ul(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;return Ko(s),null}return ao!==null&&(Yo(ao),ao=null),s.flags&128?(s.lanes=d,s):(x=x!==null,d=!1,S===null?bf(s):d=S.memoizedState!==null,x&&!d&&(s.child.flags|=8192,s.mode&1&&(S===null||Ji.current&1?ss===0&&(ss=3):dd())),s.updateQueue!==null&&(s.flags|=4),Ko(s),null);case 4:return Sn(),ja(S,s),S===null&&Zt(s.stateNode.containerInfo),Ko(s),null;case 10:return cu(s.type._context),Ko(s),null;case 17:return Ni(s.type)&&Ui(),Ko(s),null;case 19:if(jr(Ji),I=s.memoizedState,I===null)return Ko(s),null;if(x=(s.flags&128)!==0,U=I.rendering,U===null)if(x)pu(I,!1);else{if(ss!==0||S!==null&&S.flags&128)for(S=s.child;S!==null;){if(U=go(S),U!==null){for(s.flags|=128,pu(I,!1),S=U.updateQueue,S!==null&&(s.updateQueue=S,s.flags|=4),s.subtreeFlags=0,S=d,x=s.child;x!==null;)d=x,I=S,d.flags&=14680066,U=d.alternate,U===null?(d.childLanes=0,d.lanes=I,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=U.childLanes,d.lanes=U.lanes,d.child=U.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=U.memoizedProps,d.memoizedState=U.memoizedState,d.updateQueue=U.updateQueue,d.type=U.type,I=U.dependencies,d.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),x=x.sibling;return Qn(Ji,Ji.current&1|2),s.child}S=S.sibling}I.tail!==null&&Ls()>Df&&(s.flags|=128,x=!0,pu(I,!1),s.lanes=4194304)}else{if(!x)if(S=go(U),S!==null){if(s.flags|=128,x=!0,S=S.updateQueue,S!==null&&(s.updateQueue=S,s.flags|=4),pu(I,!0),I.tail===null&&I.tailMode==="hidden"&&!U.alternate&&!Tr)return Ko(s),null}else 2*Ls()-I.renderingStartTime>Df&&d!==1073741824&&(s.flags|=128,x=!0,pu(I,!1),s.lanes=4194304);I.isBackwards?(U.sibling=s.child,s.child=U):(S=I.last,S!==null?S.sibling=U:s.child=U,I.last=U)}return I.tail!==null?(s=I.tail,I.rendering=s,I.tail=s.sibling,I.renderingStartTime=Ls(),s.sibling=null,S=Ji.current,Qn(Ji,x?S&1|2:S&1),s):(Ko(s),null);case 22:case 23:return Vd(),x=s.memoizedState!==null,S!==null&&S.memoizedState!==null!==x&&(s.flags|=8192),x&&s.mode&1?Go&1073741824&&(Ko(s),nn&&s.subtreeFlags&6&&(s.flags|=8192)):Ko(s),null;case 24:return null;case 25:return null}throw Error(c(156,s.tag))}var rp=p.ReactCurrentOwner,Hl=!1;function lo(S,s,d,x){s.child=S===null?Du(s,null,d,x):Pd(s,S.child,d,x)}function vs(S,s,d,x,I){d=d.render;var U=s.ref;return gs(s,I),x=Ef(S,s,d,x,U,I),d=Rd(),S!==null&&!Hl?(s.updateQueue=S.updateQueue,s.flags&=-2053,S.lanes&=~I,Gl(S,s,I)):(Tr&&d&&Dn(s),s.flags|=1,lo(S,s,x,I),s.child)}function $o(S,s,d,x,I){if(S===null){var U=d.type;return typeof U=="function"&&!hl(U)&&U.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(s.tag=15,s.type=U,Ho(S,s,U,x,I)):(S=Yl(d.type,null,x,s,s.mode,I),S.ref=s.ref,S.return=s,s.child=S)}if(U=S.child,!(S.lanes&I)){var ne=U.memoizedProps;if(d=d.compare,d=d!==null?d:Pc,d(ne,x)&&S.ref===s.ref)return Gl(S,s,I)}return s.flags|=1,S=Yd(U,x),S.ref=s.ref,S.return=s,s.child=S}function Ho(S,s,d,x,I){if(S!==null&&Pc(S.memoizedProps,x)&&S.ref===s.ref)if(Hl=!1,(S.lanes&I)!==0)S.flags&131072&&(Hl=!0);else return s.lanes=S.lanes,Gl(S,s,I);return Ga(S,s,d,x,I)}function ed(S,s,d){var x=s.pendingProps,I=x.children,U=S!==null?S.memoizedState:null;if(x.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null},Qn(ra,Go),Go|=d;else if(d&1073741824)s.memoizedState={baseLanes:0,cachePool:null},x=U!==null?U.baseLanes:d,Qn(ra,Go),Go|=x;else return S=U!==null?U.baseLanes|d:d,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:S,cachePool:null},s.updateQueue=null,Qn(ra,Go),Go|=S,null;else U!==null?(x=U.baseLanes|d,s.memoizedState=null):x=d,Qn(ra,Go),Go|=x;return lo(S,s,I,d),s.child}function Ha(S,s){var d=s.ref;(S===null&&d!==null||S!==null&&S.ref!==d)&&(s.flags|=512,s.flags|=2097152)}function Ga(S,s,d,x,I){var U=Ni(d)?Si:ri.current;return U=Ai(s,U),gs(s,I),d=Ef(S,s,d,x,U,I),x=Rd(),S!==null&&!Hl?(s.updateQueue=S.updateQueue,s.flags&=-2053,S.lanes&=~I,Gl(S,s,I)):(Tr&&x&&Dn(s),s.flags|=1,lo(S,s,d,I),s.child)}function fc(S,s,d,x,I){if(Ni(d)){var U=!0;le(s)}else U=!1;if(gs(s,I),s.stateNode===null)S!==null&&(S.alternate=null,s.alternate=null,s.flags|=2),Td(s,d,x),oc(s,d,x,I),x=!0;else if(S===null){var ne=s.stateNode,Pe=s.memoizedProps;ne.props=Pe;var Je=ne.context,Tt=d.contextType;typeof Tt=="object"&&Tt!==null?Tt=is(Tt):(Tt=Ni(d)?Si:ri.current,Tt=Ai(s,Tt));var hn=d.getDerivedStateFromProps,kn=typeof hn=="function"||typeof ne.getSnapshotBeforeUpdate=="function";kn||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Pe!==x||Je!==Tt)&&Ic(s,ne,x,Tt),Ro=!1;var dr=s.memoizedState;ne.state=dr,ic(s,x,ne,I),Je=s.memoizedState,Pe!==x||dr!==Je||Hr.current||Ro?(typeof hn=="function"&&(kc(s,d,hn,x),Je=s.memoizedState),(Pe=Ro||Bu(s,d,Pe,x,dr,Je,Tt))?(kn||typeof ne.UNSAFE_componentWillMount!="function"&&typeof ne.componentWillMount!="function"||(typeof ne.componentWillMount=="function"&&ne.componentWillMount(),typeof ne.UNSAFE_componentWillMount=="function"&&ne.UNSAFE_componentWillMount()),typeof ne.componentDidMount=="function"&&(s.flags|=4194308)):(typeof ne.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=x,s.memoizedState=Je),ne.props=x,ne.state=Je,ne.context=Tt,x=Pe):(typeof ne.componentDidMount=="function"&&(s.flags|=4194308),x=!1)}else{ne=s.stateNode,du(S,s),Pe=s.memoizedProps,Tt=s.type===s.elementType?Pe:fa(s.type,Pe),ne.props=Tt,kn=s.pendingProps,dr=ne.context,Je=d.contextType,typeof Je=="object"&&Je!==null?Je=is(Je):(Je=Ni(d)?Si:ri.current,Je=Ai(s,Je));var Dr=d.getDerivedStateFromProps;(hn=typeof Dr=="function"||typeof ne.getSnapshotBeforeUpdate=="function")||typeof ne.UNSAFE_componentWillReceiveProps!="function"&&typeof ne.componentWillReceiveProps!="function"||(Pe!==kn||dr!==Je)&&Ic(s,ne,x,Je),Ro=!1,dr=s.memoizedState,ne.state=dr,ic(s,x,ne,I);var Pr=s.memoizedState;Pe!==kn||dr!==Pr||Hr.current||Ro?(typeof Dr=="function"&&(kc(s,d,Dr,x),Pr=s.memoizedState),(Tt=Ro||Bu(s,d,Tt,x,dr,Pr,Je)||!1)?(hn||typeof ne.UNSAFE_componentWillUpdate!="function"&&typeof ne.componentWillUpdate!="function"||(typeof ne.componentWillUpdate=="function"&&ne.componentWillUpdate(x,Pr,Je),typeof ne.UNSAFE_componentWillUpdate=="function"&&ne.UNSAFE_componentWillUpdate(x,Pr,Je)),typeof ne.componentDidUpdate=="function"&&(s.flags|=4),typeof ne.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof ne.componentDidUpdate!="function"||Pe===S.memoizedProps&&dr===S.memoizedState||(s.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Pe===S.memoizedProps&&dr===S.memoizedState||(s.flags|=1024),s.memoizedProps=x,s.memoizedState=Pr),ne.props=x,ne.state=Pr,ne.context=Je,x=Tt):(typeof ne.componentDidUpdate!="function"||Pe===S.memoizedProps&&dr===S.memoizedState||(s.flags|=4),typeof ne.getSnapshotBeforeUpdate!="function"||Pe===S.memoizedProps&&dr===S.memoizedState||(s.flags|=1024),x=!1)}return td(S,s,d,x,U,I)}function td(S,s,d,x,I,U){Ha(S,s);var ne=(s.flags&128)!==0;if(!x&&!ne)return I&&Ee(s,d,!1),Gl(S,s,U);x=s.stateNode,rp.current=s;var Pe=ne&&typeof d.getDerivedStateFromError!="function"?null:x.render();return s.flags|=1,S!==null&&ne?(s.child=Pd(s,S.child,null,U),s.child=Pd(s,null,Pe,U)):lo(S,s,Pe,U),s.memoizedState=x.state,I&&Ee(s,d,!0),s.child}function Va(S){var s=S.stateNode;s.pendingContext?ai(S,s.pendingContext,s.pendingContext!==s.context):s.context&&ai(S,s.context,!1),Mt(S,s.containerInfo)}function ip(S,s,d,x,I){return Ul(),sc(I),s.flags|=256,lo(S,s,d,x),s.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function nd(S){return{baseLanes:S,cachePool:null}}function Rf(S,s,d){var x=s.pendingProps,I=Ji.current,U=!1,ne=(s.flags&128)!==0,Pe;if((Pe=ne)||(Pe=S!==null&&S.memoizedState===null?!1:(I&2)!==0),Pe?(U=!0,s.flags&=-129):(S===null||S.memoizedState!==null)&&(I|=1),Qn(Ji,I&1),S===null)return mo(s),S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null)?(s.mode&1?ua(S)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(I=x.children,S=x.fallback,U?(x=s.mode,U=s.child,I={mode:"hidden",children:I},!(x&1)&&U!==null?(U.childLanes=0,U.pendingProps=I):U=Xu(I,x,0,null),S=vc(S,x,d,null),U.return=s,S.return=s,U.sibling=S,s.child=U,s.child.memoizedState=nd(d),s.memoizedState=Nd,S):op(s,I));if(I=S.memoizedState,I!==null){if(Pe=I.dehydrated,Pe!==null){if(ne)return s.flags&256?(s.flags&=-257,Fu(S,s,d,Error(c(422)))):s.memoizedState!==null?(s.child=S.child,s.flags|=128,null):(U=x.fallback,I=s.mode,x=Xu({mode:"visible",children:x.children},I,0,null),U=vc(U,I,d,null),U.flags|=2,x.return=s,U.return=s,x.sibling=U,s.child=x,s.mode&1&&Pd(s,S.child,null,d),s.child.memoizedState=nd(d),s.memoizedState=Nd,U);if(!(s.mode&1))s=Fu(S,s,d,null);else if(ua(Pe))s=Fu(S,s,d,Error(c(419)));else if(x=(d&S.childLanes)!==0,Hl||x){if(x=ii,x!==null){switch(d&-d){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}x=U&(x.suspendedLanes|d)?0:U,x!==0&&x!==I.retryLane&&(I.retryLane=x,Hs(S,x,-1))}dd(),s=Fu(S,s,d,Error(c(421)))}else Ds(Pe)?(s.flags|=128,s.child=S.child,s=Kd.bind(null,S),Cs(Pe,s),s=null):(d=I.treeContext,Xt&&(Gr=Tu(Pe),Xr=s,Tr=!0,ao=null,Nr=!1,d!==null&&(Fs[ue++]=Ge,Fs[ue++]=ut,Fs[ue++]=Ce,Ge=d.id,ut=d.overflow,Ce=s)),s=op(s,s.pendingProps.children),s.flags|=4096);return s}return U?(x=Fd(S,s,x.children,x.fallback,d),U=s.child,I=S.child.memoizedState,U.memoizedState=I===null?nd(d):{baseLanes:I.baseLanes|d,cachePool:null},U.childLanes=S.childLanes&~d,s.memoizedState=Nd,x):(d=Nu(S,s,x.children,d),s.memoizedState=null,d)}return U?(x=Fd(S,s,x.children,x.fallback,d),U=s.child,I=S.child.memoizedState,U.memoizedState=I===null?nd(d):{baseLanes:I.baseLanes|d,cachePool:null},U.childLanes=S.childLanes&~d,s.memoizedState=Nd,x):(d=Nu(S,s,x.children,d),s.memoizedState=null,d)}function op(S,s){return s=Xu({mode:"visible",children:s},S.mode,0,null),s.return=S,S.child=s}function Nu(S,s,d,x){var I=S.child;return S=I.sibling,d=Yd(I,{mode:"visible",children:d}),!(s.mode&1)&&(d.lanes=x),d.return=s,d.sibling=null,S!==null&&(x=s.deletions,x===null?(s.deletions=[S],s.flags|=16):x.push(S)),s.child=d}function Fd(S,s,d,x,I){var U=s.mode;S=S.child;var ne=S.sibling,Pe={mode:"hidden",children:d};return!(U&1)&&s.child!==S?(d=s.child,d.childLanes=0,d.pendingProps=Pe,s.deletions=null):(d=Yd(S,Pe),d.subtreeFlags=S.subtreeFlags&14680064),ne!==null?x=Yd(ne,x):(x=vc(x,U,I,null),x.flags|=2),x.return=s,d.return=s,d.sibling=x,s.child=d,x}function Fu(S,s,d,x){return x!==null&&sc(x),Pd(s,S.child,null,d),S=op(s,s.pendingProps.children),S.flags|=2,s.memoizedState=null,S}function _h(S,s,d){S.lanes|=s;var x=S.alternate;x!==null&&(x.lanes|=s),Nl(S.return,s,d)}function zd(S,s,d,x,I){var U=S.memoizedState;U===null?S.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:x,tail:d,tailMode:I}:(U.isBackwards=s,U.rendering=null,U.renderingStartTime=0,U.last=x,U.tail=d,U.tailMode=I)}function mu(S,s,d){var x=s.pendingProps,I=x.revealOrder,U=x.tail;if(lo(S,s,x.children,d),x=Ji.current,x&2)x=x&1|2,s.flags|=128;else{if(S!==null&&S.flags&128)e:for(S=s.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&_h(S,d,s);else if(S.tag===19)_h(S,d,s);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}x&=1}if(Qn(Ji,x),!(s.mode&1))s.memoizedState=null;else switch(I){case"forwards":for(d=s.child,I=null;d!==null;)S=d.alternate,S!==null&&go(S)===null&&(I=d),d=d.sibling;d=I,d===null?(I=s.child,s.child=null):(I=d.sibling,d.sibling=null),zd(s,!1,I,d,U);break;case"backwards":for(d=null,I=s.child,s.child=null;I!==null;){if(S=I.alternate,S!==null&&go(S)===null){s.child=I;break}S=I.sibling,I.sibling=d,d=I,I=S}zd(s,!0,d,null,U);break;case"together":zd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Gl(S,s,d){if(S!==null&&(s.dependencies=S.dependencies),mc|=s.lanes,!(d&s.childLanes))return null;if(S!==null&&s.child!==S.child)throw Error(c(153));if(s.child!==null){for(S=s.child,d=Yd(S,S.pendingProps),s.child=d,d.return=s;S.sibling!==null;)S=S.sibling,d=d.sibling=Yd(S,S.pendingProps),d.return=s;d.sibling=null}return s.child}function Vl(S,s,d){switch(s.tag){case 3:Va(s),Ul();break;case 5:gi(s);break;case 1:Ni(s.type)&&le(s);break;case 4:Mt(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type._context,s.memoizedProps.value);break;case 13:var x=s.memoizedState;if(x!==null)return x.dehydrated!==null?(Qn(Ji,Ji.current&1),s.flags|=128,null):d&s.child.childLanes?Rf(S,s,d):(Qn(Ji,Ji.current&1),S=Gl(S,s,d),S!==null?S.sibling:null);Qn(Ji,Ji.current&1);break;case 19:if(x=(d&s.childLanes)!==0,S.flags&128){if(x)return mu(S,s,d);s.flags|=128}var I=s.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Qn(Ji,Ji.current),x)break;return null;case 22:case 23:return s.lanes=0,ed(S,s,d)}return Gl(S,s,d)}function Dm(S,s){switch(cr(s),s.tag){case 1:return Ni(s.type)&&Ui(),S=s.flags,S&65536?(s.flags=S&-65537|128,s):null;case 3:return Sn(),jr(Hr),jr(ri),Ks(),S=s.flags,S&65536&&!(S&128)?(s.flags=S&-65537|128,s):null;case 5:return Ao(s),null;case 13:if(jr(Ji),S=s.memoizedState,S!==null&&S.dehydrated!==null){if(s.alternate===null)throw Error(c(340));Ul()}return S=s.flags,S&65536?(s.flags=S&-65537|128,s):null;case 19:return jr(Ji),null;case 4:return Sn(),null;case 10:return cu(s.type._context),null;case 22:case 23:return Vd(),null;case 24:return null;default:return null}}var wh=!1,Ts=!1,Wa=typeof WeakSet=="function"?WeakSet:Set,Rr=null;function Er(S,s){var d=S.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(x){_a(S,s,x)}else d.current=null}function ll(S,s,d){try{d()}catch(x){_a(S,s,x)}}var rd=!1;function Lm(S,s){for(Te(S.containerInfo),Rr=s;Rr!==null;)if(S=Rr,s=S.child,(S.subtreeFlags&1028)!==0&&s!==null)s.return=S,Rr=s;else for(;Rr!==null;){S=Rr;try{var d=S.alternate;if(S.flags&1024)switch(S.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var x=d.memoizedProps,I=d.memoizedState,U=S.stateNode,ne=U.getSnapshotBeforeUpdate(S.elementType===S.type?x:fa(S.type,x),I);U.__reactInternalSnapshotBeforeUpdate=ne}break;case 3:nn&&rr(S.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(c(163))}}catch(Pe){_a(S,S.return,Pe)}if(s=S.sibling,s!==null){s.return=S.return,Rr=s;break}Rr=S.return}return d=rd,rd=!1,d}function Ud(S,s,d){var x=s.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var I=x=x.next;do{if((I.tag&S)===S){var U=I.destroy;I.destroy=void 0,U!==void 0&&ll(s,d,U)}I=I.next}while(I!==x)}}function gu(S,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var d=s=s.next;do{if((d.tag&S)===S){var x=d.create;d.destroy=x()}d=d.next}while(d!==s)}}function ga(S){var s=S.ref;if(s!==null){var d=S.stateNode;switch(S.tag){case 5:S=Ze(d);break;default:S=d}typeof s=="function"?s(S):s.current=S}}function ul(S,s,d){if(Ns&&typeof Ns.onCommitFiberUnmount=="function")try{Ns.onCommitFiberUnmount(ku,s)}catch{}switch(s.tag){case 0:case 11:case 14:case 15:if(S=s.updateQueue,S!==null&&(S=S.lastEffect,S!==null)){var x=S=S.next;do{var I=x,U=I.destroy;I=I.tag,U!==void 0&&(I&2||I&4)&&ll(s,d,U),x=x.next}while(x!==S)}break;case 1:if(Er(s,d),S=s.stateNode,typeof S.componentWillUnmount=="function")try{S.props=s.memoizedProps,S.state=s.memoizedState,S.componentWillUnmount()}catch(ne){_a(s,d,ne)}break;case 5:Er(s,d);break;case 4:nn?jd(S,s,d):Ye&&Ye&&(s=s.stateNode.containerInfo,d=Ei(s),Vo(s,d))}}function os(S,s,d){for(var x=s;;)if(ul(S,x,d),x.child===null||nn&&x.tag===4){if(x===s)break;for(;x.sibling===null;){if(x.return===null||x.return===s)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else x.child.return=x,x=x.child}function zu(S){var s=S.alternate;s!==null&&(S.alternate=null,zu(s)),S.child=null,S.deletions=null,S.sibling=null,S.tag===5&&(s=S.stateNode,s!==null&&jn(s)),S.stateNode=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}function Nm(S){return S.tag===5||S.tag===3||S.tag===4}function sp(S){e:for(;;){for(;S.sibling===null;){if(S.return===null||Nm(S.return))return null;S=S.return}for(S.sibling.return=S.return,S=S.sibling;S.tag!==5&&S.tag!==6&&S.tag!==18;){if(S.flags&2||S.child===null||S.tag===4)continue e;S.child.return=S,S=S.child}if(!(S.flags&2))return S.stateNode}}function ap(S){if(nn){e:{for(var s=S.return;s!==null;){if(Nm(s))break e;s=s.return}throw Error(c(160))}var d=s;switch(d.tag){case 5:s=d.stateNode,d.flags&32&&(Wr(s),d.flags&=-33),d=sp(S),Lc(S,d,s);break;case 3:case 4:s=d.stateNode.containerInfo,d=sp(S),lp(S,d,s);break;default:throw Error(c(161))}}}function lp(S,s,d){var x=S.tag;if(x===5||x===6)S=S.stateNode,s?Yn(d,S,s):xr(d,S);else if(x!==4&&(S=S.child,S!==null))for(lp(S,s,d),S=S.sibling;S!==null;)lp(S,s,d),S=S.sibling}function Lc(S,s,d){var x=S.tag;if(x===5||x===6)S=S.stateNode,s?Ln(d,S,s):Xn(d,S);else if(x!==4&&(S=S.child,S!==null))for(Lc(S,s,d),S=S.sibling;S!==null;)Lc(S,s,d),S=S.sibling}function jd(S,s,d){for(var x=s,I=!1,U,ne;;){if(!I){I=x.return;e:for(;;){if(I===null)throw Error(c(160));switch(U=I.stateNode,I.tag){case 5:ne=!1;break e;case 3:U=U.containerInfo,ne=!0;break e;case 4:U=U.containerInfo,ne=!0;break e}I=I.return}I=!0}if(x.tag===5||x.tag===6)os(S,x,d),ne?vr(U,x.stateNode):br(U,x.stateNode);else if(x.tag===18)ne?rn(U,x.stateNode):tn(U,x.stateNode);else if(x.tag===4){if(x.child!==null){U=x.stateNode.containerInfo,ne=!0,x.child.return=x,x=x.child;continue}}else if(ul(S,x,d),x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break;for(;x.sibling===null;){if(x.return===null||x.return===s)return;x=x.return,x.tag===4&&(I=!1)}x.sibling.return=x.return,x=x.sibling}}function Xp(S,s){if(nn){switch(s.tag){case 0:case 11:case 14:case 15:Ud(3,s,s.return),gu(3,s),Ud(5,s,s.return);return;case 1:return;case 5:var d=s.stateNode;if(d!=null){var x=s.memoizedProps;S=S!==null?S.memoizedProps:x;var I=s.type,U=s.updateQueue;s.updateQueue=null,U!==null&&En(d,U,I,S,x,s)}return;case 6:if(s.stateNode===null)throw Error(c(162));d=s.memoizedProps,nr(s.stateNode,S!==null?S.memoizedProps:d,d);return;case 3:Xt&&S!==null&&S.memoizedState.isDehydrated&&at(s.stateNode.containerInfo);return;case 12:return;case 13:Nc(s);return;case 19:Nc(s);return;case 17:return}throw Error(c(163))}switch(s.tag){case 0:case 11:case 14:case 15:Ud(3,s,s.return),gu(3,s),Ud(5,s,s.return);return;case 12:return;case 13:Nc(s);return;case 19:Nc(s);return;case 3:Xt&&S!==null&&S.memoizedState.isDehydrated&&at(s.stateNode.containerInfo);break;case 22:case 23:return}e:if(Ye){switch(s.tag){case 1:case 5:case 6:break e;case 3:case 4:s=s.stateNode,Vo(s.containerInfo,s.pendingChildren);break e}throw Error(c(163))}}function Nc(S){var s=S.updateQueue;if(s!==null){S.updateQueue=null;var d=S.stateNode;d===null&&(d=S.stateNode=new Wa),s.forEach(function(x){var I=Ch.bind(null,S,x);d.has(x)||(d.add(x),x.then(I,I))})}}function Sh(S,s){for(Rr=s;Rr!==null;){s=Rr;var d=s.deletions;if(d!==null)for(var x=0;x<d.length;x++){var I=d[x];try{var U=S;nn?jd(U,I,s):os(U,I,s);var ne=I.alternate;ne!==null&&(ne.return=null),I.return=null}catch(In){_a(I,s,In)}}if(d=s.child,s.subtreeFlags&12854&&d!==null)d.return=s,Rr=d;else for(;Rr!==null;){s=Rr;try{var Pe=s.flags;if(Pe&32&&nn&&Wr(s.stateNode),Pe&512){var Je=s.alternate;if(Je!==null){var Tt=Je.ref;Tt!==null&&(typeof Tt=="function"?Tt(null):Tt.current=null)}}if(Pe&8192)switch(s.tag){case 13:if(s.memoizedState!==null){var hn=s.alternate;(hn===null||hn.memoizedState===null)&&(cl=Ls())}break;case 22:var kn=s.memoizedState!==null,dr=s.alternate,Dr=dr!==null&&dr.memoizedState!==null;if(d=s,nn){e:if(x=d,I=kn,U=null,nn)for(var Pr=x;;){if(Pr.tag===5){if(U===null){U=Pr;var Ar=Pr.stateNode;I?ci(Ar):Kt(Pr.stateNode,Pr.memoizedProps)}}else if(Pr.tag===6){if(U===null){var Zi=Pr.stateNode;I?Ct(Zi):gn(Zi,Pr.memoizedProps)}}else if((Pr.tag!==22&&Pr.tag!==23||Pr.memoizedState===null||Pr===x)&&Pr.child!==null){Pr.child.return=Pr,Pr=Pr.child;continue}if(Pr===x)break;for(;Pr.sibling===null;){if(Pr.return===null||Pr.return===x)break e;U===Pr&&(U=null),Pr=Pr.return}U===Pr&&(U=null),Pr.sibling.return=Pr.return,Pr=Pr.sibling}}if(kn&&!Dr&&d.mode&1){Rr=d;for(var on=d.child;on!==null;){for(d=Rr=on;Rr!==null;){x=Rr;var Qe=x.child;switch(x.tag){case 0:case 11:case 14:case 15:Ud(4,x,x.return);break;case 1:Er(x,x.return);var tt=x.stateNode;if(typeof tt.componentWillUnmount=="function"){var kt=x.return;try{tt.props=x.memoizedProps,tt.state=x.memoizedState,tt.componentWillUnmount()}catch(In){_a(x,kt,In)}}break;case 5:Er(x,x.return);break;case 22:if(x.memoizedState!==null){Hd(d);continue}}Qe!==null?(Qe.return=x,Rr=Qe):Hd(d)}on=on.sibling}}}switch(Pe&4102){case 2:ap(s),s.flags&=-3;break;case 6:ap(s),s.flags&=-3,Xp(s.alternate,s);break;case 4096:s.flags&=-4097;break;case 4100:s.flags&=-4097,Xp(s.alternate,s);break;case 4:Xp(s.alternate,s)}}catch(In){_a(s,s.return,In)}if(d=s.sibling,d!==null){d.return=s.return,Rr=d;break}Rr=s.return}}}function Gv(S,s,d){Rr=S,hc(S)}function hc(S,s,d){for(var x=(S.mode&1)!==0;Rr!==null;){var I=Rr,U=I.child;if(I.tag===22&&x){var ne=I.memoizedState!==null||wh;if(!ne){var Pe=I.alternate,Je=Pe!==null&&Pe.memoizedState!==null||Ts;Pe=wh;var Tt=Ts;if(wh=ne,(Ts=Je)&&!Tt)for(Rr=I;Rr!==null;)ne=Rr,Je=ne.child,ne.tag===22&&ne.memoizedState!==null?od(I):Je!==null?(Je.return=ne,Rr=Je):od(I);for(;U!==null;)Rr=U,hc(U),U=U.sibling;Rr=I,wh=Pe,Ts=Tt}id(S)}else I.subtreeFlags&8772&&U!==null?(U.return=I,Rr=U):id(S)}}function id(S){for(;Rr!==null;){var s=Rr;if(s.flags&8772){var d=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ts||gu(5,s);break;case 1:var x=s.stateNode;if(s.flags&4&&!Ts)if(d===null)x.componentDidMount();else{var I=s.elementType===s.type?d.memoizedProps:fa(s.type,d.memoizedProps);x.componentDidUpdate(I,d.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var U=s.updateQueue;U!==null&&rl(s,U,x);break;case 3:var ne=s.updateQueue;if(ne!==null){if(d=null,s.child!==null)switch(s.child.tag){case 5:d=Ze(s.child.stateNode);break;case 1:d=s.child.stateNode}rl(s,ne,d)}break;case 5:var Pe=s.stateNode;d===null&&s.flags&4&&it(Pe,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(Xt&&s.memoizedState===null){var Je=s.alternate;if(Je!==null){var Tt=Je.memoizedState;if(Tt!==null){var hn=Tt.dehydrated;hn!==null&&vt(hn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(c(163))}Ts||s.flags&512&&ga(s)}catch(kn){_a(s,s.return,kn)}}if(s===S){Rr=null;break}if(d=s.sibling,d!==null){d.return=s.return,Rr=d;break}Rr=s.return}}function Hd(S){for(;Rr!==null;){var s=Rr;if(s===S){Rr=null;break}var d=s.sibling;if(d!==null){d.return=s.return,Rr=d;break}Rr=s.return}}function od(S){for(;Rr!==null;){var s=Rr;try{switch(s.tag){case 0:case 11:case 15:var d=s.return;try{gu(4,s)}catch(Je){_a(s,d,Je)}break;case 1:var x=s.stateNode;if(typeof x.componentDidMount=="function"){var I=s.return;try{x.componentDidMount()}catch(Je){_a(s,I,Je)}}var U=s.return;try{ga(s)}catch(Je){_a(s,U,Je)}break;case 5:var ne=s.return;try{ga(s)}catch(Je){_a(s,ne,Je)}}}catch(Je){_a(s,s.return,Je)}if(s===S){Rr=null;break}var Pe=s.sibling;if(Pe!==null){Pe.return=s.return,Rr=Pe;break}Rr=s.return}}var Of=0,sd=1,Fc=2,Gd=3,pc=4;if(typeof Symbol=="function"&&Symbol.for){var va=Symbol.for;Of=va("selector.component"),sd=va("selector.has_pseudo_class"),Fc=va("selector.role"),Gd=va("selector.test_id"),pc=va("selector.text")}function Uu(S){var s=Ft(S);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(c(364));return s}if(S=Vr(S),S===null)throw Error(c(362));return S.stateNode.current}function xh(S,s){switch(s.$$typeof){case Of:if(S.type===s.value)return!0;break;case sd:e:{s=s.value,S=[S,0];for(var d=0;d<S.length;){var x=S[d++],I=S[d++],U=s[I];if(x.tag!==5||!De(x)){for(;U!=null&&xh(x,U);)I++,U=s[I];if(I===s.length){s=!0;break e}else for(x=x.child;x!==null;)S.push(x,I),x=x.sibling}}s=!1}return s;case Fc:if(S.tag===5&&Ut(S.stateNode,s.value))return!0;break;case pc:if((S.tag===5||S.tag===6)&&(S=ct(S),S!==null&&0<=S.indexOf(s.value)))return!0;break;case Gd:if(S.tag===5&&(S=S.memoizedProps["data-testname"],typeof S=="string"&&S.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function bh(S){switch(S.$$typeof){case Of:return"<"+(ge(S.value)||"Unknown")+">";case sd:return":has("+(bh(S)||"")+")";case Fc:return'[role="'+S.value+'"]';case pc:return'"'+S.value+'"';case Gd:return'[data-testname="'+S.value+'"]';default:throw Error(c(365))}}function vu(S,s){var d=[];S=[S,0];for(var x=0;x<S.length;){var I=S[x++],U=S[x++],ne=s[U];if(I.tag!==5||!De(I)){for(;ne!=null&&xh(I,ne);)U++,ne=s[U];if(U===s.length)d.push(I);else for(I=I.child;I!==null;)S.push(I,U),I=I.sibling}}return d}function ju(S,s){if(!_r)throw Error(c(363));S=Uu(S),S=vu(S,s),s=[],S=Array.from(S);for(var d=0;d<S.length;){var x=S[d++];if(x.tag===5)De(x)||s.push(x.stateNode);else for(x=x.child;x!==null;)S.push(x),x=x.sibling}return s}var up=Math.ceil,cp=p.ReactCurrentDispatcher,ya=p.ReactCurrentOwner,Mo=p.ReactCurrentBatchConfig,Jr=0,ii=null,Fi=null,uo=0,Go=0,ra=wr(0),ss=0,Ps=null,mc=0,ad=0,Bf=0,Wl=null,ks=null,cl=0,Df=1/0;function Hu(){Df=Ls()+500}var ld=!1,zc=null,Ia=null,Xl=!1,Pl=null,dl=0,ud=0,Gu=null,Eh=-1,yu=0;function Oi(){return Jr&6?Ls():Eh!==-1?Eh:Eh=Ls()}function Uo(S){return S.mode&1?Jr&2&&uo!==0?uo&-uo:Ta.transition!==null?(yu===0&&(S=On,On<<=1,!(On&4194240)&&(On=64),yu=S),yu):(S=bi,S!==0?S:mn()):1}function Hs(S,s,d){if(50<ud)throw ud=0,Gu=null,Error(c(185));var x=Xa(S,s);return x===null?null:(No(x,s,d),(!(Jr&2)||x!==ii)&&(x===ii&&(!(Jr&2)&&(ad|=s),ss===4&&ds(x,uo)),Js(x,d),s===1&&Jr===0&&!(S.mode&1)&&(Hu(),cs&&Ma())),x)}function Xa(S,s){S.lanes|=s;var d=S.alternate;for(d!==null&&(d.lanes|=s),d=S,S=S.return;S!==null;)S.childLanes|=s,d=S.alternate,d!==null&&(d.childLanes|=s),d=S,S=S.return;return d.tag===3?d.stateNode:null}function Js(S,s){var d=S.callbackNode;To(S,s);var x=$r(S,S===ii?uo:0);if(x===0)d!==null&&ea(d),S.callbackNode=null,S.callbackPriority=0;else if(s=x&-x,S.callbackPriority!==s){if(d!=null&&ea(d),s===1)S.tag===0?Md(_u.bind(null,S)):Ll(_u.bind(null,S)),Wn?tr(function(){Jr===0&&Ma()}):ca(us,Ma),d=null;else{switch(Ci(x)){case 1:d=us;break;case 4:d=Tc;break;case 16:d=rc;break;case 536870912:d=da;break;default:d=rc}d=Ff(d,Ka.bind(null,S))}S.callbackPriority=s,S.callbackNode=d}}function Ka(S,s){if(Eh=-1,yu=0,Jr&6)throw Error(c(327));var d=S.callbackNode;if(gc()&&S.callbackNode!==d)return null;var x=$r(S,S===ii?uo:0);if(x===0)return null;if(x&30||x&S.expiredLanes||s)s=Wd(S,x);else{s=x;var I=Jr;Jr|=2;var U=Kp();(ii!==S||uo!==s)&&(Hu(),cd(S,s));do try{kl();break}catch(Pe){Gs(S,Pe)}while(1);Al(),cp.current=U,Jr=I,Fi!==null?s=0:(ii=null,uo=0,s=ss)}if(s!==0){if(s===2&&(I=Aa(S),I!==0&&(x=I,s=Uc(S,I))),s===1)throw d=Ps,cd(S,0),ds(S,x),Js(S,Ls()),d;if(s===6)ds(S,x);else{if(I=S.current.alternate,!(x&30)&&!Zs(I)&&(s=Wd(S,x),s===2&&(U=Aa(S),U!==0&&(x=U,s=Uc(S,U))),s===1))throw d=Ps,cd(S,0),ds(S,x),Js(S,Ls()),d;switch(S.finishedWork=I,S.finishedLanes=x,s){case 0:case 1:throw Error(c(345));case 2:jc(S,ks);break;case 3:if(ds(S,x),(x&130023424)===x&&(s=cl+500-Ls(),10<s)){if($r(S,0)!==0)break;if(I=S.suspendedLanes,(I&x)!==x){Oi(),S.pingedLanes|=S.suspendedLanes&I;break}S.timeoutHandle=Nt(jc.bind(null,S,ks),s);break}jc(S,ks);break;case 4:if(ds(S,x),(x&4194240)===x)break;for(s=S.eventTimes,I=-1;0<x;){var ne=31-He(x);U=1<<ne,ne=s[ne],ne>I&&(I=ne),x&=~U}if(x=I,x=Ls()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*up(x/1960))-x,10<x){S.timeoutHandle=Nt(jc.bind(null,S,ks),x);break}jc(S,ks);break;case 5:jc(S,ks);break;default:throw Error(c(329))}}}return Js(S,Ls()),S.callbackNode===d?Ka.bind(null,S):null}function Uc(S,s){var d=Wl;return S.current.memoizedState.isDehydrated&&(cd(S,s).flags|=256),S=Wd(S,s),S!==2&&(s=ks,ks=d,s!==null&&Yo(s)),S}function Yo(S){ks===null?ks=S:ks.push.apply(ks,S)}function Zs(S){for(var s=S;;){if(s.flags&16384){var d=s.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var x=0;x<d.length;x++){var I=d[x],U=I.getSnapshot;I=I.value;try{if(!Vs(U(),I))return!1}catch{return!1}}}if(d=s.child,s.subtreeFlags&16384&&d!==null)d.return=s,s=d;else{if(s===S)break;for(;s.sibling===null;){if(s.return===null||s.return===S)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ds(S,s){for(s&=~Bf,s&=~ad,S.suspendedLanes|=s,S.pingedLanes&=~s,S=S.expirationTimes;0<s;){var d=31-He(s),x=1<<d;S[d]=-1,s&=~x}}function _u(S){if(Jr&6)throw Error(c(327));gc();var s=$r(S,0);if(!(s&1))return Js(S,Ls()),null;var d=Wd(S,s);if(S.tag!==0&&d===2){var x=Aa(S);x!==0&&(s=x,d=Uc(S,x))}if(d===1)throw d=Ps,cd(S,0),ds(S,s),Js(S,Ls()),d;if(d===6)throw Error(c(345));return S.finishedWork=S.current.alternate,S.finishedLanes=s,jc(S,ks),Js(S,Ls()),null}function Lf(S){Pl!==null&&Pl.tag===0&&!(Jr&6)&&gc();var s=Jr;Jr|=1;var d=Mo.transition,x=bi;try{if(Mo.transition=null,bi=1,S)return S()}finally{bi=x,Mo.transition=d,Jr=s,!(Jr&6)&&Ma()}}function Vd(){Go=ra.current,jr(ra)}function cd(S,s){S.finishedWork=null,S.finishedLanes=0;var d=S.timeoutHandle;if(d!==an&&(S.timeoutHandle=an,Ot(d)),Fi!==null)for(d=Fi.return;d!==null;){var x=d;switch(cr(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Ui();break;case 3:Sn(),jr(Hr),jr(ri),Ks();break;case 5:Ao(x);break;case 4:Sn();break;case 13:jr(Ji);break;case 19:jr(Ji);break;case 10:cu(x.type._context);break;case 22:case 23:Vd()}d=d.return}if(ii=S,Fi=S=Yd(S.current,null),uo=Go=s,ss=0,Ps=null,Bf=ad=mc=0,ks=Wl=null,ko!==null){for(s=0;s<ko.length;s++)if(d=ko[s],x=d.interleaved,x!==null){d.interleaved=null;var I=x.next,U=d.pending;if(U!==null){var ne=U.next;U.next=I,x.next=ne}d.pending=x}ko=null}return S}function Gs(S,s){do{var d=Fi;try{if(Al(),ol.current=Ld,Us){for(var x=Wo.memoizedState;x!==null;){var I=x.queue;I!==null&&(I.pending=null),x=x.next}Us=!1}if(za=0,Co=no=Wo=null,Id=!1,jl=0,ya.current=null,d===null||d.return===null){ss=1,Ps=s,Fi=null;break}e:{var U=S,ne=d.return,Pe=d,Je=s;if(s=uo,Pe.flags|=32768,Je!==null&&typeof Je=="object"&&typeof Je.then=="function"){var Tt=Je,hn=Pe,kn=hn.tag;if(!(hn.mode&1)&&(kn===0||kn===11||kn===15)){var dr=hn.alternate;dr?(hn.updateQueue=dr.updateQueue,hn.memoizedState=dr.memoizedState,hn.lanes=dr.lanes):(hn.updateQueue=null,hn.memoizedState=null)}var Dr=Lu(ne);if(Dr!==null){Dr.flags&=-257,Wp(Dr,ne,Pe,U,s),Dr.mode&1&&np(U,Tt,s),s=Dr,Je=Tt;var Pr=s.updateQueue;if(Pr===null){var Ar=new Set;Ar.add(Je),s.updateQueue=Ar}else Pr.add(Je);break e}else{if(!(s&1)){np(U,Tt,s),dd();break e}Je=Error(c(426))}}else if(Tr&&Pe.mode&1){var Zi=Lu(ne);if(Zi!==null){!(Zi.flags&65536)&&(Zi.flags|=256),Wp(Zi,ne,Pe,U,s),sc(Je);break e}}U=Je,ss!==4&&(ss=2),Wl===null?Wl=[U]:Wl.push(U),Je=Vp(Je,Pe),Pe=ne;do{switch(Pe.tag){case 3:Pe.flags|=65536,s&=-s,Pe.lanes|=s;var on=Bm(Pe,Je,s);Ms(Pe,on);break e;case 1:U=Je;var Qe=Pe.type,tt=Pe.stateNode;if(!(Pe.flags&128)&&(typeof Qe.getDerivedStateFromError=="function"||tt!==null&&typeof tt.componentDidCatch=="function"&&(Ia===null||!Ia.has(tt)))){Pe.flags|=65536,s&=-s,Pe.lanes|=s;var kt=kf(Pe,U,s);Ms(Pe,kt);break e}}Pe=Pe.return}while(Pe!==null)}Ah(d)}catch(In){s=In,Fi===d&&d!==null&&(Fi=d=d.return);continue}break}while(1)}function Kp(){var S=cp.current;return cp.current=Ld,S===null?Ld:S}function dd(){(ss===0||ss===3||ss===2)&&(ss=4),ii===null||!(mc&268435455)&&!(ad&268435455)||ds(ii,uo)}function Wd(S,s){var d=Jr;Jr|=2;var x=Kp();ii===S&&uo===s||cd(S,s);do try{Vu();break}catch(I){Gs(S,I)}while(1);if(Al(),Jr=d,cp.current=x,Fi!==null)throw Error(c(261));return ii=null,uo=0,ss}function Vu(){for(;Fi!==null;)Nf(Fi)}function kl(){for(;Fi!==null&&!uu();)Nf(Fi)}function Nf(S){var s=dp(S.alternate,S,Go);S.memoizedProps=S.pendingProps,s===null?Ah(S):Fi=s,ya.current=null}function Ah(S){var s=S;do{var d=s.alternate;if(S=s.return,s.flags&32768){if(d=Dm(d,s),d!==null){d.flags&=32767,Fi=d;return}if(S!==null)S.flags|=32768,S.subtreeFlags=0,S.deletions=null;else{ss=6,Fi=null;return}}else if(d=qs(d,s,Go),d!==null){Fi=d;return}if(s=s.sibling,s!==null){Fi=s;return}Fi=s=S}while(s!==null);ss===0&&(ss=5)}function jc(S,s){var d=bi,x=Mo.transition;try{Mo.transition=null,bi=1,Wu(S,s,d)}finally{Mo.transition=x,bi=d}return null}function Wu(S,s,d){do gc();while(Pl!==null);if(Jr&6)throw Error(c(327));var x=S.finishedWork,I=S.finishedLanes;if(x===null)return null;if(S.finishedWork=null,S.finishedLanes=0,x===S.current)throw Error(c(177));S.callbackNode=null,S.callbackPriority=0;var U=x.lanes|x.childLanes;if(La(S,U),S===ii&&(Fi=ii=null,uo=0),!(x.subtreeFlags&2064)&&!(x.flags&2064)||Xl||(Xl=!0,Ff(rc,function(){return gc(),null})),U=(x.flags&15990)!==0,x.subtreeFlags&15990||U){U=Mo.transition,Mo.transition=null;var ne=bi;bi=1;var Pe=Jr;Jr|=4,ya.current=null,Lm(S,x),Sh(S,x),Ae(S.containerInfo),S.current=x,Gv(x),Pu(),Jr=Pe,bi=ne,Mo.transition=U}else S.current=x;if(Xl&&(Xl=!1,Pl=S,dl=I),U=S.pendingLanes,U===0&&(Ia=null),ji(x.stateNode),Js(S,Ls()),s!==null)for(d=S.onRecoverableError,x=0;x<s.length;x++)d(s[x]);if(ld)throw ld=!1,S=zc,zc=null,S;return dl&1&&S.tag!==0&&gc(),U=S.pendingLanes,U&1?S===Gu?ud++:(ud=0,Gu=S):ud=0,Ma(),null}function gc(){if(Pl!==null){var S=Ci(dl),s=Mo.transition,d=bi;try{if(Mo.transition=null,bi=16>S?16:S,Pl===null)var x=!1;else{if(S=Pl,Pl=null,dl=0,Jr&6)throw Error(c(331));var I=Jr;for(Jr|=4,Rr=S.current;Rr!==null;){var U=Rr,ne=U.child;if(Rr.flags&16){var Pe=U.deletions;if(Pe!==null){for(var Je=0;Je<Pe.length;Je++){var Tt=Pe[Je];for(Rr=Tt;Rr!==null;){var hn=Rr;switch(hn.tag){case 0:case 11:case 15:Ud(8,hn,U)}var kn=hn.child;if(kn!==null)kn.return=hn,Rr=kn;else for(;Rr!==null;){hn=Rr;var dr=hn.sibling,Dr=hn.return;if(zu(hn),hn===Tt){Rr=null;break}if(dr!==null){dr.return=Dr,Rr=dr;break}Rr=Dr}}}var Pr=U.alternate;if(Pr!==null){var Ar=Pr.child;if(Ar!==null){Pr.child=null;do{var Zi=Ar.sibling;Ar.sibling=null,Ar=Zi}while(Ar!==null)}}Rr=U}}if(U.subtreeFlags&2064&&ne!==null)ne.return=U,Rr=ne;else e:for(;Rr!==null;){if(U=Rr,U.flags&2048)switch(U.tag){case 0:case 11:case 15:Ud(9,U,U.return)}var on=U.sibling;if(on!==null){on.return=U.return,Rr=on;break e}Rr=U.return}}var Qe=S.current;for(Rr=Qe;Rr!==null;){ne=Rr;var tt=ne.child;if(ne.subtreeFlags&2064&&tt!==null)tt.return=ne,Rr=tt;else e:for(ne=Qe;Rr!==null;){if(Pe=Rr,Pe.flags&2048)try{switch(Pe.tag){case 0:case 11:case 15:gu(9,Pe)}}catch(In){_a(Pe,Pe.return,In)}if(Pe===ne){Rr=null;break e}var kt=Pe.sibling;if(kt!==null){kt.return=Pe.return,Rr=kt;break e}Rr=Pe.return}}if(Jr=I,Ma(),Ns&&typeof Ns.onPostCommitFiberRoot=="function")try{Ns.onPostCommitFiberRoot(ku,S)}catch{}x=!0}return x}finally{bi=d,Mo.transition=s}}return!1}function Xd(S,s,d){s=Vp(d,s),s=Bm(S,s,1),_o(S,s),s=Oi(),S=Xa(S,1),S!==null&&(No(S,1,s),Js(S,s))}function _a(S,s,d){if(S.tag===3)Xd(S,S,d);else for(;s!==null;){if(s.tag===3){Xd(s,S,d);break}else if(s.tag===1){var x=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Ia===null||!Ia.has(x))){S=Vp(d,S),S=kf(s,S,1),_o(s,S),S=Oi(),s=Xa(s,1),s!==null&&(No(s,1,S),Js(s,S));break}}s=s.return}}function fl(S,s,d){var x=S.pingCache;x!==null&&x.delete(s),s=Oi(),S.pingedLanes|=S.suspendedLanes&d,ii===S&&(uo&d)===d&&(ss===4||ss===3&&(uo&130023424)===uo&&500>Ls()-cl?cd(S,0):Bf|=d),Js(S,s)}function Rg(S,s){s===0&&(S.mode&1?(s=ur,ur<<=1,!(ur&130023424)&&(ur=4194304)):s=1);var d=Oi();S=Xa(S,s),S!==null&&(No(S,s,d),Js(S,d))}function Kd(S){var s=S.memoizedState,d=0;s!==null&&(d=s.retryLane),Rg(S,d)}function Ch(S,s){var d=0;switch(S.tag){case 13:var x=S.stateNode,I=S.memoizedState;I!==null&&(d=I.retryLane);break;case 19:x=S.stateNode;break;default:throw Error(c(314))}x!==null&&x.delete(s),Rg(S,d)}var dp;dp=function(S,s,d){if(S!==null)if(S.memoizedProps!==s.pendingProps||Hr.current)Hl=!0;else{if(!(S.lanes&d)&&!(s.flags&128))return Hl=!1,Vl(S,s,d);Hl=!!(S.flags&131072)}else Hl=!1,Tr&&s.flags&1048576&&jt(s,zl,s.index);switch(s.lanes=0,s.tag){case 2:var x=s.type;S!==null&&(S.alternate=null,s.alternate=null,s.flags|=2),S=s.pendingProps;var I=Ai(s,ri.current);gs(s,d),I=Ef(null,s,x,S,I,d);var U=Rd();return s.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ni(x)?(U=!0,le(s)):U=!1,s.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Zo(s),I.updater=Ou,s.stateNode=I,I._reactInternals=s,oc(s,x,S,d),s=td(null,s,x,!0,U,d)):(s.tag=0,Tr&&U&&Dn(s),lo(null,s,I,d),s=s.child),s;case 16:x=s.elementType;e:{switch(S!==null&&(S.alternate=null,s.alternate=null,s.flags|=2),S=s.pendingProps,I=x._init,x=I(x._payload),s.type=x,I=s.tag=zf(x),S=fa(x,S),I){case 0:s=Ga(null,s,x,S,d);break e;case 1:s=fc(null,s,x,S,d);break e;case 11:s=vs(null,s,x,S,d);break e;case 14:s=$o(null,s,x,fa(x.type,S),d);break e}throw Error(c(306,x,""))}return s;case 0:return x=s.type,I=s.pendingProps,I=s.elementType===x?I:fa(x,I),Ga(S,s,x,I,d);case 1:return x=s.type,I=s.pendingProps,I=s.elementType===x?I:fa(x,I),fc(S,s,x,I,d);case 3:e:{if(Va(s),S===null)throw Error(c(387));x=s.pendingProps,U=s.memoizedState,I=U.element,du(S,s),ic(s,x,null,d);var ne=s.memoizedState;if(x=ne.element,Xt&&U.isDehydrated)if(U={element:x,isDehydrated:!1,cache:ne.cache,transitions:ne.transitions},s.updateQueue.baseState=U,s.memoizedState=U,s.flags&256){I=Error(c(423)),s=ip(S,s,x,d,I);break e}else if(x!==I){I=Error(c(424)),s=ip(S,s,x,d,I);break e}else for(Xt&&(Gr=Ea(s.stateNode.containerInfo),Xr=s,Tr=!0,ao=null,Nr=!1),d=Du(s,null,x,d),s.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Ul(),x===I){s=Gl(S,s,d);break e}lo(S,s,x,d)}s=s.child}return s;case 5:return gi(s),S===null&&mo(s),x=s.type,I=s.pendingProps,U=S!==null?S.memoizedProps:null,ne=I.children,wt(x,I)?ne=null:U!==null&&wt(x,U)&&(s.flags|=32),Ha(S,s),lo(S,s,ne,d),s.child;case 6:return S===null&&mo(s),null;case 13:return Rf(S,s,d);case 4:return Mt(s,s.stateNode.containerInfo),x=s.pendingProps,S===null?s.child=Pd(s,null,x,d):lo(S,s,x,d),s.child;case 11:return x=s.type,I=s.pendingProps,I=s.elementType===x?I:fa(x,I),vs(S,s,x,I,d);case 7:return lo(S,s,s.pendingProps,d),s.child;case 8:return lo(S,s,s.pendingProps.children,d),s.child;case 12:return lo(S,s,s.pendingProps.children,d),s.child;case 10:e:{if(x=s.type._context,I=s.pendingProps,U=s.memoizedProps,ne=I.value,rs(s,x,ne),U!==null)if(Vs(U.value,ne)){if(U.children===I.children&&!Hr.current){s=Gl(S,s,d);break e}}else for(U=s.child,U!==null&&(U.return=s);U!==null;){var Pe=U.dependencies;if(Pe!==null){ne=U.child;for(var Je=Pe.firstContext;Je!==null;){if(Je.context===x){if(U.tag===1){Je=Xs(-1,d&-d),Je.tag=2;var Tt=U.updateQueue;if(Tt!==null){Tt=Tt.shared;var hn=Tt.pending;hn===null?Je.next=Je:(Je.next=hn.next,hn.next=Je),Tt.pending=Je}}U.lanes|=d,Je=U.alternate,Je!==null&&(Je.lanes|=d),Nl(U.return,d,s),Pe.lanes|=d;break}Je=Je.next}}else if(U.tag===10)ne=U.type===s.type?null:U.child;else if(U.tag===18){if(ne=U.return,ne===null)throw Error(c(341));ne.lanes|=d,Pe=ne.alternate,Pe!==null&&(Pe.lanes|=d),Nl(ne,d,s),ne=U.sibling}else ne=U.child;if(ne!==null)ne.return=U;else for(ne=U;ne!==null;){if(ne===s){ne=null;break}if(U=ne.sibling,U!==null){U.return=ne.return,ne=U;break}ne=ne.return}U=ne}lo(S,s,I.children,d),s=s.child}return s;case 9:return I=s.type,x=s.pendingProps.children,gs(s,d),I=is(I),x=x(I),s.flags|=1,lo(S,s,x,d),s.child;case 14:return x=s.type,I=fa(x,s.pendingProps),I=fa(x.type,I),$o(S,s,x,I,d);case 15:return Ho(S,s,s.type,s.pendingProps,d);case 17:return x=s.type,I=s.pendingProps,I=s.elementType===x?I:fa(x,I),S!==null&&(S.alternate=null,s.alternate=null,s.flags|=2),s.tag=1,Ni(x)?(S=!0,le(s)):S=!1,gs(s,d),Td(s,x,I),oc(s,x,I,d),td(null,s,x,!0,S,d);case 19:return mu(S,s,d);case 22:return ed(S,s,d)}throw Error(c(156,s.tag))};function Ff(S,s){return ca(S,s)}function fp(S,s,d,x){this.tag=S,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(S,s,d,x){return new fp(S,s,d,x)}function hl(S){return S=S.prototype,!(!S||!S.isReactComponent)}function zf(S){if(typeof S=="function")return hl(S)?1:0;if(S!=null){if(S=S.$$typeof,S===F)return 11;if(S===A)return 14}return 2}function Yd(S,s){var d=S.alternate;return d===null?(d=Kl(S.tag,s,S.key,S.mode),d.elementType=S.elementType,d.type=S.type,d.stateNode=S.stateNode,d.alternate=S,S.alternate=d):(d.pendingProps=s,d.type=S.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=S.flags&14680064,d.childLanes=S.childLanes,d.lanes=S.lanes,d.child=S.child,d.memoizedProps=S.memoizedProps,d.memoizedState=S.memoizedState,d.updateQueue=S.updateQueue,s=S.dependencies,d.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},d.sibling=S.sibling,d.index=S.index,d.ref=S.ref,d}function Yl(S,s,d,x,I,U){var ne=2;if(x=S,typeof S=="function")hl(S)&&(ne=1);else if(typeof S=="string")ne=5;else e:switch(S){case b:return vc(d.children,I,U,s);case C:ne=8,I|=8;break;case k:return S=Kl(12,d,s,I|2),S.elementType=k,S.lanes=U,S;case N:return S=Kl(13,d,s,I),S.elementType=N,S.lanes=U,S;case D:return S=Kl(19,d,s,I),S.elementType=D,S.lanes=U,S;case Q:return Xu(d,I,U,s);default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case B:ne=10;break e;case z:ne=9;break e;case F:ne=11;break e;case A:ne=14;break e;case G:ne=16,x=null;break e}throw Error(c(130,S==null?S:typeof S,""))}return s=Kl(ne,d,s,I),s.elementType=S,s.type=x,s.lanes=U,s}function vc(S,s,d,x){return S=Kl(7,S,x,s),S.lanes=d,S}function Xu(S,s,d,x){return S=Kl(22,S,x,s),S.elementType=Q,S.lanes=d,S.stateNode={},S}function fd(S,s,d){return S=Kl(6,S,null,s),S.lanes=d,S}function Mh(S,s,d){return s=Kl(4,S.children!==null?S.children:[],S.key,s),s.lanes=d,s.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},s}function Yp(S,s,d,x,I){this.tag=s,this.containerInfo=S,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=an,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$s(0),this.expirationTimes=$s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.identifierPrefix=x,this.onRecoverableError=I,Xt&&(this.mutableSourceEagerHydrationData=null)}function Fm(S,s,d,x,I,U,ne,Pe,Je){return S=new Yp(S,s,d,Pe,Je),s===1?(s=1,U===!0&&(s|=8)):s=0,U=Kl(3,null,null,s),S.current=U,U.stateNode=S,U.memoizedState={element:x,isDehydrated:d,cache:null,transitions:null},Zo(U),S}function Qp(S){if(!S)return Br;S=S._reactInternals;e:{if(J(S)!==S||S.tag!==1)throw Error(c(170));var s=S;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ni(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(c(171))}if(S.tag===1){var d=S.type;if(Ni(d))return wo(S,d,s)}return s}function hp(S){var s=S._reactInternals;if(s===void 0)throw typeof S.render=="function"?Error(c(188)):(S=Object.keys(S).join(","),Error(c(268,S)));return S=_t(s),S===null?null:S.stateNode}function zm(S,s){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var d=S.retryLane;S.retryLane=d!==0&&d<s?d:s}}function pp(S,s){zm(S,s),(S=S.alternate)&&zm(S,s)}function qp(S){return S=_t(S),S===null?null:S.stateNode}function Og(){return null}return t.attemptContinuousHydration=function(S){if(S.tag===13){var s=Oi();Hs(S,134217728,s),pp(S,134217728)}},t.attemptHydrationAtCurrentPriority=function(S){if(S.tag===13){var s=Oi(),d=Uo(S);Hs(S,d,s),pp(S,d)}},t.attemptSynchronousHydration=function(S){switch(S.tag){case 3:var s=S.stateNode;if(s.current.memoizedState.isDehydrated){var d=fr(s.pendingLanes);d!==0&&(Na(s,d|1),Js(s,Ls()),!(Jr&6)&&(Hu(),Ma()))}break;case 13:var x=Oi();Lf(function(){return Hs(S,1,x)}),pp(S,1)}},t.batchedUpdates=function(S,s){var d=Jr;Jr|=1;try{return S(s)}finally{Jr=d,Jr===0&&(Hu(),cs&&Ma())}},t.createComponentSelector=function(S){return{$$typeof:Of,value:S}},t.createContainer=function(S,s,d,x,I,U,ne){return Fm(S,s,!1,null,d,x,I,U,ne)},t.createHasPseudoClassSelector=function(S){return{$$typeof:sd,value:S}},t.createHydrationContainer=function(S,s,d,x,I,U,ne,Pe,Je){return S=Fm(d,x,!0,S,I,U,ne,Pe,Je),S.context=Qp(null),d=S.current,x=Oi(),I=Uo(d),U=Xs(x,I),U.callback=s??null,_o(d,U),S.current.lanes=I,No(S,I,x),Js(S,x),S},t.createPortal=function(S,s,d){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_,key:x==null?null:""+x,children:S,containerInfo:s,implementation:d}},t.createRoleSelector=function(S){return{$$typeof:Fc,value:S}},t.createTestNameSelector=function(S){return{$$typeof:Gd,value:S}},t.createTextSelector=function(S){return{$$typeof:pc,value:S}},t.deferredUpdates=function(S){var s=bi,d=Mo.transition;try{return Mo.transition=null,bi=16,S()}finally{bi=s,Mo.transition=d}},t.discreteUpdates=function(S,s,d,x,I){var U=bi,ne=Mo.transition;try{return Mo.transition=null,bi=1,S(s,d,x,I)}finally{bi=U,Mo.transition=ne,Jr===0&&Hu()}},t.findAllNodes=ju,t.findBoundingRects=function(S,s){if(!_r)throw Error(c(363));s=ju(S,s),S=[];for(var d=0;d<s.length;d++)S.push(si(s[d]));for(s=S.length-1;0<s;s--){d=S[s];for(var x=d.x,I=x+d.width,U=d.y,ne=U+d.height,Pe=s-1;0<=Pe;Pe--)if(s!==Pe){var Je=S[Pe],Tt=Je.x,hn=Tt+Je.width,kn=Je.y,dr=kn+Je.height;if(x>=Tt&&U>=kn&&I<=hn&&ne<=dr){S.splice(s,1);break}else if(x!==Tt||d.width!==Je.width||dr<U||kn>ne){if(!(U!==kn||d.height!==Je.height||hn<x||Tt>I)){Tt>x&&(Je.width+=Tt-x,Je.x=x),hn<I&&(Je.width=I-Tt),S.splice(s,1);break}}else{kn>U&&(Je.height+=kn-U,Je.y=U),dr<ne&&(Je.height=ne-kn),S.splice(s,1);break}}}return S},t.findHostInstance=hp,t.findHostInstanceWithNoPortals=function(S){return S=Be(S),S=S!==null?xe(S):null,S===null?null:S.stateNode},t.findHostInstanceWithWarning=function(S){return hp(S)},t.flushControlled=function(S){var s=Jr;Jr|=1;var d=Mo.transition,x=bi;try{Mo.transition=null,bi=1,S()}finally{bi=x,Mo.transition=d,Jr=s,Jr===0&&(Hu(),Ma())}},t.flushPassiveEffects=gc,t.flushSync=Lf,t.focusWithin=function(S,s){if(!_r)throw Error(c(363));for(S=Uu(S),s=vu(S,s),s=Array.from(s),S=0;S<s.length;){var d=s[S++];if(!De(d)){if(d.tag===5&&Kn(d.stateNode))return!0;for(d=d.child;d!==null;)s.push(d),d=d.sibling}}return!1},t.getCurrentUpdatePriority=function(){return bi},t.getFindAllNodesFailureDescription=function(S,s){if(!_r)throw Error(c(363));var d=0,x=[];S=[Uu(S),0];for(var I=0;I<S.length;){var U=S[I++],ne=S[I++],Pe=s[ne];if((U.tag!==5||!De(U))&&(xh(U,Pe)&&(x.push(bh(Pe)),ne++,ne>d&&(d=ne)),ne<s.length))for(U=U.child;U!==null;)S.push(U,ne),U=U.sibling}if(d<s.length){for(S=[];d<s.length;d++)S.push(bh(s[d]));return`findAllNodes was able to match part of the selector:
  `+(x.join(" > ")+`

No matching component was found for:
  `)+S.join(" > ")}return null},t.getPublicRootInstance=function(S){if(S=S.current,!S.child)return null;switch(S.child.tag){case 5:return Ze(S.child.stateNode);default:return S.child.stateNode}},t.injectIntoDevTools=function(S){if(S={bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:p.ReactCurrentDispatcher,findHostInstanceByFiber:qp,findFiberByHostInstance:S.findFiberByHostInstance||Og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")S=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)S=!0;else{try{ku=s.inject(S),Ns=s}catch{}S=!!s.checkDCE}}return S},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(S,s,d,x){if(!_r)throw Error(c(363));S=ju(S,s);var I=Fn(S,d,x).disconnect;return{disconnect:function(){I()}}},t.registerMutableSourceForHydration=function(S,s){var d=s._getVersion;d=d(s._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[s,d]:S.mutableSourceEagerHydrationData.push(s,d)},t.runWithPriority=function(S,s){var d=bi;try{return bi=S,s()}finally{bi=d}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(S,s,d,x){var I=s.current,U=Oi(),ne=Uo(I);return d=Qp(d),s.context===null?s.context=d:s.pendingContext=d,s=Xs(U,ne),s.payload={element:S},x=x===void 0?null:x,x!==null&&(s.callback=x),_o(I,s),S=Hs(I,ne,U),S!==null&&ta(S,I,ne),ne},t};txe.exports=K8e;var Y8e=txe.exports;const Q8e=DN(Y8e),q8e=n=>typeof n=="object"&&typeof n.then=="function",sb=[];function ixe(n,e,t=(r,o)=>r===o){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let o=0;o<r;o++)if(!t(n[o],e[o]))return!1;return!0}function oxe(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const a of sb)if(ixe(e,a.keys,a.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!t)throw a.promise}const o={keys:e,equal:r.equal,remove:()=>{const a=sb.indexOf(o);a!==-1&&sb.splice(a,1)},promise:(q8e(n)?n:n(...e)).then(a=>{o.response=a,r.lifespan&&r.lifespan>0&&(o.timeout=setTimeout(o.remove,r.lifespan))}).catch(a=>o.error=a)};if(sb.push(o),!t)throw o.promise}const J8e=(n,e,t)=>oxe(n,e,!1,t),Z8e=(n,e,t)=>void oxe(n,e,!0,t),$8e=n=>{if(n===void 0||n.length===0)sb.splice(0,sb.length);else{const e=sb.find(t=>ixe(n,t.keys,t.equal));e&&e.remove()}},oK={},sxe=n=>void Object.assign(oK,n);function eUe(n,e){function t(b,{args:C=[],attach:k,...B},z){let F=`${b[0].toUpperCase()}${b.slice(1)}`,N;if(b==="primitive"){if(B.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const D=B.object;N=CC(D,{type:b,root:z,attach:k,primitive:!0})}else{const D=oK[F];if(!D)throw new Error(`R3F: ${F} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(C))throw new Error("R3F: The args prop must be an array!");N=CC(new D(...C),{type:b,root:z,attach:k,memoizedProps:{args:C}})}return N.__r3f.attach===void 0&&(N instanceof yo?N.__r3f.attach="geometry":N instanceof nc&&(N.__r3f.attach="material")),F!=="inject"&&H7(N,B),N}function r(b,C){let k=!1;if(C){var B,z;(B=C.__r3f)!=null&&B.attach?j7(b,C,C.__r3f.attach):C.isObject3D&&b.isObject3D&&(b.add(C),k=!0),k||(z=b.__r3f)==null||z.objects.push(C),C.__r3f||CC(C,{}),C.__r3f.parent=b,FV(C),MC(C)}}function o(b,C,k){let B=!1;if(C){var z,F;if((z=C.__r3f)!=null&&z.attach)j7(b,C,C.__r3f.attach);else if(C.isObject3D&&b.isObject3D){C.parent=b,C.dispatchEvent({type:"added"});const N=b.children.filter(A=>A!==C),D=N.indexOf(k);b.children=[...N.slice(0,D),C,...N.slice(D)],B=!0}B||(F=b.__r3f)==null||F.objects.push(C),C.__r3f||CC(C,{}),C.__r3f.parent=b,FV(C),MC(C)}}function a(b,C,k=!1){b&&[...b].forEach(B=>c(C,B,k))}function c(b,C,k){if(C){var B,z,F;if(C.__r3f&&(C.__r3f.parent=null),(B=b.__r3f)!=null&&B.objects&&(b.__r3f.objects=b.__r3f.objects.filter(Q=>Q!==C)),(z=C.__r3f)!=null&&z.attach)Eve(b,C,C.__r3f.attach);else if(C.isObject3D&&b.isObject3D){var N;b.remove(C),(N=C.__r3f)!=null&&N.root&&lUe(IL(C),C)}const A=(F=C.__r3f)==null?void 0:F.primitive,G=!A&&(k===void 0?C.dispose!==null:k);if(!A){var D;a((D=C.__r3f)==null?void 0:D.objects,C,G),a(C.children,C,G)}if(delete C.__r3f,G&&C.dispose&&C.type!=="Scene"){const Q=()=>{try{C.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?LV.unstable_scheduleCallback(LV.unstable_IdlePriority,Q):Q()}MC(b)}}function p(b,C,k,B){var z;const F=(z=b.__r3f)==null?void 0:z.parent;if(!F)return;const N=t(C,k,b.__r3f.root);if(b.children){for(const D of b.children)D.__r3f&&r(N,D);b.children=b.children.filter(D=>!D.__r3f)}b.__r3f.objects.forEach(D=>r(N,D)),b.__r3f.objects=[],b.__r3f.autoRemovedBeforeAppend||c(F,b),N.parent&&(N.__r3f.autoRemovedBeforeAppend=!0),r(F,N),N.raycast&&N.__r3f.eventCount&&IL(N).getState().internal.interaction.push(N),[B,B.alternate].forEach(D=>{D!==null&&(D.stateNode=N,D.ref&&(typeof D.ref=="function"?D.ref(N):D.ref.current=N))})}const g=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Q8e({createInstance:t,removeChild:c,appendChild:r,appendInitialChild:r,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(b,C)=>{if(!C)return;const k=b.getState().scene;k.__r3f&&(k.__r3f.root=b,r(k,C))},removeChildFromContainer:(b,C)=>{C&&c(b.getState().scene,C)},insertInContainerBefore:(b,C,k)=>{if(!C||!k)return;const B=b.getState().scene;B.__r3f&&o(B,C,k)},getRootHostContext:()=>null,getChildHostContext:b=>b,finalizeInitialChildren(b){var C;return!!((C=b==null?void 0:b.__r3f)!=null?C:{}).handlers},prepareUpdate(b,C,k,B){var z;if(((z=b==null?void 0:b.__r3f)!=null?z:{}).primitive&&B.object&&B.object!==b)return[!0];{const{args:N=[],children:D,...A}=B,{args:G=[],children:Q,...ae}=k;if(!Array.isArray(N))throw new Error("R3F: the args prop must be an array!");if(N.some((ge,_e)=>ge!==G[_e]))return[!0];const Y=hxe(b,A,ae,!0);return Y.changes.length?[!1,Y]:null}},commitUpdate(b,[C,k],B,z,F,N){C?p(b,B,F,N):H7(b,k)},commitMount(b,C,k,B){var z;const F=(z=b.__r3f)!=null?z:{};b.raycast&&F.handlers&&F.eventCount&&IL(b).getState().internal.interaction.push(b)},getPublicInstance:b=>b,prepareForCommit:()=>null,preparePortalMount:b=>CC(b.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(b){var C;const{attach:k,parent:B}=(C=b.__r3f)!=null?C:{};k&&B&&Eve(B,b,k),b.isObject3D&&(b.visible=!1),MC(b)},unhideInstance(b,C){var k;const{attach:B,parent:z}=(k=b.__r3f)!=null?k:{};B&&z&&j7(z,b,B),(b.isObject3D&&C.visible==null||C.visible)&&(b.visible=!0),MC(b)},createTextInstance:g,hideTextInstance:g,unhideTextInstance:g,getCurrentEventPriority:()=>e?e():DC.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&xl.fun(performance.now)?performance.now:xl.fun(Date.now)?Date.now:()=>0,scheduleTimeout:xl.fun(setTimeout)?setTimeout:void 0,cancelTimeout:xl.fun(clearTimeout)?clearTimeout:void 0}),applyProps:H7}}var wve,Sve;const U7=n=>"colorSpace"in n||"outputColorSpace"in n,axe=()=>{var n;return(n=oK.ColorManagement)!=null?n:null},lxe=n=>n&&n.isOrthographicCamera,tUe=n=>n&&n.hasOwnProperty("current"),XR=typeof window<"u"&&((wve=window.document)!=null&&wve.createElement||((Sve=window.navigator)==null?void 0:Sve.product)==="ReactNative")?qt.useLayoutEffect:qt.useEffect;function uxe(n){const e=qt.useRef(n);return XR(()=>void(e.current=n),[n]),e}function nUe({set:n}){return XR(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}let cxe=class extends qt.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};cxe.getDerivedStateFromError=()=>({error:!0});const dxe="__default",xve=new Map,rUe=n=>n&&!!n.memoized&&!!n.changes;function fxe(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const rI=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function IL(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const xl={obj:n=>n===Object(n)&&!xl.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:o=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(xl.str(n)||xl.num(n))return n===e;const a=xl.obj(n);if(a&&r==="reference")return n===e;const c=xl.arr(n);if(c&&t==="reference")return n===e;if((c||a)&&n===e)return!0;let p;for(p in n)if(!(p in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(p in o?e:n)if(!xl.equ(n[p],e[p],{strict:o,objects:"reference"}))return!1}else for(p in o?e:n)if(n[p]!==e[p])return!1;if(xl.und(p)){if(c&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function iUe(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function oUe(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function CC(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function NV(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),o=r.pop();return t=r.reduce((a,c)=>a[c],n),{target:t,key:o}}else return{target:t,key:e}}const bve=/-\d+$/;function j7(n,e,t){if(xl.str(t)){if(bve.test(t)){const a=t.replace(bve,""),{target:c,key:p}=NV(n,a);Array.isArray(c[p])||(c[p]=[])}const{target:r,key:o}=NV(n,t);e.__r3f.previousAttach=r[o],r[o]=e}else e.__r3f.previousAttach=t(n,e)}function Eve(n,e,t){var r,o;if(xl.str(t)){const{target:a,key:c}=NV(n,t),p=e.__r3f.previousAttach;p===void 0?delete a[c]:a[c]=p}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(o=e.__r3f)==null||delete o.previousAttach}function hxe(n,{children:e,key:t,ref:r,...o},{children:a,key:c,ref:p,...g}={},_=!1){var b;const C=(b=n==null?void 0:n.__r3f)!=null?b:{},k=Object.entries(o),B=[];if(_){const F=Object.keys(g);for(let N=0;N<F.length;N++)o.hasOwnProperty(F[N])||k.unshift([F[N],dxe+"remove"])}k.forEach(([F,N])=>{var D;if((D=n.__r3f)!=null&&D.primitive&&F==="object"||xl.equ(N,g[F]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(F))return B.push([F,N,!0,[]]);let A=[];F.includes("-")&&(A=F.split("-")),B.push([F,N,!1,A]);for(const G in o){const Q=o[G];G.startsWith(`${F}-`)&&B.push([G,Q,!1,G.split("-")])}});const z={...o};return C.memoizedProps&&C.memoizedProps.args&&(z.args=C.memoizedProps.args),C.memoizedProps&&C.memoizedProps.attach&&(z.attach=C.memoizedProps.attach),{memoized:z,changes:B}}const sUe=typeof process<"u"&&!1;function H7(n,e){var t,r,o;const a=(t=n.__r3f)!=null?t:{},c=a.root,p=(r=c==null||c.getState==null?void 0:c.getState())!=null?r:{},{memoized:g,changes:_}=rUe(e)?e:hxe(n,e),b=a.eventCount;n.__r3f&&(n.__r3f.memoizedProps=g);for(let k=0;k<_.length;k++){let[B,z,F,N]=_[k];if(U7(n)){const Q="srgb",ae="srgb-linear";B==="encoding"?(B="colorSpace",z=z===3001?Q:ae):B==="outputEncoding"&&(B="outputColorSpace",z=z===3001?Q:ae)}let D=n,A=D[B];if(N.length&&(A=N.reduce((G,Q)=>G[Q],n),!(A&&A.set))){const[G,...Q]=N.reverse();D=Q.reverse().reduce((ae,Y)=>ae[Y],n),B=G}if(z===dxe+"remove")if(D.constructor){let G=xve.get(D.constructor);G||(G=new D.constructor,xve.set(D.constructor,G)),z=G[B]}else z=0;if(F)z?a.handlers[B]=z:delete a.handlers[B],a.eventCount=Object.keys(a.handlers).length;else if(A&&A.set&&(A.copy||A instanceof Ov)){if(Array.isArray(z))A.fromArray?A.fromArray(z):A.set(...z);else if(A.copy&&z&&z.constructor&&(sUe?A.constructor.name===z.constructor.name:A.constructor===z.constructor))A.copy(z);else if(z!==void 0){const G=A instanceof Ir;!G&&A.setScalar?A.setScalar(z):A instanceof Ov&&z instanceof Ov?A.mask=z.mask:A.set(z),!axe()&&!p.linear&&G&&A.convertSRGBToLinear()}}else if(D[B]=z,D[B]instanceof el&&D[B].format===ah&&D[B].type===O0){const G=D[B];U7(G)&&U7(p.gl)?G.colorSpace=p.gl.outputColorSpace:G.encoding=p.gl.outputEncoding}MC(n)}if(a.parent&&n.raycast&&b!==a.eventCount){const k=IL(n).getState().internal,B=k.interaction.indexOf(n);B>-1&&k.interaction.splice(B,1),a.eventCount&&k.interaction.push(n)}return!(_.length===1&&_[0][0]==="onUpdate")&&_.length&&(o=n.__r3f)!=null&&o.parent&&FV(n),n}function MC(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function FV(n){n.onUpdate==null||n.onUpdate(n)}function pxe(n,e){n.manual||(lxe(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function W4(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function aUe(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return DC.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return DC.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return DC.ContinuousEventPriority;default:return DC.DefaultEventPriority}}function mxe(n,e,t,r){const o=t.get(e);o&&(t.delete(e),t.size===0&&(n.delete(r),o.target.releasePointerCapture(r)))}function lUe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,o)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(o)}),t.capturedMap.forEach((r,o)=>{mxe(t.capturedMap,e,r,o)})}function uUe(n){function e(g){const{internal:_}=n.getState(),b=g.offsetX-_.initialClick[0],C=g.offsetY-_.initialClick[1];return Math.round(Math.sqrt(b*b+C*C))}function t(g){return g.filter(_=>["Move","Over","Enter","Out","Leave"].some(b=>{var C;return(C=_.__r3f)==null?void 0:C.handlers["onPointer"+b]}))}function r(g,_){const b=n.getState(),C=new Set,k=[],B=_?_(b.internal.interaction):b.internal.interaction;for(let D=0;D<B.length;D++){const A=rI(B[D]);A&&(A.raycaster.camera=void 0)}b.previousRoot||b.events.compute==null||b.events.compute(g,b);function z(D){const A=rI(D);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var G;A.events.compute==null||A.events.compute(g,A,(G=A.previousRoot)==null?void 0:G.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(D,!0):[]}let F=B.flatMap(z).sort((D,A)=>{const G=rI(D.object),Q=rI(A.object);return!G||!Q?D.distance-A.distance:Q.events.priority-G.events.priority||D.distance-A.distance}).filter(D=>{const A=W4(D);return C.has(A)?!1:(C.add(A),!0)});b.events.filter&&(F=b.events.filter(F,b));for(const D of F){let A=D.object;for(;A;){var N;(N=A.__r3f)!=null&&N.eventCount&&k.push({...D,eventObject:A}),A=A.parent}}if("pointerId"in g&&b.internal.capturedMap.has(g.pointerId))for(let D of b.internal.capturedMap.get(g.pointerId).values())C.has(W4(D.intersection))||k.push(D.intersection);return k}function o(g,_,b,C){const k=n.getState();if(g.length){const B={stopped:!1};for(const z of g){const F=rI(z.object)||k,{raycaster:N,pointer:D,camera:A,internal:G}=F,Q=new Ke(D.x,D.y,0).unproject(A),ae=Se=>{var Be,_t;return(Be=(_t=G.capturedMap.get(Se))==null?void 0:_t.has(z.eventObject))!=null?Be:!1},Y=Se=>{const Be={intersection:z,target:_.target};G.capturedMap.has(Se)?G.capturedMap.get(Se).set(z.eventObject,Be):G.capturedMap.set(Se,new Map([[z.eventObject,Be]])),_.target.setPointerCapture(Se)},ge=Se=>{const Be=G.capturedMap.get(Se);Be&&mxe(G.capturedMap,z.eventObject,Be,Se)};let _e={};for(let Se in _){let Be=_[Se];typeof Be!="function"&&(_e[Se]=Be)}let J={...z,..._e,pointer:D,intersections:g,stopped:B.stopped,delta:b,unprojectedPoint:Q,ray:N.ray,camera:A,stopPropagation(){const Se="pointerId"in _&&G.capturedMap.get(_.pointerId);if((!Se||Se.has(z.eventObject))&&(J.stopped=B.stopped=!0,G.hovered.size&&Array.from(G.hovered.values()).find(Be=>Be.eventObject===z.eventObject))){const Be=g.slice(0,g.indexOf(z));a([...Be,z])}},target:{hasPointerCapture:ae,setPointerCapture:Y,releasePointerCapture:ge},currentTarget:{hasPointerCapture:ae,setPointerCapture:Y,releasePointerCapture:ge},nativeEvent:_};if(C(J),B.stopped===!0)break}}return g}function a(g){const{internal:_}=n.getState();for(const b of _.hovered.values())if(!g.length||!g.find(C=>C.object===b.object&&C.index===b.index&&C.instanceId===b.instanceId)){const k=b.eventObject.__r3f,B=k==null?void 0:k.handlers;if(_.hovered.delete(W4(b)),k!=null&&k.eventCount){const z={...b,intersections:g};B.onPointerOut==null||B.onPointerOut(z),B.onPointerLeave==null||B.onPointerLeave(z)}}}function c(g,_){for(let b=0;b<_.length;b++){const C=_[b].__r3f;C==null||C.handlers.onPointerMissed==null||C.handlers.onPointerMissed(g)}}function p(g){switch(g){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return _=>{const{internal:b}=n.getState();"pointerId"in _&&b.capturedMap.has(_.pointerId)&&requestAnimationFrame(()=>{b.capturedMap.has(_.pointerId)&&(b.capturedMap.delete(_.pointerId),a([]))})}}return function(b){const{onPointerMissed:C,internal:k}=n.getState();k.lastEvent.current=b;const B=g==="onPointerMove",z=g==="onClick"||g==="onContextMenu"||g==="onDoubleClick",N=r(b,B?t:void 0),D=z?e(b):0;g==="onPointerDown"&&(k.initialClick=[b.offsetX,b.offsetY],k.initialHits=N.map(G=>G.eventObject)),z&&!N.length&&D<=2&&(c(b,k.interaction),C&&C(b)),B&&a(N);function A(G){const Q=G.eventObject,ae=Q.__r3f,Y=ae==null?void 0:ae.handlers;if(ae!=null&&ae.eventCount)if(B){if(Y.onPointerOver||Y.onPointerEnter||Y.onPointerOut||Y.onPointerLeave){const ge=W4(G),_e=k.hovered.get(ge);_e?_e.stopped&&G.stopPropagation():(k.hovered.set(ge,G),Y.onPointerOver==null||Y.onPointerOver(G),Y.onPointerEnter==null||Y.onPointerEnter(G))}Y.onPointerMove==null||Y.onPointerMove(G)}else{const ge=Y[g];ge?(!z||k.initialHits.includes(Q))&&(c(b,k.interaction.filter(_e=>!k.initialHits.includes(_e))),ge(G)):z&&k.initialHits.includes(Q)&&c(b,k.interaction.filter(_e=>!k.initialHits.includes(_e)))}}o(N,b,D,A)}}return{handlePointer:p}}const cUe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],gxe=n=>!!(n!=null&&n.render),cR=qt.createContext(null),dUe=(n,e)=>{const t=exe((p,g)=>{const _=new Ke,b=new Ke,C=new Ke;function k(D=g().camera,A=b,G=g().size){const{width:Q,height:ae,top:Y,left:ge}=G,_e=Q/ae;A instanceof Ke?C.copy(A):C.set(...A);const J=D.getWorldPosition(_).distanceTo(C);if(lxe(D))return{width:Q/D.zoom,height:ae/D.zoom,top:Y,left:ge,factor:1,distance:J,aspect:_e};{const Se=D.fov*Math.PI/180,Be=2*Math.tan(Se/2)*J,_t=Be*(Q/ae);return{width:_t,height:Be,top:Y,left:ge,factor:Q/_t,distance:J,aspect:_e}}}let B;const z=D=>p(A=>({performance:{...A.performance,current:D}})),F=new Vn;return{set:p,get:g,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(D=1)=>n(g(),D),advance:(D,A)=>e(D,A,g()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new fF,pointer:F,mouse:F,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const D=g();B&&clearTimeout(B),D.performance.current!==D.performance.min&&z(D.performance.min),B=setTimeout(()=>z(g().performance.max),D.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:k},setEvents:D=>p(A=>({...A,events:{...A.events,...D}})),setSize:(D,A,G,Q,ae)=>{const Y=g().camera,ge={width:D,height:A,top:Q||0,left:ae||0,updateStyle:G};p(_e=>({size:ge,viewport:{..._e.viewport,...k(Y,b,ge)}}))},setDpr:D=>p(A=>{const G=fxe(D);return{viewport:{...A.viewport,dpr:G,initialDpr:A.viewport.initialDpr||G}}}),setFrameloop:(D="always")=>{const A=g().clock;A.stop(),A.elapsedTime=0,D!=="never"&&(A.start(),A.elapsedTime=0),p(()=>({frameloop:D}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:qt.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(D,A,G)=>{const Q=g().internal;return Q.priority=Q.priority+(A>0?1:0),Q.subscribers.push({ref:D,priority:A,store:G}),Q.subscribers=Q.subscribers.sort((ae,Y)=>ae.priority-Y.priority),()=>{const ae=g().internal;ae!=null&&ae.subscribers&&(ae.priority=ae.priority-(A>0?1:0),ae.subscribers=ae.subscribers.filter(Y=>Y.ref!==D))}}}}}),r=t.getState();let o=r.size,a=r.viewport.dpr,c=r.camera;return t.subscribe(()=>{const{camera:p,size:g,viewport:_,gl:b,set:C}=t.getState();if(g.width!==o.width||g.height!==o.height||_.dpr!==a){var k;o=g,a=_.dpr,pxe(p,g),b.setPixelRatio(_.dpr);const B=(k=g.updateStyle)!=null?k:typeof HTMLCanvasElement<"u"&&b.domElement instanceof HTMLCanvasElement;b.setSize(g.width,g.height,B)}p!==c&&(c=p,C(B=>({viewport:{...B.viewport,...B.viewport.getCurrentViewport(p)}})))}),t.subscribe(p=>n(p)),t};let X4,fUe=new Set,hUe=new Set,pUe=new Set;function G7(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function iI(n,e){switch(n){case"before":return G7(fUe,e);case"after":return G7(hUe,e);case"tail":return G7(pUe,e)}}let V7,W7;function X7(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),V7=e.internal.subscribers,X4=0;X4<V7.length;X4++)W7=V7[X4],W7.ref.current(W7.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function mUe(n){let e=!1,t,r,o;function a(g){r=requestAnimationFrame(a),e=!0,t=0,iI("before",g);for(const b of n.values()){var _;o=b.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((_=o.gl.xr)!=null&&_.isPresenting)&&(t+=X7(g,o))}if(iI("after",g),t===0)return iI("tail",g),e=!1,cancelAnimationFrame(r)}function c(g,_=1){var b;if(!g)return n.forEach(C=>c(C.store.getState()),_);(b=g.gl.xr)!=null&&b.isPresenting||!g.internal.active||g.frameloop==="never"||(g.internal.frames=Math.min(60,g.internal.frames+_),e||(e=!0,requestAnimationFrame(a)))}function p(g,_=!0,b,C){if(_&&iI("before",g),b)X7(g,b,C);else for(const k of n.values())X7(g,k.store.getState());_&&iI("after",g)}return{loop:a,invalidate:c,advance:p}}function sK(){const n=qt.useContext(cR);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function _f(n=t=>t,e){return sK()(n,e)}function b1(n,e=0){const t=sK(),r=t.getState().internal.subscribe,o=uxe(n);return XR(()=>r(o,e,t),[e,r,t]),null}const Ave=new WeakMap;function vxe(n,e){return function(t,...r){let o=Ave.get(t);return o||(o=new t,Ave.set(t,o)),n&&n(o),Promise.all(r.map(a=>new Promise((c,p)=>o.load(a,g=>{g.scene&&Object.assign(g,iUe(g.scene)),c(g)},e,g=>p(new Error(`Could not load ${a}: ${g==null?void 0:g.message}`)))))).finally(()=>o.dispose==null?void 0:o.dispose())}}function NM(n,e,t,r){const o=Array.isArray(e)?e:[e],a=J8e(vxe(t,r),[n,...o],{equal:xl.equ});return Array.isArray(e)?a:a[0]}NM.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return Z8e(vxe(t),[n,...r])};NM.clear=function(n,e){const t=Array.isArray(e)?e:[e];return $8e([n,...t])};const vM=new Map,{invalidate:Cve,advance:Mve}=mUe(vM),{reconciler:dR,applyProps:gC}=eUe(vM,aUe),vC={objects:"shallow",strict:!1},gUe=(n,e)=>{const t=typeof n=="function"?n(e):n;return gxe(t)?t:new WN({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function vUe(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:o,top:a,left:c,updateStyle:p=t}=e;return{width:r,height:o,top:a,left:c,updateStyle:p}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:o,top:a,left:c}=n.parentElement.getBoundingClientRect();return{width:r,height:o,top:a,left:c,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function yUe(n){const e=vM.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,a=r||dUe(Cve,Mve),c=t||dR.createContainer(a,DC.ConcurrentRoot,null,!1,null,"",o,null);e||vM.set(n,{fiber:c,store:a});let p,g=!1,_;return{configure(b={}){let{gl:C,size:k,scene:B,events:z,onCreated:F,shadows:N=!1,linear:D=!1,flat:A=!1,legacy:G=!1,orthographic:Q=!1,frameloop:ae="always",dpr:Y=[1,2],performance:ge,raycaster:_e,camera:J,onPointerMissed:Se}=b,Be=a.getState(),_t=Be.gl;Be.gl||Be.set({gl:_t=gUe(C,n)});let Ve=Be.raycaster;Ve||Be.set({raycaster:Ve=new LM});const{params:xe,...ot}=_e||{};if(xl.equ(ot,Ve,vC)||gC(Ve,{...ot}),xl.equ(xe,Ve.params,vC)||gC(Ve,{params:{...Ve.params,...xe}}),!Be.camera||Be.camera===_&&!xl.equ(_,J,vC)){_=J;const ce=J instanceof RM,qe=ce?J:Q?new Lp(0,0,0,0,.1,1e3):new Da(75,0,.1,1e3);ce||(qe.position.z=5,J&&gC(qe,J),!Be.camera&&!(J!=null&&J.rotation)&&qe.lookAt(0,0,0)),Be.set({camera:qe}),Ve.camera=qe}if(!Be.scene){let ce;B instanceof wb?ce=B:(ce=new wb,B&&gC(ce,B)),Be.set({scene:CC(ce)})}if(!Be.xr){var Ze;const ce=(wt,et)=>{const Nt=a.getState();Nt.frameloop!=="never"&&Mve(wt,!0,Nt,et)},qe=()=>{const wt=a.getState();wt.gl.xr.enabled=wt.gl.xr.isPresenting,wt.gl.xr.setAnimationLoop(wt.gl.xr.isPresenting?ce:null),wt.gl.xr.isPresenting||Cve(wt)},ht={connect(){const wt=a.getState().gl;wt.xr.addEventListener("sessionstart",qe),wt.xr.addEventListener("sessionend",qe)},disconnect(){const wt=a.getState().gl;wt.xr.removeEventListener("sessionstart",qe),wt.xr.removeEventListener("sessionend",qe)}};typeof((Ze=_t.xr)==null?void 0:Ze.addEventListener)=="function"&&ht.connect(),Be.set({xr:ht})}if(_t.shadowMap){const ce=_t.shadowMap.enabled,qe=_t.shadowMap.type;if(_t.shadowMap.enabled=!!N,xl.boo(N))_t.shadowMap.type=ww;else if(xl.str(N)){var mt;const ht={basic:uX,percentage:FR,soft:ww,variance:pg};_t.shadowMap.type=(mt=ht[N])!=null?mt:ww}else xl.obj(N)&&Object.assign(_t.shadowMap,N);(ce!==_t.shadowMap.enabled||qe!==_t.shadowMap.type)&&(_t.shadowMap.needsUpdate=!0)}const we=axe();we&&("enabled"in we?we.enabled=!G:"legacyMode"in we&&(we.legacyMode=G)),gC(_t,{outputEncoding:D?3e3:3001,toneMapping:A?R0:NN}),Be.legacy!==G&&Be.set(()=>({legacy:G})),Be.linear!==D&&Be.set(()=>({linear:D})),Be.flat!==A&&Be.set(()=>({flat:A})),C&&!xl.fun(C)&&!gxe(C)&&!xl.equ(C,_t,vC)&&gC(_t,C),z&&!Be.events.handlers&&Be.set({events:z(a)});const me=vUe(n,k);return xl.equ(me,Be.size,vC)||Be.setSize(me.width,me.height,me.updateStyle,me.top,me.left),Y&&Be.viewport.dpr!==fxe(Y)&&Be.setDpr(Y),Be.frameloop!==ae&&Be.setFrameloop(ae),Be.onPointerMissed||Be.set({onPointerMissed:Se}),ge&&!xl.equ(ge,Be.performance,vC)&&Be.set(ce=>({performance:{...ce.performance,...ge}})),p=F,g=!0,this},render(b){return g||this.configure(),dR.updateContainer(qt.createElement(_Ue,{store:a,children:b,onCreated:p,rootElement:n}),c,null,()=>{}),a},unmount(){yxe(n)}}}function _Ue({store:n,children:e,onCreated:t,rootElement:r}){return XR(()=>{const o=n.getState();o.set(a=>({internal:{...a.internal,active:!0}})),t&&t(o),n.getState().events.connected||o.events.connect==null||o.events.connect(r)},[]),qt.createElement(cR.Provider,{value:n},e)}function yxe(n,e){const t=vM.get(n),r=t==null?void 0:t.fiber;if(r){const o=t==null?void 0:t.store.getState();o&&(o.internal.active=!1),dR.updateContainer(null,r,null,()=>{o&&setTimeout(()=>{try{var a,c,p,g;o.events.disconnect==null||o.events.disconnect(),(a=o.gl)==null||(c=a.renderLists)==null||c.dispose==null||c.dispose(),(p=o.gl)==null||p.forceContextLoss==null||p.forceContextLoss(),(g=o.gl)!=null&&g.xr&&o.xr.disconnect(),oUe(o),vM.delete(n),e&&e(n)}catch{}},500)})}}function wUe(n,e,t){return qt.createElement(SUe,{key:e.uuid,children:n,container:e,state:t})}function SUe({state:n={},children:e,container:t}){const{events:r,size:o,...a}=n,c=sK(),[p]=qt.useState(()=>new LM),[g]=qt.useState(()=>new Vn),_=qt.useCallback((C,k)=>{const B={...C};Object.keys(C).forEach(F=>{(cUe.includes(F)||C[F]!==k[F]&&k[F])&&delete B[F]});let z;if(k&&o){const F=k.camera;z=C.viewport.getCurrentViewport(F,new Ke,o),F!==C.camera&&pxe(F,o)}return{...B,scene:t,raycaster:p,pointer:g,mouse:g,previousRoot:c,events:{...C.events,...k==null?void 0:k.events,...r},size:{...C.size,...o},viewport:{...C.viewport,...z},...a}},[n]),[b]=qt.useState(()=>{const C=c.getState();return exe((B,z)=>({...C,scene:t,raycaster:p,pointer:g,mouse:g,previousRoot:c,events:{...C.events,...r},size:{...C.size,...o},...a,set:B,get:z,setEvents:F=>B(N=>({...N,events:{...N.events,...F}}))}))});return qt.useEffect(()=>{const C=c.subscribe(k=>b.setState(B=>_(k,B)));return()=>{C(),b.destroy()}},[]),qt.useEffect(()=>{b.setState(C=>_(c.getState(),C))},[_]),qt.createElement(qt.Fragment,null,dR.createPortal(qt.createElement(cR.Provider,{value:b},e),b,null))}dR.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:qt.version});function Uw(){return Uw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uw.apply(this,arguments)}function zV(n,e,t){var r,o,a,c,p;e==null&&(e=100);function g(){var b=Date.now()-c;b<e&&b>=0?r=setTimeout(g,e-b):(r=null,t||(p=n.apply(a,o),a=o=null))}var _=function(){a=this,o=arguments,c=Date.now();var b=t&&!r;return r||(r=setTimeout(g,e)),b&&(p=n.apply(a,o),a=o=null),p};return _.clear=function(){r&&(clearTimeout(r),r=null)},_.flush=function(){r&&(p=n.apply(a,o),a=o=null,clearTimeout(r),r=null)},_}zV.debounce=zV;var xUe=zV;const Tve=DN(xUe);function bUe(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:o}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const a=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[c,p]=qt.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),g=qt.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),_=e?typeof e=="number"?e:e.scroll:null,b=e?typeof e=="number"?e:e.resize:null,C=qt.useRef(!1);qt.useEffect(()=>(C.current=!0,()=>void(C.current=!1)));const[k,B,z]=qt.useMemo(()=>{const A=()=>{if(!g.current.element)return;const{left:G,top:Q,width:ae,height:Y,bottom:ge,right:_e,x:J,y:Se}=g.current.element.getBoundingClientRect(),Be={left:G,top:Q,width:ae,height:Y,bottom:ge,right:_e,x:J,y:Se};g.current.element instanceof HTMLElement&&o&&(Be.height=g.current.element.offsetHeight,Be.width=g.current.element.offsetWidth),Object.freeze(Be),C.current&&!MUe(g.current.lastBounds,Be)&&p(g.current.lastBounds=Be)};return[A,b?Tve(A,b):A,_?Tve(A,_):A]},[p,o,_,b]);function F(){g.current.scrollContainers&&(g.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",z,!0)),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}function N(){g.current.element&&(g.current.resizeObserver=new a(z),g.current.resizeObserver.observe(g.current.element),t&&g.current.scrollContainers&&g.current.scrollContainers.forEach(A=>A.addEventListener("scroll",z,{capture:!0,passive:!0})))}const D=A=>{!A||A===g.current.element||(F(),g.current.element=A,g.current.scrollContainers=_xe(A),N())};return AUe(z,!!t),EUe(B),qt.useEffect(()=>{F(),N()},[t,z,B]),qt.useEffect(()=>F,[]),[D,c,k]}function EUe(n){qt.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function AUe(n,e){qt.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function _xe(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:o}=window.getComputedStyle(n);return[t,r,o].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,..._xe(n.parentElement)]}const CUe=["x","y","top","bottom","left","right","width","height"],MUe=(n,e)=>CUe.every(t=>n[t]===e[t]);var TUe=Object.defineProperty,PUe=Object.defineProperties,kUe=Object.getOwnPropertyDescriptors,Pve=Object.getOwnPropertySymbols,IUe=Object.prototype.hasOwnProperty,RUe=Object.prototype.propertyIsEnumerable,kve=(n,e,t)=>e in n?TUe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Ive=(n,e)=>{for(var t in e||(e={}))IUe.call(e,t)&&kve(n,t,e[t]);if(Pve)for(var t of Pve(e))RUe.call(e,t)&&kve(n,t,e[t]);return n},OUe=(n,e)=>PUe(n,kUe(e));function wxe(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const o=wxe(r,e,t);if(o)return o;r=e?null:r.sibling}}function Sxe(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const aK=Sxe(qt.createContext(null));let xxe=class extends qt.Component{render(){return qt.createElement(aK.Provider,{value:this._reactInternals},this.props.children)}};const{ReactCurrentOwner:Rve,ReactCurrentDispatcher:Ove}=qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function BUe(){const n=qt.useContext(aK);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=qt.useId();return qt.useMemo(()=>{for(const r of[Rve==null?void 0:Rve.current,n,n==null?void 0:n.alternate]){if(!r)continue;const o=wxe(r,!1,a=>{let c=a.memoizedState;for(;c;){if(c.memoizedState===e)return!0;c=c.next}});if(o)return o}},[n,e])}function DUe(){var n,e;const t=BUe(),[r]=qt.useState(()=>new Map);r.clear();let o=t;for(;o;){const a=(n=o.type)==null?void 0:n._context;a&&a!==aK&&!r.has(a)&&r.set(a,(e=Ove==null?void 0:Ove.current)==null?void 0:e.readContext(Sxe(a))),o=o.return}return r}function LUe(){const n=DUe();return qt.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>qt.createElement(e,null,qt.createElement(t.Provider,OUe(Ive({},r),{value:n.get(t)}))),e=>qt.createElement(xxe,Ive({},e))),[n])}const K7={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function NUe(n){const{handlePointer:e}=uUe(n);return{priority:1,enabled:!0,compute(t,r,o){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(K7).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:o}=n.getState();(t=o.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(o.lastEvent.current)},connect:t=>{var r;const{set:o,events:a}=n.getState();a.disconnect==null||a.disconnect(),o(c=>({events:{...c.events,connected:t}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([c,p])=>{const[g,_]=K7[c];t.addEventListener(g,p,{passive:_})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var o;Object.entries((o=r.handlers)!=null?o:[]).forEach(([a,c])=>{if(r&&r.connected instanceof HTMLElement){const[p]=K7[a];r.connected.removeEventListener(p,c)}}),t(a=>({events:{...a.events,connected:void 0}}))}}}}const FUe=qt.forwardRef(function({children:e,fallback:t,resize:r,style:o,gl:a,events:c=NUe,eventSource:p,eventPrefix:g,shadows:_,linear:b,flat:C,legacy:k,orthographic:B,frameloop:z,dpr:F,performance:N,raycaster:D,camera:A,scene:G,onPointerMissed:Q,onCreated:ae,...Y},ge){qt.useMemo(()=>sxe(ZSe),[]);const _e=LUe(),[J,Se]=bUe({scroll:!0,debounce:{scroll:50,resize:0},...r}),Be=qt.useRef(null),_t=qt.useRef(null);qt.useImperativeHandle(ge,()=>Be.current);const Ve=uxe(Q),[xe,ot]=qt.useState(!1),[Ze,mt]=qt.useState(!1);if(xe)throw xe;if(Ze)throw Ze;const we=qt.useRef(null);XR(()=>{const Ae=Be.current;Se.width>0&&Se.height>0&&Ae&&(we.current||(we.current=yUe(Ae)),we.current.configure({gl:a,events:c,shadows:_,linear:b,flat:C,legacy:k,orthographic:B,frameloop:z,dpr:F,performance:N,raycaster:D,camera:A,scene:G,size:Se,onPointerMissed:(...me)=>Ve.current==null?void 0:Ve.current(...me),onCreated:me=>{me.events.connect==null||me.events.connect(p?tUe(p)?p.current:p:_t.current),g&&me.setEvents({compute:(ce,qe)=>{const ht=ce[g+"X"],wt=ce[g+"Y"];qe.pointer.set(ht/qe.size.width*2-1,-(wt/qe.size.height)*2+1),qe.raycaster.setFromCamera(qe.pointer,qe.camera)}}),ae==null||ae(me)}}),we.current.render(qt.createElement(_e,null,qt.createElement(cxe,{set:mt},qt.createElement(qt.Suspense,{fallback:qt.createElement(nUe,{set:ot})},e)))))}),qt.useEffect(()=>{const Ae=Be.current;if(Ae)return()=>yxe(Ae)},[]);const Te=p?"none":"auto";return qt.createElement("div",Uw({ref:_t,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Te,...o}},Y),qt.createElement("div",{ref:J,style:{width:"100%",height:"100%"}},qt.createElement("canvas",{ref:Be,style:{display:"block"}},t)))}),zUe=qt.forwardRef(function(e,t){return qt.createElement(xxe,null,qt.createElement(FUe,Uw({},e,{ref:t})))});var $L={exports:{}};$L.exports;(function(n,e){var t=Object.create,r=Object.defineProperty,o=Object.defineProperties,a=Object.getOwnPropertyDescriptor,c=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,_=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,k=(M,H,te)=>H in M?r(M,H,{enumerable:!0,configurable:!0,writable:!0,value:te}):M[H]=te,B=(M,H)=>{for(var te in H||(H={}))b.call(H,te)&&k(M,te,H[te]);if(g)for(var te of g(H))C.call(H,te)&&k(M,te,H[te]);return M},z=(M,H)=>o(M,c(H)),F=(M,H)=>function(){return H||(0,M[p(M)[0]])((H={exports:{}}).exports,H),H.exports},N=(M,H)=>{for(var te in H)r(M,te,{get:H[te],enumerable:!0})},D=(M,H,te,ve)=>{if(H&&typeof H=="object"||typeof H=="function")for(let Le of p(H))!b.call(M,Le)&&Le!==te&&r(M,Le,{get:()=>H[Le],enumerable:!(ve=a(H,Le))||ve.enumerable});return M},A=(M,H,te)=>(te=M!=null?t(_(M)):{},D(H||!M||!M.__esModule?r(te,"default",{value:M,enumerable:!0}):te,M)),G=M=>D(r({},"__esModule",{value:!0}),M),Q=(M,H,te)=>(k(M,typeof H!="symbol"?H+"":H,te),te),ae=F({"../node_modules/timing-function/lib/UnitBezier.js"(M,H){H.exports=function(){function te(ve,Le,$e,At){this.set(ve,Le,$e,At)}return te.prototype.set=function(ve,Le,$e,At){this._cx=3*ve,this._bx=3*($e-ve)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*Le,this._by=3*(At-Le)-this._cy,this._ay=1-this._cy-this._by},te.epsilon=1e-6,te.prototype._sampleCurveX=function(ve){return((this._ax*ve+this._bx)*ve+this._cx)*ve},te.prototype._sampleCurveY=function(ve){return((this._ay*ve+this._by)*ve+this._cy)*ve},te.prototype._sampleCurveDerivativeX=function(ve){return(3*this._ax*ve+2*this._bx)*ve+this._cx},te.prototype._solveCurveX=function(ve,Le){var $e,At,en,ln,Rn,Ue;for(en=void 0,ln=void 0,Rn=void 0,Ue=void 0,$e=void 0,At=void 0,Rn=ve,At=0;At<8;){if(Ue=this._sampleCurveX(Rn)-ve,Math.abs(Ue)<Le)return Rn;if($e=this._sampleCurveDerivativeX(Rn),Math.abs($e)<Le)break;Rn=Rn-Ue/$e,At++}if(en=0,ln=1,Rn=ve,Rn<en)return en;if(Rn>ln)return ln;for(;en<ln;){if(Ue=this._sampleCurveX(Rn),Math.abs(Ue-ve)<Le)return Rn;ve>Ue?en=Rn:ln=Rn,Rn=(ln-en)*.5+en}return Rn},te.prototype.solve=function(ve,Le){return this._sampleCurveY(this._solveCurveX(ve,Le))},te.prototype.solveSimple=function(ve){return this._sampleCurveY(this._solveCurveX(ve,1e-6))},te}()}}),Y=F({"../node_modules/levenshtein-edit-distance/index.js"(M,H){var te,ve;te=[],ve=[];function Le($e,At,en){var ln,Rn,Ue,Lt,zr,Pi,mi,xo;if($e===At)return 0;if(ln=$e.length,Rn=At.length,ln===0)return Rn;if(Rn===0)return ln;for(en&&($e=$e.toLowerCase(),At=At.toLowerCase()),mi=0;mi<ln;)ve[mi]=$e.charCodeAt(mi),te[mi]=++mi;for(xo=0;xo<Rn;)for(Ue=At.charCodeAt(xo),Lt=zr=xo++,mi=-1;++mi<ln;)Pi=Ue===ve[mi]?zr:zr+1,zr=te[mi],te[mi]=Lt=zr>Lt?Pi>Lt?Lt+1:Pi:Pi>zr?zr+1:Pi;return Lt}H.exports=Le}}),ge=F({"../node_modules/propose/propose.js"(M,H){var te=Y();function ve(){var Le,$e,At,en,ln,Rn=0,Ue=arguments[0],Lt=arguments[1],zr=Lt.length,Pi=arguments[2];Pi&&(en=Pi.threshold,ln=Pi.ignoreCase),en===void 0&&(en=0);for(var mi=0;mi<zr;++mi)ln?$e=te(Ue,Lt[mi],!0):$e=te(Ue,Lt[mi]),$e>Ue.length?Le=1-$e/Lt[mi].length:Le=1-$e/Ue.length,Le>Rn&&(Rn=Le,At=Lt[mi]);return Rn>=en?At:null}H.exports=ve}}),_e=F({"../node_modules/fast-deep-equal/index.js"(M,H){H.exports=function te(ve,Le){if(ve===Le)return!0;if(ve&&Le&&typeof ve=="object"&&typeof Le=="object"){if(ve.constructor!==Le.constructor)return!1;var $e,At,en;if(Array.isArray(ve)){if($e=ve.length,$e!=Le.length)return!1;for(At=$e;At--!==0;)if(!te(ve[At],Le[At]))return!1;return!0}if(ve.constructor===RegExp)return ve.source===Le.source&&ve.flags===Le.flags;if(ve.valueOf!==Object.prototype.valueOf)return ve.valueOf()===Le.valueOf();if(ve.toString!==Object.prototype.toString)return ve.toString()===Le.toString();if(en=Object.keys(ve),$e=en.length,$e!==Object.keys(Le).length)return!1;for(At=$e;At--!==0;)if(!Object.prototype.hasOwnProperty.call(Le,en[At]))return!1;for(At=$e;At--!==0;){var ln=en[At];if(!te(ve[ln],Le[ln]))return!1}return!0}return ve!==ve&&Le!==Le}}}),J={};N(J,{createRafDriver:()=>uE,getProject:()=>IT,notify:()=>Q1,onChange:()=>CE,types:()=>dT,val:()=>RT}),n.exports=G(J);var Se={};N(Se,{createRafDriver:()=>uE,getProject:()=>IT,notify:()=>Q1,onChange:()=>CE,types:()=>dT,val:()=>RT});var Be=$n,_t=class{constructor(){Q(this,"atom",new Be.Atom({projects:{}}))}add(M,H){this.atom.setByPointer(te=>te.projects[M],H)}get(M){return this.atom.get().projects[M]}has(M){return!!this.get(M)}},Ve=new _t,xe=Ve,ot=new WeakMap;function Ze(M){return ot.get(M)}function mt(M,H){ot.set(M,H)}var we=[],Te=Array.isArray,Ae=Te,me=typeof ru=="object"&&ru&&ru.Object===Object&&ru,ce=me,qe=typeof self=="object"&&self&&self.Object===Object&&self,ht=ce||qe||Function("return this")(),wt=ht,et=wt.Symbol,Nt=et,Ot=Object.prototype,an=Ot.hasOwnProperty,fn=Ot.toString,nn=Nt?Nt.toStringTag:void 0;function Ye(M){var H=an.call(M,nn),te=M[nn];try{M[nn]=void 0;var ve=!0}catch{}var Le=fn.call(M);return ve&&(H?M[nn]=te:delete M[nn]),Le}var Xt=Ye,Ft=Object.prototype,Zt=Ft.toString;function mn(M){return Zt.call(M)}var jn=mn,Wn="[object Null]",tr="[object Undefined]",_r=Nt?Nt.toStringTag:void 0;function Vr(M){return M==null?M===void 0?tr:Wn:_r&&_r in Object(M)?Xt(M):jn(M)}var si=Vr;function ct(M){return M!=null&&typeof M=="object"}var De=ct,Ut="[object Symbol]";function Kn(M){return typeof M=="symbol"||De(M)&&si(M)==Ut}var Fn=Kn,Xn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xr=/^\w*$/;function nr(M,H){if(Ae(M))return!1;var te=typeof M;return te=="number"||te=="symbol"||te=="boolean"||M==null||Fn(M)?!0:xr.test(M)||!Xn.test(M)||H!=null&&M in Object(H)}var it=nr;function En(M){var H=typeof M;return M!=null&&(H=="object"||H=="function")}var Ln=En,Yn="[object AsyncFunction]",br="[object Function]",vr="[object GeneratorFunction]",Wr="[object Proxy]";function ci(M){if(!Ln(M))return!1;var H=si(M);return H==br||H==vr||H==Yn||H==Wr}var Ct=ci,Kt=wt["__core-js_shared__"],gn=Kt,rr=function(){var M=/[^.]+$/.exec(gn&&gn.keys&&gn.keys.IE_PROTO||"");return M?"Symbol(src)_1."+M:""}();function Gn(M){return!!rr&&rr in M}var Ei=Gn,so=Function.prototype,eo=so.toString;function Vo(M){if(M!=null){try{return eo.call(M)}catch{}try{return M+""}catch{}}return""}var Li=Vo,qi=/[\\^$.*+?()[\]{}|]/g,po=/^\[object .+?Constructor\]$/,ba=Function.prototype,tl=Object.prototype,Ds=ba.toString,ua=tl.hasOwnProperty,Cs=RegExp("^"+Ds.call(ua).replace(qi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ms(M){if(!Ln(M)||Ei(M))return!1;var H=Ct(M)?Cs:po;return H.test(Li(M))}var di=ms;function Ea(M,H){return M==null?void 0:M[H]}var Tu=Ea;function Re(M,H){var te=Tu(M,H);return di(te)?te:void 0}var de=Re,Fe=de(Object,"create"),dt=Fe;function at(){this.__data__=dt?dt(null):{},this.size=0}var vt=at;function tn(M){var H=this.has(M)&&delete this.__data__[M];return this.size-=H?1:0,H}var rn=tn,Tn="__lodash_hash_undefined__",Mn=Object.prototype,Bn=Mn.hasOwnProperty;function Cn(M){var H=this.__data__;if(dt){var te=H[M];return te===Tn?void 0:te}return Bn.call(H,M)?H[M]:void 0}var ir=Cn,qn=Object.prototype,lr=qn.hasOwnProperty;function Lr(M){var H=this.__data__;return dt?H[M]!==void 0:lr.call(H,M)}var Zr=Lr,Qr="__lodash_hash_undefined__";function wr(M,H){var te=this.__data__;return this.size+=this.has(M)?0:1,te[M]=dt&&H===void 0?Qr:H,this}var jr=wr;function Qn(M){var H=-1,te=M==null?0:M.length;for(this.clear();++H<te;){var ve=M[H];this.set(ve[0],ve[1])}}Qn.prototype.clear=vt,Qn.prototype.delete=rn,Qn.prototype.get=ir,Qn.prototype.has=Zr,Qn.prototype.set=jr;var Br=Qn;function ri(){this.__data__=[],this.size=0}var Hr=ri;function Si(M,H){return M===H||M!==M&&H!==H}var Ai=Si;function Ni(M,H){for(var te=M.length;te--;)if(Ai(M[te][0],H))return te;return-1}var Ui=Ni,ai=Array.prototype,wo=ai.splice;function le(M){var H=this.__data__,te=Ui(H,M);if(te<0)return!1;var ve=H.length-1;return te==ve?H.pop():wo.call(H,te,1),--this.size,!0}var Ee=le;function He(M){var H=this.__data__,te=Ui(H,M);return te<0?void 0:H[te][1]}var lt=He;function Jt(M){return Ui(this.__data__,M)>-1}var Wt=Jt;function On(M,H){var te=this.__data__,ve=Ui(te,M);return ve<0?(++this.size,te.push([M,H])):te[ve][1]=H,this}var ur=On;function fr(M){var H=-1,te=M==null?0:M.length;for(this.clear();++H<te;){var ve=M[H];this.set(ve[0],ve[1])}}fr.prototype.clear=Hr,fr.prototype.delete=Ee,fr.prototype.get=lt,fr.prototype.has=Wt,fr.prototype.set=ur;var $r=fr,Ii=de(wt,"Map"),To=Ii;function Aa(){this.size=0,this.__data__={hash:new Br,map:new(To||$r),string:new Br}}var $s=Aa;function No(M){var H=typeof M;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?M!=="__proto__":M===null}var La=No;function Na(M,H){var te=M.__data__;return La(H)?te[typeof H=="string"?"string":"hash"]:te.map}var bi=Na;function Ci(M){var H=bi(this,M).delete(M);return this.size-=H?1:0,H}var ca=Ci;function ea(M){return bi(this,M).get(M)}var uu=ea;function Pu(M){return bi(this,M).has(M)}var Ls=Pu;function us(M,H){var te=bi(this,M),ve=te.size;return te.set(M,H),this.size+=te.size==ve?0:1,this}var Tc=us;function rc(M){var H=-1,te=M==null?0:M.length;for(this.clear();++H<te;){var ve=M[H];this.set(ve[0],ve[1])}}rc.prototype.clear=$s,rc.prototype.delete=ca,rc.prototype.get=uu,rc.prototype.has=Ls,rc.prototype.set=Tc;var da=rc,ku="Expected a function";function Ns(M,H){if(typeof M!="function"||H!=null&&typeof H!="function")throw new TypeError(ku);var te=function(){var ve=arguments,Le=H?H.apply(this,ve):ve[0],$e=te.cache;if($e.has(Le))return $e.get(Le);var At=M.apply(this,ve);return te.cache=$e.set(Le,At)||$e,At};return te.cache=new(Ns.Cache||da),te}Ns.Cache=da;var ji=Ns,Ca=500;function Vs(M){var H=ji(M,function(ve){return te.size===Ca&&te.clear(),ve}),te=H.cache;return H}var Po=Vs,cs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Iu=/\\(\\)?/g,Ll=Po(function(M){var H=[];return M.charCodeAt(0)===46&&H.push(""),M.replace(cs,function(te,ve,Le,$e){H.push(Le?$e.replace(Iu,"$1"):ve||te)}),H}),Md=Ll;function Ma(M,H){for(var te=-1,ve=M==null?0:M.length,Le=Array(ve);++te<ve;)Le[te]=H(M[te],te,M);return Le}var Ta=Ma,Pc=1/0,nl=Nt?Nt.prototype:void 0,fa=nl?nl.toString:void 0;function Ws(M){if(typeof M=="string")return M;if(Ae(M))return Ta(M,Ws)+"";if(Fn(M))return fa?fa.call(M):"";var H=M+"";return H=="0"&&1/M==-Pc?"-0":H}var Ru=Ws;function ha(M){return M==null?"":Ru(M)}var Fa=ha;function Al(M,H){return Ae(M)?M:it(M,H)?[M]:Md(Fa(M))}var rs=Al,cu=1/0;function Nl(M){if(typeof M=="string"||Fn(M))return M;var H=M+"";return H=="0"&&1/M==-cu?"-0":H}var gs=Nl;function is(M,H){H=rs(H,M);for(var te=0,ve=H.length;M!=null&&te<ve;)M=M[gs(H[te++])];return te&&te==ve?M:void 0}var ko=is;function Ro(M,H,te){var ve=M==null?void 0:ko(M,H);return ve===void 0?te:ve}var Zo=Ro;function du(M,H){return H.length===0?M:Zo(M,H)}var Xs=class{constructor(){Q(this,"_values",{})}get(M,H){if(this.has(M))return this._values[M];{const te=H();return this._values[M]=te,te}}has(M){return this._values.hasOwnProperty(M)}},_o=$n,ta=function(){try{var M=de(Object,"defineProperty");return M({},"",{}),M}catch{}}(),Ms=ta;function ic(M,H,te){H=="__proto__"&&Ms?Ms(M,H,{configurable:!0,enumerable:!0,value:te,writable:!0}):M[H]=te}var rl=ic,fu=Object.prototype,kc=fu.hasOwnProperty;function Ou(M,H,te){var ve=M[H];(!(kc.call(M,H)&&Ai(ve,te))||te===void 0&&!(H in M))&&rl(M,H,te)}var Bu=Ou,Td=9007199254740991,Ic=/^(?:0|[1-9]\d*)$/;function oc(M,H){var te=typeof M;return H=H??Td,!!H&&(te=="number"||te!="symbol"&&Ic.test(M))&&M>-1&&M%1==0&&M<H}var Fl=oc;function Cl(M,H,te,ve){if(!Ln(M))return M;H=rs(H,M);for(var Le=-1,$e=H.length,At=$e-1,en=M;en!=null&&++Le<$e;){var ln=gs(H[Le]),Rn=te;if(ln==="__proto__"||ln==="constructor"||ln==="prototype")return M;if(Le!=At){var Ue=en[ln];Rn=ve?ve(Ue,ln,en):void 0,Rn===void 0&&(Rn=Ln(Ue)?Ue:Fl(H[Le+1])?[]:{})}Bu(en,ln,Rn),en=en[ln]}return M}var Pa=Cl;function zl(M,H,te){return M==null?M:Pa(M,H,te)}var Fs=zl,ue=new WeakMap;function Ce(M){return Ge(M)}function Ge(M){if(ue.has(M))return ue.get(M);const H=M.type==="compound"?$t(M):M.type==="enum"?ut(M):M.default;return ue.set(M,H),H}function ut(M){const H={$case:M.defaultCase};for(const[te,ve]of Object.entries(M.cases))H[te]=Ge(ve);return H}function $t(M){const H={};for(const[te,ve]of Object.entries(M.props))H[te]=Ge(ve);return H}var jt=$n,Dn=A(ae());function cr(M,H,te){return(0,jt.prism)(()=>{const ve=(0,jt.val)(H);return jt.prism.memo("driver",()=>ve?ve.type==="BasicKeyframedTrack"?Xr(M,ve,te):(M.logger.error("Track type not yet supported."),(0,jt.prism)(()=>{})):(0,jt.prism)(()=>{}),[ve]).getValue()})}function Xr(M,H,te){return(0,jt.prism)(()=>{let ve=jt.prism.ref("state",{started:!1}),Le=ve.current;const $e=te.getValue();return(!Le.started||$e<Le.validFrom||Le.validTo<=$e)&&(ve.current=Le=Tr(M,te,H)),Le.der.getValue()})}var Gr=(0,jt.prism)(()=>{});function Tr(M,H,te){const ve=H.getValue();if(te.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:Gr};let Le=0;for(;;){const $e=te.keyframes[Le];if(!$e)return Nr.error;const At=Le===te.keyframes.length-1;if(ve<$e.position)return Le===0?Nr.beforeFirstKeyframe($e):Nr.error;if($e.position===ve)return At?Nr.lastKeyframe($e):Nr.between($e,te.keyframes[Le+1],H);if(Le===te.keyframes.length-1)return Nr.lastKeyframe($e);{const en=Le+1;if(te.keyframes[en].position<=ve){Le=en;continue}else return Nr.between($e,te.keyframes[Le+1],H)}}}var Nr={beforeFirstKeyframe(M){return{started:!0,validFrom:-1/0,validTo:M.position,der:(0,jt.prism)(()=>({left:M.value,progression:0}))}},lastKeyframe(M){return{started:!0,validFrom:M.position,validTo:1/0,der:(0,jt.prism)(()=>({left:M.value,progression:0}))}},between(M,H,te){if(!M.connectedRight)return{started:!0,validFrom:M.position,validTo:H.position,der:(0,jt.prism)(()=>({left:M.value,progression:0}))};const ve=$e=>($e-M.position)/(H.position-M.position);if(!M.type||M.type==="bezier"){const $e=new Dn.default(M.handles[2],M.handles[3],H.handles[0],H.handles[1]),At=(0,jt.prism)(()=>{const en=ve(te.getValue()),ln=$e.solveSimple(en);return{left:M.value,right:H.value,progression:ln}});return{started:!0,validFrom:M.position,validTo:H.position,der:At}}const Le=(0,jt.prism)(()=>{const $e=ve(te.getValue()),At=Math.floor($e);return{left:M.value,right:H.value,progression:At}});return{started:!0,validFrom:M.position,validTo:H.position,der:Le}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Gr}};function ao(M,H,te){const Le=te.get(M);if(Le&&Le.override===H)return Le.merged;const $e=B({},M);for(const At of Object.keys(H)){const en=H[At],ln=M[At];$e[At]=typeof en=="object"&&typeof ln=="object"?ao(ln,en,te):en===void 0?ln:en}return te.set(M,{override:H,merged:$e}),$e}function Fo(M,H){let te=M;for(const ve of H)te=te[ve];return te}var zs=$n,hu=(M,H)=>{const te=zs.prism.memo(M,()=>new zs.Atom(H),[]);return te.set(H),te},mo=$n,il=$n,bf=/\s/;function Ul(M){for(var H=M.length;H--&&bf.test(M.charAt(H)););return H}var sc=Ul,Rc=/^\s+/;function Oc(M){return M&&M.slice(0,sc(M)+1).replace(Rc,"")}var Ml=Oc,ac=0/0,Pd=/^[-+]0x[0-9a-f]+$/i,Du=/^0b[01]+$/i,lc=/^0o[0-7]+$/i,na=parseInt;function pa(M){if(typeof M=="number")return M;if(Fn(M))return ac;if(Ln(M)){var H=typeof M.valueOf=="function"?M.valueOf():M;M=Ln(H)?H+"":H}if(typeof M!="string")return M===0?M:+M;M=Ml(M);var te=Du.test(M);return te||lc.test(M)?na(M.slice(2),te?2:8):Pd.test(M)?ac:+M}var Me=pa,rt=1/0,Mt=17976931348623157e292;function Sn(M){if(!M)return M===0?M:0;if(M=Me(M),M===rt||M===-rt){var H=M<0?-1:1;return H*Mt}return M===M?M:0}var gi=Sn;function Ao(M){var H=gi(M),te=H%1;return H===H?te?H-te:H:0}var Ji=Ao;function go(M){return M}var kd=go,Ks=de(wt,"WeakMap"),ol=Ks,sl=Object.create,za=function(){function M(){}return function(H){if(!Ln(H))return{};if(sl)return sl(H);M.prototype=H;var te=new M;return M.prototype=void 0,te}}(),Wo=za;function no(M,H){var te=-1,ve=M.length;for(H||(H=Array(ve));++te<ve;)H[te]=M[te];return H}var Co=no;function Us(M,H){for(var te=-1,ve=M==null?0:M.length;++te<ve&&H(M[te],te,M)!==!1;);return M}var Id=Us;function jl(M,H,te,ve){var Le=!te;te||(te={});for(var $e=-1,At=H.length;++$e<At;){var en=H[$e],ln=ve?ve(te[en],M[en],en,te,M):void 0;ln===void 0&&(ln=M[en]),Le?rl(te,en,ln):Bu(te,en,ln)}return te}var Bc=jl,js=9007199254740991;function Ys(M){return typeof M=="number"&&M>-1&&M%1==0&&M<=js}var Ef=Ys;function Rd(M){return M!=null&&Ef(M.length)&&!Ct(M)}var al=Rd,Qs=Object.prototype;function ka(M){var H=M&&M.constructor,te=typeof H=="function"&&H.prototype||Qs;return M===te}var Tl=ka;function Zc(M,H){for(var te=-1,ve=Array(M);++te<M;)ve[te]=H(te);return ve}var hh=Zc,jp="[object Arguments]";function ph(M){return De(M)&&si(M)==jp}var qh=ph,Hp=Object.prototype,Dc=Hp.hasOwnProperty,Af=Hp.propertyIsEnumerable,Od=qh(function(){return arguments}())?qh:function(M){return De(M)&&Dc.call(M,"callee")&&!Af.call(M,"callee")},Bd=Od;function Dd(){return!1}var uc=Dd,Cf=e&&!e.nodeType&&e,$c=Cf&&!0&&n&&!n.nodeType&&n,Mf=$c&&$c.exports===Cf,Xo=Mf?wt.Buffer:void 0,Jh=Xo?Xo.isBuffer:void 0,mh=Jh||uc,cc=mh,Zh="[object Arguments]",$h="[object Array]",gh="[object Boolean]",ep="[object Date]",Tf="[object Error]",Pg="[object Function]",kg="[object Map]",Rm="[object Number]",Gp="[object Object]",vh="[object RegExp]",Ld="[object Set]",zo="[object String]",Om="[object WeakMap]",Ig="[object ArrayBuffer]",Vp="[object DataView]",Pf="[object Float32Array]",tp="[object Float64Array]",Bm="[object Int8Array]",kf="[object Int16Array]",np="[object Int32Array]",Lu="[object Uint8Array]",Wp="[object Uint8ClampedArray]",Ua="[object Uint16Array]",ma="[object Uint32Array]",So={};So[Pf]=So[tp]=So[Bm]=So[kf]=So[np]=So[Lu]=So[Wp]=So[Ua]=So[ma]=!0,So[Zh]=So[$h]=So[Ig]=So[gh]=So[Vp]=So[ep]=So[Tf]=So[Pg]=So[kg]=So[Rm]=So[Gp]=So[vh]=So[Ld]=So[zo]=So[Om]=!1;function ja(M){return De(M)&&Ef(M.length)&&!!So[si(M)]}var dc=ja;function If(M){return function(H){return M(H)}}var yh=If,pu=e&&!e.nodeType&&e,Ko=pu&&!0&&n&&!n.nodeType&&n,qs=Ko&&Ko.exports===pu,rp=qs&&ce.process,Hl=function(){try{var M=Ko&&Ko.require&&Ko.require("util").types;return M||rp&&rp.binding&&rp.binding("util")}catch{}}(),lo=Hl,vs=lo&&lo.isTypedArray,$o=vs?yh(vs):dc,Ho=$o,ed=Object.prototype,Ha=ed.hasOwnProperty;function Ga(M,H){var te=Ae(M),ve=!te&&Bd(M),Le=!te&&!ve&&cc(M),$e=!te&&!ve&&!Le&&Ho(M),At=te||ve||Le||$e,en=At?hh(M.length,String):[],ln=en.length;for(var Rn in M)(H||Ha.call(M,Rn))&&!(At&&(Rn=="length"||Le&&(Rn=="offset"||Rn=="parent")||$e&&(Rn=="buffer"||Rn=="byteLength"||Rn=="byteOffset")||Fl(Rn,ln)))&&en.push(Rn);return en}var fc=Ga;function td(M,H){return function(te){return M(H(te))}}var Va=td,ip=Va(Object.keys,Object),Nd=ip,nd=Object.prototype,Rf=nd.hasOwnProperty;function op(M){if(!Tl(M))return Nd(M);var H=[];for(var te in Object(M))Rf.call(M,te)&&te!="constructor"&&H.push(te);return H}var Nu=op;function Fd(M){return al(M)?fc(M):Nu(M)}var Fu=Fd;function _h(M){var H=[];if(M!=null)for(var te in Object(M))H.push(te);return H}var zd=_h,mu=Object.prototype,Gl=mu.hasOwnProperty;function Vl(M){if(!Ln(M))return zd(M);var H=Tl(M),te=[];for(var ve in M)ve=="constructor"&&(H||!Gl.call(M,ve))||te.push(ve);return te}var Dm=Vl;function wh(M){return al(M)?fc(M,!0):Dm(M)}var Ts=wh;function Wa(M,H){for(var te=-1,ve=H.length,Le=M.length;++te<ve;)M[Le+te]=H[te];return M}var Rr=Wa,Er=Va(Object.getPrototypeOf,Object),ll=Er,rd="[object Object]",Lm=Function.prototype,Ud=Object.prototype,gu=Lm.toString,ga=Ud.hasOwnProperty,ul=gu.call(Object);function os(M){if(!De(M)||si(M)!=rd)return!1;var H=ll(M);if(H===null)return!0;var te=ga.call(H,"constructor")&&H.constructor;return typeof te=="function"&&te instanceof te&&gu.call(te)==ul}var zu=os;function Nm(M,H,te){var ve=-1,Le=M.length;H<0&&(H=-H>Le?0:Le+H),te=te>Le?Le:te,te<0&&(te+=Le),Le=H>te?0:te-H>>>0,H>>>=0;for(var $e=Array(Le);++ve<Le;)$e[ve]=M[ve+H];return $e}var sp=Nm;function ap(M,H,te){var ve=M.length;return te=te===void 0?ve:te,!H&&te>=ve?M:sp(M,H,te)}var lp=ap,Lc="\\ud800-\\udfff",jd="\\u0300-\\u036f",Xp="\\ufe20-\\ufe2f",Nc="\\u20d0-\\u20ff",Sh=jd+Xp+Nc,Gv="\\ufe0e\\ufe0f",hc="\\u200d",id=RegExp("["+hc+Lc+Sh+Gv+"]");function Hd(M){return id.test(M)}var od=Hd;function Of(M){return M.split("")}var sd=Of,Fc="\\ud800-\\udfff",Gd="\\u0300-\\u036f",pc="\\ufe20-\\ufe2f",va="\\u20d0-\\u20ff",Uu=Gd+pc+va,xh="\\ufe0e\\ufe0f",bh="["+Fc+"]",vu="["+Uu+"]",ju="\\ud83c[\\udffb-\\udfff]",up="(?:"+vu+"|"+ju+")",cp="[^"+Fc+"]",ya="(?:\\ud83c[\\udde6-\\uddff]){2}",Mo="[\\ud800-\\udbff][\\udc00-\\udfff]",Jr="\\u200d",ii=up+"?",Fi="["+xh+"]?",uo="(?:"+Jr+"(?:"+[cp,ya,Mo].join("|")+")"+Fi+ii+")*",Go=Fi+ii+uo,ra="(?:"+[cp+vu+"?",vu,ya,Mo,bh].join("|")+")",ss=RegExp(ju+"(?="+ju+")|"+ra+Go,"g");function Ps(M){return M.match(ss)||[]}var mc=Ps;function ad(M){return od(M)?mc(M):sd(M)}var Bf=ad;function Wl(M,H,te){return M===M&&(te!==void 0&&(M=M<=te?M:te),H!==void 0&&(M=M>=H?M:H)),M}var ks=Wl;function cl(M,H,te){return te===void 0&&(te=H,H=void 0),te!==void 0&&(te=Me(te),te=te===te?te:0),H!==void 0&&(H=Me(H),H=H===H?H:0),ks(Me(M),H,te)}var Df=cl;function Hu(){this.__data__=new $r,this.size=0}var ld=Hu;function zc(M){var H=this.__data__,te=H.delete(M);return this.size=H.size,te}var Ia=zc;function Xl(M){return this.__data__.get(M)}var Pl=Xl;function dl(M){return this.__data__.has(M)}var ud=dl,Gu=200;function Eh(M,H){var te=this.__data__;if(te instanceof $r){var ve=te.__data__;if(!To||ve.length<Gu-1)return ve.push([M,H]),this.size=++te.size,this;te=this.__data__=new da(ve)}return te.set(M,H),this.size=te.size,this}var yu=Eh;function Oi(M){var H=this.__data__=new $r(M);this.size=H.size}Oi.prototype.clear=ld,Oi.prototype.delete=Ia,Oi.prototype.get=Pl,Oi.prototype.has=ud,Oi.prototype.set=yu;var Uo=Oi;function Hs(M,H){return M&&Bc(H,Fu(H),M)}var Xa=Hs;function Js(M,H){return M&&Bc(H,Ts(H),M)}var Ka=Js,Uc=e&&!e.nodeType&&e,Yo=Uc&&!0&&n&&!n.nodeType&&n,Zs=Yo&&Yo.exports===Uc,ds=Zs?wt.Buffer:void 0,_u=ds?ds.allocUnsafe:void 0;function Lf(M,H){if(H)return M.slice();var te=M.length,ve=_u?_u(te):new M.constructor(te);return M.copy(ve),ve}var Vd=Lf;function cd(M,H){for(var te=-1,ve=M==null?0:M.length,Le=0,$e=[];++te<ve;){var At=M[te];H(At,te,M)&&($e[Le++]=At)}return $e}var Gs=cd;function Kp(){return[]}var dd=Kp,Wd=Object.prototype,Vu=Wd.propertyIsEnumerable,kl=Object.getOwnPropertySymbols,Nf=kl?function(M){return M==null?[]:(M=Object(M),Gs(kl(M),function(H){return Vu.call(M,H)}))}:dd,Ah=Nf;function jc(M,H){return Bc(M,Ah(M),H)}var Wu=jc,gc=Object.getOwnPropertySymbols,Xd=gc?function(M){for(var H=[];M;)Rr(H,Ah(M)),M=ll(M);return H}:dd,_a=Xd;function fl(M,H){return Bc(M,_a(M),H)}var Rg=fl;function Kd(M,H,te){var ve=H(M);return Ae(M)?ve:Rr(ve,te(M))}var Ch=Kd;function dp(M){return Ch(M,Fu,Ah)}var Ff=dp;function fp(M){return Ch(M,Ts,_a)}var Kl=fp,hl=de(wt,"DataView"),zf=hl,Yd=de(wt,"Promise"),Yl=Yd,vc=de(wt,"Set"),Xu=vc,fd="[object Map]",Mh="[object Object]",Yp="[object Promise]",Fm="[object Set]",Qp="[object WeakMap]",hp="[object DataView]",zm=Li(zf),pp=Li(To),qp=Li(Yl),Og=Li(Xu),S=Li(ol),s=si;(zf&&s(new zf(new ArrayBuffer(1)))!=hp||To&&s(new To)!=fd||Yl&&s(Yl.resolve())!=Yp||Xu&&s(new Xu)!=Fm||ol&&s(new ol)!=Qp)&&(s=function(M){var H=si(M),te=H==Mh?M.constructor:void 0,ve=te?Li(te):"";if(ve)switch(ve){case zm:return hp;case pp:return fd;case qp:return Yp;case Og:return Fm;case S:return Qp}return H});var d=s,x=Object.prototype,I=x.hasOwnProperty;function U(M){var H=M.length,te=new M.constructor(H);return H&&typeof M[0]=="string"&&I.call(M,"index")&&(te.index=M.index,te.input=M.input),te}var ne=U,Pe=wt.Uint8Array,Je=Pe;function Tt(M){var H=new M.constructor(M.byteLength);return new Je(H).set(new Je(M)),H}var hn=Tt;function kn(M,H){var te=H?hn(M.buffer):M.buffer;return new M.constructor(te,M.byteOffset,M.byteLength)}var dr=kn,Dr=/\w*$/;function Pr(M){var H=new M.constructor(M.source,Dr.exec(M));return H.lastIndex=M.lastIndex,H}var Ar=Pr,Zi=Nt?Nt.prototype:void 0,on=Zi?Zi.valueOf:void 0;function Qe(M){return on?Object(on.call(M)):{}}var tt=Qe;function kt(M,H){var te=H?hn(M.buffer):M.buffer;return new M.constructor(te,M.byteOffset,M.length)}var In=kt,sr="[object Boolean]",kr="[object Date]",Fr="[object Map]",Ri="[object Number]",Ti="[object RegExp]",$i="[object Set]",hd="[object String]",Jp="[object Symbol]",Bg="[object ArrayBuffer]",Vv="[object DataView]",XM="[object Float32Array]",Jw="[object Float64Array]",Zw="[object Int8Array]",Lb="[object Int16Array]",Wv="[object Int32Array]",Zp="[object Uint8Array]",Nb="[object Uint8ClampedArray]",$w="[object Uint16Array]",Xv="[object Uint32Array]";function eS(M,H,te){var ve=M.constructor;switch(H){case Bg:return hn(M);case sr:case kr:return new ve(+M);case Vv:return dr(M,te);case XM:case Jw:case Zw:case Lb:case Wv:case Zp:case Nb:case $w:case Xv:return In(M,te);case Fr:return new ve;case Ri:case hd:return new ve(M);case Ti:return Ar(M);case $i:return new ve;case Jp:return tt(M)}}var tS=eS;function Kv(M){return typeof M.constructor=="function"&&!Tl(M)?Wo(ll(M)):{}}var yc=Kv,Fb="[object Map]";function KM(M){return De(M)&&d(M)==Fb}var C1=KM,Ql=lo&&lo.isMap,YM=Ql?yh(Ql):C1,ei=YM,$p="[object Set]";function zb(M){return De(M)&&d(M)==$p}var nS=zb,Yv=lo&&lo.isSet,Qv=Yv?yh(Yv):nS,qv=Qv,em=1,rS=2,M1=4,T1="[object Arguments]",Jv="[object Array]",Zv="[object Boolean]",ql="[object Date]",Qd="[object Error]",mp="[object Function]",iS="[object GeneratorFunction]",oS="[object Map]",Uf="[object Number]",P1="[object Object]",Ku="[object RegExp]",sS="[object Set]",Ub="[object String]",aS="[object Symbol]",k1="[object WeakMap]",jb="[object ArrayBuffer]",QM="[object DataView]",$v="[object Float32Array]",I1="[object Float64Array]",jf="[object Int8Array]",Qo="[object Int16Array]",Jl="[object Int32Array]",Il="[object Uint8Array]",Rl="[object Uint8ClampedArray]",Hc="[object Uint16Array]",Dg="[object Uint32Array]",ro={};ro[T1]=ro[Jv]=ro[jb]=ro[QM]=ro[Zv]=ro[ql]=ro[$v]=ro[I1]=ro[jf]=ro[Qo]=ro[Jl]=ro[oS]=ro[Uf]=ro[P1]=ro[Ku]=ro[sS]=ro[Ub]=ro[aS]=ro[Il]=ro[Rl]=ro[Hc]=ro[Dg]=!0,ro[Qd]=ro[mp]=ro[k1]=!1;function tm(M,H,te,ve,Le,$e){var At,en=H&em,ln=H&rS,Rn=H&M1;if(te&&(At=Le?te(M,ve,Le,$e):te(M)),At!==void 0)return At;if(!Ln(M))return M;var Ue=Ae(M);if(Ue){if(At=ne(M),!en)return Co(M,At)}else{var Lt=d(M),zr=Lt==mp||Lt==iS;if(cc(M))return Vd(M,en);if(Lt==P1||Lt==T1||zr&&!Le){if(At=ln||zr?{}:yc(M),!en)return ln?Rg(M,Ka(At,M)):Wu(M,Xa(At,M))}else{if(!ro[Lt])return Le?M:{};At=tS(M,Lt,en)}}$e||($e=new Uo);var Pi=$e.get(M);if(Pi)return Pi;$e.set(M,At),qv(M)?M.forEach(function(bo){At.add(tm(bo,H,te,bo,M,$e))}):ei(M)&&M.forEach(function(bo,co){At.set(co,tm(bo,H,te,co,M,$e))});var mi=Rn?ln?Kl:Ff:ln?Ts:Fu,xo=Ue?void 0:mi(M);return Id(xo||M,function(bo,co){xo&&(co=bo,bo=M[co]),Bu(At,co,tm(bo,H,te,co,M,$e))}),At}var Lg=tm,R1=1,ey=4;function H0(M){return Lg(M,R1|ey)}var pd=H0,O1="__lodash_hash_undefined__";function Ng(M){return this.__data__.set(M,O1),this}var Th=Ng;function ty(M){return this.__data__.has(M)}var lS=ty;function Hf(M){var H=-1,te=M==null?0:M.length;for(this.__data__=new da;++H<te;)this.add(M[H])}Hf.prototype.add=Hf.prototype.push=Th,Hf.prototype.has=lS;var B1=Hf;function Um(M,H){for(var te=-1,ve=M==null?0:M.length;++te<ve;)if(H(M[te],te,M))return!0;return!1}var Fg=Um;function zg(M,H){return M.has(H)}var uS=zg,ny=1,ry=2;function _c(M,H,te,ve,Le,$e){var At=te&ny,en=M.length,ln=H.length;if(en!=ln&&!(At&&ln>en))return!1;var Rn=$e.get(M),Ue=$e.get(H);if(Rn&&Ue)return Rn==H&&Ue==M;var Lt=-1,zr=!0,Pi=te&ry?new B1:void 0;for($e.set(M,H),$e.set(H,M);++Lt<en;){var mi=M[Lt],xo=H[Lt];if(ve)var bo=At?ve(xo,mi,Lt,H,M,$e):ve(mi,xo,Lt,M,H,$e);if(bo!==void 0){if(bo)continue;zr=!1;break}if(Pi){if(!Fg(H,function(co,ys){if(!uS(Pi,ys)&&(mi===co||Le(mi,co,te,ve,$e)))return Pi.push(ys)})){zr=!1;break}}else if(!(mi===xo||Le(mi,xo,te,ve,$e))){zr=!1;break}}return $e.delete(M),$e.delete(H),zr}var gp=_c;function Gf(M){var H=-1,te=Array(M.size);return M.forEach(function(ve,Le){te[++H]=[Le,ve]}),te}var Gc=Gf;function cS(M){var H=-1,te=Array(M.size);return M.forEach(function(ve){te[++H]=ve}),te}var D1=cS,L1=1,Hb=2,nm="[object Boolean]",dS="[object Date]",N1="[object Error]",rm="[object Map]",G0="[object Number]",jm="[object RegExp]",Gb="[object Set]",Vb="[object String]",F1="[object Symbol]",iy="[object ArrayBuffer]",Wb="[object DataView]",fS=Nt?Nt.prototype:void 0,z1=fS?fS.valueOf:void 0;function Xb(M,H,te,ve,Le,$e,At){switch(te){case Wb:if(M.byteLength!=H.byteLength||M.byteOffset!=H.byteOffset)return!1;M=M.buffer,H=H.buffer;case iy:return!(M.byteLength!=H.byteLength||!$e(new Je(M),new Je(H)));case nm:case dS:case G0:return Ai(+M,+H);case N1:return M.name==H.name&&M.message==H.message;case jm:case Vb:return M==H+"";case rm:var en=Gc;case Gb:var ln=ve&L1;if(en||(en=D1),M.size!=H.size&&!ln)return!1;var Rn=At.get(M);if(Rn)return Rn==H;ve|=Hb,At.set(M,H);var Ue=gp(en(M),en(H),ve,Le,$e,At);return At.delete(M),Ue;case F1:if(z1)return z1.call(M)==z1.call(H)}return!1}var Hm=Xb,hS=1,Gm=Object.prototype,V0=Gm.hasOwnProperty;function Ra(M,H,te,ve,Le,$e){var At=te&hS,en=Ff(M),ln=en.length,Rn=Ff(H),Ue=Rn.length;if(ln!=Ue&&!At)return!1;for(var Lt=ln;Lt--;){var zr=en[Lt];if(!(At?zr in H:V0.call(H,zr)))return!1}var Pi=$e.get(M),mi=$e.get(H);if(Pi&&mi)return Pi==H&&mi==M;var xo=!0;$e.set(M,H),$e.set(H,M);for(var bo=At;++Lt<ln;){zr=en[Lt];var co=M[zr],ys=H[zr];if(ve)var md=At?ve(ys,co,zr,H,M,$e):ve(co,ys,zr,M,H,$e);if(!(md===void 0?co===ys||Le(co,ys,te,ve,$e):md)){xo=!1;break}bo||(bo=zr=="constructor")}if(xo&&!bo){var gd=M.constructor,vd=H.constructor;gd!=vd&&"constructor"in M&&"constructor"in H&&!(typeof gd=="function"&&gd instanceof gd&&typeof vd=="function"&&vd instanceof vd)&&(xo=!1)}return $e.delete(M),$e.delete(H),xo}var pS=Ra,mS=1,Kb="[object Arguments]",gS="[object Array]",Ug="[object Object]",vS=Object.prototype,Yb=vS.hasOwnProperty;function qd(M,H,te,ve,Le,$e){var At=Ae(M),en=Ae(H),ln=At?gS:d(M),Rn=en?gS:d(H);ln=ln==Kb?Ug:ln,Rn=Rn==Kb?Ug:Rn;var Ue=ln==Ug,Lt=Rn==Ug,zr=ln==Rn;if(zr&&cc(M)){if(!cc(H))return!1;At=!0,Ue=!1}if(zr&&!Ue)return $e||($e=new Uo),At||Ho(M)?gp(M,H,te,ve,Le,$e):Hm(M,H,ln,te,ve,Le,$e);if(!(te&mS)){var Pi=Ue&&Yb.call(M,"__wrapped__"),mi=Lt&&Yb.call(H,"__wrapped__");if(Pi||mi){var xo=Pi?M.value():M,bo=mi?H.value():H;return $e||($e=new Uo),Le(xo,bo,te,ve,$e)}}return zr?($e||($e=new Uo),pS(M,H,te,ve,Le,$e)):!1}var U1=qd;function yS(M,H,te,ve,Le){return M===H?!0:M==null||H==null||!De(M)&&!De(H)?M!==M&&H!==H:U1(M,H,te,ve,yS,Le)}var im=yS,j1=1,om=2;function oy(M,H,te,ve){var Le=te.length,$e=Le,At=!ve;if(M==null)return!$e;for(M=Object(M);Le--;){var en=te[Le];if(At&&en[2]?en[1]!==M[en[0]]:!(en[0]in M))return!1}for(;++Le<$e;){en=te[Le];var ln=en[0],Rn=M[ln],Ue=en[1];if(At&&en[2]){if(Rn===void 0&&!(ln in M))return!1}else{var Lt=new Uo;if(ve)var zr=ve(Rn,Ue,ln,M,H,Lt);if(!(zr===void 0?im(Ue,Rn,j1|om,ve,Lt):zr))return!1}}return!0}var _S=oy;function H1(M){return M===M&&!Ln(M)}var Qb=H1;function wS(M){for(var H=Fu(M),te=H.length;te--;){var ve=H[te],Le=M[ve];H[te]=[ve,Le,Qb(Le)]}return H}var SS=wS;function xS(M,H){return function(te){return te==null?!1:te[M]===H&&(H!==void 0||M in Object(te))}}var bS=xS;function sy(M){var H=SS(M);return H.length==1&&H[0][2]?bS(H[0][0],H[0][1]):function(te){return te===M||_S(te,M,H)}}var G1=sy;function qb(M,H){return M!=null&&H in Object(M)}var V1=qb;function qM(M,H,te){H=rs(H,M);for(var ve=-1,Le=H.length,$e=!1;++ve<Le;){var At=gs(H[ve]);if(!($e=M!=null&&te(M,At)))break;M=M[At]}return $e||++ve!=Le?$e:(Le=M==null?0:M.length,!!Le&&Ef(Le)&&Fl(At,Le)&&(Ae(M)||Bd(M)))}var Jb=qM;function W1(M,H){return M!=null&&Jb(M,H,V1)}var X1=W1,ES=1,ay=2;function Zb(M,H){return it(M)&&Qb(H)?bS(gs(M),H):function(te){var ve=Zo(te,M);return ve===void 0&&ve===H?X1(te,M):im(H,ve,ES|ay)}}var JM=Zb;function ly(M){return function(H){return H==null?void 0:H[M]}}var AS=ly;function W0(M){return function(H){return ko(H,M)}}var ZM=W0;function uy(M){return it(M)?AS(gs(M)):ZM(M)}var f=uy;function v(M){return typeof M=="function"?M:M==null?kd:typeof M=="object"?Ae(M)?JM(M[0],M[1]):G1(M):f(M)}var R=v;function V(M){return function(H,te,ve){for(var Le=-1,$e=Object(H),At=ve(H),en=At.length;en--;){var ln=At[M?en:++Le];if(te($e[ln],ln,$e)===!1)break}return H}}var ie=V,he=ie(),Ne=he;function St(M,H){return M&&Ne(M,H,Fu)}var Bt=St,wn=function(){return wt.Date.now()},Zn=wn,yr="Expected a function",ar=Math.max,qr=Math.min;function oi(M,H,te){var ve,Le,$e,At,en,ln,Rn=0,Ue=!1,Lt=!1,zr=!0;if(typeof M!="function")throw new TypeError(yr);H=Me(H)||0,Ln(te)&&(Ue=!!te.leading,Lt="maxWait"in te,$e=Lt?ar(Me(te.maxWait)||0,H):$e,zr="trailing"in te?!!te.trailing:zr);function Pi(ia){var yd=ve,Ih=Le;return ve=Le=void 0,Rn=ia,At=M.apply(Ih,yd),At}function mi(ia){return Rn=ia,en=setTimeout(co,H),Ue?Pi(ia):At}function xo(ia){var yd=ia-ln,Ih=ia-Rn,Xm=H-yd;return Lt?qr(Xm,$e-Ih):Xm}function bo(ia){var yd=ia-ln,Ih=ia-Rn;return ln===void 0||yd>=H||yd<0||Lt&&Ih>=$e}function co(){var ia=Zn();if(bo(ia))return ys(ia);en=setTimeout(co,xo(ia))}function ys(ia){return en=void 0,zr&&ve?Pi(ia):(ve=Le=void 0,At)}function md(){en!==void 0&&clearTimeout(en),Rn=0,ve=ln=Le=en=void 0}function gd(){return en===void 0?At:ys(Zn())}function vd(){var ia=Zn(),yd=bo(ia);if(ve=arguments,Le=this,ln=ia,yd){if(en===void 0)return mi(ln);if(Lt)return clearTimeout(en),en=setTimeout(co,H),Pi(ln)}return en===void 0&&(en=setTimeout(co,H)),At}return vd.cancel=md,vd.flush=gd,vd}var li=oi;function pl(M){var H=M==null?0:M.length;return H?M[H-1]:void 0}var sn=pl;function zt(M,H){return H.length<2?M:ko(M,sp(H,0,-1))}var yn=zt;function Cr(M){return typeof M=="number"&&M==Ji(M)}var fi=Cr;function Bi(M,H){var te={};return H=R(H),Bt(M,function(ve,Le,$e){rl(te,Le,H(ve,Le,$e))}),te}var zi=Bi;function Wi(M,H){return H=rs(H,M),M=yn(M,H),M==null||delete M[gs(sn(H))]}var wu=Wi,qo=9007199254740991,vp=Math.floor;function $b(M,H){var te="";if(!M||H<1||H>qo)return te;do H%2&&(te+=M),H=vp(H/2),H&&(M+=M);while(H);return te}var n3=$b,r3=AS("length"),jF=r3,i3="\\ud800-\\udfff",o3="\\u0300-\\u036f",HF="\\ufe20-\\ufe2f",s3="\\u20d0-\\u20ff",eE=o3+HF+s3,GF="\\ufe0e\\ufe0f",VF="["+i3+"]",tE="["+eE+"]",nE="\\ud83c[\\udffb-\\udfff]",a3="(?:"+tE+"|"+nE+")",rE="[^"+i3+"]",$M="(?:\\ud83c[\\udde6-\\uddff]){2}",l3="[\\ud800-\\udbff][\\udc00-\\udfff]",u3="\\u200d",c3=a3+"?",d3="["+GF+"]?",cy="(?:"+u3+"(?:"+[rE,$M,l3].join("|")+")"+d3+c3+")*",iE=d3+c3+cy,WF="(?:"+[rE+tE+"?",tE,$M,l3,VF].join("|")+")",eT=RegExp(nE+"(?="+nE+")|"+WF+iE,"g");function tT(M){for(var H=eT.lastIndex=0;eT.test(M);)++H;return H}var XF=tT;function KF(M){return od(M)?XF(M):jF(M)}var nT=KF,f3=Math.ceil;function h3(M,H){H=H===void 0?" ":Ru(H);var te=H.length;if(te<2)return te?n3(H,M):H;var ve=n3(H,f3(M/nT(H)));return od(H)?lp(Bf(ve),0,M).join(""):ve.slice(0,M)}var YF=h3;function QF(M,H,te){M=Fa(M),H=Ji(H);var ve=H?nT(M):0;return H&&ve<H?YF(H-ve,te)+M:M}var K1=QF;function qF(M,H){return M==null?!0:wu(M,H)}var p3=qF,m3=5*1e3,g3=class{constructor(M){Q(this,"_cache",new Xs),Q(this,"_keepHotUntapDebounce"),mt(this,M)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return Ze(this).propsP}get sheet(){return Ze(this).sheet.publicApi}get project(){return Ze(this).sheet.project.publicApi}get address(){return B({},Ze(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{const M=Ze(this);return(0,il.prism)(()=>(0,il.val)(M.getValues().getValue()))})}onValuesChange(M,H){return CE(this._valuesPrism(),M,H)}get value(){const M=this._valuesPrism();{if(!M.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();const H=M.keepHot();this._keepHotUntapDebounce=li(()=>{H(),this._keepHotUntapDebounce=void 0},m3)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return M.getValue()}set initialValue(M){Ze(this).setInitialValue(M)}};function v3(M){const H=new WeakMap;return te=>(H.has(te)||H.set(te,M(te)),H.get(te))}function oE(M){return M.type==="compound"||M.type==="enum"}function rT(M,H){if(!M)return;const[te,...ve]=H;if(te===void 0)return M;if(!oE(M))return;const Le=M.type==="enum"?M.cases[te]:M.props[te];return rT(Le,ve)}function iT(M){return!oE(M)}var JF=class{constructor(M,H,te){this.sheet=M,this.template=H,this.nativeObject=te,Q(this,"$$isPointerToPrismProvider",!0),Q(this,"address"),Q(this,"publicApi"),Q(this,"_initialValue",new mo.Atom({})),Q(this,"_cache",new Xs),Q(this,"_logger"),Q(this,"_internalUtilCtx"),this._logger=M._logger.named("SheetObject",H.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=z(B({},H.address),{sheetInstanceId:M.address.sheetInstanceId}),this.publicApi=new g3(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,mo.prism)(()=>{const M=(0,mo.val)(this.template.getDefaultValues()),H=(0,mo.val)(this._initialValue.pointer),te=mo.prism.memo("withInitialCache",()=>new WeakMap,[]),ve=ao(M,H,te),Le=(0,mo.val)(this.template.getStaticValues()),$e=mo.prism.memo("withStatics",()=>new WeakMap,[]);let en=ao(ve,Le,$e),ln;{const Ue=mo.prism.memo("seq",()=>this.getSequencedValues(),[]),Lt=mo.prism.memo("withSeqsCache",()=>new WeakMap,[]);ln=(0,mo.val)((0,mo.val)(Ue)),en=ao(en,ln,Lt)}return hu("finalAtom",en).pointer}))}getValueByPointer(M){const H=(0,mo.val)(this.getValues()),{path:te}=(0,mo.getPointerParts)(M);return(0,mo.val)(Fo(H,te))}pointerToPrism(M){const{path:H}=(0,mo.getPointerParts)(M);return(0,mo.prism)(()=>{const te=(0,mo.val)(this.getValues());return(0,mo.val)(Fo(te,H))})}getSequencedValues(){return(0,mo.prism)(()=>{const M=mo.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),H=(0,mo.val)(M),te=new mo.Atom({}),ve=(0,mo.val)(this.template.configPointer);return mo.prism.effect("processTracks",()=>{const Le=[];for(const{trackId:$e,pathToProp:At}of H){const en=this._trackIdToPrism($e),ln=rT(ve,At),Rn=ln.deserializeAndSanitize,Ue=ln.interpolate,Lt=()=>{const Pi=en.getValue();if(!Pi)return te.setByPointer(ys=>Fo(ys,At),void 0);const mi=Rn(Pi.left),xo=mi===void 0?ln.default:mi;if(Pi.right===void 0)return te.setByPointer(ys=>Fo(ys,At),xo);const bo=Rn(Pi.right),co=bo===void 0?ln.default:bo;return te.setByPointer(ys=>Fo(ys,At),Ue(xo,co,Pi.progression))},zr=en.onStale(Lt);Lt(),Le.push(zr)}return()=>{for(const $e of Le)$e()}},[ve,...H]),te.pointer})}_trackIdToPrism(M){const H=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[M],te=this.sheet.getSequence().positionPrism;return cr(this._internalUtilCtx,H,te)}get propsP(){return this._cache.get("propsP",()=>(0,mo.pointer)({root:this,path:[]}))}validateValue(M,H){}setInitialValue(M){this.validateValue(this.propsP,M),this._initialValue.set(M)}};function wa(M){return function(te,ve){return M(te,ve())}}var Vf={_hmm:Ph(524),_todo:Ph(522),_error:Ph(521),errorDev:Ph(529),errorPublic:Ph(545),_kapow:Ph(268),_warn:Ph(265),warnDev:Ph(273),warnPublic:Ph(289),_debug:Ph(137),debugDev:Ph(145),_trace:Ph(73),traceDev:Ph(81)};function Ph(M){return Object.freeze({audience:X0(M,8)?"internal":X0(M,16)?"dev":"public",category:X0(M,4)?"troubleshooting":X0(M,2)?"todo":"general",level:X0(M,512)?512:X0(M,256)?256:X0(M,128)?128:64})}function X0(M,H){return(M&H)===H}function Is(M,H){return((H&32)===32?!0:(H&16)===16?M.dev:(H&8)===8?M.internal:!1)&&M.min<=H}var jg={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(M,H,te){return this.create({names:[...M.names,{name:H,key:te}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(M){if(M.length<5)return M;const H=M.replace(this.collapseOnRE,"");return this.cssMemo.has(H)||this.cssMemo.set(H,this.css(M)),H},css(M){var H,te,ve,Le;const $e=this.cssMemo.get(M);if($e)return $e;let At="color:".concat((te=(H=this.color)==null?void 0:H.call(this,M))!=null?te:"hsl(".concat((M.charCodeAt(0)+M.charCodeAt(M.length-1))%360,", 100%, 60%)"));return(ve=this.bold)!=null&&ve.test(M)&&(At+=";font-weight:600"),(Le=this.italic)!=null&&Le.test(M)&&(At+=";font-style:italic"),this.cssMemo.set(M,At),At}}};function y3(M=console,H={}){const te=z(B({},jg),{includes:B({},jg.includes)}),ve={styled:ZF.bind(te,M),noStyle:$F.bind(te,M)},Le=_3.bind(te);function $e(){return te.loggingConsoleStyle&&te.loggerConsoleStyle?ve.styled:ve.noStyle}return te.create=$e(),{configureLogger(At){var en;At==="console"?(te.loggerConsoleStyle=jg.loggerConsoleStyle,te.create=$e()):At.type==="console"?(te.loggerConsoleStyle=(en=At.style)!=null?en:jg.loggerConsoleStyle,te.create=$e()):At.type==="keyed"?(te.creatExt=ln=>At.keyed(ln.names),te.create=Le):At.type==="named"&&(te.creatExt=dy.bind(null,At.named),te.create=Le)},configureLogging(At){var en,ln,Rn,Ue,Lt;te.includes.dev=(en=At.dev)!=null?en:jg.includes.dev,te.includes.internal=(ln=At.internal)!=null?ln:jg.includes.internal,te.includes.min=(Rn=At.min)!=null?Rn:jg.includes.min,te.include=(Ue=At.include)!=null?Ue:jg.include,te.loggingConsoleStyle=(Lt=At.consoleStyle)!=null?Lt:jg.loggingConsoleStyle,te.create=$e()},getLogger(){return te.create({names:[]})}}}function dy(M,H){const te=[];for(let{name:ve,key:Le}of H.names)te.push(Le==null?ve:"".concat(ve," (").concat(Le,")"));return M(te)}function _3(M){const H=B(B({},this.includes),this.include(M)),te=this.filtered,ve=this.named.bind(this,M),Le=this.creatExt(M),$e=Is(H,524),At=Is(H,522),en=Is(H,521),ln=Is(H,529),Rn=Is(H,545),Ue=Is(H,265),Lt=Is(H,268),zr=Is(H,273),Pi=Is(H,289),mi=Is(H,137),xo=Is(H,145),bo=Is(H,73),co=Is(H,81),ys=$e?Le.error.bind(Le,Vf._hmm):te.bind(M,524),md=At?Le.error.bind(Le,Vf._todo):te.bind(M,522),gd=en?Le.error.bind(Le,Vf._error):te.bind(M,521),vd=ln?Le.error.bind(Le,Vf.errorDev):te.bind(M,529),ia=Rn?Le.error.bind(Le,Vf.errorPublic):te.bind(M,545),yd=Lt?Le.warn.bind(Le,Vf._kapow):te.bind(M,268),Ih=Ue?Le.warn.bind(Le,Vf._warn):te.bind(M,265),Xm=zr?Le.warn.bind(Le,Vf.warnDev):te.bind(M,273),Km=Pi?Le.warn.bind(Le,Vf.warnPublic):te.bind(M,273),yy=mi?Le.debug.bind(Le,Vf._debug):te.bind(M,137),Qg=xo?Le.debug.bind(Le,Vf.debugDev):te.bind(M,145),_y=bo?Le.trace.bind(Le,Vf._trace):te.bind(M,73),wy=co?Le.trace.bind(Le,Vf.traceDev):te.bind(M,81),Su={_hmm:ys,_todo:md,_error:gd,errorDev:vd,errorPublic:ia,_kapow:yd,_warn:Ih,warnDev:Xm,warnPublic:Km,_debug:yy,debugDev:Qg,_trace:_y,traceDev:wy,lazy:{_hmm:$e?wa(ys):ys,_todo:At?wa(md):md,_error:en?wa(gd):gd,errorDev:ln?wa(vd):vd,errorPublic:Rn?wa(ia):ia,_kapow:Lt?wa(yd):yd,_warn:Ue?wa(Ih):Ih,warnDev:zr?wa(Xm):Xm,warnPublic:Pi?wa(Km):Km,_debug:mi?wa(yy):yy,debugDev:xo?wa(Qg):Qg,_trace:bo?wa(_y):_y,traceDev:co?wa(wy):wy},named:ve,utilFor:{internal(){return{debug:Su._debug,error:Su._error,warn:Su._warn,trace:Su._trace,named(Rh,Sa){return Su.named(Rh,Sa).utilFor.internal()}}},dev(){return{debug:Su.debugDev,error:Su.errorDev,warn:Su.warnDev,trace:Su.traceDev,named(Rh,Sa){return Su.named(Rh,Sa).utilFor.dev()}}},public(){return{error:Su.errorPublic,warn:Su.warnPublic,debug(Rh,Sa){Su._warn('(public "debug" filtered out) '.concat(Rh),Sa)},trace(Rh,Sa){Su._warn('(public "trace" filtered out) '.concat(Rh),Sa)},named(Rh,Sa){return Su.named(Rh,Sa).utilFor.public()}}}}};return Su}function ZF(M,H){const te=B(B({},this.includes),this.include(H)),ve=[];let Le="";for(let ln=0;ln<H.names.length;ln++){const{name:Rn,key:Ue}=H.names[ln];if(Le+=" %c".concat(Rn),ve.push(this.style.css(Rn)),Ue!=null){const Lt="%c#".concat(Ue);Le+=Lt,ve.push(this.style.css(Lt))}}const $e=this.filtered,At=this.named.bind(this,H),en=[Le,...ve];return S3($e,H,te,M,en,w3(en),At)}function w3(M){const H=M.slice(0);for(let te=1;te<H.length;te++)H[te]+=";background-color:#e0005a;padding:2px;color:white";return H}function $F(M,H){const te=B(B({},this.includes),this.include(H));let ve="";for(let en=0;en<H.names.length;en++){const{name:ln,key:Rn}=H.names[en];ve+=" ".concat(ln),Rn!=null&&(ve+="#".concat(Rn))}const Le=this.filtered,$e=this.named.bind(this,H),At=[ve];return S3(Le,H,te,M,At,At,$e)}function S3(M,H,te,ve,Le,$e,At){const en=Is(te,524),ln=Is(te,522),Rn=Is(te,521),Ue=Is(te,529),Lt=Is(te,545),zr=Is(te,265),Pi=Is(te,268),mi=Is(te,273),xo=Is(te,289),bo=Is(te,137),co=Is(te,145),ys=Is(te,73),md=Is(te,81),gd=en?ve.error.bind(ve,...Le):M.bind(H,524),vd=ln?ve.error.bind(ve,...Le):M.bind(H,522),ia=Rn?ve.error.bind(ve,...Le):M.bind(H,521),yd=Ue?ve.error.bind(ve,...Le):M.bind(H,529),Ih=Lt?ve.error.bind(ve,...Le):M.bind(H,545),Xm=Pi?ve.warn.bind(ve,...$e):M.bind(H,268),Km=zr?ve.warn.bind(ve,...Le):M.bind(H,265),yy=mi?ve.warn.bind(ve,...Le):M.bind(H,273),Qg=xo?ve.warn.bind(ve,...Le):M.bind(H,273),_y=bo?ve.info.bind(ve,...Le):M.bind(H,137),wy=co?ve.info.bind(ve,...Le):M.bind(H,145),Su=ys?ve.debug.bind(ve,...Le):M.bind(H,73),Rh=md?ve.debug.bind(ve,...Le):M.bind(H,81),Sa={_hmm:gd,_todo:vd,_error:ia,errorDev:yd,errorPublic:Ih,_kapow:Xm,_warn:Km,warnDev:yy,warnPublic:Qg,_debug:_y,debugDev:wy,_trace:Su,traceDev:Rh,lazy:{_hmm:en?wa(gd):gd,_todo:ln?wa(vd):vd,_error:Rn?wa(ia):ia,errorDev:Ue?wa(yd):yd,errorPublic:Lt?wa(Ih):Ih,_kapow:Pi?wa(Xm):Xm,_warn:zr?wa(Km):Km,warnDev:mi?wa(yy):yy,warnPublic:xo?wa(Qg):Qg,_debug:bo?wa(_y):_y,debugDev:co?wa(wy):wy,_trace:ys?wa(Su):Su,traceDev:md?wa(Rh):Rh},named:At,utilFor:{internal(){return{debug:Sa._debug,error:Sa._error,warn:Sa._warn,trace:Sa._trace,named(Ym,lm){return Sa.named(Ym,lm).utilFor.internal()}}},dev(){return{debug:Sa.debugDev,error:Sa.errorDev,warn:Sa.warnDev,trace:Sa.traceDev,named(Ym,lm){return Sa.named(Ym,lm).utilFor.dev()}}},public(){return{error:Sa.errorPublic,warn:Sa.warnPublic,debug(Ym,lm){Sa._warn('(public "debug" filtered out) '.concat(Ym),lm)},trace(Ym,lm){Sa._warn('(public "trace" filtered out) '.concat(Ym),lm)},named(Ym,lm){return Sa.named(Ym,lm).utilFor.public()}}}}};return Sa}var oT=y3(console,{_debug:function(){},_error:function(){}});oT.configureLogging({dev:!0,min:64});var sE=oT.getLogger().named("Theatre.js (default logger)").utilFor.dev(),x3=new WeakMap;function b3(M){const H=x3.get(M);if(H)return H;const te=new Map;return x3.set(M,te),E3([],M,te),te}function E3(M,H,te){for(const[ve,Le]of Object.entries(H.props))if(!oE(Le)){const $e=[...M,ve];te.set(JSON.stringify($e),te.size),A3($e,Le,te)}for(const[ve,Le]of Object.entries(H.props))if(oE(Le)){const $e=[...M,ve];te.set(JSON.stringify($e),te.size),A3($e,Le,te)}}function A3(M,H,te){if(H.type==="compound")E3(M,H,te);else{if(H.type==="enum")throw new Error("Enums aren't supported yet");te.set(JSON.stringify(M),te.size)}}function sT(M){return typeof M=="object"&&M!==null&&Object.keys(M).length===0}var ez=class{constructor(M,H,te,ve,Le){this.sheetTemplate=M,Q(this,"address"),Q(this,"type","Theatre_SheetObjectTemplate"),Q(this,"_config"),Q(this,"_temp_actions_atom"),Q(this,"_cache",new Xs),Q(this,"project"),Q(this,"pointerToSheetState"),Q(this,"pointerToStaticOverrides"),this.address=z(B({},M.address),{objectKey:H}),this._config=new _o.Atom(ve),this._temp_actions_atom=new _o.Atom(Le),this.project=M.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(M,H,te){return this._config.set(te),new JF(M,this,H)}reconfigure(M){this._config.set(M)}_temp_setActions(M){this._temp_actions_atom.set(M)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,_o.prism)(()=>{const M=(0,_o.val)(this.configPointer);return Ce(M)}))}getStaticValues(){return this._cache.get("getStaticValues",()=>(0,_o.prism)(()=>{var M;const H=(M=(0,_o.val)(this.pointerToStaticOverrides))!=null?M:{};return(0,_o.val)(this.configPointer).deserializeAndSanitize(H)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,_o.prism)(()=>{const M=this.project.pointers.historic.sheetsById[this.address.sheetId],H=(0,_o.val)(M.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!H)return we;const te=[];if(!H)return we;const ve=(0,_o.val)(this.configPointer),Le=Object.entries(H);for(const[At,en]of Le){const ln=tz(At);if(!ln)continue;const Rn=rT(ve,ln);Rn&&iT(Rn)&&te.push({pathToProp:ln,trackId:en})}const $e=b3(ve);return te.sort((At,en)=>{const ln=At.pathToProp,Rn=en.pathToProp,Ue=$e.get(JSON.stringify(ln)),Lt=$e.get(JSON.stringify(Rn));return Ue>Lt?1:-1}),te.length===0?we:te}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>(0,_o.prism)(()=>{const M=(0,_o.val)(this.getArrayOfValidSequenceTracks());let H={};for(const{pathToProp:te,trackId:ve}of M)Fs(H,te,ve);return H}))}getStaticButNotSequencedOverrides(){return this._cache.get("getStaticButNotSequencedOverrides",()=>(0,_o.prism)(()=>{const M=(0,_o.val)(this.getStaticValues()),H=(0,_o.val)(this.getArrayOfValidSequenceTracks()),te=pd(M);for(const{pathToProp:ve}of H){p3(te,ve);let Le=ve.slice(0,-1);for(;Le.length>0;){const $e=du(te,Le);if(!sT($e))break;p3(te,Le),Le=Le.slice(0,-1)}}if(!sT(te))return te}))}getDefaultsAtPointer(M){const{path:H}=(0,_o.getPointerParts)(M),te=this.getDefaultValues().getValue();return du(te,H)}};function tz(M){try{return JSON.parse(M)}catch{sE.warn("property ".concat(JSON.stringify(M)," cannot be parsed. Skipping."));return}}var aT=$n,nz=v3(M=>JSON.stringify(M));A(ge());var rz=class extends Error{},Y1=class extends rz{},C3=$n,iz=$n,M3=$n,Yu=$n;function Hg(){let M,H;const te=new Promise((Le,$e)=>{M=At=>{Le(At),ve.status="resolved"},H=At=>{$e(At),ve.status="rejected"}}),ve={resolve:M,reject:H,promise:te,status:"pending"};return ve}var oz=()=>{},aE=oz,T3=$n,sz=class{constructor(){Q(this,"_stopPlayCallback",aE),Q(this,"_state",new T3.Atom({position:0,playing:!1})),Q(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=aE}gotoPosition(M){this._updatePositionInState(M)}_updatePositionInState(M){this._state.setByPointer(H=>H.position,M)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(M){this._state.setByPointer(H=>H.playing,M)}play(M,H,te,ve,Le){this.playing&&this.pause(),this.playing=!0;const $e=H[1]-H[0];{const zr=this.getCurrentPosition();zr<H[0]||zr>H[1]?ve==="normal"||ve==="alternate"?this._updatePositionInState(H[0]):(ve==="reverse"||ve==="alternateReverse")&&this._updatePositionInState(H[1]):ve==="normal"||ve==="alternate"?zr===H[1]&&this._updatePositionInState(H[0]):zr===H[0]&&this._updatePositionInState(H[1])}const At=Hg(),en=Le.time,ln=$e*M;let Rn=this.getCurrentPosition()-H[0];(ve==="reverse"||ve==="alternateReverse")&&(Rn=H[1]-this.getCurrentPosition());const Ue=zr=>{const mi=Math.max(zr-en,0)/1e3,xo=Math.min(mi*te+Rn,ln);if(xo!==ln){const bo=Math.floor(xo/$e);let co=xo/$e%1*$e;if(ve!=="normal")if(ve==="reverse")co=$e-co;else{const ys=bo%2===0;ve==="alternate"?ys||(co=$e-co):ys&&(co=$e-co)}this._updatePositionInState(co+H[0]),Lt()}else{if(ve==="normal")this._updatePositionInState(H[1]);else if(ve==="reverse")this._updatePositionInState(H[0]);else{const bo=(M-1)%2===0;ve==="alternate"?bo?this._updatePositionInState(H[1]):this._updatePositionInState(H[0]):bo?this._updatePositionInState(H[0]):this._updatePositionInState(H[1])}this.playing=!1,At.resolve(!0)}};this._stopPlayCallback=()=>{Le.offThisOrNextTick(Ue),Le.offNextTick(Ue),this.playing&&At.resolve(!1)};const Lt=()=>Le.onNextTick(Ue);return Le.onThisOrNextTick(Ue),At.promise}playDynamicRange(M,H){this.playing&&this.pause(),this.playing=!0;const te=Hg(),ve=M.keepHot();te.promise.then(ve,ve);let Le=H.time;const $e=en=>{const ln=Math.max(en-Le,0);Le=en;const Rn=ln/1e3,Ue=this.getCurrentPosition(),Lt=M.getValue();if(Ue<Lt[0]||Ue>Lt[1])this.gotoPosition(Lt[0]);else{let zr=Ue+Rn;zr>Lt[1]&&(zr=Lt[0]+(zr-Lt[1])),this.gotoPosition(zr)}At()};this._stopPlayCallback=()=>{H.offThisOrNextTick($e),H.offNextTick($e),te.resolve(!1)};const At=()=>H.onNextTick($e);return H.onThisOrNextTick($e),te.promise}},P3=$n,k3="__TheatreJS_StudioBundle",lT="__TheatreJS_CoreBundle",I3="__TheatreJS_Notifications",CS=M=>(...H)=>{var te;switch(M){case"success":{sE.debug(H.slice(0,2).join(`
`));break}case"info":{sE.debug(H.slice(0,2).join(`
`));break}case"warning":{sE.warn(H.slice(0,2).join(`
`));break}}return typeof window<"u"?(te=window[I3])==null?void 0:te.notify[M](...H):void 0},Q1={warning:CS("warning"),success:CS("success"),info:CS("info"),error:CS("error")};typeof window<"u"&&(window.addEventListener("error",M=>{Q1.error("An error occurred","<pre>".concat(M.message,`</pre>

See **console** for details.`))}),window.addEventListener("unhandledrejection",M=>{Q1.error("An error occurred","<pre>".concat(M.reason,`</pre>

See **console** for details.`))}));var az=class{constructor(M,H,te){this._decodedBuffer=M,this._audioContext=H,this._nodeDestination=te,Q(this,"_mainGain"),Q(this,"_state",new P3.Atom({position:0,playing:!1})),Q(this,"statePointer"),Q(this,"_stopPlayCallback",aE),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(M,H){const te=Hg();this._playing&&this.pause(),this._playing=!0;let ve;const Le=()=>{ve==null||ve(),ve=this._loopInRange(M.getValue(),H).stop},$e=M.onStale(Le);return Le(),this._stopPlayCallback=()=>{ve==null||ve(),$e(),te.resolve(!1)},te.promise}_loopInRange(M,H){let ve=this.getCurrentPosition();const Le=M[1]-M[0];ve<M[0]||ve>M[1]?this._updatePositionInState(M[0]):ve===M[1]&&this._updatePositionInState(M[0]),ve=this.getCurrentPosition();const $e=this._audioContext.createBufferSource();$e.buffer=this._decodedBuffer,$e.connect(this._mainGain),$e.playbackRate.value=1,$e.loop=!0,$e.loopStart=M[0],$e.loopEnd=M[1];const At=H.time;let en=ve-M[0];$e.start(0,ve);const ln=Lt=>{let xo=(Math.max(Lt-At,0)/1e3*1+en)/Le%1*Le;this._updatePositionInState(xo+M[0]),Rn()},Rn=()=>H.onNextTick(ln);return H.onThisOrNextTick(ln),{stop:()=>{$e.stop(),$e.disconnect(),H.offThisOrNextTick(ln),H.offNextTick(ln)}}}get _playing(){return this._state.get().playing}set _playing(M){this._state.setByPointer(H=>H.playing,M)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=aE}gotoPosition(M){this._updatePositionInState(M)}_updatePositionInState(M){this._state.reduce(H=>z(B({},H),{position:M}))}getCurrentPosition(){return this._state.get().position}play(M,H,te,ve,Le){this._playing&&this.pause(),this._playing=!0;let $e=this.getCurrentPosition();const At=H[1]-H[0];if(ve!=="normal")throw new Y1('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(ve,"' given."));$e<H[0]||$e>H[1]?this._updatePositionInState(H[0]):$e===H[1]&&this._updatePositionInState(H[0]),$e=this.getCurrentPosition();const en=Hg(),ln=this._audioContext.createBufferSource();ln.buffer=this._decodedBuffer,ln.connect(this._mainGain),ln.playbackRate.value=te,M>1e3&&(Q1.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(M,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),M=1e3),M>1&&(ln.loop=!0,ln.loopStart=H[0],ln.loopEnd=H[1]);const Rn=Le.time;let Ue=$e-H[0];const Lt=At*M;ln.start(0,$e,Lt-Ue);const zr=xo=>{const co=Math.max(xo-Rn,0)/1e3,ys=Math.min(co*te+Ue,Lt);if(ys!==Lt){let md=ys/At%1*At;this._updatePositionInState(md+H[0]),mi()}else this._updatePositionInState(H[1]),this._playing=!1,Pi(),en.resolve(!0)},Pi=()=>{ln.stop(),ln.disconnect()};this._stopPlayCallback=()=>{Pi(),Le.offThisOrNextTick(zr),Le.offNextTick(zr),this._playing&&en.resolve(!1)};const mi=()=>Le.onNextTick(zr);return Le.onThisOrNextTick(zr),en.promise}},q1=$n,lE=0;function uE(M){var H;const te=At=>{ve.tick(At)},ve=new q1.Ticker({onActive(){var At;(At=M==null?void 0:M.start)==null||At.call(M)},onDormant(){var At;(At=M==null?void 0:M.stop)==null||At.call(M)}}),Le={tick:te,id:lE++,name:(H=M==null?void 0:M.name)!=null?H:"CustomRafDriver-".concat(lE),type:"Theatre_RafDriver_PublicAPI"},$e={type:"Theatre_RafDriver_PrivateAPI",publicApi:Le,ticker:ve,start:M==null?void 0:M.start,stop:M==null?void 0:M.stop};return mt(Le,$e),Le}function R3(){let M=null;const ve=uE({name:"DefaultCoreRafDriver",start:()=>{if(typeof window<"u"){const Le=$e=>{ve.tick($e),M=window.requestAnimationFrame(Le)};M=window.requestAnimationFrame(Le)}else ve.tick(0),setTimeout(()=>ve.tick(1),0)},stop:()=>{typeof window<"u"&&M!==null&&window.cancelAnimationFrame(M)}});return ve}var cE;function uT(){return cE||O3(R3()),cE}function cT(){return uT().ticker}function O3(M){if(cE)throw new Error("`setCoreRafDriver()` is already called.");cE=Ze(M)}var lz=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(M){mt(this,M)}play(M){const H=Ze(this);if(H._project.isReady()){const te=M!=null&&M.rafDriver?Ze(M.rafDriver).ticker:cT();return H.play(M??{},te)}else{const te=Hg();return te.resolve(!0),te.promise}}pause(){Ze(this).pause()}get position(){return Ze(this).position}set position(M){Ze(this).position=M}__experimental_getKeyframes(M){return Ze(this).getKeyframesOfSimpleProp(M)}async attachAudio(M){const{audioContext:H,destinationNode:te,decodedBuffer:ve,gainNode:Le}=await uz(M),$e=new az(ve,H,Le);return Ze(this).replacePlaybackController($e),{audioContext:H,destinationNode:te,decodedBuffer:ve,gainNode:Le}}get pointer(){return Ze(this).pointer}};async function uz(M){function H(){if(M.audioContext)return Promise.resolve(M.audioContext);const Rn=new AudioContext;return Rn.state==="running"||typeof window>"u"?Promise.resolve(Rn):new Promise(Ue=>{const Lt=()=>{Rn.resume().catch(mi=>{console.error(mi)})},zr=["mousedown","keydown","touchstart"],Pi={capture:!0,passive:!1};zr.forEach(mi=>{window.addEventListener(mi,Lt,Pi)}),Rn.addEventListener("statechange",()=>{Rn.state==="running"&&(zr.forEach(mi=>{window.removeEventListener(mi,Lt,Pi)}),Ue(Rn))})})}async function te(){if(M.source instanceof AudioBuffer)return M.source;const Rn=Hg();if(typeof M.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let Ue;try{Ue=await fetch(M.source)}catch(mi){throw console.error(mi),new Error("Could not fetch '".concat(M.source,"'. Network error logged above."))}let Lt;try{Lt=await Ue.arrayBuffer()}catch(mi){throw console.error(mi),new Error("Could not read '".concat(M.source,"' as an arrayBuffer."))}(await ve).decodeAudioData(Lt,Rn.resolve,Rn.reject);let Pi;try{Pi=await Rn.promise}catch(mi){throw console.error(mi),new Error("Could not decode ".concat(M.source," as an audio file."))}return Pi}const ve=H(),Le=te(),[$e,At]=await Promise.all([ve,Le]),en=M.destinationNode||$e.destination,ln=$e.createGain();return ln.connect(en),{audioContext:$e,decodedBuffer:At,gainNode:ln,destinationNode:en}}var B3=D3("Theatre_SheetObject");function D3(M){return H=>typeof H=="object"&&!!H&&H.type===M}var cz=class{constructor(M,H,te,ve,Le){this._project=M,this._sheet=H,this._lengthD=te,this._subUnitsPerUnitD=ve,Q(this,"address"),Q(this,"publicApi"),Q(this,"_playbackControllerBox"),Q(this,"_prismOfStatePointer"),Q(this,"_positionD"),Q(this,"_positionFormatterD"),Q(this,"_playableRangeD"),Q(this,"pointer",(0,M3.pointer)({root:this,path:[]})),Q(this,"$$isPointerToPrismProvider",!0),Q(this,"_logger"),Q(this,"closestGridPosition",$e=>{const en=1/this.subUnitsPerUnit;return parseFloat((Math.round($e/en)*en).toFixed(3))}),this._logger=M._logger.named("Sheet",H.address.sheetId).named("Instance",H.address.sheetInstanceId),this.address=z(B({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new lz(this),this._playbackControllerBox=new iz.Atom(Le??new sz),this._prismOfStatePointer=(0,Yu.prism)(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=(0,Yu.prism)(()=>{const $e=this._prismOfStatePointer.getValue();return(0,Yu.val)($e.position)}),this._positionFormatterD=(0,Yu.prism)(()=>{const $e=(0,Yu.val)(this._subUnitsPerUnitD);return new dz($e)})}pointerToPrism(M){const{path:H}=(0,C3.getPointerParts)(M);if(H.length===0)return(0,Yu.prism)(()=>({length:(0,Yu.val)(this.pointer.length),playing:(0,Yu.val)(this.pointer.playing),position:(0,Yu.val)(this.pointer.position)}));if(H.length>1)return(0,Yu.prism)(()=>{});const[te]=H;return te==="length"?this._lengthD:te==="position"?this._positionD:te==="playing"?(0,Yu.prism)(()=>(0,Yu.val)(this._prismOfStatePointer.getValue().playing)):(0,Yu.prism)(()=>{})}getKeyframesOfSimpleProp(M){const{path:H,root:te}=(0,C3.getPointerParts)(M);if(!B3(te))throw new Y1("Argument prop must be a pointer to a SheetObject property");const ve=(0,Yu.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[te.address.objectKey]);if(!ve)return[];const{trackData:Le,trackIdByPropPath:$e}=ve,At=nz(H),en=$e[At];if(!en)return[];const ln=Le[en];return ln?ln.keyframes:[]}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(M){let H=M;this.pause(),H>this.length&&(H=this.length);const te=this.length;this._playbackControllerBox.get().gotoPosition(H>te?te:H)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,Yu.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,Yu.prism)(()=>[0,(0,Yu.val)(this._lengthD)])}playDynamicRange(M,H){return this._playbackControllerBox.get().playDynamicRange(M,H)}async play(M,H){const te=this.length,ve=M&&M.range?M.range:[0,te],Le=M&&typeof M.iterationCount=="number"?M.iterationCount:1,$e=M&&typeof M.rate<"u"?M.rate:1,At=M&&M.direction?M.direction:"normal";return await this._play(Le,[ve[0],ve[1]],$e,At,H)}_play(M,H,te,ve,Le){return this._playbackControllerBox.get().play(M,H,te,ve,Le)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(M){this.pause();const H=this._playbackControllerBox.get();this._playbackControllerBox.set(M);const te=H.getCurrentPosition();H.destroy(),M.gotoPosition(te)}},dz=class{constructor(M){this._fps=M}formatSubUnitForGrid(M){const H=M%1,te=1/this._fps;return Math.round(H/te)+"f"}formatFullUnitForGrid(M){let H=M,te="";if(H>=Ya){const Le=Math.floor(H/Ya);te+=Le+"h",H=H%Ya}if(H>=fy){const Le=Math.floor(H/fy);te+=Le+"m",H=H%fy}if(H>=Wf){const Le=Math.floor(H/Wf);te+=Le+"s",H=H%Wf}const ve=1/this._fps;if(H>=ve){const Le=Math.floor(H/ve);te+=Le+"f",H=H%ve}return te.length===0?"0s":te}formatForPlayhead(M){let H=M,te="";if(H>=Ya){const Le=Math.floor(H/Ya);te+=K1(Le.toString(),2,"0")+"h",H=H%Ya}if(H>=fy){const Le=Math.floor(H/fy);te+=K1(Le.toString(),2,"0")+"m",H=H%fy}else te.length>0&&(te+="00m");if(H>=Wf){const Le=Math.floor(H/Wf);te+=K1(Le.toString(),2,"0")+"s",H=H%Wf}else te+="00s";const ve=1/this._fps;if(H>=ve){const Le=Math.round(H/ve);te+=K1(Le.toString(),2,"0")+"f",H=H%ve}else H/ve>.98?(te+=K1(1 .toString(),2,"0")+"f",H=H%ve):te+="00f";return te.length===0?"00s00f":te}formatBasic(M){return M.toFixed(2)+"s"}},Wf=1,fy=Wf*60,Ya=fy*60,dT={};N(dT,{boolean:()=>gT,compound:()=>Vg,file:()=>vo,image:()=>sm,number:()=>MS,rgba:()=>wi,string:()=>H3,stringLiteral:()=>V3});function L3(M,H){return M.length<=H?M:M.substr(0,H-3)+"..."}var Rt=M=>typeof M=="string"?'string("'.concat(L3(M,10),'")'):typeof M=="number"?"number(".concat(L3(String(M),10),")"):M===null?"null":M===void 0?"undefined":typeof M=="boolean"?String(M):Array.isArray(M)?"array":typeof M=="object"?"object":"unknown",N3=Rt;function fz(M,{removeAlphaIfOpaque:H=!1}={}){const te=(M.a*255|256).toString(16).slice(1),ve=(M.r*255|256).toString(16).slice(1)+(M.g*255|256).toString(16).slice(1)+(M.b*255|256).toString(16).slice(1)+(H&&te==="ff"?"":te);return"#".concat(ve)}function fT(M){return z(B({},M),{toString(){return fz(this,{removeAlphaIfOpaque:!0})}})}function Gg(M){return Object.fromEntries(Object.entries(M).map(([H,te])=>[H,Df(te,0,1)]))}function hz(M){function H(te){return te>=.0031308?1.055*te**(1/2.4)-.055:12.92*te}return Gg({r:H(M.r),g:H(M.g),b:H(M.b),a:M.a})}function io(M){function H(te){return te>=.04045?((te+.055)/(1+.055))**2.4:te/12.92}return{r:H(M.r),g:H(M.g),b:H(M.b),a:M.a}}function F3(M){let H=.4122214708*M.r+.5363325363*M.g+.0514459929*M.b,te=.2119034982*M.r+.6806995451*M.g+.1073969566*M.b,ve=.0883024619*M.r+.2817188376*M.g+.6299787005*M.b,Le=Math.cbrt(H),$e=Math.cbrt(te),At=Math.cbrt(ve);return{L:.2104542553*Le+.793617785*$e-.0040720468*At,a:1.9779984951*Le-2.428592205*$e+.4505937099*At,b:.0259040371*Le+.7827717662*$e-.808675766*At,alpha:M.a}}function dE(M){let H=M.L+.3963377774*M.a+.2158037573*M.b,te=M.L-.1055613458*M.a-.0638541728*M.b,ve=M.L-.0894841775*M.a-1.291485548*M.b,Le=H*H*H,$e=te*te*te,At=ve*ve*ve;return{r:4.0767416621*Le-3.3077115913*$e+.2309699292*At,g:-1.2684380046*Le+2.6097574011*$e-.3413193965*At,b:-.0041960863*Le-.7034186147*$e+1.707614701*At,a:M.alpha}}var yp=Symbol("TheatrePropType_Basic");function hT(M){return typeof M=="object"&&!!M&&M[yp]==="TheatrePropType"}function K0(M){if(typeof M=="number")return MS(M);if(typeof M=="boolean")return gT(M);if(typeof M=="string")return H3(M);if(typeof M=="object"&&M){if(hT(M))return M;if(zu(M))return Vg(M);throw new Y1("This value is not a valid prop type: ".concat(N3(M)))}else throw new Y1("This value is not a valid prop type: ".concat(N3(M)))}function z3(M){const H={};for(const te of Object.keys(M)){const ve=M[te];hT(ve)?H[te]=ve:H[te]=K0(ve)}return H}var Vg=(M,H={})=>{const te=z3(M),ve=new WeakMap;return{type:"compound",props:te,valueType:null,[yp]:"TheatrePropType",label:H.label,default:zi(te,$e=>$e.default),deserializeAndSanitize:$e=>{if(typeof $e!="object"||!$e)return;if(ve.has($e))return ve.get($e);const At={};let en=!1;for(const[ln,Rn]of Object.entries(te))if(Object.prototype.hasOwnProperty.call($e,ln)){const Ue=Rn.deserializeAndSanitize($e[ln]);Ue!=null&&(en=!0,At[ln]=Ue)}if(ve.set($e,At),en)return At}}},vo=(M,H={})=>{const te=(ve,Le,$e)=>{var At;return{type:"file",id:((At=H.interpolate)!=null?At:Z1)(ve.id,Le.id,$e)}};return{type:"file",default:{type:"file",id:M},valueType:null,[yp]:"TheatrePropType",label:H.label,interpolate:te,deserializeAndSanitize:pT}},pT=M=>{if(!M)return;let H=!0;if(typeof M.id!="string"&&![null,void 0].includes(M.id)&&(H=!1),M.type!=="file"&&(H=!1),!!H)return M},sm=(M,H={})=>{const te=(ve,Le,$e)=>{var At;return{type:"image",id:((At=H.interpolate)!=null?At:Z1)(ve.id,Le.id,$e)}};return{type:"image",default:{type:"image",id:M},valueType:null,[yp]:"TheatrePropType",label:H.label,interpolate:te,deserializeAndSanitize:J1}},J1=M=>{if(!M)return;let H=!0;if(typeof M.id!="string"&&![null,void 0].includes(M.id)&&(H=!1),M.type!=="image"&&(H=!1),!!H)return M},MS=(M,H={})=>{var te;return z(B({type:"number",valueType:0,default:M,[yp]:"TheatrePropType"},H||{}),{label:H.label,nudgeFn:(te=H.nudgeFn)!=null?te:vz,nudgeMultiplier:typeof H.nudgeMultiplier=="number"?H.nudgeMultiplier:void 0,interpolate:mT,deserializeAndSanitize:U3(H.range)})},U3=M=>M?H=>{if(typeof H=="number"&&isFinite(H))return Df(H,M[0],M[1])}:j3,j3=M=>typeof M=="number"&&isFinite(M)?M:void 0,mT=(M,H,te)=>M+te*(H-M),wi=(M={r:0,g:0,b:0,a:1},H={})=>{const te={};for(const ve of["r","g","b","a"])te[ve]=Math.min(Math.max(M[ve],0),1);return{type:"rgba",valueType:null,default:fT(te),[yp]:"TheatrePropType",label:H.label,interpolate:mz,deserializeAndSanitize:pz}},pz=M=>{if(!M)return;let H=!0;for(const ve of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(M,ve)||typeof M[ve]!="number")&&(H=!1);if(!H)return;const te={};for(const ve of["r","g","b","a"])te[ve]=Math.min(Math.max(M[ve],0),1);return fT(te)},mz=(M,H,te)=>{const ve=F3(io(M)),Le=F3(io(H)),$e={L:(1-te)*ve.L+te*Le.L,a:(1-te)*ve.a+te*Le.a,b:(1-te)*ve.b+te*Le.b,alpha:(1-te)*ve.alpha+te*Le.alpha},At=hz(dE($e));return fT(At)},gT=(M,H={})=>{var te;return{type:"boolean",default:M,valueType:null,[yp]:"TheatrePropType",label:H.label,interpolate:(te=H.interpolate)!=null?te:Z1,deserializeAndSanitize:gz}},gz=M=>typeof M=="boolean"?M:void 0;function Z1(M){return M}var H3=(M,H={})=>{var te;return{type:"string",default:M,valueType:null,[yp]:"TheatrePropType",label:H.label,interpolate:(te=H.interpolate)!=null?te:Z1,deserializeAndSanitize:G3}};function G3(M){return typeof M=="string"?M:void 0}function V3(M,H,te={}){var ve,Le;return{type:"stringLiteral",default:M,valuesAndLabels:B({},H),[yp]:"TheatrePropType",valueType:null,as:(ve=te.as)!=null?ve:"menu",label:te.label,interpolate:(Le=te.interpolate)!=null?Le:Z1,deserializeAndSanitize($e){if(typeof $e=="string"&&Object.prototype.hasOwnProperty.call(H,$e))return $e}}}var vz=({config:M,deltaX:H,deltaFraction:te,magnitude:ve})=>{var Le;const{range:$e}=M;return!M.nudgeMultiplier&&$e&&!$e.includes(1/0)&&!$e.includes(-1/0)?te*($e[1]-$e[0])*ve:H*ve*((Le=M.nudgeMultiplier)!=null?Le:1)},yz=M=>M.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");function fE(M,H){return yz(M)}A(_e());var _z=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(M){mt(this,M)}object(M,H,te){const ve=Ze(this),Le=fE(M),$e=ve.getObject(Le),At=null,en=te==null?void 0:te.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if($e)return en&&$e.template._temp_setActions(en),$e.publicApi;{const ln=Vg(H);return ve.createObject(Le,At,ln,en).publicApi}}get sequence(){return Ze(this).getSequence().publicApi}get project(){return Ze(this).project.publicApi}get address(){return B({},Ze(this).address)}detachObject(M){const H=Ze(this),te=fE(M);if(!H.getObject(te)){Q1.warning(`Couldn't delete object "`.concat(te,'"'),'There is no object with key "'.concat(te,`".

To fix this, make sure you are calling \`sheet.deleteObject("`).concat(te,'")` with the correct key.')),console.warn('Object key "'.concat(te,'" does not exist.'));return}H.deleteObject(te)}},$1=$n,W3=class{constructor(M,H){this.template=M,this.instanceId=H,Q(this,"_objects",new $1.Atom({})),Q(this,"_sequence"),Q(this,"address"),Q(this,"publicApi"),Q(this,"project"),Q(this,"objectsP",this._objects.pointer),Q(this,"type","Theatre_Sheet"),Q(this,"_logger"),this._logger=M.project._logger.named("Sheet",H),this._logger._trace("creating sheet"),this.project=M.project,this.address=z(B({},M.address),{sheetInstanceId:this.instanceId}),this.publicApi=new _z(this)}createObject(M,H,te,ve={}){const $e=this.template.getObjectTemplate(M,H,te,ve).createInstance(this,H,te);return this._objects.setByPointer(At=>At[M],$e),$e}getObject(M){return this._objects.get()[M]}deleteObject(M){this._objects.reduce(H=>{const te=B({},H);return delete te[M],te})}getSequence(){if(!this._sequence){const M=(0,$1.prism)(()=>{const te=(0,$1.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return vT(te)}),H=(0,$1.prism)(()=>{const te=(0,$1.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return wz(te)});this._sequence=new cz(this.template.project,this,M,H)}return this._sequence}},vT=M=>typeof M=="number"&&isFinite(M)&&M>0?M:10,wz=M=>typeof M=="number"&&fi(M)&&M>=1&&M<=1e3?M:30,Sz=class{constructor(M,H){this.project=M,Q(this,"type","Theatre_SheetTemplate"),Q(this,"address"),Q(this,"_instances",new aT.Atom({})),Q(this,"instancesP",this._instances.pointer),Q(this,"_objectTemplates",new aT.Atom({})),Q(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=z(B({},M.address),{sheetId:H})}getInstance(M){let H=this._instances.get()[M];return H||(H=new W3(this,M),this._instances.setByPointer(te=>te[M],H)),H}getObjectTemplate(M,H,te,ve){let Le=this._objectTemplates.get()[M];return Le||(Le=new ez(this,M,H,te,ve),this._objectTemplates.setByPointer($e=>$e[M],Le)),Le}},yT=$n,X3=$n,am=M=>new Promise(H=>setTimeout(H,M)),TS=am;function kh(M){for(var H=arguments.length,te=Array(H>1?H-1:0),ve=1;ve<H;ve++)te[ve-1]=arguments[ve];throw Error("[Immer] minified error nr: "+M+(te.length?" "+te.map(function(Le){return"'"+Le+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wg(M){return!!M&&!!M[$d]}function Jd(M){return!!M&&(function(H){if(!H||typeof H!="object")return!1;var te=Object.getPrototypeOf(H);if(te===null)return!0;var ve=Object.hasOwnProperty.call(te,"constructor")&&te.constructor;return ve===Object||typeof ve=="function"&&Function.toString.call(ve)===Z3}(M)||Array.isArray(M)||!!M[SE]||!!M.constructor[SE]||Xg(M)||Zd(M))}function _T(M){return Wg(M)||kh(23,M),M[$d].t}function e_(M,H,te){te===void 0&&(te=!1),hy(M)===0?(te?Object.keys:xE)(M).forEach(function(ve){te&&typeof ve=="symbol"||H(ve,M[ve],M)}):M.forEach(function(ve,Le){return H(Le,ve,M)})}function hy(M){var H=M[$d];return H?H.i>3?H.i-4:H.i:Array.isArray(M)?1:Xg(M)?2:Zd(M)?3:0}function PS(M,H){return hy(M)===2?M.has(H):Object.prototype.hasOwnProperty.call(M,H)}function K3(M,H){return hy(M)===2?M.get(H):M[H]}function wT(M,H,te){var ve=hy(M);ve===2?M.set(H,te):ve===3?(M.delete(H),M.add(te)):M[H]=te}function Y3(M,H){return M===H?M!==0||1/M==1/H:M!=M&&H!=H}function Xg(M){return q3&&M instanceof Map}function Zd(M){return J3&&M instanceof Set}function Kg(M){return M.o||M.t}function t_(M){if(Array.isArray(M))return Array.prototype.slice.call(M);var H=AT(M);delete H[$d];for(var te=xE(H),ve=0;ve<te.length;ve++){var Le=te[ve],$e=H[Le];$e.writable===!1&&($e.writable=!0,$e.configurable=!0),($e.get||$e.set)&&(H[Le]={configurable:!0,writable:!0,enumerable:$e.enumerable,value:M[Le]})}return Object.create(Object.getPrototypeOf(M),H)}function ST(M,H){return H===void 0&&(H=!1),hE(M)||Wg(M)||!Jd(M)||(hy(M)>1&&(M.set=M.add=M.clear=M.delete=Q3),Object.freeze(M),H&&e_(M,function(te,ve){return ST(ve,!0)},!0)),M}function Q3(){kh(2)}function hE(M){return M==null||typeof M!="object"||Object.isFrozen(M)}function Vm(M){var H=$3[M];return H||kh(18,M),H}function pE(){return i_}function ml(M,H){H&&(Vm("Patches"),M.u=[],M.s=[],M.v=H)}function kS(M){mE(M),M.p.forEach(vE),M.p=null}function mE(M){M===i_&&(i_=M.l)}function gE(M){return i_={p:[],l:i_,h:M,m:!0,_:0}}function vE(M){var H=M[$d];H.i===0||H.i===1?H.j():H.O=!0}function py(M,H){H._=H.p.length;var te=H.p[0],ve=M!==void 0&&M!==te;return H.h.g||Vm("ES5").S(H,M,ve),ve?(te[$d].P&&(kS(H),kh(4)),Jd(M)&&(M=_p(H,M),H.l||my(H,M)),H.u&&Vm("Patches").M(te[$d],M,H.u,H.s)):M=_p(H,te,[]),kS(H),H.u&&H.v(H.u,H.s),M!==IS?M:void 0}function _p(M,H,te){if(hE(H))return H;var ve=H[$d];if(!ve)return e_(H,function($e,At){return Wm(M,ve,H,$e,At,te)},!0),H;if(ve.A!==M)return H;if(!ve.P)return my(M,ve.t,!0),ve.t;if(!ve.I){ve.I=!0,ve.A._--;var Le=ve.i===4||ve.i===5?ve.o=t_(ve.k):ve.o;e_(ve.i===3?new Set(Le):Le,function($e,At){return Wm(M,ve,Le,$e,At,te)}),my(M,Le,!1),te&&M.u&&Vm("Patches").R(ve,te,M.u,M.s)}return ve.o}function Wm(M,H,te,ve,Le,$e){if(Wg(Le)){var At=_p(M,Le,$e&&H&&H.i!==3&&!PS(H.D,ve)?$e.concat(ve):void 0);if(wT(te,ve,At),!Wg(At))return;M.m=!1}if(Jd(Le)&&!hE(Le)){if(!M.h.F&&M._<1)return;_p(M,Le),H&&H.A.l||my(M,Le)}}function my(M,H,te){te===void 0&&(te=!1),M.h.F&&M.m&&ST(H,te)}function yE(M,H){var te=M[$d];return(te?Kg(te):M)[H]}function xT(M,H){if(H in M)for(var te=Object.getPrototypeOf(M);te;){var ve=Object.getOwnPropertyDescriptor(te,H);if(ve)return ve;te=Object.getPrototypeOf(te)}}function _E(M){M.P||(M.P=!0,M.l&&_E(M.l))}function gy(M){M.o||(M.o=t_(M.t))}function vy(M,H,te){var ve=Xg(H)?Vm("MapSet").N(H,te):Zd(H)?Vm("MapSet").T(H,te):M.g?function(Le,$e){var At=Array.isArray(Le),en={i:At?1:0,A:$e?$e.A:pE(),P:!1,I:!1,D:{},l:$e,t:Le,k:null,o:null,j:null,C:!1},ln=en,Rn=Yg;At&&(ln=[en],Rn=RS);var Ue=Proxy.revocable(ln,Rn),Lt=Ue.revoke,zr=Ue.proxy;return en.k=zr,en.j=Lt,zr}(H,te):Vm("ES5").J(H,te);return(te?te.A:pE()).p.push(ve),ve}function n_(M){return Wg(M)||kh(22,M),function H(te){if(!Jd(te))return te;var ve,Le=te[$d],$e=hy(te);if(Le){if(!Le.P&&(Le.i<4||!Vm("ES5").K(Le)))return Le.t;Le.I=!0,ve=r_(te,$e),Le.I=!1}else ve=r_(te,$e);return e_(ve,function(At,en){Le&&K3(Le.t,At)===en||wT(ve,At,H(en))}),$e===3?new Set(ve):ve}(M)}function r_(M,H){switch(H){case 2:return new Map(M);case 3:return Array.from(M)}return t_(M)}var bT,i_,wE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",q3=typeof Map<"u",J3=typeof Set<"u",ET=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",IS=wE?Symbol.for("immer-nothing"):((bT={})["immer-nothing"]=!0,bT),SE=wE?Symbol.for("immer-draftable"):"__$immer_draftable",$d=wE?Symbol.for("immer-state"):"__$immer_state",Z3=""+Object.prototype.constructor,xE=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:Object.getOwnPropertyNames,AT=Object.getOwnPropertyDescriptors||function(M){var H={};return xE(M).forEach(function(te){H[te]=Object.getOwnPropertyDescriptor(M,te)}),H},$3={},Yg={get:function(M,H){if(H===$d)return M;var te=Kg(M);if(!PS(te,H))return function(Le,$e,At){var en,ln=xT($e,At);return ln?"value"in ln?ln.value:(en=ln.get)===null||en===void 0?void 0:en.call(Le.k):void 0}(M,te,H);var ve=te[H];return M.I||!Jd(ve)?ve:ve===yE(M.t,H)?(gy(M),M.o[H]=vy(M.A.h,ve,M)):ve},has:function(M,H){return H in Kg(M)},ownKeys:function(M){return Reflect.ownKeys(Kg(M))},set:function(M,H,te){var ve=xT(Kg(M),H);if(ve!=null&&ve.set)return ve.set.call(M.k,te),!0;if(!M.P){var Le=yE(Kg(M),H),$e=Le==null?void 0:Le[$d];if($e&&$e.t===te)return M.o[H]=te,M.D[H]=!1,!0;if(Y3(te,Le)&&(te!==void 0||PS(M.t,H)))return!0;gy(M),_E(M)}return M.o[H]===te&&typeof te!="number"&&(te!==void 0||H in M.o)||(M.o[H]=te,M.D[H]=!0,!0)},deleteProperty:function(M,H){return yE(M.t,H)!==void 0||H in M.t?(M.D[H]=!1,gy(M),_E(M)):delete M.D[H],M.o&&delete M.o[H],!0},getOwnPropertyDescriptor:function(M,H){var te=Kg(M),ve=Reflect.getOwnPropertyDescriptor(te,H);return ve&&{writable:!0,configurable:M.i!==1||H!=="length",enumerable:ve.enumerable,value:te[H]}},defineProperty:function(){kh(11)},getPrototypeOf:function(M){return Object.getPrototypeOf(M.t)},setPrototypeOf:function(){kh(12)}},RS={};e_(Yg,function(M,H){RS[M]=function(){return arguments[0]=arguments[0][0],H.apply(this,arguments)}}),RS.deleteProperty=function(M,H){return Yg.deleteProperty.call(this,M[0],H)},RS.set=function(M,H,te){return Yg.set.call(this,M[0],H,te,M[0])};var CT=function(){function M(te){var ve=this;this.g=ET,this.F=!0,this.produce=function(Le,$e,At){if(typeof Le=="function"&&typeof $e!="function"){var en=$e;$e=Le;var ln=ve;return function(Pi){var mi=this;Pi===void 0&&(Pi=en);for(var xo=arguments.length,bo=Array(xo>1?xo-1:0),co=1;co<xo;co++)bo[co-1]=arguments[co];return ln.produce(Pi,function(ys){var md;return(md=$e).call.apply(md,[mi,ys].concat(bo))})}}var Rn;if(typeof $e!="function"&&kh(6),At!==void 0&&typeof At!="function"&&kh(7),Jd(Le)){var Ue=gE(ve),Lt=vy(ve,Le,void 0),zr=!0;try{Rn=$e(Lt),zr=!1}finally{zr?kS(Ue):mE(Ue)}return typeof Promise<"u"&&Rn instanceof Promise?Rn.then(function(Pi){return ml(Ue,At),py(Pi,Ue)},function(Pi){throw kS(Ue),Pi}):(ml(Ue,At),py(Rn,Ue))}if(!Le||typeof Le!="object")return(Rn=$e(Le))===IS?void 0:(Rn===void 0&&(Rn=Le),ve.F&&ST(Rn,!0),Rn);kh(21,Le)},this.produceWithPatches=function(Le,$e){return typeof Le=="function"?function(ln){for(var Rn=arguments.length,Ue=Array(Rn>1?Rn-1:0),Lt=1;Lt<Rn;Lt++)Ue[Lt-1]=arguments[Lt];return ve.produceWithPatches(ln,function(zr){return Le.apply(void 0,[zr].concat(Ue))})}:[ve.produce(Le,$e,function(ln,Rn){At=ln,en=Rn}),At,en];var At,en},typeof(te==null?void 0:te.useProxies)=="boolean"&&this.setUseProxies(te.useProxies),typeof(te==null?void 0:te.autoFreeze)=="boolean"&&this.setAutoFreeze(te.autoFreeze)}var H=M.prototype;return H.createDraft=function(te){Jd(te)||kh(8),Wg(te)&&(te=n_(te));var ve=gE(this),Le=vy(this,te,void 0);return Le[$d].C=!0,mE(ve),Le},H.finishDraft=function(te,ve){var Le=te&&te[$d],$e=Le.A;return ml($e,ve),py(void 0,$e)},H.setAutoFreeze=function(te){this.F=te},H.setUseProxies=function(te){te&&!ET&&kh(20),this.g=te},H.applyPatches=function(te,ve){var Le;for(Le=ve.length-1;Le>=0;Le--){var $e=ve[Le];if($e.path.length===0&&$e.op==="replace"){te=$e.value;break}}var At=Vm("Patches").$;return Wg(te)?At(te,ve):this.produce(te,function(en){return At(en,ve.slice(Le+1))})},M}(),Qu=new CT;Qu.produce,Qu.produceWithPatches.bind(Qu),Qu.setAutoFreeze.bind(Qu),Qu.setUseProxies.bind(Qu),Qu.applyPatches.bind(Qu),Qu.createDraft.bind(Qu),Qu.finishDraft.bind(Qu);var MT={currentProjectStateDefinitionVersion:"0.4.0"},bE=MT;async function eO(M,H,te){await TS(0),M.transaction(({drafts:ve})=>{var Le;const $e=H.address.projectId;ve.ephemeral.coreByProject[$e]={lastExportedObject:null,loadingState:{type:"loading"}},ve.ahistoric.coreByProject[$e]={ahistoricStuff:""};function At(){ve.ephemeral.coreByProject[$e].loadingState={type:"loaded"},ve.historic.coreByProject[$e]={sheetsById:{},definitionVersion:bE.currentProjectStateDefinitionVersion,revisionHistory:[]}}function en(Lt){ve.ephemeral.coreByProject[$e].loadingState={type:"loaded"},ve.historic.coreByProject[$e]=Lt}function ln(){ve.ephemeral.coreByProject[$e].loadingState={type:"loaded"}}function Rn(Lt){ve.ephemeral.coreByProject[$e].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:Lt}}const Ue=(Le=_T(ve.historic))==null?void 0:Le.coreByProject[H.address.projectId];Ue?te&&Ue.revisionHistory.indexOf(te.revisionHistory[0])==-1?Rn(te):ln():te?en(te):At()})}function TT(){}function PT(M){var H,te;const ve=(H=M==null?void 0:M.logging)!=null&&H.internal?(te=M.logging.min)!=null?te:256:1/0,Le=ve<=128,$e=ve<=512,At=y3(void 0,{_debug:Le?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):TT,_error:$e?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):TT});if(M){const{logger:en,logging:ln}=M;en&&At.configureLogger(en),ln?At.configureLogging(ln):At.configureLogging({dev:!1})}return At.getLogger().named("Theatre")}var EE=class{constructor(M,H={},te){this.config=H,this.publicApi=te,Q(this,"pointers"),Q(this,"_pointerProxies"),Q(this,"address"),Q(this,"_studioReadyDeferred"),Q(this,"_assetStorageReadyDeferred"),Q(this,"_readyPromise"),Q(this,"_sheetTemplates",new X3.Atom({})),Q(this,"sheetTemplatesP",this._sheetTemplates.pointer),Q(this,"_studio"),Q(this,"assetStorage"),Q(this,"type","Theatre_Project"),Q(this,"_logger");var ve;this._logger=PT({logging:{dev:!0}}).named("Project",M),this._logger.traceDev("creating project"),this.address={projectId:M};const Le=new X3.Atom({ahistoric:{ahistoricStuff:""},historic:(ve=H.state)!=null?ve:{sheetsById:{},definitionVersion:bE.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=Hg(),this.assetStorage={getAssetUrl:$e=>{var At;return"".concat((At=H.assets)==null?void 0:At.baseUrl,"/").concat($e)},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new yT.PointerProxy(Le.pointer.historic),ahistoric:new yT.PointerProxy(Le.pointer.ahistoric),ephemeral:new yT.PointerProxy(Le.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},xe.add(M,this),this._studioReadyDeferred=Hg(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),H.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window>"u"?console.error('Argument config.state in Theatre.getProject("'.concat(M,'", config) is empty. ')+"You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"):setTimeout(()=>{if(!this._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(M,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(M,`" will be empty.

`)+`To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(M){if(this._studio){if(this._studio!==M)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));return}this._studio=M,M.initialized.then(async()=>{var H;await eO(M,this,this.config.state),this._pointerProxies.historic.setPointer(M.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(M.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(M.atomP.ephemeral.coreByProject[this.address.projectId]),await M.createAssetStorage(this,(H=this.config.assets)==null?void 0:H.baseUrl).then(te=>{this.assetStorage=te,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)}).catch(H=>{throw console.error(H),H})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return this._studioReadyDeferred.status==="resolved"&&this._assetStorageReadyDeferred.status==="resolved"}getOrCreateSheet(M,H="default"){let te=this._sheetTemplates.get()[M];return te||(te=new Sz(this,M),this._sheetTemplates.reduce(ve=>z(B({},ve),{[M]:te}))),te.getInstance(H)}},AE=class{get type(){return"Theatre_Project_PublicAPI"}constructor(M,H={}){mt(this,new EE(M,H,this))}get ready(){return Ze(this).ready}get isReady(){return Ze(this).isReady()}get address(){return B({},Ze(this).address)}getAssetUrl(M){if(!this.isReady){console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.");return}return M.id?Ze(this).assetStorage.getAssetUrl(M.id):void 0}sheet(M,H="default"){const te=fE(M);return Ze(this).getOrCreateSheet(te,H).publicApi}};A(_e());var kT=$n,o_=$n;function IT(M,H={}){const te=xe.get(M);if(te)return te.publicApi;const Le=PT().named("Project",M);return H.state?(nO(M,H.state),Le._debug("deep validated config.state on disk")):Le._debug("no config.state"),new AE(M,H)}var tO=(M,H)=>{if(Array.isArray(H)||H==null||H.definitionVersion!==bE.currentProjectStateDefinitionVersion)throw new Y1("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(M),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))},nO=(M,H)=>{tO(M,H)};function CE(M,H,te){const ve=te?Ze(te).ticker:cT();if((0,kT.isPointer)(M))return(0,o_.pointerToPrism)(M).onChange(ve,H,!0);if((0,o_.isPrism)(M))return M.onChange(ve,H,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function RT(M){if((0,kT.isPointer)(M))return(0,o_.pointerToPrism)(M).getValue();throw new Error("Called val(p) where p is not a pointer.")}var OT=class{constructor(){Q(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.7.0"}getBitsForStudio(M,H){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=M;const te={projectsP:xe.atom.pointer.projects,privateAPI:Ze,coreExports:Se,getCoreRafDriver:uT};H(te)}};BT();function BT(){if(typeof window>"u")return;const M=window[lT];if(typeof M<"u")throw typeof M=="object"&&M&&typeof M.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(lT," seems to be already set by a module other than @theatre/core."));const H=new OT;window[lT]=H;const te=window[k3];te&&te!==null&&te.type==="Theatre_StudioBundle"&&te.registerCoreBundle(H)}/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)
	*/})($L,$L.exports);var bs=$L.exports,UUe=Object.create,lK=Object.defineProperty,jUe=Object.defineProperties,HUe=Object.getOwnPropertyDescriptor,GUe=Object.getOwnPropertyDescriptors,bxe=Object.getOwnPropertyNames,eN=Object.getOwnPropertySymbols,VUe=Object.getPrototypeOf,uK=Object.prototype.hasOwnProperty,Exe=Object.prototype.propertyIsEnumerable,Bve=(n,e,t)=>e in n?lK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,su=(n,e)=>{for(var t in e||(e={}))uK.call(e,t)&&Bve(n,t,e[t]);if(eN)for(var t of eN(e))Exe.call(e,t)&&Bve(n,t,e[t]);return n},lh=(n,e)=>jUe(n,GUe(e)),cK=(n,e)=>{var t={};for(var r in n)uK.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&eN)for(var r of eN(n))e.indexOf(r)<0&&Exe.call(n,r)&&(t[r]=n[r]);return t},WUe=(n,e)=>function(){return e||(0,n[bxe(n)[0]])((e={exports:{}}).exports,e),e.exports},XUe=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of bxe(e))!uK.call(n,o)&&o!==t&&lK(n,o,{get:()=>e[o],enumerable:!(r=HUe(e,o))||r.enumerable});return n},KUe=(n,e,t)=>(t=n!=null?UUe(VUe(n)):{},XUe(e||!n||!n.__esModule?lK(t,"default",{value:n,enumerable:!0}):t,n)),YUe=WUe({"../../node_modules/zustand/vanilla.js"(n){Object.defineProperty(n,"__esModule",{value:!0});function e(t){var r,o=new Set,a=function(k,B){var z=typeof k=="function"?k(r):k;if(z!==r){var F=r;r=B?z:Object.assign({},r,z),o.forEach(function(N){return N(r,F)})}},c=function(){return r},p=function(k,B,z){B===void 0&&(B=c),z===void 0&&(z=Object.is);var F=B(r);function N(){var D=B(r);if(!z(F,D)){var A=F;k(F=D,A)}}return o.add(N),function(){return o.delete(N)}},g=function(k,B,z){return B||z?p(k,B,z):(o.add(k),function(){return o.delete(k)})},_=function(){return o.clear()},b={setState:a,getState:c,subscribe:g,destroy:_};return r=t(a,c,b),b}n.default=e}}),QUe=KUe(YUe()),tN=new WeakSet,qUe=(n,e)=>({sheet:null,editorObject:null,scene:null,gl:null,helpersRoot:new Rv,editables:{},canvasName:"default",sceneSnapshot:null,editablesSnapshot:null,initialEditorCamera:{},init:(t,r)=>{n({scene:t,gl:r}),e().createSnapshot()},addEditable:(t,r)=>{n(o=>({editables:lh(su({},o.editables),{[t]:r})}))},removeEditable:t=>{n(r=>{const o=su({},r.editables);return delete o[t],{editables:o}})},createSnapshot:()=>{n(t=>{var r,o;return{sceneSnapshot:(o=(r=t.scene)==null?void 0:r.clone())!=null?o:null,editablesSnapshot:t.editables}})},setSnapshotProxyObject:(t,r)=>{n(o=>({editablesSnapshot:lh(su({},o.editablesSnapshot),{[r]:lh(su({},o.editablesSnapshot[r]),{proxyObject:t})})}))}}),bb=(0,QUe.default)(qUe),JUe=({gl:n,scene:e})=>{const t=bb.getState().init;t(e,n)};function dK(n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function ZUe(){return _f(({invalidate:n})=>n)}var Axe=qt.createContext(void 0),$Ue=()=>{const n=qt.useContext(Axe);if(!n)throw new Error("No sheet found. You need to add a <SheetProvider> higher up in the tree. https://docs.theatrejs.com/r3f.html#sheetprovider");return n},Cxe=()=>$Ue().sheet,e9e=({sheet:n,children:e})=>{const{scene:t,gl:r}=_f(o=>({scene:o.scene,gl:o.gl}));return qt.useEffect(()=>{if(!n||n.type!=="Theatre_Sheet_PublicAPI")throw new Error("sheet in <Wrapper sheet={sheet}> has an invalid value")},[n]),qt.useLayoutEffect(()=>{JUe({gl:r,scene:t})},[t,r]),Q_e.createElement(Axe.Provider,{value:{sheet:n}},e)},t9e=e9e;function Mxe(n){return typeof n=="number"&&isFinite(n)}function n9e(n){return["x","y","z"].every(e=>Mxe(n[e]))}var UV=n=>n?{x:n[0],y:n[1],z:n[2]}:{x:0,y:0,z:0},Y7=(n,e=UV(),{nudgeMultiplier:t=.01}={})=>({parse:r=>{const o=r[n],a=o?Array.isArray(o)?UV(o):Mxe(o)?{x:o,y:o,z:o}:n9e(o)?{x:o.x,y:o.y,z:o.z}:(bs.notify.warning(`Invalid value for vector prop "${n}"`,`Couldn't make sense of \`${n}={${JSON.stringify(o)}}\`, falling back to \`${n}={${JSON.stringify([e.x,e.y,e.z])}}\`.

To fix this, make sure the prop is set to either a number, an array of numbers, or a three.js Vector3 object.`),e):e;return["x","y","z"].forEach(c=>{r[`${n}-${c}`]&&(a[c]=r[`${n}-${c}`])}),a},apply:(r,o)=>{o[n].set(r.x,r.y,r.z)},type:{[n]:{x:bs.types.number(e.x,{nudgeMultiplier:t}),y:bs.types.number(e.y,{nudgeMultiplier:t}),z:bs.types.number(e.z,{nudgeMultiplier:t})}}}),kp=(n,e=0,{nudgeMultiplier:t=.01}={})=>({parse:r=>{var o;return(o=r[n])!=null?o:e},apply:(r,o)=>{o[n]=r},type:{[n]:bs.types.number(e,{nudgeMultiplier:t})}}),TC=(n,e=new Ir(0,0,0))=>({parse:t=>{var r;return lh(su({},(r=t[n])!=null?r:e),{a:1})},apply:(t,r)=>{r[n].setRGB(t.r,t.g,t.b)},type:{[n]:bs.types.rgba(lh(su({},e),{a:1}))}}),zI=(n,e)=>lh(su({},n),{props:su(su({},n.props),e)}),i1={props:{position:Y7("position"),rotation:Y7("rotation"),scale:Y7("scale",UV([1,1,1]))},useTransformControls:!0,icon:"cube",createHelper:n=>new ZL(n,PC)},Dve=lh(su({},zI(i1,{intensity:kp("intensity",1),distance:kp("distance"),decay:kp("decay"),color:TC("color",new Ir("white"))})),{dimensionless:!0}),Lve=lh(su({},zI(i1,{near:kp("near",.1,{nudgeMultiplier:.1}),far:kp("far",2e3,{nudgeMultiplier:.1})})),{updateObject:n=>{n.updateProjectionMatrix()},icon:"camera",dimensionless:!0,createHelper:n=>new JSe(n)}),PC="#40AAA4",r9e={group:lh(su({},i1),{icon:"collection",createHelper:n=>new ZL(n,PC)}),mesh:lh(su({},i1),{icon:"cube",createHelper:n=>new ZL(n,PC)}),spotLight:lh(su({},zI(Dve,{angle:kp("angle",0,{nudgeMultiplier:.001}),penumbra:kp("penumbra",0,{nudgeMultiplier:.001})})),{icon:"spotLight",createHelper:n=>new KSe(n,PC)}),directionalLight:lh(su({},zI(i1,{intensity:kp("intensity",1),color:TC("color",new Ir("white"))})),{icon:"sun",dimensionless:!0,createHelper:n=>new qSe(n,1,PC)}),pointLight:lh(su({},Dve),{icon:"lightBulb",createHelper:n=>new QSe(n,1,PC)}),ambientLight:{props:{intensity:kp("intensity",1),color:TC("color",new Ir("white"))},useTransformControls:!1,icon:"lightBulb"},hemisphereLight:{props:{intensity:kp("intensity",1),color:TC("color",new Ir("white")),groundColor:TC("groundColor",new Ir("white"))},useTransformControls:!1,icon:"lightBulb"},perspectiveCamera:zI(Lve,{fov:kp("fov",50,{nudgeMultiplier:.1}),zoom:kp("zoom",1)}),orthographicCamera:Lve,points:i1,line:i1,lineLoop:i1,lineSegments:i1,fog:{props:{color:TC("color"),near:kp("near",1,{nudgeMultiplier:.1}),far:kp("far",1e3,{nudgeMultiplier:.1})},useTransformControls:!1,icon:"cloud"}},i9e=r9e;bb.getState().createSnapshot;var Txe=n=>`${n.sheetId}:${n.sheetInstanceId}:${n.objectKey}`,o9e=qt.createContext(void 0),s9e=()=>{var n;return(n=qt.useContext(o9e))==null?void 0:n.rafDriver},a9e=n=>{const e=(r,o)=>{if(r!=="primitive"&&!o)throw new Error("You must provide the type of the component you're creating an editable for. For example: editable(MyComponent, 'mesh').");return qt.forwardRef((a,c)=>{var p=a,{theatreKey:g,visible:_,editableType:b,additionalProps:C,objRef:k}=p,B=cK(p,["theatreKey","visible","editableType","additionalProps","objRef"]);if(typeof g!="string")throw new Error(`No valid theatreKey was provided to the editable component. theatreKey must be a string. Received: ${g}`);if(r==="primitive"&&!b)throw new Error(`When using the primitive component, you must provide the editableType prop. Received: ${b}`);const z=o??b,F=qt.useRef(),N=Cxe(),D=s9e(),[A,G]=qt.useState(void 0),Q=qt.useMemo(()=>Txe(lh(su({},N.address),{objectKey:g})),[N,g]),ae=ZUe();return qt.useEffect(()=>{if(r==="perspectiveCamera"||r==="orthographicCamera"){const Y=r.charAt(0).toUpperCase()+r.slice(1);bs.notify.warning(`Possibly incorrect use of <e.${r} />`,`You seem to have declared the camera "${g}" simply as \`<e.${r} ... />\`. This alone won't make r3f use it for rendering.

The easiest way to create a custom animatable \`${Y}\` is to import it from \`@react-three/drei\`, and make it editable.
\`\`\`
import {${Y}} from '@react-three/drei'

const EditableCamera =
  editable(${Y}, '${r}')
\`\`\`
Then you can use it in your JSX like any other editable component. Note the makeDefault prop exposed by drei, which makes r3f use it for rendering.
\`\`\`
<EditableCamera
  theatreKey="${g}"
  makeDefault
>
\`\`\`
`)}},[r,g]),qt.useLayoutEffect(()=>{if(N)if(A){N.object(g,Object.assign(su({},C),...Object.values(n[z].props).map(Y=>Y.type)),{reconfigure:!0});return}else{const Y=N.object(g,Object.assign(su({},C),...Object.values(n[z].props).map(ge=>ge.type)));tN.add(Y),G(Y),k&&(typeof k=="function"?k(Y):k.current=Y),bb.getState().addEditable(Q,{type:z,sheetObject:Y,visibleOnlyInEditor:_==="editor",objectConfig:n[z]})}},[N,Q,C]),qt.useLayoutEffect(()=>{A&&(A.initialValue=Object.fromEntries(Object.entries(n[z].props).map(([Y,ge])=>[Y,ge.parse(B)])))},[A,...Object.keys(n[z].props).map(Y=>B[Y])]),qt.useLayoutEffect(()=>{if(!A)return;const Y=F.current,ge=J=>{var Se,Be;Object.entries(n[z].props).forEach(([_t,Ve])=>Ve.apply(J[_t],Y)),(Be=(Se=n[z]).updateObject)==null||Be.call(Se,Y),ae()};ge(A.value);const _e=A.onValuesChange(ge,D);return()=>{_e(),A.sheet.detachObject(g),tN.delete(A),bb.getState().removeEditable(Q)}},[A,D]),Q_e.createElement(r,lh(su({ref:dK([F,c])},B),{visible:_!=="editor"&&_,userData:{__editable:!0,__storeKey:Q}}))})},t=lh(su({},Object.fromEntries(Object.keys(n).map(r=>[r,e(r,r)]))),{primitive:e("primitive",null)});return Object.assign(e,t)},l9e=a9e(i9e),Pxe=l9e,u9e=Pxe(qt.forwardRef((n,e)=>{var t=n,{makeDefault:r,lookAt:o}=t,a=cK(t,["makeDefault","lookAt"]);const c=_f(({set:b})=>b),p=_f(({camera:b})=>b),g=_f(({size:b})=>b),_=qt.useRef(null);return qt.useLayoutEffect(()=>{a.manual||(_.current.aspect=g.width/g.height)},[g,a]),qt.useLayoutEffect(()=>{_.current.updateProjectionMatrix()}),qt.useLayoutEffect(()=>{if(r){const b=p;return c(()=>({camera:_.current})),()=>c(()=>({camera:b}))}},[_,r,c]),b1(()=>{var b;if(o&&_.current){_.current.lookAt(Array.isArray(o)?new Ke(...o):o.current?o.current.position:o);const C=bb.getState().editablesSnapshot;C&&((b=C[_.current.userData.__storeKey].proxyObject)==null||b.rotation.copy(_.current.rotation))}}),qt.createElement("perspectiveCamera",su({ref:dK([_,e])},a))}),"perspectiveCamera");Pxe(qt.forwardRef((n,e)=>{var t=n,{makeDefault:r,lookAt:o}=t,a=cK(t,["makeDefault","lookAt"]);const c=_f(({set:b})=>b),p=_f(({camera:b})=>b),g=_f(({size:b})=>b),_=qt.useRef(null);return qt.useLayoutEffect(()=>{a.manual||_.current.updateProjectionMatrix()},[g,a]),qt.useLayoutEffect(()=>{_.current.updateProjectionMatrix()}),qt.useLayoutEffect(()=>{if(r){const b=p;return c(()=>({camera:_.current})),()=>c(()=>({camera:b}))}},[_,r,c]),b1(()=>{var b;if(o&&_.current){_.current.lookAt(Array.isArray(o)?new Ke(...o):o.current?o.current.position:o);const C=bb.getState().editablesSnapshot;C&&((b=C[_.current.userData.__storeKey].proxyObject)==null||b.rotation.copy(_.current.rotation))}}),qt.createElement("orthographicCamera",su({left:g.width/-2,right:g.width/2,top:g.height/2,bottom:g.height/-2,ref:dK([_,e])},a))}),"orthographicCamera");var c9e=Object.create,KR=Object.defineProperty,d9e=Object.defineProperties,f9e=Object.getOwnPropertyDescriptor,h9e=Object.getOwnPropertyDescriptors,fK=Object.getOwnPropertyNames,nN=Object.getOwnPropertySymbols,p9e=Object.getPrototypeOf,hK=Object.prototype.hasOwnProperty,kxe=Object.prototype.propertyIsEnumerable,jV=(n,e,t)=>e in n?KR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Vi=(n,e)=>{for(var t in e||(e={}))hK.call(e,t)&&jV(n,t,e[t]);if(nN)for(var t of nN(e))kxe.call(e,t)&&jV(n,t,e[t]);return n},ch=(n,e)=>d9e(n,h9e(e)),Np=(n,e)=>{var t={};for(var r in n)hK.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&nN)for(var r of nN(n))e.indexOf(r)<0&&kxe.call(n,r)&&(t[r]=n[r]);return t},pK=(n,e)=>function(){return n&&(e=(0,n[fK(n)[0]])(n=0)),e},ns=(n,e)=>function(){return e||(0,n[fK(n)[0]])((e={exports:{}}).exports,e),e.exports},m9e=(n,e)=>{for(var t in e)KR(n,t,{get:e[t],enumerable:!0})},Ixe=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of fK(e))!hK.call(n,o)&&o!==t&&KR(n,o,{get:()=>e[o],enumerable:!(r=f9e(e,o))||r.enumerable});return n},to=(n,e,t)=>(t=n!=null?c9e(p9e(n)):{},Ixe(e||!n||!n.__esModule?KR(t,"default",{value:n,enumerable:!0}):t,n)),g9e=n=>Ixe(KR({},"__esModule",{value:!0}),n),Eo=(n,e,t)=>(jV(n,typeof e!="symbol"?e+"":e,t),t),v9e=ns({"../../node_modules/react/cjs/react.production.min.js"(n){var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.iterator;function B(me){return me===null||typeof me!="object"?null:(me=k&&me[k]||me["@@iterator"],typeof me=="function"?me:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,N={};function D(me,ce,qe){this.props=me,this.context=ce,this.refs=N,this.updater=qe||z}D.prototype.isReactComponent={},D.prototype.setState=function(me,ce){if(typeof me!="object"&&typeof me!="function"&&me!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,me,ce,"setState")},D.prototype.forceUpdate=function(me){this.updater.enqueueForceUpdate(this,me,"forceUpdate")};function A(){}A.prototype=D.prototype;function G(me,ce,qe){this.props=me,this.context=ce,this.refs=N,this.updater=qe||z}var Q=G.prototype=new A;Q.constructor=G,F(Q,D.prototype),Q.isPureReactComponent=!0;var ae=Array.isArray,Y=Object.prototype.hasOwnProperty,ge={current:null},_e={key:!0,ref:!0,__self:!0,__source:!0};function J(me,ce,qe){var ht,wt={},et=null,Nt=null;if(ce!=null)for(ht in ce.ref!==void 0&&(Nt=ce.ref),ce.key!==void 0&&(et=""+ce.key),ce)Y.call(ce,ht)&&!_e.hasOwnProperty(ht)&&(wt[ht]=ce[ht]);var Ot=arguments.length-2;if(Ot===1)wt.children=qe;else if(1<Ot){for(var an=Array(Ot),fn=0;fn<Ot;fn++)an[fn]=arguments[fn+2];wt.children=an}if(me&&me.defaultProps)for(ht in Ot=me.defaultProps,Ot)wt[ht]===void 0&&(wt[ht]=Ot[ht]);return{$$typeof:e,type:me,key:et,ref:Nt,props:wt,_owner:ge.current}}function Se(me,ce){return{$$typeof:e,type:me.type,key:ce,ref:me.ref,props:me.props,_owner:me._owner}}function Be(me){return typeof me=="object"&&me!==null&&me.$$typeof===e}function _t(me){var ce={"=":"=0",":":"=2"};return"$"+me.replace(/[=:]/g,function(qe){return ce[qe]})}var Ve=/\/+/g;function xe(me,ce){return typeof me=="object"&&me!==null&&me.key!=null?_t(""+me.key):ce.toString(36)}function ot(me,ce,qe,ht,wt){var et=typeof me;(et==="undefined"||et==="boolean")&&(me=null);var Nt=!1;if(me===null)Nt=!0;else switch(et){case"string":case"number":Nt=!0;break;case"object":switch(me.$$typeof){case e:case t:Nt=!0}}if(Nt)return Nt=me,wt=wt(Nt),me=ht===""?"."+xe(Nt,0):ht,ae(wt)?(qe="",me!=null&&(qe=me.replace(Ve,"$&/")+"/"),ot(wt,ce,qe,"",function(fn){return fn})):wt!=null&&(Be(wt)&&(wt=Se(wt,qe+(!wt.key||Nt&&Nt.key===wt.key?"":(""+wt.key).replace(Ve,"$&/")+"/")+me)),ce.push(wt)),1;if(Nt=0,ht=ht===""?".":ht+":",ae(me))for(var Ot=0;Ot<me.length;Ot++){et=me[Ot];var an=ht+xe(et,Ot);Nt+=ot(et,ce,qe,an,wt)}else if(an=B(me),typeof an=="function")for(me=an.call(me),Ot=0;!(et=me.next()).done;)et=et.value,an=ht+xe(et,Ot++),Nt+=ot(et,ce,qe,an,wt);else if(et==="object")throw ce=String(me),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(me).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return Nt}function Ze(me,ce,qe){if(me==null)return me;var ht=[],wt=0;return ot(me,ht,"","",function(et){return ce.call(qe,et,wt++)}),ht}function mt(me){if(me._status===-1){var ce=me._result;ce=ce(),ce.then(function(qe){(me._status===0||me._status===-1)&&(me._status=1,me._result=qe)},function(qe){(me._status===0||me._status===-1)&&(me._status=2,me._result=qe)}),me._status===-1&&(me._status=0,me._result=ce)}if(me._status===1)return me._result.default;throw me._result}var we={current:null},Te={transition:null},Ae={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Te,ReactCurrentOwner:ge};n.Children={map:Ze,forEach:function(me,ce,qe){Ze(me,function(){ce.apply(this,arguments)},qe)},count:function(me){var ce=0;return Ze(me,function(){ce++}),ce},toArray:function(me){return Ze(me,function(ce){return ce})||[]},only:function(me){if(!Be(me))throw Error("React.Children.only expected to receive a single React element child.");return me}},n.Component=D,n.Fragment=r,n.Profiler=a,n.PureComponent=G,n.StrictMode=o,n.Suspense=_,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ae,n.cloneElement=function(me,ce,qe){if(me==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+me+".");var ht=F({},me.props),wt=me.key,et=me.ref,Nt=me._owner;if(ce!=null){if(ce.ref!==void 0&&(et=ce.ref,Nt=ge.current),ce.key!==void 0&&(wt=""+ce.key),me.type&&me.type.defaultProps)var Ot=me.type.defaultProps;for(an in ce)Y.call(ce,an)&&!_e.hasOwnProperty(an)&&(ht[an]=ce[an]===void 0&&Ot!==void 0?Ot[an]:ce[an])}var an=arguments.length-2;if(an===1)ht.children=qe;else if(1<an){Ot=Array(an);for(var fn=0;fn<an;fn++)Ot[fn]=arguments[fn+2];ht.children=Ot}return{$$typeof:e,type:me.type,key:wt,ref:et,props:ht,_owner:Nt}},n.createContext=function(me){return me={$$typeof:p,_currentValue:me,_currentValue2:me,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},me.Provider={$$typeof:c,_context:me},me.Consumer=me},n.createElement=J,n.createFactory=function(me){var ce=J.bind(null,me);return ce.type=me,ce},n.createRef=function(){return{current:null}},n.forwardRef=function(me){return{$$typeof:g,render:me}},n.isValidElement=Be,n.lazy=function(me){return{$$typeof:C,_payload:{_status:-1,_result:me},_init:mt}},n.memo=function(me,ce){return{$$typeof:b,type:me,compare:ce===void 0?null:ce}},n.startTransition=function(me){var ce=Te.transition;Te.transition={};try{me()}finally{Te.transition=ce}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(me,ce){return we.current.useCallback(me,ce)},n.useContext=function(me){return we.current.useContext(me)},n.useDebugValue=function(){},n.useDeferredValue=function(me){return we.current.useDeferredValue(me)},n.useEffect=function(me,ce){return we.current.useEffect(me,ce)},n.useId=function(){return we.current.useId()},n.useImperativeHandle=function(me,ce,qe){return we.current.useImperativeHandle(me,ce,qe)},n.useInsertionEffect=function(me,ce){return we.current.useInsertionEffect(me,ce)},n.useLayoutEffect=function(me,ce){return we.current.useLayoutEffect(me,ce)},n.useMemo=function(me,ce){return we.current.useMemo(me,ce)},n.useReducer=function(me,ce,qe){return we.current.useReducer(me,ce,qe)},n.useRef=function(me){return we.current.useRef(me)},n.useState=function(me){return we.current.useState(me)},n.useSyncExternalStore=function(me,ce,qe){return we.current.useSyncExternalStore(me,ce,qe)},n.useTransition=function(){return we.current.useTransition()},n.version="18.2.0"}}),ps=ns({"../../node_modules/react/index.js"(n,e){e.exports=v9e()}}),y9e=ns({"../../node_modules/react-reconciler/cjs/react-reconciler-constants.production.min.js"(n){n.ConcurrentRoot=1,n.ContinuousEventPriority=4,n.DefaultEventPriority=16,n.DiscreteEventPriority=1,n.IdleEventPriority=536870912,n.LegacyRoot=0}}),Rxe=ns({"../../node_modules/react-reconciler/constants.js"(n,e){e.exports=y9e()}}),_9e=ns({"../../node_modules/scheduler/cjs/scheduler.production.min.js"(n){function e(we,Te){var Ae=we.length;we.push(Te);e:for(;0<Ae;){var me=Ae-1>>>1,ce=we[me];if(0<o(ce,Te))we[me]=Te,we[Ae]=ce,Ae=me;else break e}}function t(we){return we.length===0?null:we[0]}function r(we){if(we.length===0)return null;var Te=we[0],Ae=we.pop();if(Ae!==Te){we[0]=Ae;e:for(var me=0,ce=we.length,qe=ce>>>1;me<qe;){var ht=2*(me+1)-1,wt=we[ht],et=ht+1,Nt=we[et];if(0>o(wt,Ae))et<ce&&0>o(Nt,wt)?(we[me]=Nt,we[et]=Ae,me=et):(we[me]=wt,we[ht]=Ae,me=ht);else if(et<ce&&0>o(Nt,Ae))we[me]=Nt,we[et]=Ae,me=et;else break e}}return Te}function o(we,Te){var Ae=we.sortIndex-Te.sortIndex;return Ae!==0?Ae:we.id-Te.id}typeof performance=="object"&&typeof performance.now=="function"?(a=performance,n.unstable_now=function(){return a.now()}):(c=Date,p=c.now(),n.unstable_now=function(){return c.now()-p});var a,c,p,g=[],_=[],b=1,C=null,k=3,B=!1,z=!1,F=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(we){for(var Te=t(_);Te!==null;){if(Te.callback===null)r(_);else if(Te.startTime<=we)r(_),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=t(_)}}function Q(we){if(F=!1,G(we),!z)if(t(g)!==null)z=!0,Ze(ae);else{var Te=t(_);Te!==null&&mt(Q,Te.startTime-we)}}function ae(we,Te){z=!1,F&&(F=!1,D(_e),_e=-1),B=!0;var Ae=k;try{for(G(Te),C=t(g);C!==null&&(!(C.expirationTime>Te)||we&&!Be());){var me=C.callback;if(typeof me=="function"){C.callback=null,k=C.priorityLevel;var ce=me(C.expirationTime<=Te);Te=n.unstable_now(),typeof ce=="function"?C.callback=ce:C===t(g)&&r(g),G(Te)}else r(g);C=t(g)}if(C!==null)var qe=!0;else{var ht=t(_);ht!==null&&mt(Q,ht.startTime-Te),qe=!1}return qe}finally{C=null,k=Ae,B=!1}}var Y=!1,ge=null,_e=-1,J=5,Se=-1;function Be(){return!(n.unstable_now()-Se<J)}function _t(){if(ge!==null){var we=n.unstable_now();Se=we;var Te=!0;try{Te=ge(!0,we)}finally{Te?Ve():(Y=!1,ge=null)}}else Y=!1}var Ve;typeof A=="function"?Ve=function(){A(_t)}:typeof MessageChannel<"u"?(xe=new MessageChannel,ot=xe.port2,xe.port1.onmessage=_t,Ve=function(){ot.postMessage(null)}):Ve=function(){N(_t,0)};var xe,ot;function Ze(we){ge=we,Y||(Y=!0,Ve())}function mt(we,Te){_e=N(function(){we(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(we){we.callback=null},n.unstable_continueExecution=function(){z||B||(z=!0,Ze(ae))},n.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<we?Math.floor(1e3/we):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(we){switch(k){case 1:case 2:case 3:var Te=3;break;default:Te=k}var Ae=k;k=Te;try{return we()}finally{k=Ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(we,Te){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var Ae=k;k=we;try{return Te()}finally{k=Ae}},n.unstable_scheduleCallback=function(we,Te,Ae){var me=n.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?me+Ae:me):Ae=me,we){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Ae+ce,we={id:b++,callback:Te,priorityLevel:we,startTime:Ae,expirationTime:ce,sortIndex:-1},Ae>me?(we.sortIndex=Ae,e(_,we),t(g)===null&&we===t(_)&&(F?(D(_e),_e=-1):F=!0,mt(Q,Ae-me))):(we.sortIndex=ce,e(g,we),z||B||(z=!0,Ze(ae))),we},n.unstable_shouldYield=Be,n.unstable_wrapCallback=function(we){var Te=k;return function(){var Ae=k;k=Te;try{return we.apply(this,arguments)}finally{k=Ae}}}}}),mK=ns({"../../node_modules/scheduler/index.js"(n,e){e.exports=_9e()}}),w9e=ns({"../../node_modules/react-reconciler/cjs/react-reconciler.production.min.js"(n,e){e.exports=function(t){var r={},o=ps(),a=mK(),c=Object.assign;function p(s){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+s,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+s+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case b:return"Portal";case B:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case N:var d=s.render;return s=s.displayName,s||(s=d.displayName||d.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return d=s.displayName||null,d!==null?d:_e(s.type)||"Memo";case Q:d=s._payload,s=s._init;try{return _e(s(d))}catch{}}return null}function J(s){var d=s.type;switch(s.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=d.render,s=s.displayName||s.name||"",d.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(d);case 8:return d===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Se(s){var d=s,x=s;if(s.alternate)for(;d.return;)d=d.return;else{s=d;do d=s,d.flags&4098&&(x=d.return),s=d.return;while(s)}return d.tag===3?x:null}function Be(s){if(Se(s)!==s)throw Error(p(188))}function _t(s){var d=s.alternate;if(!d){if(d=Se(s),d===null)throw Error(p(188));return d!==s?null:s}for(var x=s,I=d;;){var U=x.return;if(U===null)break;var ne=U.alternate;if(ne===null){if(I=U.return,I!==null){x=I;continue}break}if(U.child===ne.child){for(ne=U.child;ne;){if(ne===x)return Be(U),s;if(ne===I)return Be(U),d;ne=ne.sibling}throw Error(p(188))}if(x.return!==I.return)x=U,I=ne;else{for(var Pe=!1,Je=U.child;Je;){if(Je===x){Pe=!0,x=U,I=ne;break}if(Je===I){Pe=!0,I=U,x=ne;break}Je=Je.sibling}if(!Pe){for(Je=ne.child;Je;){if(Je===x){Pe=!0,x=ne,I=U;break}if(Je===I){Pe=!0,I=ne,x=U;break}Je=Je.sibling}if(!Pe)throw Error(p(189))}}if(x.alternate!==I)throw Error(p(190))}if(x.tag!==3)throw Error(p(188));return x.stateNode.current===x?s:d}function Ve(s){return s=_t(s),s!==null?xe(s):null}function xe(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var d=xe(s);if(d!==null)return d;s=s.sibling}return null}function ot(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){if(s.tag!==4){var d=ot(s);if(d!==null)return d}s=s.sibling}return null}var Ze=Array.isArray,mt=t.getPublicInstance,we=t.getRootHostContext,Te=t.getChildHostContext,Ae=t.prepareForCommit,me=t.resetAfterCommit,ce=t.createInstance,qe=t.appendInitialChild,ht=t.finalizeInitialChildren,wt=t.prepareUpdate,et=t.shouldSetTextContent,Nt=t.createTextInstance,Ot=t.scheduleTimeout,an=t.cancelTimeout,fn=t.noTimeout,nn=t.isPrimaryRenderer,Ye=t.supportsMutation,Xt=t.supportsPersistence,Ft=t.supportsHydration,Zt=t.getInstanceFromNode,mn=t.preparePortalMount,jn=t.getCurrentEventPriority,Wn=t.detachDeletedInstance,tr=t.supportsMicrotasks,_r=t.scheduleMicrotask,Vr=t.supportsTestSelectors,si=t.findFiberRoot,ct=t.getBoundingRect,De=t.getTextContent,Ut=t.isHiddenSubtree,Kn=t.matchAccessibilityRole,Fn=t.setFocusIfFocusable,Xn=t.setupIntersectionObserver,xr=t.appendChild,nr=t.appendChildToContainer,it=t.commitTextUpdate,En=t.commitMount,Ln=t.commitUpdate,Yn=t.insertBefore,br=t.insertInContainerBefore,vr=t.removeChild,Wr=t.removeChildFromContainer,ci=t.resetTextContent,Ct=t.hideInstance,Kt=t.hideTextInstance,gn=t.unhideInstance,rr=t.unhideTextInstance,Gn=t.clearContainer,Ei=t.cloneInstance,so=t.createContainerChildSet,eo=t.appendChildToContainerChildSet,Vo=t.finalizeContainerChildren,Li=t.replaceContainerChildren,qi=t.cloneHiddenInstance,po=t.cloneHiddenTextInstance,ba=t.canHydrateInstance,tl=t.canHydrateTextInstance,Ds=t.canHydrateSuspenseInstance,ua=t.isSuspenseInstancePending,Cs=t.isSuspenseInstanceFallback,ms=t.registerSuspenseInstanceRetry,di=t.getNextHydratableSibling,Ea=t.getFirstHydratableChild,Tu=t.getFirstHydratableChildWithinContainer,Re=t.getFirstHydratableChildWithinSuspenseInstance,de=t.hydrateInstance,Fe=t.hydrateTextInstance,dt=t.hydrateSuspenseInstance,at=t.getNextHydratableInstanceAfterSuspenseInstance,vt=t.commitHydratedContainer,tn=t.commitHydratedSuspenseInstance,rn=t.clearSuspenseBoundary,Tn=t.clearSuspenseBoundaryFromContainer,Mn=t.shouldDeleteUnhydratedTailInstances,Bn=t.didNotMatchHydratedContainerTextInstance,Cn=t.didNotMatchHydratedTextInstance,ir;function qn(s){if(ir===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);ir=d&&d[1]||""}return`
`+ir+s}var lr=!1;function Lr(s,d){if(!s||lr)return"";lr=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(hn){var I=hn}Reflect.construct(s,[],d)}else{try{d.call()}catch(hn){I=hn}s.call(d.prototype)}else{try{throw Error()}catch(hn){I=hn}s()}}catch(hn){if(hn&&I&&typeof hn.stack=="string"){for(var U=hn.stack.split(`
`),ne=I.stack.split(`
`),Pe=U.length-1,Je=ne.length-1;1<=Pe&&0<=Je&&U[Pe]!==ne[Je];)Je--;for(;1<=Pe&&0<=Je;Pe--,Je--)if(U[Pe]!==ne[Je]){if(Pe!==1||Je!==1)do if(Pe--,Je--,0>Je||U[Pe]!==ne[Je]){var Tt=`
`+U[Pe].replace(" at new "," at ");return s.displayName&&Tt.includes("<anonymous>")&&(Tt=Tt.replace("<anonymous>",s.displayName)),Tt}while(1<=Pe&&0<=Je);break}}}finally{lr=!1,Error.prepareStackTrace=x}return(s=s?s.displayName||s.name:"")?qn(s):""}var Zr=Object.prototype.hasOwnProperty,Qr=[],wr=-1;function jr(s){return{current:s}}function Qn(s){0>wr||(s.current=Qr[wr],Qr[wr]=null,wr--)}function Br(s,d){wr++,Qr[wr]=s.current,s.current=d}var ri={},Hr=jr(ri),Si=jr(!1),Ai=ri;function Ni(s,d){var x=s.type.contextTypes;if(!x)return ri;var I=s.stateNode;if(I&&I.__reactInternalMemoizedUnmaskedChildContext===d)return I.__reactInternalMemoizedMaskedChildContext;var U={},ne;for(ne in x)U[ne]=d[ne];return I&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=d,s.__reactInternalMemoizedMaskedChildContext=U),U}function Ui(s){return s=s.childContextTypes,s!=null}function ai(){Qn(Si),Qn(Hr)}function wo(s,d,x){if(Hr.current!==ri)throw Error(p(168));Br(Hr,d),Br(Si,x)}function le(s,d,x){var I=s.stateNode;if(d=d.childContextTypes,typeof I.getChildContext!="function")return x;I=I.getChildContext();for(var U in I)if(!(U in d))throw Error(p(108,J(s)||"Unknown",U));return c({},x,I)}function Ee(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ri,Ai=Hr.current,Br(Hr,s),Br(Si,Si.current),!0}function He(s,d,x){var I=s.stateNode;if(!I)throw Error(p(169));x?(s=le(s,d,Ai),I.__reactInternalMemoizedMergedChildContext=s,Qn(Si),Qn(Hr),Br(Hr,s)):Qn(Si),Br(Si,x)}var lt=Math.clz32?Math.clz32:On,Jt=Math.log,Wt=Math.LN2;function On(s){return s>>>=0,s===0?32:31-(Jt(s)/Wt|0)|0}var ur=64,fr=4194304;function $r(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ii(s,d){var x=s.pendingLanes;if(x===0)return 0;var I=0,U=s.suspendedLanes,ne=s.pingedLanes,Pe=x&268435455;if(Pe!==0){var Je=Pe&~U;Je!==0?I=$r(Je):(ne&=Pe,ne!==0&&(I=$r(ne)))}else Pe=x&~U,Pe!==0?I=$r(Pe):ne!==0&&(I=$r(ne));if(I===0)return 0;if(d!==0&&d!==I&&!(d&U)&&(U=I&-I,ne=d&-d,U>=ne||U===16&&(ne&4194240)!==0))return d;if(I&4&&(I|=x&16),d=s.entangledLanes,d!==0)for(s=s.entanglements,d&=I;0<d;)x=31-lt(d),U=1<<x,I|=s[x],d&=~U;return I}function To(s,d){switch(s){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Aa(s,d){for(var x=s.suspendedLanes,I=s.pingedLanes,U=s.expirationTimes,ne=s.pendingLanes;0<ne;){var Pe=31-lt(ne),Je=1<<Pe,Tt=U[Pe];Tt===-1?(!(Je&x)||Je&I)&&(U[Pe]=To(Je,d)):Tt<=d&&(s.expiredLanes|=Je),ne&=~Je}}function $s(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function No(s){for(var d=[],x=0;31>x;x++)d.push(s);return d}function La(s,d,x){s.pendingLanes|=d,d!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,d=31-lt(d),s[d]=x}function Na(s,d){var x=s.pendingLanes&~d;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=d,s.mutableReadLanes&=d,s.entangledLanes&=d,d=s.entanglements;var I=s.eventTimes;for(s=s.expirationTimes;0<x;){var U=31-lt(x),ne=1<<U;d[U]=0,I[U]=-1,s[U]=-1,x&=~ne}}function bi(s,d){var x=s.entangledLanes|=d;for(s=s.entanglements;x;){var I=31-lt(x),U=1<<I;U&d|s[I]&d&&(s[I]|=d),x&=~U}}var Ci=0;function ca(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var ea=a.unstable_scheduleCallback,uu=a.unstable_cancelCallback,Pu=a.unstable_shouldYield,Ls=a.unstable_requestPaint,us=a.unstable_now,Tc=a.unstable_ImmediatePriority,rc=a.unstable_UserBlockingPriority,da=a.unstable_NormalPriority,ku=a.unstable_IdlePriority,Ns=null,ji=null;function Ca(s){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Ns,s,void 0,(s.current.flags&128)===128)}catch{}}function Vs(s,d){return s===d&&(s!==0||1/s===1/d)||s!==s&&d!==d}var Po=typeof Object.is=="function"?Object.is:Vs,cs=null,Iu=!1,Ll=!1;function Md(s){cs===null?cs=[s]:cs.push(s)}function Ma(s){Iu=!0,Md(s)}function Ta(){if(!Ll&&cs!==null){Ll=!0;var s=0,d=Ci;try{var x=cs;for(Ci=1;s<x.length;s++){var I=x[s];do I=I(!0);while(I!==null)}cs=null,Iu=!1}catch(U){throw cs!==null&&(cs=cs.slice(s+1)),ea(Tc,Ta),U}finally{Ci=d,Ll=!1}}return null}var Pc=g.ReactCurrentBatchConfig;function nl(s,d){if(Po(s,d))return!0;if(typeof s!="object"||s===null||typeof d!="object"||d===null)return!1;var x=Object.keys(s),I=Object.keys(d);if(x.length!==I.length)return!1;for(I=0;I<x.length;I++){var U=x[I];if(!Zr.call(d,U)||!Po(s[U],d[U]))return!1}return!0}function fa(s){switch(s.tag){case 5:return qn(s.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return s=Lr(s.type,!1),s;case 11:return s=Lr(s.type.render,!1),s;case 1:return s=Lr(s.type,!0),s;default:return""}}function Ws(s,d){if(s&&s.defaultProps){d=c({},d),s=s.defaultProps;for(var x in s)d[x]===void 0&&(d[x]=s[x]);return d}return d}var Ru=jr(null),ha=null,Fa=null,Al=null;function rs(){Al=Fa=ha=null}function cu(s,d,x){nn?(Br(Ru,d._currentValue),d._currentValue=x):(Br(Ru,d._currentValue2),d._currentValue2=x)}function Nl(s){var d=Ru.current;Qn(Ru),nn?s._currentValue=d:s._currentValue2=d}function gs(s,d,x){for(;s!==null;){var I=s.alternate;if((s.childLanes&d)!==d?(s.childLanes|=d,I!==null&&(I.childLanes|=d)):I!==null&&(I.childLanes&d)!==d&&(I.childLanes|=d),s===x)break;s=s.return}}function is(s,d){ha=s,Al=Fa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&d&&(lo=!0),s.firstContext=null)}function ko(s){var d=nn?s._currentValue:s._currentValue2;if(Al!==s)if(s={context:s,memoizedValue:d,next:null},Fa===null){if(ha===null)throw Error(p(308));Fa=s,ha.dependencies={lanes:0,firstContext:s}}else Fa=Fa.next=s;return d}var Ro=null,Zo=!1;function du(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xs(s,d){s=s.updateQueue,d.updateQueue===s&&(d.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _o(s,d){return{eventTime:s,lane:d,tag:0,payload:null,callback:null,next:null}}function ta(s,d){var x=s.updateQueue;x!==null&&(x=x.shared,Fi!==null&&s.mode&1&&!(ii&2)?(s=x.interleaved,s===null?(d.next=d,Ro===null?Ro=[x]:Ro.push(x)):(d.next=s.next,s.next=d),x.interleaved=d):(s=x.pending,s===null?d.next=d:(d.next=s.next,s.next=d),x.pending=d))}function Ms(s,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var I=d.lanes;I&=s.pendingLanes,x|=I,d.lanes=x,bi(s,x)}}function ic(s,d){var x=s.updateQueue,I=s.alternate;if(I!==null&&(I=I.updateQueue,x===I)){var U=null,ne=null;if(x=x.firstBaseUpdate,x!==null){do{var Pe={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};ne===null?U=ne=Pe:ne=ne.next=Pe,x=x.next}while(x!==null);ne===null?U=ne=d:ne=ne.next=d}else U=ne=d;x={baseState:I.baseState,firstBaseUpdate:U,lastBaseUpdate:ne,shared:I.shared,effects:I.effects},s.updateQueue=x;return}s=x.lastBaseUpdate,s===null?x.firstBaseUpdate=d:s.next=d,x.lastBaseUpdate=d}function rl(s,d,x,I){var U=s.updateQueue;Zo=!1;var ne=U.firstBaseUpdate,Pe=U.lastBaseUpdate,Je=U.shared.pending;if(Je!==null){U.shared.pending=null;var Tt=Je,hn=Tt.next;Tt.next=null,Pe===null?ne=hn:Pe.next=hn,Pe=Tt;var kn=s.alternate;kn!==null&&(kn=kn.updateQueue,Je=kn.lastBaseUpdate,Je!==Pe&&(Je===null?kn.firstBaseUpdate=hn:Je.next=hn,kn.lastBaseUpdate=Tt))}if(ne!==null){var dr=U.baseState;Pe=0,kn=hn=Tt=null,Je=ne;do{var Dr=Je.lane,Pr=Je.eventTime;if((I&Dr)===Dr){kn!==null&&(kn=kn.next={eventTime:Pr,lane:0,tag:Je.tag,payload:Je.payload,callback:Je.callback,next:null});e:{var Ar=s,Zi=Je;switch(Dr=d,Pr=x,Zi.tag){case 1:if(Ar=Zi.payload,typeof Ar=="function"){dr=Ar.call(Pr,dr,Dr);break e}dr=Ar;break e;case 3:Ar.flags=Ar.flags&-65537|128;case 0:if(Ar=Zi.payload,Dr=typeof Ar=="function"?Ar.call(Pr,dr,Dr):Ar,Dr==null)break e;dr=c({},dr,Dr);break e;case 2:Zo=!0}}Je.callback!==null&&Je.lane!==0&&(s.flags|=64,Dr=U.effects,Dr===null?U.effects=[Je]:Dr.push(Je))}else Pr={eventTime:Pr,lane:Dr,tag:Je.tag,payload:Je.payload,callback:Je.callback,next:null},kn===null?(hn=kn=Pr,Tt=dr):kn=kn.next=Pr,Pe|=Dr;if(Je=Je.next,Je===null){if(Je=U.shared.pending,Je===null)break;Dr=Je,Je=Dr.next,Dr.next=null,U.lastBaseUpdate=Dr,U.shared.pending=null}}while(1);if(kn===null&&(Tt=dr),U.baseState=Tt,U.firstBaseUpdate=hn,U.lastBaseUpdate=kn,d=U.shared.interleaved,d!==null){U=d;do Pe|=U.lane,U=U.next;while(U!==d)}else ne===null&&(U.shared.lanes=0);ad|=Pe,s.lanes=Pe,s.memoizedState=dr}}function fu(s,d,x){if(s=d.effects,d.effects=null,s!==null)for(d=0;d<s.length;d++){var I=s[d],U=I.callback;if(U!==null){if(I.callback=null,I=x,typeof U!="function")throw Error(p(191,U));U.call(I)}}}var kc=new o.Component().refs;function Ou(s,d,x,I){d=s.memoizedState,x=x(I,d),x=x==null?d:c({},d,x),s.memoizedState=x,s.lanes===0&&(s.updateQueue.baseState=x)}var Bu={isMounted:function(s){return(s=s._reactInternals)?Se(s)===s:!1},enqueueSetState:function(s,d,x){s=s._reactInternals;var I=Uo(),U=Hs(s),ne=_o(I,U);ne.payload=d,x!=null&&(ne.callback=x),ta(s,ne),d=Xa(s,U,I),d!==null&&Ms(d,s,U)},enqueueReplaceState:function(s,d,x){s=s._reactInternals;var I=Uo(),U=Hs(s),ne=_o(I,U);ne.tag=1,ne.payload=d,x!=null&&(ne.callback=x),ta(s,ne),d=Xa(s,U,I),d!==null&&Ms(d,s,U)},enqueueForceUpdate:function(s,d){s=s._reactInternals;var x=Uo(),I=Hs(s),U=_o(x,I);U.tag=2,d!=null&&(U.callback=d),ta(s,U),d=Xa(s,I,x),d!==null&&Ms(d,s,I)}};function Td(s,d,x,I,U,ne,Pe){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(I,ne,Pe):d.prototype&&d.prototype.isPureReactComponent?!nl(x,I)||!nl(U,ne):!0}function Ic(s,d,x){var I=!1,U=ri,ne=d.contextType;return typeof ne=="object"&&ne!==null?ne=ko(ne):(U=Ui(d)?Ai:Hr.current,I=d.contextTypes,ne=(I=I!=null)?Ni(s,U):ri),d=new d(x,ne),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bu,s.stateNode=d,d._reactInternals=s,I&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=U,s.__reactInternalMemoizedMaskedChildContext=ne),d}function oc(s,d,x,I){s=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,I),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,I),d.state!==s&&Bu.enqueueReplaceState(d,d.state,null)}function Fl(s,d,x,I){var U=s.stateNode;U.props=x,U.state=s.memoizedState,U.refs=kc,du(s);var ne=d.contextType;typeof ne=="object"&&ne!==null?U.context=ko(ne):(ne=Ui(d)?Ai:Hr.current,U.context=Ni(s,ne)),U.state=s.memoizedState,ne=d.getDerivedStateFromProps,typeof ne=="function"&&(Ou(s,d,ne,x),U.state=s.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(d=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),d!==U.state&&Bu.enqueueReplaceState(U,U.state,null),rl(s,x,U,I),U.state=s.memoizedState),typeof U.componentDidMount=="function"&&(s.flags|=4194308)}var Cl=[],Pa=0,zl=null,Fs=0,ue=[],Ce=0,Ge=null,ut=1,$t="";function jt(s,d){Cl[Pa++]=Fs,Cl[Pa++]=zl,zl=s,Fs=d}function Dn(s,d,x){ue[Ce++]=ut,ue[Ce++]=$t,ue[Ce++]=Ge,Ge=s;var I=ut;s=$t;var U=32-lt(I)-1;I&=~(1<<U),x+=1;var ne=32-lt(d)+U;if(30<ne){var Pe=U-U%5;ne=(I&(1<<Pe)-1).toString(32),I>>=Pe,U-=Pe,ut=1<<32-lt(d)+U|x<<U|I,$t=ne+s}else ut=1<<ne|x<<U|I,$t=s}function cr(s){s.return!==null&&(jt(s,1),Dn(s,1,0))}function Xr(s){for(;s===zl;)zl=Cl[--Pa],Cl[Pa]=null,Fs=Cl[--Pa],Cl[Pa]=null;for(;s===Ge;)Ge=ue[--Ce],ue[Ce]=null,$t=ue[--Ce],ue[Ce]=null,ut=ue[--Ce],ue[Ce]=null}var Gr=null,Tr=null,Nr=!1,ao=!1,Fo=null;function zs(s,d){var x=hl(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=s,d=s.deletions,d===null?(s.deletions=[x],s.flags|=16):d.push(x)}function hu(s,d){switch(s.tag){case 5:return d=ba(d,s.type,s.pendingProps),d!==null?(s.stateNode=d,Gr=s,Tr=Ea(d),!0):!1;case 6:return d=tl(d,s.pendingProps),d!==null?(s.stateNode=d,Gr=s,Tr=null,!0):!1;case 13:if(d=Ds(d),d!==null){var x=Ge!==null?{id:ut,overflow:$t}:null;return s.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=hl(18,null,null,0),x.stateNode=d,x.return=s,s.child=x,Gr=s,Tr=null,!0}return!1;default:return!1}}function mo(s){return(s.mode&1)!==0&&(s.flags&128)===0}function il(s){if(Nr){var d=Tr;if(d){var x=d;if(!hu(s,d)){if(mo(s))throw Error(p(418));d=di(x);var I=Gr;d&&hu(s,d)?zs(I,x):(s.flags=s.flags&-4097|2,Nr=!1,Gr=s)}}else{if(mo(s))throw Error(p(418));s.flags=s.flags&-4097|2,Nr=!1,Gr=s}}}function bf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Gr=s}function Ul(s){if(!Ft||s!==Gr)return!1;if(!Nr)return bf(s),Nr=!0,!1;if(s.tag!==3&&(s.tag!==5||Mn(s.type)&&!et(s.type,s.memoizedProps))){var d=Tr;if(d){if(mo(s)){for(s=Tr;s;)s=di(s);throw Error(p(418))}for(;d;)zs(s,d),d=di(d)}}if(bf(s),s.tag===13){if(!Ft)throw Error(p(316));if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p(317));Tr=at(s)}else Tr=Gr?di(s.stateNode):null;return!0}function sc(){Ft&&(Tr=Gr=null,ao=Nr=!1)}function Rc(s){Fo===null?Fo=[s]:Fo.push(s)}function Oc(s,d,x){if(s=x.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(p(309));var I=x.stateNode}if(!I)throw Error(p(147,s));var U=I,ne=""+s;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===ne?d.ref:(d=function(Pe){var Je=U.refs;Je===kc&&(Je=U.refs={}),Pe===null?delete Je[ne]:Je[ne]=Pe},d._stringRef=ne,d)}if(typeof s!="string")throw Error(p(284));if(!x._owner)throw Error(p(290,s))}return s}function Ml(s,d){throw s=Object.prototype.toString.call(d),Error(p(31,s==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":s))}function ac(s){var d=s._init;return d(s._payload)}function Pd(s){function d(Qe,tt){if(s){var kt=Qe.deletions;kt===null?(Qe.deletions=[tt],Qe.flags|=16):kt.push(tt)}}function x(Qe,tt){if(!s)return null;for(;tt!==null;)d(Qe,tt),tt=tt.sibling;return null}function I(Qe,tt){for(Qe=new Map;tt!==null;)tt.key!==null?Qe.set(tt.key,tt):Qe.set(tt.index,tt),tt=tt.sibling;return Qe}function U(Qe,tt){return Qe=Yl(Qe,tt),Qe.index=0,Qe.sibling=null,Qe}function ne(Qe,tt,kt){return Qe.index=kt,s?(kt=Qe.alternate,kt!==null?(kt=kt.index,kt<tt?(Qe.flags|=2,tt):kt):(Qe.flags|=2,tt)):(Qe.flags|=1048576,tt)}function Pe(Qe){return s&&Qe.alternate===null&&(Qe.flags|=2),Qe}function Je(Qe,tt,kt,In){return tt===null||tt.tag!==6?(tt=Mh(kt,Qe.mode,In),tt.return=Qe,tt):(tt=U(tt,kt),tt.return=Qe,tt)}function Tt(Qe,tt,kt,In){var sr=kt.type;return sr===C?kn(Qe,tt,kt.props.children,In,kt.key):tt!==null&&(tt.elementType===sr||typeof sr=="object"&&sr!==null&&sr.$$typeof===Q&&ac(sr)===tt.type)?(In=U(tt,kt.props),In.ref=Oc(Qe,tt,kt),In.return=Qe,In):(In=vc(kt.type,kt.key,kt.props,null,Qe.mode,In),In.ref=Oc(Qe,tt,kt),In.return=Qe,In)}function hn(Qe,tt,kt,In){return tt===null||tt.tag!==4||tt.stateNode.containerInfo!==kt.containerInfo||tt.stateNode.implementation!==kt.implementation?(tt=Yp(kt,Qe.mode,In),tt.return=Qe,tt):(tt=U(tt,kt.children||[]),tt.return=Qe,tt)}function kn(Qe,tt,kt,In,sr){return tt===null||tt.tag!==7?(tt=Xu(kt,Qe.mode,In,sr),tt.return=Qe,tt):(tt=U(tt,kt),tt.return=Qe,tt)}function dr(Qe,tt,kt){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return tt=Mh(""+tt,Qe.mode,kt),tt.return=Qe,tt;if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case _:return kt=vc(tt.type,tt.key,tt.props,null,Qe.mode,kt),kt.ref=Oc(Qe,null,tt),kt.return=Qe,kt;case b:return tt=Yp(tt,Qe.mode,kt),tt.return=Qe,tt;case Q:var In=tt._init;return dr(Qe,In(tt._payload),kt)}if(Ze(tt)||ge(tt))return tt=Xu(tt,Qe.mode,kt,null),tt.return=Qe,tt;Ml(Qe,tt)}return null}function Dr(Qe,tt,kt,In){var sr=tt!==null?tt.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number")return sr!==null?null:Je(Qe,tt,""+kt,In);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case _:return kt.key===sr?Tt(Qe,tt,kt,In):null;case b:return kt.key===sr?hn(Qe,tt,kt,In):null;case Q:return sr=kt._init,Dr(Qe,tt,sr(kt._payload),In)}if(Ze(kt)||ge(kt))return sr!==null?null:kn(Qe,tt,kt,In,null);Ml(Qe,kt)}return null}function Pr(Qe,tt,kt,In,sr){if(typeof In=="string"&&In!==""||typeof In=="number")return Qe=Qe.get(kt)||null,Je(tt,Qe,""+In,sr);if(typeof In=="object"&&In!==null){switch(In.$$typeof){case _:return Qe=Qe.get(In.key===null?kt:In.key)||null,Tt(tt,Qe,In,sr);case b:return Qe=Qe.get(In.key===null?kt:In.key)||null,hn(tt,Qe,In,sr);case Q:var kr=In._init;return Pr(Qe,tt,kt,kr(In._payload),sr)}if(Ze(In)||ge(In))return Qe=Qe.get(kt)||null,kn(tt,Qe,In,sr,null);Ml(tt,In)}return null}function Ar(Qe,tt,kt,In){for(var sr=null,kr=null,Fr=tt,Ri=tt=0,Ti=null;Fr!==null&&Ri<kt.length;Ri++){Fr.index>Ri?(Ti=Fr,Fr=null):Ti=Fr.sibling;var $i=Dr(Qe,Fr,kt[Ri],In);if($i===null){Fr===null&&(Fr=Ti);break}s&&Fr&&$i.alternate===null&&d(Qe,Fr),tt=ne($i,tt,Ri),kr===null?sr=$i:kr.sibling=$i,kr=$i,Fr=Ti}if(Ri===kt.length)return x(Qe,Fr),Nr&&jt(Qe,Ri),sr;if(Fr===null){for(;Ri<kt.length;Ri++)Fr=dr(Qe,kt[Ri],In),Fr!==null&&(tt=ne(Fr,tt,Ri),kr===null?sr=Fr:kr.sibling=Fr,kr=Fr);return Nr&&jt(Qe,Ri),sr}for(Fr=I(Qe,Fr);Ri<kt.length;Ri++)Ti=Pr(Fr,Qe,Ri,kt[Ri],In),Ti!==null&&(s&&Ti.alternate!==null&&Fr.delete(Ti.key===null?Ri:Ti.key),tt=ne(Ti,tt,Ri),kr===null?sr=Ti:kr.sibling=Ti,kr=Ti);return s&&Fr.forEach(function(hd){return d(Qe,hd)}),Nr&&jt(Qe,Ri),sr}function Zi(Qe,tt,kt,In){var sr=ge(kt);if(typeof sr!="function")throw Error(p(150));if(kt=sr.call(kt),kt==null)throw Error(p(151));for(var kr=sr=null,Fr=tt,Ri=tt=0,Ti=null,$i=kt.next();Fr!==null&&!$i.done;Ri++,$i=kt.next()){Fr.index>Ri?(Ti=Fr,Fr=null):Ti=Fr.sibling;var hd=Dr(Qe,Fr,$i.value,In);if(hd===null){Fr===null&&(Fr=Ti);break}s&&Fr&&hd.alternate===null&&d(Qe,Fr),tt=ne(hd,tt,Ri),kr===null?sr=hd:kr.sibling=hd,kr=hd,Fr=Ti}if($i.done)return x(Qe,Fr),Nr&&jt(Qe,Ri),sr;if(Fr===null){for(;!$i.done;Ri++,$i=kt.next())$i=dr(Qe,$i.value,In),$i!==null&&(tt=ne($i,tt,Ri),kr===null?sr=$i:kr.sibling=$i,kr=$i);return Nr&&jt(Qe,Ri),sr}for(Fr=I(Qe,Fr);!$i.done;Ri++,$i=kt.next())$i=Pr(Fr,Qe,Ri,$i.value,In),$i!==null&&(s&&$i.alternate!==null&&Fr.delete($i.key===null?Ri:$i.key),tt=ne($i,tt,Ri),kr===null?sr=$i:kr.sibling=$i,kr=$i);return s&&Fr.forEach(function(Jp){return d(Qe,Jp)}),Nr&&jt(Qe,Ri),sr}function on(Qe,tt,kt,In){if(typeof kt=="object"&&kt!==null&&kt.type===C&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case _:e:{for(var sr=kt.key,kr=tt;kr!==null;){if(kr.key===sr){if(sr=kt.type,sr===C){if(kr.tag===7){x(Qe,kr.sibling),tt=U(kr,kt.props.children),tt.return=Qe,Qe=tt;break e}}else if(kr.elementType===sr||typeof sr=="object"&&sr!==null&&sr.$$typeof===Q&&ac(sr)===kr.type){x(Qe,kr.sibling),tt=U(kr,kt.props),tt.ref=Oc(Qe,kr,kt),tt.return=Qe,Qe=tt;break e}x(Qe,kr);break}else d(Qe,kr);kr=kr.sibling}kt.type===C?(tt=Xu(kt.props.children,Qe.mode,In,kt.key),tt.return=Qe,Qe=tt):(In=vc(kt.type,kt.key,kt.props,null,Qe.mode,In),In.ref=Oc(Qe,tt,kt),In.return=Qe,Qe=In)}return Pe(Qe);case b:e:{for(kr=kt.key;tt!==null;){if(tt.key===kr)if(tt.tag===4&&tt.stateNode.containerInfo===kt.containerInfo&&tt.stateNode.implementation===kt.implementation){x(Qe,tt.sibling),tt=U(tt,kt.children||[]),tt.return=Qe,Qe=tt;break e}else{x(Qe,tt);break}else d(Qe,tt);tt=tt.sibling}tt=Yp(kt,Qe.mode,In),tt.return=Qe,Qe=tt}return Pe(Qe);case Q:return kr=kt._init,on(Qe,tt,kr(kt._payload),In)}if(Ze(kt))return Ar(Qe,tt,kt,In);if(ge(kt))return Zi(Qe,tt,kt,In);Ml(Qe,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"?(kt=""+kt,tt!==null&&tt.tag===6?(x(Qe,tt.sibling),tt=U(tt,kt),tt.return=Qe,Qe=tt):(x(Qe,tt),tt=Mh(kt,Qe.mode,In),tt.return=Qe,Qe=tt),Pe(Qe)):x(Qe,tt)}return on}var Du=Pd(!0),lc=Pd(!1),na={},pa=jr(na),Me=jr(na),rt=jr(na);function Mt(s){if(s===na)throw Error(p(174));return s}function Sn(s,d){Br(rt,d),Br(Me,s),Br(pa,na),s=we(d),Qn(pa),Br(pa,s)}function gi(){Qn(pa),Qn(Me),Qn(rt)}function Ao(s){var d=Mt(rt.current),x=Mt(pa.current);d=Te(x,s.type,d),x!==d&&(Br(Me,s),Br(pa,d))}function Ji(s){Me.current===s&&(Qn(pa),Qn(Me))}var go=jr(0);function kd(s){for(var d=s;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||ua(x)||Cs(x)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Ks=[];function ol(){for(var s=0;s<Ks.length;s++){var d=Ks[s];nn?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Ks.length=0}var sl=g.ReactCurrentDispatcher,za=g.ReactCurrentBatchConfig,Wo=0,no=null,Co=null,Us=null,Id=!1,jl=!1,Bc=0,js=0;function Ys(){throw Error(p(321))}function Ef(s,d){if(d===null)return!1;for(var x=0;x<d.length&&x<s.length;x++)if(!Po(s[x],d[x]))return!1;return!0}function Rd(s,d,x,I,U,ne){if(Wo=ne,no=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,sl.current=s===null||s.memoizedState===null?Om:Ig,s=x(I,U),jl){ne=0;do{if(jl=!1,Bc=0,25<=ne)throw Error(p(301));ne+=1,Us=Co=null,d.updateQueue=null,sl.current=Vp,s=x(I,U)}while(jl)}if(sl.current=zo,d=Co!==null&&Co.next!==null,Wo=0,Us=Co=no=null,Id=!1,d)throw Error(p(300));return s}function al(){var s=Bc!==0;return Bc=0,s}function Qs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Us===null?no.memoizedState=Us=s:Us=Us.next=s,Us}function ka(){if(Co===null){var s=no.alternate;s=s!==null?s.memoizedState:null}else s=Co.next;var d=Us===null?no.memoizedState:Us.next;if(d!==null)Us=d,Co=s;else{if(s===null)throw Error(p(310));Co=s,s={memoizedState:Co.memoizedState,baseState:Co.baseState,baseQueue:Co.baseQueue,queue:Co.queue,next:null},Us===null?no.memoizedState=Us=s:Us=Us.next=s}return Us}function Tl(s,d){return typeof d=="function"?d(s):d}function Zc(s){var d=ka(),x=d.queue;if(x===null)throw Error(p(311));x.lastRenderedReducer=s;var I=Co,U=I.baseQueue,ne=x.pending;if(ne!==null){if(U!==null){var Pe=U.next;U.next=ne.next,ne.next=Pe}I.baseQueue=U=ne,x.pending=null}if(U!==null){ne=U.next,I=I.baseState;var Je=Pe=null,Tt=null,hn=ne;do{var kn=hn.lane;if((Wo&kn)===kn)Tt!==null&&(Tt=Tt.next={lane:0,action:hn.action,hasEagerState:hn.hasEagerState,eagerState:hn.eagerState,next:null}),I=hn.hasEagerState?hn.eagerState:s(I,hn.action);else{var dr={lane:kn,action:hn.action,hasEagerState:hn.hasEagerState,eagerState:hn.eagerState,next:null};Tt===null?(Je=Tt=dr,Pe=I):Tt=Tt.next=dr,no.lanes|=kn,ad|=kn}hn=hn.next}while(hn!==null&&hn!==ne);Tt===null?Pe=I:Tt.next=Je,Po(I,d.memoizedState)||(lo=!0),d.memoizedState=I,d.baseState=Pe,d.baseQueue=Tt,x.lastRenderedState=I}if(s=x.interleaved,s!==null){U=s;do ne=U.lane,no.lanes|=ne,ad|=ne,U=U.next;while(U!==s)}else U===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function hh(s){var d=ka(),x=d.queue;if(x===null)throw Error(p(311));x.lastRenderedReducer=s;var I=x.dispatch,U=x.pending,ne=d.memoizedState;if(U!==null){x.pending=null;var Pe=U=U.next;do ne=s(ne,Pe.action),Pe=Pe.next;while(Pe!==U);Po(ne,d.memoizedState)||(lo=!0),d.memoizedState=ne,d.baseQueue===null&&(d.baseState=ne),x.lastRenderedState=ne}return[ne,I]}function jp(){}function ph(s,d){var x=no,I=ka(),U=d(),ne=!Po(I.memoizedState,U);if(ne&&(I.memoizedState=U,lo=!0),I=I.queue,Mf(Dc.bind(null,x,I,s),[s]),I.getSnapshot!==d||ne||Us!==null&&Us.memoizedState.tag&1){if(x.flags|=2048,Bd(9,Hp.bind(null,x,I,U,d),void 0,null),Fi===null)throw Error(p(349));Wo&30||qh(x,d,U)}return U}function qh(s,d,x){s.flags|=16384,s={getSnapshot:d,value:x},d=no.updateQueue,d===null?(d={lastEffect:null,stores:null},no.updateQueue=d,d.stores=[s]):(x=d.stores,x===null?d.stores=[s]:x.push(s))}function Hp(s,d,x,I){d.value=x,d.getSnapshot=I,Af(d)&&Xa(s,1,-1)}function Dc(s,d,x){return x(function(){Af(d)&&Xa(s,1,-1)})}function Af(s){var d=s.getSnapshot;s=s.value;try{var x=d();return!Po(s,x)}catch{return!0}}function Od(s){var d=Qs();return typeof s=="function"&&(s=s()),d.memoizedState=d.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:s},d.queue=s,s=s.dispatch=kg.bind(null,no,s),[d.memoizedState,s]}function Bd(s,d,x,I){return s={tag:s,create:d,destroy:x,deps:I,next:null},d=no.updateQueue,d===null?(d={lastEffect:null,stores:null},no.updateQueue=d,d.lastEffect=s.next=s):(x=d.lastEffect,x===null?d.lastEffect=s.next=s:(I=x.next,x.next=s,s.next=I,d.lastEffect=s)),s}function Dd(){return ka().memoizedState}function uc(s,d,x,I){var U=Qs();no.flags|=s,U.memoizedState=Bd(1|d,x,void 0,I===void 0?null:I)}function Cf(s,d,x,I){var U=ka();I=I===void 0?null:I;var ne=void 0;if(Co!==null){var Pe=Co.memoizedState;if(ne=Pe.destroy,I!==null&&Ef(I,Pe.deps)){U.memoizedState=Bd(d,x,ne,I);return}}no.flags|=s,U.memoizedState=Bd(1|d,x,ne,I)}function $c(s,d){return uc(8390656,8,s,d)}function Mf(s,d){return Cf(2048,8,s,d)}function Xo(s,d){return Cf(4,2,s,d)}function Jh(s,d){return Cf(4,4,s,d)}function mh(s,d){if(typeof d=="function")return s=s(),d(s),function(){d(null)};if(d!=null)return s=s(),d.current=s,function(){d.current=null}}function cc(s,d,x){return x=x!=null?x.concat([s]):null,Cf(4,4,mh.bind(null,d,s),x)}function Zh(){}function $h(s,d){var x=ka();d=d===void 0?null:d;var I=x.memoizedState;return I!==null&&d!==null&&Ef(d,I[1])?I[0]:(x.memoizedState=[s,d],s)}function gh(s,d){var x=ka();d=d===void 0?null:d;var I=x.memoizedState;return I!==null&&d!==null&&Ef(d,I[1])?I[0]:(s=s(),x.memoizedState=[s,d],s)}function ep(s,d){var x=Ci;Ci=x!==0&&4>x?x:4,s(!0);var I=za.transition;za.transition={};try{s(!1),d()}finally{Ci=x,za.transition=I}}function Tf(){return ka().memoizedState}function Pg(s,d,x){var I=Hs(s);x={lane:I,action:x,hasEagerState:!1,eagerState:null,next:null},Rm(s)?Gp(d,x):(vh(s,d,x),x=Uo(),s=Xa(s,I,x),s!==null&&Ld(s,d,I))}function kg(s,d,x){var I=Hs(s),U={lane:I,action:x,hasEagerState:!1,eagerState:null,next:null};if(Rm(s))Gp(d,U);else{vh(s,d,U);var ne=s.alternate;if(s.lanes===0&&(ne===null||ne.lanes===0)&&(ne=d.lastRenderedReducer,ne!==null))try{var Pe=d.lastRenderedState,Je=ne(Pe,x);if(U.hasEagerState=!0,U.eagerState=Je,Po(Je,Pe))return}catch{}finally{}x=Uo(),s=Xa(s,I,x),s!==null&&Ld(s,d,I)}}function Rm(s){var d=s.alternate;return s===no||d!==null&&d===no}function Gp(s,d){jl=Id=!0;var x=s.pending;x===null?d.next=d:(d.next=x.next,x.next=d),s.pending=d}function vh(s,d,x){Fi!==null&&s.mode&1&&!(ii&2)?(s=d.interleaved,s===null?(x.next=x,Ro===null?Ro=[d]:Ro.push(d)):(x.next=s.next,s.next=x),d.interleaved=x):(s=d.pending,s===null?x.next=x:(x.next=s.next,s.next=x),d.pending=x)}function Ld(s,d,x){if(x&4194240){var I=d.lanes;I&=s.pendingLanes,x|=I,d.lanes=x,bi(s,x)}}var zo={readContext:ko,useCallback:Ys,useContext:Ys,useEffect:Ys,useImperativeHandle:Ys,useInsertionEffect:Ys,useLayoutEffect:Ys,useMemo:Ys,useReducer:Ys,useRef:Ys,useState:Ys,useDebugValue:Ys,useDeferredValue:Ys,useTransition:Ys,useMutableSource:Ys,useSyncExternalStore:Ys,useId:Ys,unstable_isNewReconciler:!1},Om={readContext:ko,useCallback:function(s,d){return Qs().memoizedState=[s,d===void 0?null:d],s},useContext:ko,useEffect:$c,useImperativeHandle:function(s,d,x){return x=x!=null?x.concat([s]):null,uc(4194308,4,mh.bind(null,d,s),x)},useLayoutEffect:function(s,d){return uc(4194308,4,s,d)},useInsertionEffect:function(s,d){return uc(4,2,s,d)},useMemo:function(s,d){var x=Qs();return d=d===void 0?null:d,s=s(),x.memoizedState=[s,d],s},useReducer:function(s,d,x){var I=Qs();return d=x!==void 0?x(d):d,I.memoizedState=I.baseState=d,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:d},I.queue=s,s=s.dispatch=Pg.bind(null,no,s),[I.memoizedState,s]},useRef:function(s){var d=Qs();return s={current:s},d.memoizedState=s},useState:Od,useDebugValue:Zh,useDeferredValue:function(s){var d=Od(s),x=d[0],I=d[1];return $c(function(){var U=za.transition;za.transition={};try{I(s)}finally{za.transition=U}},[s]),x},useTransition:function(){var s=Od(!1),d=s[0];return s=ep.bind(null,s[1]),Qs().memoizedState=s,[d,s]},useMutableSource:function(){},useSyncExternalStore:function(s,d,x){var I=no,U=Qs();if(Nr){if(x===void 0)throw Error(p(407));x=x()}else{if(x=d(),Fi===null)throw Error(p(349));Wo&30||qh(I,d,x)}U.memoizedState=x;var ne={value:x,getSnapshot:d};return U.queue=ne,$c(Dc.bind(null,I,ne,s),[s]),I.flags|=2048,Bd(9,Hp.bind(null,I,ne,x,d),void 0,null),x},useId:function(){var s=Qs(),d=Fi.identifierPrefix;if(Nr){var x=$t,I=ut;x=(I&~(1<<32-lt(I)-1)).toString(32)+x,d=":"+d+"R"+x,x=Bc++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=js++,d=":"+d+"r"+x.toString(32)+":";return s.memoizedState=d},unstable_isNewReconciler:!1},Ig={readContext:ko,useCallback:$h,useContext:ko,useEffect:Mf,useImperativeHandle:cc,useInsertionEffect:Xo,useLayoutEffect:Jh,useMemo:gh,useReducer:Zc,useRef:Dd,useState:function(){return Zc(Tl)},useDebugValue:Zh,useDeferredValue:function(s){var d=Zc(Tl),x=d[0],I=d[1];return Mf(function(){var U=za.transition;za.transition={};try{I(s)}finally{za.transition=U}},[s]),x},useTransition:function(){var s=Zc(Tl)[0],d=ka().memoizedState;return[s,d]},useMutableSource:jp,useSyncExternalStore:ph,useId:Tf,unstable_isNewReconciler:!1},Vp={readContext:ko,useCallback:$h,useContext:ko,useEffect:Mf,useImperativeHandle:cc,useInsertionEffect:Xo,useLayoutEffect:Jh,useMemo:gh,useReducer:hh,useRef:Dd,useState:function(){return hh(Tl)},useDebugValue:Zh,useDeferredValue:function(s){var d=hh(Tl),x=d[0],I=d[1];return Mf(function(){var U=za.transition;za.transition={};try{I(s)}finally{za.transition=U}},[s]),x},useTransition:function(){var s=hh(Tl)[0],d=ka().memoizedState;return[s,d]},useMutableSource:jp,useSyncExternalStore:ph,useId:Tf,unstable_isNewReconciler:!1};function Pf(s,d){try{var x="",I=d;do x+=fa(I),I=I.return;while(I);var U=x}catch(ne){U=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:s,source:d,stack:U}}function tp(s,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var Bm=typeof WeakMap=="function"?WeakMap:Map;function kf(s,d,x){x=_o(-1,x),x.tag=3,x.payload={element:null};var I=d.value;return x.callback=function(){zc||(zc=!0,Ia=I),tp(s,d)},x}function np(s,d,x){x=_o(-1,x),x.tag=3;var I=s.type.getDerivedStateFromError;if(typeof I=="function"){var U=d.value;x.payload=function(){return I(U)},x.callback=function(){tp(s,d)}}var ne=s.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(x.callback=function(){tp(s,d),typeof I!="function"&&(Xl===null?Xl=new Set([this]):Xl.add(this));var Pe=d.stack;this.componentDidCatch(d.value,{componentStack:Pe!==null?Pe:""})}),x}function Lu(s,d,x){var I=s.pingCache;if(I===null){I=s.pingCache=new Bm;var U=new Set;I.set(d,U)}else U=I.get(d),U===void 0&&(U=new Set,I.set(d,U));U.has(x)||(U.add(x),s=Rg.bind(null,s,d,x),d.then(s,s))}function Wp(s){do{var d;if((d=s.tag===13)&&(d=s.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return s;s=s.return}while(s!==null);return null}function Ua(s,d,x,I,U){return s.mode&1?(s.flags|=65536,s.lanes=U,s):(s===d?s.flags|=65536:(s.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=_o(-1,1),d.tag=2,ta(x,d))),x.lanes|=1),s)}function ma(s){s.flags|=4}function So(s,d){if(s!==null&&s.child===d.child)return!0;if(d.flags&16)return!1;for(s=d.child;s!==null;){if(s.flags&12854||s.subtreeFlags&12854)return!1;s=s.sibling}return!0}var ja,dc,If,yh;if(Ye)ja=function(s,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)qe(s,x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},dc=function(){},If=function(s,d,x,I,U){if(s=s.memoizedProps,s!==I){var ne=d.stateNode,Pe=Mt(pa.current);x=wt(ne,x,s,I,U,Pe),(d.updateQueue=x)&&ma(d)}},yh=function(s,d,x,I){x!==I&&ma(d)};else if(Xt){ja=function(s,d,x,I){for(var U=d.child;U!==null;){if(U.tag===5){var ne=U.stateNode;x&&I&&(ne=qi(ne,U.type,U.memoizedProps,U)),qe(s,ne)}else if(U.tag===6)ne=U.stateNode,x&&I&&(ne=po(ne,U.memoizedProps,U)),qe(s,ne);else if(U.tag!==4){if(U.tag===22&&U.memoizedState!==null)ne=U.child,ne!==null&&(ne.return=U),ja(s,U,!0,!0);else if(U.child!==null){U.child.return=U,U=U.child;continue}}if(U===d)break;for(;U.sibling===null;){if(U.return===null||U.return===d)return;U=U.return}U.sibling.return=U.return,U=U.sibling}};var pu=function(s,d,x,I){for(var U=d.child;U!==null;){if(U.tag===5){var ne=U.stateNode;x&&I&&(ne=qi(ne,U.type,U.memoizedProps,U)),eo(s,ne)}else if(U.tag===6)ne=U.stateNode,x&&I&&(ne=po(ne,U.memoizedProps,U)),eo(s,ne);else if(U.tag!==4){if(U.tag===22&&U.memoizedState!==null)ne=U.child,ne!==null&&(ne.return=U),pu(s,U,!0,!0);else if(U.child!==null){U.child.return=U,U=U.child;continue}}if(U===d)break;for(;U.sibling===null;){if(U.return===null||U.return===d)return;U=U.return}U.sibling.return=U.return,U=U.sibling}};dc=function(s,d){var x=d.stateNode;if(!So(s,d)){s=x.containerInfo;var I=so(s);pu(I,d,!1,!1),x.pendingChildren=I,ma(d),Vo(s,I)}},If=function(s,d,x,I,U){var ne=s.stateNode,Pe=s.memoizedProps;if((s=So(s,d))&&Pe===I)d.stateNode=ne;else{var Je=d.stateNode,Tt=Mt(pa.current),hn=null;Pe!==I&&(hn=wt(Je,x,Pe,I,U,Tt)),s&&hn===null?d.stateNode=ne:(ne=Ei(ne,hn,x,Pe,I,d,s,Je),ht(ne,x,I,U,Tt)&&ma(d),d.stateNode=ne,s?ma(d):ja(ne,d,!1,!1))}},yh=function(s,d,x,I){x!==I?(s=Mt(rt.current),x=Mt(pa.current),d.stateNode=Nt(I,s,x,d),ma(d)):d.stateNode=s.stateNode}}else dc=function(){},If=function(){},yh=function(){};function Ko(s,d){if(!Nr)switch(s.tailMode){case"hidden":d=s.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?s.tail=null:x.sibling=null;break;case"collapsed":x=s.tail;for(var I=null;x!==null;)x.alternate!==null&&(I=x),x=x.sibling;I===null?d||s.tail===null?s.tail=null:s.tail.sibling=null:I.sibling=null}}function qs(s){var d=s.alternate!==null&&s.alternate.child===s.child,x=0,I=0;if(d)for(var U=s.child;U!==null;)x|=U.lanes|U.childLanes,I|=U.subtreeFlags&14680064,I|=U.flags&14680064,U.return=s,U=U.sibling;else for(U=s.child;U!==null;)x|=U.lanes|U.childLanes,I|=U.subtreeFlags,I|=U.flags,U.return=s,U=U.sibling;return s.subtreeFlags|=I,s.childLanes=x,d}function rp(s,d,x){var I=d.pendingProps;switch(Xr(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(d),null;case 1:return Ui(d.type)&&ai(),qs(d),null;case 3:return I=d.stateNode,gi(),Qn(Si),Qn(Hr),ol(),I.pendingContext&&(I.context=I.pendingContext,I.pendingContext=null),(s===null||s.child===null)&&(Ul(d)?ma(d):s===null||s.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Fo!==null&&(Zs(Fo),Fo=null))),dc(s,d),qs(d),null;case 5:Ji(d),x=Mt(rt.current);var U=d.type;if(s!==null&&d.stateNode!=null)If(s,d,U,I,x),s.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!I){if(d.stateNode===null)throw Error(p(166));return qs(d),null}if(s=Mt(pa.current),Ul(d)){if(!Ft)throw Error(p(175));s=de(d.stateNode,d.type,d.memoizedProps,x,s,d,!ao),d.updateQueue=s,s!==null&&ma(d)}else{var ne=ce(U,I,x,s,d);ja(ne,d,!1,!1),d.stateNode=ne,ht(ne,U,I,x,s)&&ma(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return qs(d),null;case 6:if(s&&d.stateNode!=null)yh(s,d,s.memoizedProps,I);else{if(typeof I!="string"&&d.stateNode===null)throw Error(p(166));if(s=Mt(rt.current),x=Mt(pa.current),Ul(d)){if(!Ft)throw Error(p(176));if(s=d.stateNode,I=d.memoizedProps,(x=Fe(s,I,d,!ao))&&(U=Gr,U!==null))switch(ne=(U.mode&1)!==0,U.tag){case 3:Bn(U.stateNode.containerInfo,s,I,ne);break;case 5:Cn(U.type,U.memoizedProps,U.stateNode,s,I,ne)}x&&ma(d)}else d.stateNode=Nt(I,s,x,d)}return qs(d),null;case 13:if(Qn(go),I=d.memoizedState,Nr&&Tr!==null&&d.mode&1&&!(d.flags&128)){for(s=Tr;s;)s=di(s);return sc(),d.flags|=98560,d}if(I!==null&&I.dehydrated!==null){if(I=Ul(d),s===null){if(!I)throw Error(p(318));if(!Ft)throw Error(p(344));if(s=d.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(p(317));dt(s,d)}else sc(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return qs(d),null}return Fo!==null&&(Zs(Fo),Fo=null),d.flags&128?(d.lanes=x,d):(I=I!==null,x=!1,s===null?Ul(d):x=s.memoizedState!==null,I&&!x&&(d.child.flags|=8192,d.mode&1&&(s===null||go.current&1?Ps===0&&(Ps=3):Wd())),d.updateQueue!==null&&(d.flags|=4),qs(d),null);case 4:return gi(),dc(s,d),s===null&&mn(d.stateNode.containerInfo),qs(d),null;case 10:return Nl(d.type._context),qs(d),null;case 17:return Ui(d.type)&&ai(),qs(d),null;case 19:if(Qn(go),U=d.memoizedState,U===null)return qs(d),null;if(I=(d.flags&128)!==0,ne=U.rendering,ne===null)if(I)Ko(U,!1);else{if(Ps!==0||s!==null&&s.flags&128)for(s=d.child;s!==null;){if(ne=kd(s),ne!==null){for(d.flags|=128,Ko(U,!1),s=ne.updateQueue,s!==null&&(d.updateQueue=s,d.flags|=4),d.subtreeFlags=0,s=x,I=d.child;I!==null;)x=I,U=s,x.flags&=14680066,ne=x.alternate,ne===null?(x.childLanes=0,x.lanes=U,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=ne.childLanes,x.lanes=ne.lanes,x.child=ne.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=ne.memoizedProps,x.memoizedState=ne.memoizedState,x.updateQueue=ne.updateQueue,x.type=ne.type,U=ne.dependencies,x.dependencies=U===null?null:{lanes:U.lanes,firstContext:U.firstContext}),I=I.sibling;return Br(go,go.current&1|2),d.child}s=s.sibling}U.tail!==null&&us()>Hu&&(d.flags|=128,I=!0,Ko(U,!1),d.lanes=4194304)}else{if(!I)if(s=kd(ne),s!==null){if(d.flags|=128,I=!0,s=s.updateQueue,s!==null&&(d.updateQueue=s,d.flags|=4),Ko(U,!0),U.tail===null&&U.tailMode==="hidden"&&!ne.alternate&&!Nr)return qs(d),null}else 2*us()-U.renderingStartTime>Hu&&x!==1073741824&&(d.flags|=128,I=!0,Ko(U,!1),d.lanes=4194304);U.isBackwards?(ne.sibling=d.child,d.child=ne):(s=U.last,s!==null?s.sibling=ne:d.child=ne,U.last=ne)}return U.tail!==null?(d=U.tail,U.rendering=d,U.tail=d.sibling,U.renderingStartTime=us(),d.sibling=null,s=go.current,Br(go,I?s&1|2:s&1),d):(qs(d),null);case 22:case 23:return cd(),I=d.memoizedState!==null,s!==null&&s.memoizedState!==null!==I&&(d.flags|=8192),I&&d.mode&1?ra&1073741824&&(qs(d),Ye&&d.subtreeFlags&6&&(d.flags|=8192)):qs(d),null;case 24:return null;case 25:return null}throw Error(p(156,d.tag))}var Hl=g.ReactCurrentOwner,lo=!1;function vs(s,d,x,I){d.child=s===null?lc(d,null,x,I):Du(d,s.child,x,I)}function $o(s,d,x,I,U){x=x.render;var ne=d.ref;return is(d,U),I=Rd(s,d,x,I,ne,U),x=al(),s!==null&&!lo?(d.updateQueue=s.updateQueue,d.flags&=-2053,s.lanes&=~U,Vl(s,d,U)):(Nr&&x&&cr(d),d.flags|=1,vs(s,d,I,U),d.child)}function Ho(s,d,x,I,U){if(s===null){var ne=x.type;return typeof ne=="function"&&!zf(ne)&&ne.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=ne,ed(s,d,ne,I,U)):(s=vc(x.type,null,I,d,d.mode,U),s.ref=d.ref,s.return=d,d.child=s)}if(ne=s.child,!(s.lanes&U)){var Pe=ne.memoizedProps;if(x=x.compare,x=x!==null?x:nl,x(Pe,I)&&s.ref===d.ref)return Vl(s,d,U)}return d.flags|=1,s=Yl(ne,I),s.ref=d.ref,s.return=d,d.child=s}function ed(s,d,x,I,U){if(s!==null&&nl(s.memoizedProps,I)&&s.ref===d.ref)if(lo=!1,(s.lanes&U)!==0)s.flags&131072&&(lo=!0);else return d.lanes=s.lanes,Vl(s,d,U);return fc(s,d,x,I,U)}function Ha(s,d,x){var I=d.pendingProps,U=I.children,ne=s!==null?s.memoizedState:null;if(I.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},Br(ss,ra),ra|=x;else if(x&1073741824)d.memoizedState={baseLanes:0,cachePool:null},I=ne!==null?ne.baseLanes:x,Br(ss,ra),ra|=I;else return s=ne!==null?ne.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:s,cachePool:null},d.updateQueue=null,Br(ss,ra),ra|=s,null;else ne!==null?(I=ne.baseLanes|x,d.memoizedState=null):I=x,Br(ss,ra),ra|=I;return vs(s,d,U,x),d.child}function Ga(s,d){var x=d.ref;(s===null&&x!==null||s!==null&&s.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function fc(s,d,x,I,U){var ne=Ui(x)?Ai:Hr.current;return ne=Ni(d,ne),is(d,U),x=Rd(s,d,x,I,ne,U),I=al(),s!==null&&!lo?(d.updateQueue=s.updateQueue,d.flags&=-2053,s.lanes&=~U,Vl(s,d,U)):(Nr&&I&&cr(d),d.flags|=1,vs(s,d,x,U),d.child)}function td(s,d,x,I,U){if(Ui(x)){var ne=!0;Ee(d)}else ne=!1;if(is(d,U),d.stateNode===null)s!==null&&(s.alternate=null,d.alternate=null,d.flags|=2),Ic(d,x,I),Fl(d,x,I,U),I=!0;else if(s===null){var Pe=d.stateNode,Je=d.memoizedProps;Pe.props=Je;var Tt=Pe.context,hn=x.contextType;typeof hn=="object"&&hn!==null?hn=ko(hn):(hn=Ui(x)?Ai:Hr.current,hn=Ni(d,hn));var kn=x.getDerivedStateFromProps,dr=typeof kn=="function"||typeof Pe.getSnapshotBeforeUpdate=="function";dr||typeof Pe.UNSAFE_componentWillReceiveProps!="function"&&typeof Pe.componentWillReceiveProps!="function"||(Je!==I||Tt!==hn)&&oc(d,Pe,I,hn),Zo=!1;var Dr=d.memoizedState;Pe.state=Dr,rl(d,I,Pe,U),Tt=d.memoizedState,Je!==I||Dr!==Tt||Si.current||Zo?(typeof kn=="function"&&(Ou(d,x,kn,I),Tt=d.memoizedState),(Je=Zo||Td(d,x,Je,I,Dr,Tt,hn))?(dr||typeof Pe.UNSAFE_componentWillMount!="function"&&typeof Pe.componentWillMount!="function"||(typeof Pe.componentWillMount=="function"&&Pe.componentWillMount(),typeof Pe.UNSAFE_componentWillMount=="function"&&Pe.UNSAFE_componentWillMount()),typeof Pe.componentDidMount=="function"&&(d.flags|=4194308)):(typeof Pe.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=I,d.memoizedState=Tt),Pe.props=I,Pe.state=Tt,Pe.context=hn,I=Je):(typeof Pe.componentDidMount=="function"&&(d.flags|=4194308),I=!1)}else{Pe=d.stateNode,Xs(s,d),Je=d.memoizedProps,hn=d.type===d.elementType?Je:Ws(d.type,Je),Pe.props=hn,dr=d.pendingProps,Dr=Pe.context,Tt=x.contextType,typeof Tt=="object"&&Tt!==null?Tt=ko(Tt):(Tt=Ui(x)?Ai:Hr.current,Tt=Ni(d,Tt));var Pr=x.getDerivedStateFromProps;(kn=typeof Pr=="function"||typeof Pe.getSnapshotBeforeUpdate=="function")||typeof Pe.UNSAFE_componentWillReceiveProps!="function"&&typeof Pe.componentWillReceiveProps!="function"||(Je!==dr||Dr!==Tt)&&oc(d,Pe,I,Tt),Zo=!1,Dr=d.memoizedState,Pe.state=Dr,rl(d,I,Pe,U);var Ar=d.memoizedState;Je!==dr||Dr!==Ar||Si.current||Zo?(typeof Pr=="function"&&(Ou(d,x,Pr,I),Ar=d.memoizedState),(hn=Zo||Td(d,x,hn,I,Dr,Ar,Tt)||!1)?(kn||typeof Pe.UNSAFE_componentWillUpdate!="function"&&typeof Pe.componentWillUpdate!="function"||(typeof Pe.componentWillUpdate=="function"&&Pe.componentWillUpdate(I,Ar,Tt),typeof Pe.UNSAFE_componentWillUpdate=="function"&&Pe.UNSAFE_componentWillUpdate(I,Ar,Tt)),typeof Pe.componentDidUpdate=="function"&&(d.flags|=4),typeof Pe.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof Pe.componentDidUpdate!="function"||Je===s.memoizedProps&&Dr===s.memoizedState||(d.flags|=4),typeof Pe.getSnapshotBeforeUpdate!="function"||Je===s.memoizedProps&&Dr===s.memoizedState||(d.flags|=1024),d.memoizedProps=I,d.memoizedState=Ar),Pe.props=I,Pe.state=Ar,Pe.context=Tt,I=hn):(typeof Pe.componentDidUpdate!="function"||Je===s.memoizedProps&&Dr===s.memoizedState||(d.flags|=4),typeof Pe.getSnapshotBeforeUpdate!="function"||Je===s.memoizedProps&&Dr===s.memoizedState||(d.flags|=1024),I=!1)}return Va(s,d,x,I,ne,U)}function Va(s,d,x,I,U,ne){Ga(s,d);var Pe=(d.flags&128)!==0;if(!I&&!Pe)return U&&He(d,x,!1),Vl(s,d,ne);I=d.stateNode,Hl.current=d;var Je=Pe&&typeof x.getDerivedStateFromError!="function"?null:I.render();return d.flags|=1,s!==null&&Pe?(d.child=Du(d,s.child,null,ne),d.child=Du(d,null,Je,ne)):vs(s,d,Je,ne),d.memoizedState=I.state,U&&He(d,x,!0),d.child}function ip(s){var d=s.stateNode;d.pendingContext?wo(s,d.pendingContext,d.pendingContext!==d.context):d.context&&wo(s,d.context,!1),Sn(s,d.containerInfo)}function Nd(s,d,x,I,U){return sc(),Rc(U),d.flags|=256,vs(s,d,x,I),d.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function Rf(s){return{baseLanes:s,cachePool:null}}function op(s,d,x){var I=d.pendingProps,U=go.current,ne=!1,Pe=(d.flags&128)!==0,Je;if((Je=Pe)||(Je=s!==null&&s.memoizedState===null?!1:(U&2)!==0),Je?(ne=!0,d.flags&=-129):(s===null||s.memoizedState!==null)&&(U|=1),Br(go,U&1),s===null)return il(d),s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(d.mode&1?Cs(s)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(U=I.children,s=I.fallback,ne?(I=d.mode,ne=d.child,U={mode:"hidden",children:U},!(I&1)&&ne!==null?(ne.childLanes=0,ne.pendingProps=U):ne=fd(U,I,0,null),s=Xu(s,I,x,null),ne.return=d,s.return=d,ne.sibling=s,d.child=ne,d.child.memoizedState=Rf(x),d.memoizedState=nd,s):Nu(d,U));if(U=s.memoizedState,U!==null){if(Je=U.dehydrated,Je!==null){if(Pe)return d.flags&256?(d.flags&=-257,_h(s,d,x,Error(p(422)))):d.memoizedState!==null?(d.child=s.child,d.flags|=128,null):(ne=I.fallback,U=d.mode,I=fd({mode:"visible",children:I.children},U,0,null),ne=Xu(ne,U,x,null),ne.flags|=2,I.return=d,ne.return=d,I.sibling=ne,d.child=I,d.mode&1&&Du(d,s.child,null,x),d.child.memoizedState=Rf(x),d.memoizedState=nd,ne);if(!(d.mode&1))d=_h(s,d,x,null);else if(Cs(Je))d=_h(s,d,x,Error(p(419)));else if(I=(x&s.childLanes)!==0,lo||I){if(I=Fi,I!==null){switch(x&-x){case 4:ne=2;break;case 16:ne=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ne=32;break;case 536870912:ne=268435456;break;default:ne=0}I=ne&(I.suspendedLanes|x)?0:ne,I!==0&&I!==U.retryLane&&(U.retryLane=I,Xa(s,I,-1))}Wd(),d=_h(s,d,x,Error(p(421)))}else ua(Je)?(d.flags|=128,d.child=s.child,d=Ch.bind(null,s),ms(Je,d),d=null):(x=U.treeContext,Ft&&(Tr=Re(Je),Gr=d,Nr=!0,Fo=null,ao=!1,x!==null&&(ue[Ce++]=ut,ue[Ce++]=$t,ue[Ce++]=Ge,ut=x.id,$t=x.overflow,Ge=d)),d=Nu(d,d.pendingProps.children),d.flags|=4096);return d}return ne?(I=Fu(s,d,I.children,I.fallback,x),ne=d.child,U=s.child.memoizedState,ne.memoizedState=U===null?Rf(x):{baseLanes:U.baseLanes|x,cachePool:null},ne.childLanes=s.childLanes&~x,d.memoizedState=nd,I):(x=Fd(s,d,I.children,x),d.memoizedState=null,x)}return ne?(I=Fu(s,d,I.children,I.fallback,x),ne=d.child,U=s.child.memoizedState,ne.memoizedState=U===null?Rf(x):{baseLanes:U.baseLanes|x,cachePool:null},ne.childLanes=s.childLanes&~x,d.memoizedState=nd,I):(x=Fd(s,d,I.children,x),d.memoizedState=null,x)}function Nu(s,d){return d=fd({mode:"visible",children:d},s.mode,0,null),d.return=s,s.child=d}function Fd(s,d,x,I){var U=s.child;return s=U.sibling,x=Yl(U,{mode:"visible",children:x}),!(d.mode&1)&&(x.lanes=I),x.return=d,x.sibling=null,s!==null&&(I=d.deletions,I===null?(d.deletions=[s],d.flags|=16):I.push(s)),d.child=x}function Fu(s,d,x,I,U){var ne=d.mode;s=s.child;var Pe=s.sibling,Je={mode:"hidden",children:x};return!(ne&1)&&d.child!==s?(x=d.child,x.childLanes=0,x.pendingProps=Je,d.deletions=null):(x=Yl(s,Je),x.subtreeFlags=s.subtreeFlags&14680064),Pe!==null?I=Yl(Pe,I):(I=Xu(I,ne,U,null),I.flags|=2),I.return=d,x.return=d,x.sibling=I,d.child=x,I}function _h(s,d,x,I){return I!==null&&Rc(I),Du(d,s.child,null,x),s=Nu(d,d.pendingProps.children),s.flags|=2,d.memoizedState=null,s}function zd(s,d,x){s.lanes|=d;var I=s.alternate;I!==null&&(I.lanes|=d),gs(s.return,d,x)}function mu(s,d,x,I,U){var ne=s.memoizedState;ne===null?s.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:I,tail:x,tailMode:U}:(ne.isBackwards=d,ne.rendering=null,ne.renderingStartTime=0,ne.last=I,ne.tail=x,ne.tailMode=U)}function Gl(s,d,x){var I=d.pendingProps,U=I.revealOrder,ne=I.tail;if(vs(s,d,I.children,x),I=go.current,I&2)I=I&1|2,d.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=d.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&zd(s,x,d);else if(s.tag===19)zd(s,x,d);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===d)break e;for(;s.sibling===null;){if(s.return===null||s.return===d)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}I&=1}if(Br(go,I),!(d.mode&1))d.memoizedState=null;else switch(U){case"forwards":for(x=d.child,U=null;x!==null;)s=x.alternate,s!==null&&kd(s)===null&&(U=x),x=x.sibling;x=U,x===null?(U=d.child,d.child=null):(U=x.sibling,x.sibling=null),mu(d,!1,U,x,ne);break;case"backwards":for(x=null,U=d.child,d.child=null;U!==null;){if(s=U.alternate,s!==null&&kd(s)===null){d.child=U;break}s=U.sibling,U.sibling=x,x=U,U=s}mu(d,!0,x,null,ne);break;case"together":mu(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Vl(s,d,x){if(s!==null&&(d.dependencies=s.dependencies),ad|=d.lanes,!(x&d.childLanes))return null;if(s!==null&&d.child!==s.child)throw Error(p(153));if(d.child!==null){for(s=d.child,x=Yl(s,s.pendingProps),d.child=x,x.return=d;s.sibling!==null;)s=s.sibling,x=x.sibling=Yl(s,s.pendingProps),x.return=d;x.sibling=null}return d.child}function Dm(s,d,x){switch(d.tag){case 3:ip(d),sc();break;case 5:Ao(d);break;case 1:Ui(d.type)&&Ee(d);break;case 4:Sn(d,d.stateNode.containerInfo);break;case 10:cu(d,d.type._context,d.memoizedProps.value);break;case 13:var I=d.memoizedState;if(I!==null)return I.dehydrated!==null?(Br(go,go.current&1),d.flags|=128,null):x&d.child.childLanes?op(s,d,x):(Br(go,go.current&1),s=Vl(s,d,x),s!==null?s.sibling:null);Br(go,go.current&1);break;case 19:if(I=(x&d.childLanes)!==0,s.flags&128){if(I)return Gl(s,d,x);d.flags|=128}var U=d.memoizedState;if(U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),Br(go,go.current),I)break;return null;case 22:case 23:return d.lanes=0,Ha(s,d,x)}return Vl(s,d,x)}function wh(s,d){switch(Xr(d),d.tag){case 1:return Ui(d.type)&&ai(),s=d.flags,s&65536?(d.flags=s&-65537|128,d):null;case 3:return gi(),Qn(Si),Qn(Hr),ol(),s=d.flags,s&65536&&!(s&128)?(d.flags=s&-65537|128,d):null;case 5:return Ji(d),null;case 13:if(Qn(go),s=d.memoizedState,s!==null&&s.dehydrated!==null){if(d.alternate===null)throw Error(p(340));sc()}return s=d.flags,s&65536?(d.flags=s&-65537|128,d):null;case 19:return Qn(go),null;case 4:return gi(),null;case 10:return Nl(d.type._context),null;case 22:case 23:return cd(),null;case 24:return null;default:return null}}var Ts=!1,Wa=!1,Rr=typeof WeakSet=="function"?WeakSet:Set,Er=null;function ll(s,d){var x=s.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(I){fl(s,d,I)}else x.current=null}function rd(s,d,x){try{x()}catch(I){fl(s,d,I)}}var Lm=!1;function Ud(s,d){for(Ae(s.containerInfo),Er=d;Er!==null;)if(s=Er,d=s.child,(s.subtreeFlags&1028)!==0&&d!==null)d.return=s,Er=d;else for(;Er!==null;){s=Er;try{var x=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var I=x.memoizedProps,U=x.memoizedState,ne=s.stateNode,Pe=ne.getSnapshotBeforeUpdate(s.elementType===s.type?I:Ws(s.type,I),U);ne.__reactInternalSnapshotBeforeUpdate=Pe}break;case 3:Ye&&Gn(s.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(Je){fl(s,s.return,Je)}if(d=s.sibling,d!==null){d.return=s.return,Er=d;break}Er=s.return}return x=Lm,Lm=!1,x}function gu(s,d,x){var I=d.updateQueue;if(I=I!==null?I.lastEffect:null,I!==null){var U=I=I.next;do{if((U.tag&s)===s){var ne=U.destroy;U.destroy=void 0,ne!==void 0&&rd(d,x,ne)}U=U.next}while(U!==I)}}function ga(s,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&s)===s){var I=x.create;x.destroy=I()}x=x.next}while(x!==d)}}function ul(s){var d=s.ref;if(d!==null){var x=s.stateNode;switch(s.tag){case 5:s=mt(x);break;default:s=x}typeof d=="function"?d(s):d.current=s}}function os(s,d,x){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Ns,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(s=d.updateQueue,s!==null&&(s=s.lastEffect,s!==null)){var I=s=s.next;do{var U=I,ne=U.destroy;U=U.tag,ne!==void 0&&(U&2||U&4)&&rd(d,x,ne),I=I.next}while(I!==s)}break;case 1:if(ll(d,x),s=d.stateNode,typeof s.componentWillUnmount=="function")try{s.props=d.memoizedProps,s.state=d.memoizedState,s.componentWillUnmount()}catch(Pe){fl(d,x,Pe)}break;case 5:ll(d,x);break;case 4:Ye?Xp(s,d,x):Xt&&Xt&&(d=d.stateNode.containerInfo,x=so(d),Li(d,x))}}function zu(s,d,x){for(var I=d;;)if(os(s,I,x),I.child===null||Ye&&I.tag===4){if(I===d)break;for(;I.sibling===null;){if(I.return===null||I.return===d)return;I=I.return}I.sibling.return=I.return,I=I.sibling}else I.child.return=I,I=I.child}function Nm(s){var d=s.alternate;d!==null&&(s.alternate=null,Nm(d)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(d=s.stateNode,d!==null&&Wn(d)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function sp(s){return s.tag===5||s.tag===3||s.tag===4}function ap(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||sp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lp(s){if(Ye){e:{for(var d=s.return;d!==null;){if(sp(d))break e;d=d.return}throw Error(p(160))}var x=d;switch(x.tag){case 5:d=x.stateNode,x.flags&32&&(ci(d),x.flags&=-33),x=ap(s),jd(s,x,d);break;case 3:case 4:d=x.stateNode.containerInfo,x=ap(s),Lc(s,x,d);break;default:throw Error(p(161))}}}function Lc(s,d,x){var I=s.tag;if(I===5||I===6)s=s.stateNode,d?br(x,s,d):nr(x,s);else if(I!==4&&(s=s.child,s!==null))for(Lc(s,d,x),s=s.sibling;s!==null;)Lc(s,d,x),s=s.sibling}function jd(s,d,x){var I=s.tag;if(I===5||I===6)s=s.stateNode,d?Yn(x,s,d):xr(x,s);else if(I!==4&&(s=s.child,s!==null))for(jd(s,d,x),s=s.sibling;s!==null;)jd(s,d,x),s=s.sibling}function Xp(s,d,x){for(var I=d,U=!1,ne,Pe;;){if(!U){U=I.return;e:for(;;){if(U===null)throw Error(p(160));switch(ne=U.stateNode,U.tag){case 5:Pe=!1;break e;case 3:ne=ne.containerInfo,Pe=!0;break e;case 4:ne=ne.containerInfo,Pe=!0;break e}U=U.return}U=!0}if(I.tag===5||I.tag===6)zu(s,I,x),Pe?Wr(ne,I.stateNode):vr(ne,I.stateNode);else if(I.tag===18)Pe?Tn(ne,I.stateNode):rn(ne,I.stateNode);else if(I.tag===4){if(I.child!==null){ne=I.stateNode.containerInfo,Pe=!0,I.child.return=I,I=I.child;continue}}else if(os(s,I,x),I.child!==null){I.child.return=I,I=I.child;continue}if(I===d)break;for(;I.sibling===null;){if(I.return===null||I.return===d)return;I=I.return,I.tag===4&&(U=!1)}I.sibling.return=I.return,I=I.sibling}}function Nc(s,d){if(Ye){switch(d.tag){case 0:case 11:case 14:case 15:gu(3,d,d.return),ga(3,d),gu(5,d,d.return);return;case 1:return;case 5:var x=d.stateNode;if(x!=null){var I=d.memoizedProps;s=s!==null?s.memoizedProps:I;var U=d.type,ne=d.updateQueue;d.updateQueue=null,ne!==null&&Ln(x,ne,U,s,I,d)}return;case 6:if(d.stateNode===null)throw Error(p(162));x=d.memoizedProps,it(d.stateNode,s!==null?s.memoizedProps:x,x);return;case 3:Ft&&s!==null&&s.memoizedState.isDehydrated&&vt(d.stateNode.containerInfo);return;case 12:return;case 13:Sh(d);return;case 19:Sh(d);return;case 17:return}throw Error(p(163))}switch(d.tag){case 0:case 11:case 14:case 15:gu(3,d,d.return),ga(3,d),gu(5,d,d.return);return;case 12:return;case 13:Sh(d);return;case 19:Sh(d);return;case 3:Ft&&s!==null&&s.memoizedState.isDehydrated&&vt(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(Xt){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,Li(d.containerInfo,d.pendingChildren);break e}throw Error(p(163))}}function Sh(s){var d=s.updateQueue;if(d!==null){s.updateQueue=null;var x=s.stateNode;x===null&&(x=s.stateNode=new Rr),d.forEach(function(I){var U=dp.bind(null,s,I);x.has(I)||(x.add(I),I.then(U,U))})}}function Gv(s,d){for(Er=d;Er!==null;){d=Er;var x=d.deletions;if(x!==null)for(var I=0;I<x.length;I++){var U=x[I];try{var ne=s;Ye?Xp(ne,U,d):zu(ne,U,d);var Pe=U.alternate;Pe!==null&&(Pe.return=null),U.return=null}catch(sr){fl(U,d,sr)}}if(x=d.child,d.subtreeFlags&12854&&x!==null)x.return=d,Er=x;else for(;Er!==null;){d=Er;try{var Je=d.flags;if(Je&32&&Ye&&ci(d.stateNode),Je&512){var Tt=d.alternate;if(Tt!==null){var hn=Tt.ref;hn!==null&&(typeof hn=="function"?hn(null):hn.current=null)}}if(Je&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var kn=d.alternate;(kn===null||kn.memoizedState===null)&&(Df=us())}break;case 22:var dr=d.memoizedState!==null,Dr=d.alternate,Pr=Dr!==null&&Dr.memoizedState!==null;if(x=d,Ye){e:if(I=x,U=dr,ne=null,Ye)for(var Ar=I;;){if(Ar.tag===5){if(ne===null){ne=Ar;var Zi=Ar.stateNode;U?Ct(Zi):gn(Ar.stateNode,Ar.memoizedProps)}}else if(Ar.tag===6){if(ne===null){var on=Ar.stateNode;U?Kt(on):rr(on,Ar.memoizedProps)}}else if((Ar.tag!==22&&Ar.tag!==23||Ar.memoizedState===null||Ar===I)&&Ar.child!==null){Ar.child.return=Ar,Ar=Ar.child;continue}if(Ar===I)break;for(;Ar.sibling===null;){if(Ar.return===null||Ar.return===I)break e;ne===Ar&&(ne=null),Ar=Ar.return}ne===Ar&&(ne=null),Ar.sibling.return=Ar.return,Ar=Ar.sibling}}if(dr&&!Pr&&x.mode&1){Er=x;for(var Qe=x.child;Qe!==null;){for(x=Er=Qe;Er!==null;){I=Er;var tt=I.child;switch(I.tag){case 0:case 11:case 14:case 15:gu(4,I,I.return);break;case 1:ll(I,I.return);var kt=I.stateNode;if(typeof kt.componentWillUnmount=="function"){var In=I.return;try{kt.props=I.memoizedProps,kt.state=I.memoizedState,kt.componentWillUnmount()}catch(sr){fl(I,In,sr)}}break;case 5:ll(I,I.return);break;case 22:if(I.memoizedState!==null){od(x);continue}}tt!==null?(tt.return=I,Er=tt):od(x)}Qe=Qe.sibling}}}switch(Je&4102){case 2:lp(d),d.flags&=-3;break;case 6:lp(d),d.flags&=-3,Nc(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,Nc(d.alternate,d);break;case 4:Nc(d.alternate,d)}}catch(sr){fl(d,d.return,sr)}if(x=d.sibling,x!==null){x.return=d.return,Er=x;break}Er=d.return}}}function hc(s,d,x){Er=s,id(s)}function id(s,d,x){for(var I=(s.mode&1)!==0;Er!==null;){var U=Er,ne=U.child;if(U.tag===22&&I){var Pe=U.memoizedState!==null||Ts;if(!Pe){var Je=U.alternate,Tt=Je!==null&&Je.memoizedState!==null||Wa;Je=Ts;var hn=Wa;if(Ts=Pe,(Wa=Tt)&&!hn)for(Er=U;Er!==null;)Pe=Er,Tt=Pe.child,Pe.tag===22&&Pe.memoizedState!==null?Of(U):Tt!==null?(Tt.return=Pe,Er=Tt):Of(U);for(;ne!==null;)Er=ne,id(ne),ne=ne.sibling;Er=U,Ts=Je,Wa=hn}Hd(s)}else U.subtreeFlags&8772&&ne!==null?(ne.return=U,Er=ne):Hd(s)}}function Hd(s){for(;Er!==null;){var d=Er;if(d.flags&8772){var x=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:Wa||ga(5,d);break;case 1:var I=d.stateNode;if(d.flags&4&&!Wa)if(x===null)I.componentDidMount();else{var U=d.elementType===d.type?x.memoizedProps:Ws(d.type,x.memoizedProps);I.componentDidUpdate(U,x.memoizedState,I.__reactInternalSnapshotBeforeUpdate)}var ne=d.updateQueue;ne!==null&&fu(d,ne,I);break;case 3:var Pe=d.updateQueue;if(Pe!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=mt(d.child.stateNode);break;case 1:x=d.child.stateNode}fu(d,Pe,x)}break;case 5:var Je=d.stateNode;x===null&&d.flags&4&&En(Je,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(Ft&&d.memoizedState===null){var Tt=d.alternate;if(Tt!==null){var hn=Tt.memoizedState;if(hn!==null){var kn=hn.dehydrated;kn!==null&&tn(kn)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(p(163))}Wa||d.flags&512&&ul(d)}catch(dr){fl(d,d.return,dr)}}if(d===s){Er=null;break}if(x=d.sibling,x!==null){x.return=d.return,Er=x;break}Er=d.return}}function od(s){for(;Er!==null;){var d=Er;if(d===s){Er=null;break}var x=d.sibling;if(x!==null){x.return=d.return,Er=x;break}Er=d.return}}function Of(s){for(;Er!==null;){var d=Er;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{ga(4,d)}catch(Tt){fl(d,x,Tt)}break;case 1:var I=d.stateNode;if(typeof I.componentDidMount=="function"){var U=d.return;try{I.componentDidMount()}catch(Tt){fl(d,U,Tt)}}var ne=d.return;try{ul(d)}catch(Tt){fl(d,ne,Tt)}break;case 5:var Pe=d.return;try{ul(d)}catch(Tt){fl(d,Pe,Tt)}}}catch(Tt){fl(d,d.return,Tt)}if(d===s){Er=null;break}var Je=d.sibling;if(Je!==null){Je.return=d.return,Er=Je;break}Er=d.return}}var sd=0,Fc=1,Gd=2,pc=3,va=4;if(typeof Symbol=="function"&&Symbol.for){var Uu=Symbol.for;sd=Uu("selector.component"),Fc=Uu("selector.has_pseudo_class"),Gd=Uu("selector.role"),pc=Uu("selector.test_id"),va=Uu("selector.text")}function xh(s){var d=Zt(s);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(p(364));return d}if(s=si(s),s===null)throw Error(p(362));return s.stateNode.current}function bh(s,d){switch(d.$$typeof){case sd:if(s.type===d.value)return!0;break;case Fc:e:{d=d.value,s=[s,0];for(var x=0;x<s.length;){var I=s[x++],U=s[x++],ne=d[U];if(I.tag!==5||!Ut(I)){for(;ne!=null&&bh(I,ne);)U++,ne=d[U];if(U===d.length){d=!0;break e}else for(I=I.child;I!==null;)s.push(I,U),I=I.sibling}}d=!1}return d;case Gd:if(s.tag===5&&Kn(s.stateNode,d.value))return!0;break;case va:if((s.tag===5||s.tag===6)&&(s=De(s),s!==null&&0<=s.indexOf(d.value)))return!0;break;case pc:if(s.tag===5&&(s=s.memoizedProps["data-testname"],typeof s=="string"&&s.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(p(365))}return!1}function vu(s){switch(s.$$typeof){case sd:return"<"+(_e(s.value)||"Unknown")+">";case Fc:return":has("+(vu(s)||"")+")";case Gd:return'[role="'+s.value+'"]';case va:return'"'+s.value+'"';case pc:return'[data-testname="'+s.value+'"]';default:throw Error(p(365))}}function ju(s,d){var x=[];s=[s,0];for(var I=0;I<s.length;){var U=s[I++],ne=s[I++],Pe=d[ne];if(U.tag!==5||!Ut(U)){for(;Pe!=null&&bh(U,Pe);)ne++,Pe=d[ne];if(ne===d.length)x.push(U);else for(U=U.child;U!==null;)s.push(U,ne),U=U.sibling}}return x}function up(s,d){if(!Vr)throw Error(p(363));s=xh(s),s=ju(s,d),d=[],s=Array.from(s);for(var x=0;x<s.length;){var I=s[x++];if(I.tag===5)Ut(I)||d.push(I.stateNode);else for(I=I.child;I!==null;)s.push(I),I=I.sibling}return d}var cp=Math.ceil,ya=g.ReactCurrentDispatcher,Mo=g.ReactCurrentOwner,Jr=g.ReactCurrentBatchConfig,ii=0,Fi=null,uo=null,Go=0,ra=0,ss=jr(0),Ps=0,mc=null,ad=0,Bf=0,Wl=0,ks=null,cl=null,Df=0,Hu=1/0;function ld(){Hu=us()+500}var zc=!1,Ia=null,Xl=null,Pl=!1,dl=null,ud=0,Gu=0,Eh=null,yu=-1,Oi=0;function Uo(){return ii&6?us():yu!==-1?yu:yu=us()}function Hs(s){return s.mode&1?ii&2&&Go!==0?Go&-Go:Pc.transition!==null?(Oi===0&&(s=ur,ur<<=1,!(ur&4194240)&&(ur=64),Oi=s),Oi):(s=Ci,s!==0?s:jn()):1}function Xa(s,d,x){if(50<Gu)throw Gu=0,Eh=null,Error(p(185));var I=Js(s,d);return I===null?null:(La(I,d,x),(!(ii&2)||I!==Fi)&&(I===Fi&&(!(ii&2)&&(Bf|=d),Ps===4&&_u(I,Go)),Ka(I,x),d===1&&ii===0&&!(s.mode&1)&&(ld(),Iu&&Ta())),I)}function Js(s,d){s.lanes|=d;var x=s.alternate;for(x!==null&&(x.lanes|=d),x=s,s=s.return;s!==null;)s.childLanes|=d,x=s.alternate,x!==null&&(x.childLanes|=d),x=s,s=s.return;return x.tag===3?x.stateNode:null}function Ka(s,d){var x=s.callbackNode;Aa(s,d);var I=Ii(s,s===Fi?Go:0);if(I===0)x!==null&&uu(x),s.callbackNode=null,s.callbackPriority=0;else if(d=I&-I,s.callbackPriority!==d){if(x!=null&&uu(x),d===1)s.tag===0?Ma(Lf.bind(null,s)):Md(Lf.bind(null,s)),tr?_r(function(){ii===0&&Ta()}):ea(Tc,Ta),x=null;else{switch(ca(I)){case 1:x=Tc;break;case 4:x=rc;break;case 16:x=da;break;case 536870912:x=ku;break;default:x=da}x=fp(x,Uc.bind(null,s))}s.callbackPriority=d,s.callbackNode=x}}function Uc(s,d){if(yu=-1,Oi=0,ii&6)throw Error(p(327));var x=s.callbackNode;if(Xd()&&s.callbackNode!==x)return null;var I=Ii(s,s===Fi?Go:0);if(I===0)return null;if(I&30||I&s.expiredLanes||d)d=Vu(s,I);else{d=I;var U=ii;ii|=2;var ne=dd();(Fi!==s||Go!==d)&&(ld(),Gs(s,d));do try{Nf();break}catch(Je){Kp(s,Je)}while(1);rs(),ya.current=ne,ii=U,uo!==null?d=0:(Fi=null,Go=0,d=Ps)}if(d!==0){if(d===2&&(U=$s(s),U!==0&&(I=U,d=Yo(s,U))),d===1)throw x=mc,Gs(s,0),_u(s,I),Ka(s,us()),x;if(d===6)_u(s,I);else{if(U=s.current.alternate,!(I&30)&&!ds(U)&&(d=Vu(s,I),d===2&&(ne=$s(s),ne!==0&&(I=ne,d=Yo(s,ne))),d===1))throw x=mc,Gs(s,0),_u(s,I),Ka(s,us()),x;switch(s.finishedWork=U,s.finishedLanes=I,d){case 0:case 1:throw Error(p(345));case 2:Wu(s,cl);break;case 3:if(_u(s,I),(I&130023424)===I&&(d=Df+500-us(),10<d)){if(Ii(s,0)!==0)break;if(U=s.suspendedLanes,(U&I)!==I){Uo(),s.pingedLanes|=s.suspendedLanes&U;break}s.timeoutHandle=Ot(Wu.bind(null,s,cl),d);break}Wu(s,cl);break;case 4:if(_u(s,I),(I&4194240)===I)break;for(d=s.eventTimes,U=-1;0<I;){var Pe=31-lt(I);ne=1<<Pe,Pe=d[Pe],Pe>U&&(U=Pe),I&=~ne}if(I=U,I=us()-I,I=(120>I?120:480>I?480:1080>I?1080:1920>I?1920:3e3>I?3e3:4320>I?4320:1960*cp(I/1960))-I,10<I){s.timeoutHandle=Ot(Wu.bind(null,s,cl),I);break}Wu(s,cl);break;case 5:Wu(s,cl);break;default:throw Error(p(329))}}}return Ka(s,us()),s.callbackNode===x?Uc.bind(null,s):null}function Yo(s,d){var x=ks;return s.current.memoizedState.isDehydrated&&(Gs(s,d).flags|=256),s=Vu(s,d),s!==2&&(d=cl,cl=x,d!==null&&Zs(d)),s}function Zs(s){cl===null?cl=s:cl.push.apply(cl,s)}function ds(s){for(var d=s;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var I=0;I<x.length;I++){var U=x[I],ne=U.getSnapshot;U=U.value;try{if(!Po(ne(),U))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===s)break;for(;d.sibling===null;){if(d.return===null||d.return===s)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function _u(s,d){for(d&=~Wl,d&=~Bf,s.suspendedLanes|=d,s.pingedLanes&=~d,s=s.expirationTimes;0<d;){var x=31-lt(d),I=1<<x;s[x]=-1,d&=~I}}function Lf(s){if(ii&6)throw Error(p(327));Xd();var d=Ii(s,0);if(!(d&1))return Ka(s,us()),null;var x=Vu(s,d);if(s.tag!==0&&x===2){var I=$s(s);I!==0&&(d=I,x=Yo(s,I))}if(x===1)throw x=mc,Gs(s,0),_u(s,d),Ka(s,us()),x;if(x===6)throw Error(p(345));return s.finishedWork=s.current.alternate,s.finishedLanes=d,Wu(s,cl),Ka(s,us()),null}function Vd(s){dl!==null&&dl.tag===0&&!(ii&6)&&Xd();var d=ii;ii|=1;var x=Jr.transition,I=Ci;try{if(Jr.transition=null,Ci=1,s)return s()}finally{Ci=I,Jr.transition=x,ii=d,!(ii&6)&&Ta()}}function cd(){ra=ss.current,Qn(ss)}function Gs(s,d){s.finishedWork=null,s.finishedLanes=0;var x=s.timeoutHandle;if(x!==fn&&(s.timeoutHandle=fn,an(x)),uo!==null)for(x=uo.return;x!==null;){var I=x;switch(Xr(I),I.tag){case 1:I=I.type.childContextTypes,I!=null&&ai();break;case 3:gi(),Qn(Si),Qn(Hr),ol();break;case 5:Ji(I);break;case 4:gi();break;case 13:Qn(go);break;case 19:Qn(go);break;case 10:Nl(I.type._context);break;case 22:case 23:cd()}x=x.return}if(Fi=s,uo=s=Yl(s.current,null),Go=ra=d,Ps=0,mc=null,Wl=Bf=ad=0,cl=ks=null,Ro!==null){for(d=0;d<Ro.length;d++)if(x=Ro[d],I=x.interleaved,I!==null){x.interleaved=null;var U=I.next,ne=x.pending;if(ne!==null){var Pe=ne.next;ne.next=U,I.next=Pe}x.pending=I}Ro=null}return s}function Kp(s,d){do{var x=uo;try{if(rs(),sl.current=zo,Id){for(var I=no.memoizedState;I!==null;){var U=I.queue;U!==null&&(U.pending=null),I=I.next}Id=!1}if(Wo=0,Us=Co=no=null,jl=!1,Bc=0,Mo.current=null,x===null||x.return===null){Ps=1,mc=d,uo=null;break}e:{var ne=s,Pe=x.return,Je=x,Tt=d;if(d=Go,Je.flags|=32768,Tt!==null&&typeof Tt=="object"&&typeof Tt.then=="function"){var hn=Tt,kn=Je,dr=kn.tag;if(!(kn.mode&1)&&(dr===0||dr===11||dr===15)){var Dr=kn.alternate;Dr?(kn.updateQueue=Dr.updateQueue,kn.memoizedState=Dr.memoizedState,kn.lanes=Dr.lanes):(kn.updateQueue=null,kn.memoizedState=null)}var Pr=Wp(Pe);if(Pr!==null){Pr.flags&=-257,Ua(Pr,Pe,Je,ne,d),Pr.mode&1&&Lu(ne,hn,d),d=Pr,Tt=hn;var Ar=d.updateQueue;if(Ar===null){var Zi=new Set;Zi.add(Tt),d.updateQueue=Zi}else Ar.add(Tt);break e}else{if(!(d&1)){Lu(ne,hn,d),Wd();break e}Tt=Error(p(426))}}else if(Nr&&Je.mode&1){var on=Wp(Pe);if(on!==null){!(on.flags&65536)&&(on.flags|=256),Ua(on,Pe,Je,ne,d),Rc(Tt);break e}}ne=Tt,Ps!==4&&(Ps=2),ks===null?ks=[ne]:ks.push(ne),Tt=Pf(Tt,Je),Je=Pe;do{switch(Je.tag){case 3:Je.flags|=65536,d&=-d,Je.lanes|=d;var Qe=kf(Je,Tt,d);ic(Je,Qe);break e;case 1:ne=Tt;var tt=Je.type,kt=Je.stateNode;if(!(Je.flags&128)&&(typeof tt.getDerivedStateFromError=="function"||kt!==null&&typeof kt.componentDidCatch=="function"&&(Xl===null||!Xl.has(kt)))){Je.flags|=65536,d&=-d,Je.lanes|=d;var In=np(Je,ne,d);ic(Je,In);break e}}Je=Je.return}while(Je!==null)}jc(x)}catch(sr){d=sr,uo===x&&x!==null&&(uo=x=x.return);continue}break}while(1)}function dd(){var s=ya.current;return ya.current=zo,s===null?zo:s}function Wd(){(Ps===0||Ps===3||Ps===2)&&(Ps=4),Fi===null||!(ad&268435455)&&!(Bf&268435455)||_u(Fi,Go)}function Vu(s,d){var x=ii;ii|=2;var I=dd();Fi===s&&Go===d||Gs(s,d);do try{kl();break}catch(U){Kp(s,U)}while(1);if(rs(),ii=x,ya.current=I,uo!==null)throw Error(p(261));return Fi=null,Go=0,Ps}function kl(){for(;uo!==null;)Ah(uo)}function Nf(){for(;uo!==null&&!Pu();)Ah(uo)}function Ah(s){var d=Ff(s.alternate,s,ra);s.memoizedProps=s.pendingProps,d===null?jc(s):uo=d,Mo.current=null}function jc(s){var d=s;do{var x=d.alternate;if(s=d.return,d.flags&32768){if(x=wh(x,d),x!==null){x.flags&=32767,uo=x;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ps=6,uo=null;return}}else if(x=rp(x,d,ra),x!==null){uo=x;return}if(d=d.sibling,d!==null){uo=d;return}uo=d=s}while(d!==null);Ps===0&&(Ps=5)}function Wu(s,d){var x=Ci,I=Jr.transition;try{Jr.transition=null,Ci=1,gc(s,d,x)}finally{Jr.transition=I,Ci=x}return null}function gc(s,d,x){do Xd();while(dl!==null);if(ii&6)throw Error(p(327));var I=s.finishedWork,U=s.finishedLanes;if(I===null)return null;if(s.finishedWork=null,s.finishedLanes=0,I===s.current)throw Error(p(177));s.callbackNode=null,s.callbackPriority=0;var ne=I.lanes|I.childLanes;if(Na(s,ne),s===Fi&&(uo=Fi=null,Go=0),!(I.subtreeFlags&2064)&&!(I.flags&2064)||Pl||(Pl=!0,fp(da,function(){return Xd(),null})),ne=(I.flags&15990)!==0,I.subtreeFlags&15990||ne){ne=Jr.transition,Jr.transition=null;var Pe=Ci;Ci=1;var Je=ii;ii|=4,Mo.current=null,Ud(s,I),Gv(s,I),me(s.containerInfo),s.current=I,hc(I),Ls(),ii=Je,Ci=Pe,Jr.transition=ne}else s.current=I;if(Pl&&(Pl=!1,dl=s,ud=U),ne=s.pendingLanes,ne===0&&(Xl=null),Ca(I.stateNode),Ka(s,us()),d!==null)for(x=s.onRecoverableError,I=0;I<d.length;I++)x(d[I]);if(zc)throw zc=!1,s=Ia,Ia=null,s;return ud&1&&s.tag!==0&&Xd(),ne=s.pendingLanes,ne&1?s===Eh?Gu++:(Gu=0,Eh=s):Gu=0,Ta(),null}function Xd(){if(dl!==null){var s=ca(ud),d=Jr.transition,x=Ci;try{if(Jr.transition=null,Ci=16>s?16:s,dl===null)var I=!1;else{if(s=dl,dl=null,ud=0,ii&6)throw Error(p(331));var U=ii;for(ii|=4,Er=s.current;Er!==null;){var ne=Er,Pe=ne.child;if(Er.flags&16){var Je=ne.deletions;if(Je!==null){for(var Tt=0;Tt<Je.length;Tt++){var hn=Je[Tt];for(Er=hn;Er!==null;){var kn=Er;switch(kn.tag){case 0:case 11:case 15:gu(8,kn,ne)}var dr=kn.child;if(dr!==null)dr.return=kn,Er=dr;else for(;Er!==null;){kn=Er;var Dr=kn.sibling,Pr=kn.return;if(Nm(kn),kn===hn){Er=null;break}if(Dr!==null){Dr.return=Pr,Er=Dr;break}Er=Pr}}}var Ar=ne.alternate;if(Ar!==null){var Zi=Ar.child;if(Zi!==null){Ar.child=null;do{var on=Zi.sibling;Zi.sibling=null,Zi=on}while(Zi!==null)}}Er=ne}}if(ne.subtreeFlags&2064&&Pe!==null)Pe.return=ne,Er=Pe;else e:for(;Er!==null;){if(ne=Er,ne.flags&2048)switch(ne.tag){case 0:case 11:case 15:gu(9,ne,ne.return)}var Qe=ne.sibling;if(Qe!==null){Qe.return=ne.return,Er=Qe;break e}Er=ne.return}}var tt=s.current;for(Er=tt;Er!==null;){Pe=Er;var kt=Pe.child;if(Pe.subtreeFlags&2064&&kt!==null)kt.return=Pe,Er=kt;else e:for(Pe=tt;Er!==null;){if(Je=Er,Je.flags&2048)try{switch(Je.tag){case 0:case 11:case 15:ga(9,Je)}}catch(sr){fl(Je,Je.return,sr)}if(Je===Pe){Er=null;break e}var In=Je.sibling;if(In!==null){In.return=Je.return,Er=In;break e}Er=Je.return}}if(ii=U,Ta(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Ns,s)}catch{}I=!0}return I}finally{Ci=x,Jr.transition=d}}return!1}function _a(s,d,x){d=Pf(x,d),d=kf(s,d,1),ta(s,d),d=Uo(),s=Js(s,1),s!==null&&(La(s,1,d),Ka(s,d))}function fl(s,d,x){if(s.tag===3)_a(s,s,x);else for(;d!==null;){if(d.tag===3){_a(d,s,x);break}else if(d.tag===1){var I=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof I.componentDidCatch=="function"&&(Xl===null||!Xl.has(I))){s=Pf(x,s),s=np(d,s,1),ta(d,s),s=Uo(),d=Js(d,1),d!==null&&(La(d,1,s),Ka(d,s));break}}d=d.return}}function Rg(s,d,x){var I=s.pingCache;I!==null&&I.delete(d),d=Uo(),s.pingedLanes|=s.suspendedLanes&x,Fi===s&&(Go&x)===x&&(Ps===4||Ps===3&&(Go&130023424)===Go&&500>us()-Df?Gs(s,0):Wl|=x),Ka(s,d)}function Kd(s,d){d===0&&(s.mode&1?(d=fr,fr<<=1,!(fr&130023424)&&(fr=4194304)):d=1);var x=Uo();s=Js(s,d),s!==null&&(La(s,d,x),Ka(s,x))}function Ch(s){var d=s.memoizedState,x=0;d!==null&&(x=d.retryLane),Kd(s,x)}function dp(s,d){var x=0;switch(s.tag){case 13:var I=s.stateNode,U=s.memoizedState;U!==null&&(x=U.retryLane);break;case 19:I=s.stateNode;break;default:throw Error(p(314))}I!==null&&I.delete(d),Kd(s,x)}var Ff;Ff=function(s,d,x){if(s!==null)if(s.memoizedProps!==d.pendingProps||Si.current)lo=!0;else{if(!(s.lanes&x)&&!(d.flags&128))return lo=!1,Dm(s,d,x);lo=!!(s.flags&131072)}else lo=!1,Nr&&d.flags&1048576&&Dn(d,Fs,d.index);switch(d.lanes=0,d.tag){case 2:var I=d.type;s!==null&&(s.alternate=null,d.alternate=null,d.flags|=2),s=d.pendingProps;var U=Ni(d,Hr.current);is(d,x),U=Rd(null,d,I,s,U,x);var ne=al();return d.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ui(I)?(ne=!0,Ee(d)):ne=!1,d.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,du(d),U.updater=Bu,d.stateNode=U,U._reactInternals=d,Fl(d,I,s,x),d=Va(null,d,I,!0,ne,x)):(d.tag=0,Nr&&ne&&cr(d),vs(null,d,U,x),d=d.child),d;case 16:I=d.elementType;e:{switch(s!==null&&(s.alternate=null,d.alternate=null,d.flags|=2),s=d.pendingProps,U=I._init,I=U(I._payload),d.type=I,U=d.tag=Yd(I),s=Ws(I,s),U){case 0:d=fc(null,d,I,s,x);break e;case 1:d=td(null,d,I,s,x);break e;case 11:d=$o(null,d,I,s,x);break e;case 14:d=Ho(null,d,I,Ws(I.type,s),x);break e}throw Error(p(306,I,""))}return d;case 0:return I=d.type,U=d.pendingProps,U=d.elementType===I?U:Ws(I,U),fc(s,d,I,U,x);case 1:return I=d.type,U=d.pendingProps,U=d.elementType===I?U:Ws(I,U),td(s,d,I,U,x);case 3:e:{if(ip(d),s===null)throw Error(p(387));I=d.pendingProps,ne=d.memoizedState,U=ne.element,Xs(s,d),rl(d,I,null,x);var Pe=d.memoizedState;if(I=Pe.element,Ft&&ne.isDehydrated)if(ne={element:I,isDehydrated:!1,cache:Pe.cache,transitions:Pe.transitions},d.updateQueue.baseState=ne,d.memoizedState=ne,d.flags&256){U=Error(p(423)),d=Nd(s,d,I,x,U);break e}else if(I!==U){U=Error(p(424)),d=Nd(s,d,I,x,U);break e}else for(Ft&&(Tr=Tu(d.stateNode.containerInfo),Gr=d,Nr=!0,Fo=null,ao=!1),x=lc(d,null,I,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(sc(),I===U){d=Vl(s,d,x);break e}vs(s,d,I,x)}d=d.child}return d;case 5:return Ao(d),s===null&&il(d),I=d.type,U=d.pendingProps,ne=s!==null?s.memoizedProps:null,Pe=U.children,et(I,U)?Pe=null:ne!==null&&et(I,ne)&&(d.flags|=32),Ga(s,d),vs(s,d,Pe,x),d.child;case 6:return s===null&&il(d),null;case 13:return op(s,d,x);case 4:return Sn(d,d.stateNode.containerInfo),I=d.pendingProps,s===null?d.child=Du(d,null,I,x):vs(s,d,I,x),d.child;case 11:return I=d.type,U=d.pendingProps,U=d.elementType===I?U:Ws(I,U),$o(s,d,I,U,x);case 7:return vs(s,d,d.pendingProps,x),d.child;case 8:return vs(s,d,d.pendingProps.children,x),d.child;case 12:return vs(s,d,d.pendingProps.children,x),d.child;case 10:e:{if(I=d.type._context,U=d.pendingProps,ne=d.memoizedProps,Pe=U.value,cu(d,I,Pe),ne!==null)if(Po(ne.value,Pe)){if(ne.children===U.children&&!Si.current){d=Vl(s,d,x);break e}}else for(ne=d.child,ne!==null&&(ne.return=d);ne!==null;){var Je=ne.dependencies;if(Je!==null){Pe=ne.child;for(var Tt=Je.firstContext;Tt!==null;){if(Tt.context===I){if(ne.tag===1){Tt=_o(-1,x&-x),Tt.tag=2;var hn=ne.updateQueue;if(hn!==null){hn=hn.shared;var kn=hn.pending;kn===null?Tt.next=Tt:(Tt.next=kn.next,kn.next=Tt),hn.pending=Tt}}ne.lanes|=x,Tt=ne.alternate,Tt!==null&&(Tt.lanes|=x),gs(ne.return,x,d),Je.lanes|=x;break}Tt=Tt.next}}else if(ne.tag===10)Pe=ne.type===d.type?null:ne.child;else if(ne.tag===18){if(Pe=ne.return,Pe===null)throw Error(p(341));Pe.lanes|=x,Je=Pe.alternate,Je!==null&&(Je.lanes|=x),gs(Pe,x,d),Pe=ne.sibling}else Pe=ne.child;if(Pe!==null)Pe.return=ne;else for(Pe=ne;Pe!==null;){if(Pe===d){Pe=null;break}if(ne=Pe.sibling,ne!==null){ne.return=Pe.return,Pe=ne;break}Pe=Pe.return}ne=Pe}vs(s,d,U.children,x),d=d.child}return d;case 9:return U=d.type,I=d.pendingProps.children,is(d,x),U=ko(U),I=I(U),d.flags|=1,vs(s,d,I,x),d.child;case 14:return I=d.type,U=Ws(I,d.pendingProps),U=Ws(I.type,U),Ho(s,d,I,U,x);case 15:return ed(s,d,d.type,d.pendingProps,x);case 17:return I=d.type,U=d.pendingProps,U=d.elementType===I?U:Ws(I,U),s!==null&&(s.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Ui(I)?(s=!0,Ee(d)):s=!1,is(d,x),Ic(d,I,U),Fl(d,I,U,x),Va(null,d,I,!0,s,x);case 19:return Gl(s,d,x);case 22:return Ha(s,d,x)}throw Error(p(156,d.tag))};function fp(s,d){return ea(s,d)}function Kl(s,d,x,I){this.tag=s,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=I,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hl(s,d,x,I){return new Kl(s,d,x,I)}function zf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Yd(s){if(typeof s=="function")return zf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===N)return 11;if(s===G)return 14}return 2}function Yl(s,d){var x=s.alternate;return x===null?(x=hl(s.tag,d,s.key,s.mode),x.elementType=s.elementType,x.type=s.type,x.stateNode=s.stateNode,x.alternate=s,s.alternate=x):(x.pendingProps=d,x.type=s.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=s.flags&14680064,x.childLanes=s.childLanes,x.lanes=s.lanes,x.child=s.child,x.memoizedProps=s.memoizedProps,x.memoizedState=s.memoizedState,x.updateQueue=s.updateQueue,d=s.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=s.sibling,x.index=s.index,x.ref=s.ref,x}function vc(s,d,x,I,U,ne){var Pe=2;if(I=s,typeof s=="function")zf(s)&&(Pe=1);else if(typeof s=="string")Pe=5;else e:switch(s){case C:return Xu(x.children,U,ne,d);case k:Pe=8,U|=8;break;case B:return s=hl(12,x,d,U|2),s.elementType=B,s.lanes=ne,s;case D:return s=hl(13,x,d,U),s.elementType=D,s.lanes=ne,s;case A:return s=hl(19,x,d,U),s.elementType=A,s.lanes=ne,s;case ae:return fd(x,U,ne,d);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:Pe=10;break e;case F:Pe=9;break e;case N:Pe=11;break e;case G:Pe=14;break e;case Q:Pe=16,I=null;break e}throw Error(p(130,s==null?s:typeof s,""))}return d=hl(Pe,x,d,U),d.elementType=s,d.type=I,d.lanes=ne,d}function Xu(s,d,x,I){return s=hl(7,s,I,d),s.lanes=x,s}function fd(s,d,x,I){return s=hl(22,s,I,d),s.elementType=ae,s.lanes=x,s.stateNode={},s}function Mh(s,d,x){return s=hl(6,s,null,d),s.lanes=x,s}function Yp(s,d,x){return d=hl(4,s.children!==null?s.children:[],s.key,d),d.lanes=x,d.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},d}function Fm(s,d,x,I,U){this.tag=d,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=fn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=I,this.onRecoverableError=U,Ft&&(this.mutableSourceEagerHydrationData=null)}function Qp(s,d,x,I,U,ne,Pe,Je,Tt){return s=new Fm(s,d,x,Je,Tt),d===1?(d=1,ne===!0&&(d|=8)):d=0,ne=hl(3,null,null,d),s.current=ne,ne.stateNode=s,ne.memoizedState={element:I,isDehydrated:x,cache:null,transitions:null},du(ne),s}function hp(s){if(!s)return ri;s=s._reactInternals;e:{if(Se(s)!==s||s.tag!==1)throw Error(p(170));var d=s;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ui(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(p(171))}if(s.tag===1){var x=s.type;if(Ui(x))return le(s,x,d)}return d}function zm(s){var d=s._reactInternals;if(d===void 0)throw typeof s.render=="function"?Error(p(188)):(s=Object.keys(s).join(","),Error(p(268,s)));return s=Ve(d),s===null?null:s.stateNode}function pp(s,d){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var x=s.retryLane;s.retryLane=x!==0&&x<d?x:d}}function qp(s,d){pp(s,d),(s=s.alternate)&&pp(s,d)}function Og(s){return s=Ve(s),s===null?null:s.stateNode}function S(){return null}return r.attemptContinuousHydration=function(s){if(s.tag===13){var d=Uo();Xa(s,134217728,d),qp(s,134217728)}},r.attemptHydrationAtCurrentPriority=function(s){if(s.tag===13){var d=Uo(),x=Hs(s);Xa(s,x,d),qp(s,x)}},r.attemptSynchronousHydration=function(s){switch(s.tag){case 3:var d=s.stateNode;if(d.current.memoizedState.isDehydrated){var x=$r(d.pendingLanes);x!==0&&(bi(d,x|1),Ka(d,us()),!(ii&6)&&(ld(),Ta()))}break;case 13:var I=Uo();Vd(function(){return Xa(s,1,I)}),qp(s,1)}},r.batchedUpdates=function(s,d){var x=ii;ii|=1;try{return s(d)}finally{ii=x,ii===0&&(ld(),Iu&&Ta())}},r.createComponentSelector=function(s){return{$$typeof:sd,value:s}},r.createContainer=function(s,d,x,I,U,ne,Pe){return Qp(s,d,!1,null,x,I,U,ne,Pe)},r.createHasPseudoClassSelector=function(s){return{$$typeof:Fc,value:s}},r.createHydrationContainer=function(s,d,x,I,U,ne,Pe,Je,Tt){return s=Qp(x,I,!0,s,U,ne,Pe,Je,Tt),s.context=hp(null),x=s.current,I=Uo(),U=Hs(x),ne=_o(I,U),ne.callback=d??null,ta(x,ne),s.current.lanes=U,La(s,U,I),Ka(s,I),s},r.createPortal=function(s,d,x){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:I==null?null:""+I,children:s,containerInfo:d,implementation:x}},r.createRoleSelector=function(s){return{$$typeof:Gd,value:s}},r.createTestNameSelector=function(s){return{$$typeof:pc,value:s}},r.createTextSelector=function(s){return{$$typeof:va,value:s}},r.deferredUpdates=function(s){var d=Ci,x=Jr.transition;try{return Jr.transition=null,Ci=16,s()}finally{Ci=d,Jr.transition=x}},r.discreteUpdates=function(s,d,x,I,U){var ne=Ci,Pe=Jr.transition;try{return Jr.transition=null,Ci=1,s(d,x,I,U)}finally{Ci=ne,Jr.transition=Pe,ii===0&&ld()}},r.findAllNodes=up,r.findBoundingRects=function(s,d){if(!Vr)throw Error(p(363));d=up(s,d),s=[];for(var x=0;x<d.length;x++)s.push(ct(d[x]));for(d=s.length-1;0<d;d--){x=s[d];for(var I=x.x,U=I+x.width,ne=x.y,Pe=ne+x.height,Je=d-1;0<=Je;Je--)if(d!==Je){var Tt=s[Je],hn=Tt.x,kn=hn+Tt.width,dr=Tt.y,Dr=dr+Tt.height;if(I>=hn&&ne>=dr&&U<=kn&&Pe<=Dr){s.splice(d,1);break}else if(I!==hn||x.width!==Tt.width||Dr<ne||dr>Pe){if(!(ne!==dr||x.height!==Tt.height||kn<I||hn>U)){hn>I&&(Tt.width+=hn-I,Tt.x=I),kn<U&&(Tt.width=U-hn),s.splice(d,1);break}}else{dr>ne&&(Tt.height+=dr-ne,Tt.y=ne),Dr<Pe&&(Tt.height=Pe-dr),s.splice(d,1);break}}}return s},r.findHostInstance=zm,r.findHostInstanceWithNoPortals=function(s){return s=_t(s),s=s!==null?ot(s):null,s===null?null:s.stateNode},r.findHostInstanceWithWarning=function(s){return zm(s)},r.flushControlled=function(s){var d=ii;ii|=1;var x=Jr.transition,I=Ci;try{Jr.transition=null,Ci=1,s()}finally{Ci=I,Jr.transition=x,ii=d,ii===0&&(ld(),Ta())}},r.flushPassiveEffects=Xd,r.flushSync=Vd,r.focusWithin=function(s,d){if(!Vr)throw Error(p(363));for(s=xh(s),d=ju(s,d),d=Array.from(d),s=0;s<d.length;){var x=d[s++];if(!Ut(x)){if(x.tag===5&&Fn(x.stateNode))return!0;for(x=x.child;x!==null;)d.push(x),x=x.sibling}}return!1},r.getCurrentUpdatePriority=function(){return Ci},r.getFindAllNodesFailureDescription=function(s,d){if(!Vr)throw Error(p(363));var x=0,I=[];s=[xh(s),0];for(var U=0;U<s.length;){var ne=s[U++],Pe=s[U++],Je=d[Pe];if((ne.tag!==5||!Ut(ne))&&(bh(ne,Je)&&(I.push(vu(Je)),Pe++,Pe>x&&(x=Pe)),Pe<d.length))for(ne=ne.child;ne!==null;)s.push(ne,Pe),ne=ne.sibling}if(x<d.length){for(s=[];x<d.length;x++)s.push(vu(d[x]));return`findAllNodes was able to match part of the selector:
  `+(I.join(" > ")+`

No matching component was found for:
  `)+s.join(" > ")}return null},r.getPublicRootInstance=function(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return mt(s.child.stateNode);default:return s.child.stateNode}},r.injectIntoDevTools=function(s){if(s={bundleType:s.bundleType,version:s.version,rendererPackageName:s.rendererPackageName,rendererConfig:s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:g.ReactCurrentDispatcher,findHostInstanceByFiber:Og,findFiberByHostInstance:s.findFiberByHostInstance||S,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")s=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)s=!0;else{try{Ns=d.inject(s),ji=d}catch{}s=!!d.checkDCE}}return s},r.isAlreadyRendering=function(){return!1},r.observeVisibleRects=function(s,d,x,I){if(!Vr)throw Error(p(363));s=up(s,d);var U=Xn(s,x,I).disconnect;return{disconnect:function(){U()}}},r.registerMutableSourceForHydration=function(s,d){var x=d._getVersion;x=x(d._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[d,x]:s.mutableSourceEagerHydrationData.push(d,x)},r.runWithPriority=function(s,d){var x=Ci;try{return Ci=s,d()}finally{Ci=x}},r.shouldError=function(){return null},r.shouldSuspend=function(){return!1},r.updateContainer=function(s,d,x,I){var U=d.current,ne=Uo(),Pe=Hs(U);return x=hp(x),d.context===null?d.context=x:d.pendingContext=x,d=_o(ne,Pe),d.payload={element:s},I=I===void 0?null:I,I!==null&&(d.callback=I),ta(U,d),s=Xa(U,Pe,ne),s!==null&&Ms(s,U,Pe),Pe},r}}}),Oxe=ns({"../../node_modules/react-reconciler/index.js"(n,e){e.exports=w9e()}}),S9e=ns({"../../node_modules/debounce/index.js"(n,e){function t(r,o,a){var c,p,g,_,b;o==null&&(o=100);function C(){var B=Date.now()-_;B<o&&B>=0?c=setTimeout(C,o-B):(c=null,a||(b=r.apply(g,p),g=p=null))}var k=function(){g=this,p=arguments,_=Date.now();var B=a&&!c;return c||(c=setTimeout(C,o)),B&&(b=r.apply(g,p),g=p=null),b};return k.clear=function(){c&&(clearTimeout(c),c=null)},k.flush=function(){c&&(b=r.apply(g,p),g=p=null,clearTimeout(c),c=null)},k}t.debounce=t,e.exports=t}}),hF=ns({"../../node_modules/zustand/shallow.js"(n){Object.defineProperty(n,"__esModule",{value:!0});function e(t,r){if(Object.is(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t);if(o.length!==Object.keys(r).length)return!1;for(var a=0;a<o.length;a++)if(!Object.prototype.hasOwnProperty.call(r,o[a])||!Object.is(t[o[a]],r[o[a]]))return!1;return!0}n.default=e}}),x9e=ns({"../../node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.min.js"(n){var e=ps();function t(le){for(var Ee="https://reactjs.org/docs/error-decoder.html?invariant="+le,He=1;He<arguments.length;He++)Ee+="&args[]="+encodeURIComponent(arguments[He]);return"Minified React error #"+le+"; visit "+Ee+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=Object.prototype.hasOwnProperty,o=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,a={},c={};function p(le){return r.call(c,le)?!0:r.call(a,le)?!1:o.test(le)?c[le]=!0:(a[le]=!0,!1)}function g(le,Ee,He,lt,Jt,Wt,On){this.acceptsBooleans=Ee===2||Ee===3||Ee===4,this.attributeName=lt,this.attributeNamespace=Jt,this.mustUseProperty=He,this.propertyName=le,this.type=Ee,this.sanitizeURL=Wt,this.removeEmptyString=On}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(le){_[le]=new g(le,0,!1,le,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(le){var Ee=le[0];_[Ee]=new g(Ee,1,!1,le[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(le){_[le]=new g(le,2,!1,le.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(le){_[le]=new g(le,2,!1,le,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(le){_[le]=new g(le,3,!1,le.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(le){_[le]=new g(le,3,!0,le,null,!1,!1)}),["capture","download"].forEach(function(le){_[le]=new g(le,4,!1,le,null,!1,!1)}),["cols","rows","size","span"].forEach(function(le){_[le]=new g(le,6,!1,le,null,!1,!1)}),["rowSpan","start"].forEach(function(le){_[le]=new g(le,5,!1,le.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function C(le){return le[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(le){var Ee=le.replace(b,C);_[Ee]=new g(Ee,1,!1,le,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(le){var Ee=le.replace(b,C);_[Ee]=new g(Ee,1,!1,le,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(le){var Ee=le.replace(b,C);_[Ee]=new g(Ee,1,!1,le,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(le){_[le]=new g(le,1,!1,le.toLowerCase(),null,!1,!1)}),_.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(le){_[le]=new g(le,1,!1,le.toLowerCase(),null,!0,!0)});var k={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B=["Webkit","ms","Moz","O"];Object.keys(k).forEach(function(le){B.forEach(function(Ee){Ee=Ee+le.charAt(0).toUpperCase()+le.substring(1),k[Ee]=k[le]})});var z=/["'&<>]/;function F(le){if(typeof le=="boolean"||typeof le=="number")return""+le;le=""+le;var Ee=z.exec(le);if(Ee){var He="",lt,Jt=0;for(lt=Ee.index;lt<le.length;lt++){switch(le.charCodeAt(lt)){case 34:Ee="&quot;";break;case 38:Ee="&amp;";break;case 39:Ee="&#x27;";break;case 60:Ee="&lt;";break;case 62:Ee="&gt;";break;default:continue}Jt!==lt&&(He+=le.substring(Jt,lt)),Jt=lt+1,He+=Ee}le=Jt!==lt?He+le.substring(Jt,lt):He}return le}var N=/([A-Z])/g,D=/^ms-/,A=Array.isArray;function G(le,Ee){return{insertionMode:le,selectedValue:Ee}}function Q(le,Ee,He){switch(Ee){case"select":return G(1,He.value!=null?He.value:He.defaultValue);case"svg":return G(2,null);case"math":return G(3,null);case"foreignObject":return G(1,null);case"table":return G(4,null);case"thead":case"tbody":case"tfoot":return G(5,null);case"colgroup":return G(7,null);case"tr":return G(6,null)}return 4<=le.insertionMode||le.insertionMode===0?G(1,null):le}var ae=new Map;function Y(le,Ee,He){if(typeof He!="object")throw Error(t(62));Ee=!0;for(var lt in He)if(r.call(He,lt)){var Jt=He[lt];if(Jt!=null&&typeof Jt!="boolean"&&Jt!==""){if(lt.indexOf("--")===0){var Wt=F(lt);Jt=F((""+Jt).trim())}else{Wt=lt;var On=ae.get(Wt);On!==void 0||(On=F(Wt.replace(N,"-$1").toLowerCase().replace(D,"-ms-")),ae.set(Wt,On)),Wt=On,Jt=typeof Jt=="number"?Jt===0||r.call(k,lt)?""+Jt:Jt+"px":F((""+Jt).trim())}Ee?(Ee=!1,le.push(' style="',Wt,":",Jt)):le.push(";",Wt,":",Jt)}}Ee||le.push('"')}function ge(le,Ee,He,lt){switch(He){case"style":Y(le,Ee,lt);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<He.length)||He[0]!=="o"&&He[0]!=="O"||He[1]!=="n"&&He[1]!=="N"){if(Ee=_.hasOwnProperty(He)?_[He]:null,Ee!==null){switch(typeof lt){case"function":case"symbol":return;case"boolean":if(!Ee.acceptsBooleans)return}switch(He=Ee.attributeName,Ee.type){case 3:lt&&le.push(" ",He,'=""');break;case 4:lt===!0?le.push(" ",He,'=""'):lt!==!1&&le.push(" ",He,'="',F(lt),'"');break;case 5:isNaN(lt)||le.push(" ",He,'="',F(lt),'"');break;case 6:!isNaN(lt)&&1<=lt&&le.push(" ",He,'="',F(lt),'"');break;default:Ee.sanitizeURL&&(lt=""+lt),le.push(" ",He,'="',F(lt),'"')}}else if(p(He)){switch(typeof lt){case"function":case"symbol":return;case"boolean":if(Ee=He.toLowerCase().slice(0,5),Ee!=="data-"&&Ee!=="aria-")return}le.push(" ",He,'="',F(lt),'"')}}}function _e(le,Ee,He){if(Ee!=null){if(He!=null)throw Error(t(60));if(typeof Ee!="object"||!("__html"in Ee))throw Error(t(61));Ee=Ee.__html,Ee!=null&&le.push(""+Ee)}}function J(le){var Ee="";return e.Children.forEach(le,function(He){He!=null&&(Ee+=He)}),Ee}function Se(le,Ee,He,lt){le.push(Ve(He));var Jt=He=null,Wt;for(Wt in Ee)if(r.call(Ee,Wt)){var On=Ee[Wt];if(On!=null)switch(Wt){case"children":He=On;break;case"dangerouslySetInnerHTML":Jt=On;break;default:ge(le,lt,Wt,On)}}return le.push(">"),_e(le,Jt,He),typeof He=="string"?(le.push(F(He)),null):He}var Be=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,_t=new Map;function Ve(le){var Ee=_t.get(le);if(Ee===void 0){if(!Be.test(le))throw Error(t(65,le));Ee="<"+le,_t.set(le,Ee)}return Ee}function xe(le,Ee,He,lt,Jt){switch(Ee){case"select":le.push(Ve("select"));var Wt=null,On=null;for(Ii in He)if(r.call(He,Ii)){var ur=He[Ii];if(ur!=null)switch(Ii){case"children":Wt=ur;break;case"dangerouslySetInnerHTML":On=ur;break;case"defaultValue":case"value":break;default:ge(le,lt,Ii,ur)}}return le.push(">"),_e(le,On,Wt),Wt;case"option":On=Jt.selectedValue,le.push(Ve("option"));var fr=ur=null,$r=null,Ii=null;for(Wt in He)if(r.call(He,Wt)){var To=He[Wt];if(To!=null)switch(Wt){case"children":ur=To;break;case"selected":$r=To;break;case"dangerouslySetInnerHTML":Ii=To;break;case"value":fr=To;default:ge(le,lt,Wt,To)}}if(On!=null)if(He=fr!==null?""+fr:J(ur),A(On)){for(lt=0;lt<On.length;lt++)if(""+On[lt]===He){le.push(' selected=""');break}}else""+On===He&&le.push(' selected=""');else $r&&le.push(' selected=""');return le.push(">"),_e(le,Ii,ur),ur;case"textarea":le.push(Ve("textarea")),Ii=On=Wt=null;for(ur in He)if(r.call(He,ur)&&(fr=He[ur],fr!=null))switch(ur){case"children":Ii=fr;break;case"value":Wt=fr;break;case"defaultValue":On=fr;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:ge(le,lt,ur,fr)}if(Wt===null&&On!==null&&(Wt=On),le.push(">"),Ii!=null){if(Wt!=null)throw Error(t(92));if(A(Ii)&&1<Ii.length)throw Error(t(93));Wt=""+Ii}return typeof Wt=="string"&&Wt[0]===`
`&&le.push(`
`),Wt!==null&&le.push(F(""+Wt)),null;case"input":le.push(Ve("input")),fr=Ii=ur=Wt=null;for(On in He)if(r.call(He,On)&&($r=He[On],$r!=null))switch(On){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":fr=$r;break;case"defaultValue":ur=$r;break;case"checked":Ii=$r;break;case"value":Wt=$r;break;default:ge(le,lt,On,$r)}return Ii!==null?ge(le,lt,"checked",Ii):fr!==null&&ge(le,lt,"checked",fr),Wt!==null?ge(le,lt,"value",Wt):ur!==null&&ge(le,lt,"value",ur),le.push("/>"),null;case"menuitem":le.push(Ve("menuitem"));for(var Aa in He)if(r.call(He,Aa)&&(Wt=He[Aa],Wt!=null))switch(Aa){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:ge(le,lt,Aa,Wt)}return le.push(">"),null;case"title":le.push(Ve("title")),Wt=null;for(To in He)if(r.call(He,To)&&(On=He[To],On!=null))switch(To){case"children":Wt=On;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:ge(le,lt,To,On)}return le.push(">"),Wt;case"listing":case"pre":le.push(Ve(Ee)),On=Wt=null;for(fr in He)if(r.call(He,fr)&&(ur=He[fr],ur!=null))switch(fr){case"children":Wt=ur;break;case"dangerouslySetInnerHTML":On=ur;break;default:ge(le,lt,fr,ur)}if(le.push(">"),On!=null){if(Wt!=null)throw Error(t(60));if(typeof On!="object"||!("__html"in On))throw Error(t(61));He=On.__html,He!=null&&(typeof He=="string"&&0<He.length&&He[0]===`
`?le.push(`
`,He):le.push(""+He))}return typeof Wt=="string"&&Wt[0]===`
`&&le.push(`
`),Wt;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":le.push(Ve(Ee));for(var $s in He)if(r.call(He,$s)&&(Wt=He[$s],Wt!=null))switch($s){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,Ee));default:ge(le,lt,$s,Wt)}return le.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Se(le,He,Ee,lt);case"html":return Jt.insertionMode===0&&le.push("<!DOCTYPE html>"),Se(le,He,Ee,lt);default:if(Ee.indexOf("-")===-1&&typeof He.is!="string")return Se(le,He,Ee,lt);le.push(Ve(Ee)),On=Wt=null;for($r in He)if(r.call(He,$r)&&(ur=He[$r],ur!=null))switch($r){case"children":Wt=ur;break;case"dangerouslySetInnerHTML":On=ur;break;case"style":Y(le,lt,ur);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:p($r)&&typeof ur!="function"&&typeof ur!="symbol"&&le.push(" ",$r,'="',F(ur),'"')}return le.push(">"),_e(le,On,Wt),Wt}}function ot(le,Ee,He){if(le.push('<!--$?--><template id="'),He===null)throw Error(t(395));return le.push(He),le.push('"></template>')}function Ze(le,Ee,He,lt){switch(He.insertionMode){case 0:case 1:return le.push('<div hidden id="'),le.push(Ee.segmentPrefix),Ee=lt.toString(16),le.push(Ee),le.push('">');case 2:return le.push('<svg aria-hidden="true" style="display:none" id="'),le.push(Ee.segmentPrefix),Ee=lt.toString(16),le.push(Ee),le.push('">');case 3:return le.push('<math aria-hidden="true" style="display:none" id="'),le.push(Ee.segmentPrefix),Ee=lt.toString(16),le.push(Ee),le.push('">');case 4:return le.push('<table hidden id="'),le.push(Ee.segmentPrefix),Ee=lt.toString(16),le.push(Ee),le.push('">');case 5:return le.push('<table hidden><tbody id="'),le.push(Ee.segmentPrefix),Ee=lt.toString(16),le.push(Ee),le.push('">');case 6:return le.push('<table hidden><tr id="'),le.push(Ee.segmentPrefix),Ee=lt.toString(16),le.push(Ee),le.push('">');case 7:return le.push('<table hidden><colgroup id="'),le.push(Ee.segmentPrefix),Ee=lt.toString(16),le.push(Ee),le.push('">');default:throw Error(t(397))}}function mt(le,Ee){switch(Ee.insertionMode){case 0:case 1:return le.push("</div>");case 2:return le.push("</svg>");case 3:return le.push("</math>");case 4:return le.push("</table>");case 5:return le.push("</tbody></table>");case 6:return le.push("</tr></table>");case 7:return le.push("</colgroup></table>");default:throw Error(t(397))}}var we=/[<\u2028\u2029]/g;function Te(le){return JSON.stringify(le).replace(we,function(Ee){switch(Ee){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function Ae(le,Ee){return Ee=Ee===void 0?"":Ee,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:Ee+"P:",segmentPrefix:Ee+"S:",boundaryPrefix:Ee+"B:",idPrefix:Ee,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:le}}function me(le,Ee,He,lt){return He.generateStaticMarkup?(le.push(F(Ee)),!1):(Ee===""?le=lt:(lt&&le.push("<!-- -->"),le.push(F(Ee)),le=!0),le)}var ce=Object.assign,qe=Symbol.for("react.element"),ht=Symbol.for("react.portal"),wt=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),Nt=Symbol.for("react.profiler"),Ot=Symbol.for("react.provider"),an=Symbol.for("react.context"),fn=Symbol.for("react.forward_ref"),nn=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),Xt=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Zt=Symbol.for("react.scope"),mn=Symbol.for("react.debug_trace_mode"),jn=Symbol.for("react.legacy_hidden"),Wn=Symbol.for("react.default_value"),tr=Symbol.iterator;function _r(le){if(le==null)return null;if(typeof le=="function")return le.displayName||le.name||null;if(typeof le=="string")return le;switch(le){case wt:return"Fragment";case ht:return"Portal";case Nt:return"Profiler";case et:return"StrictMode";case nn:return"Suspense";case Ye:return"SuspenseList"}if(typeof le=="object")switch(le.$$typeof){case an:return(le.displayName||"Context")+".Consumer";case Ot:return(le._context.displayName||"Context")+".Provider";case fn:var Ee=le.render;return le=le.displayName,le||(le=Ee.displayName||Ee.name||"",le=le!==""?"ForwardRef("+le+")":"ForwardRef"),le;case Xt:return Ee=le.displayName||null,Ee!==null?Ee:_r(le.type)||"Memo";case Ft:Ee=le._payload,le=le._init;try{return _r(le(Ee))}catch{}}return null}var Vr={};function si(le,Ee){if(le=le.contextTypes,!le)return Vr;var He={},lt;for(lt in le)He[lt]=Ee[lt];return He}var ct=null;function De(le,Ee){if(le!==Ee){le.context._currentValue2=le.parentValue,le=le.parent;var He=Ee.parent;if(le===null){if(He!==null)throw Error(t(401))}else{if(He===null)throw Error(t(401));De(le,He)}Ee.context._currentValue2=Ee.value}}function Ut(le){le.context._currentValue2=le.parentValue,le=le.parent,le!==null&&Ut(le)}function Kn(le){var Ee=le.parent;Ee!==null&&Kn(Ee),le.context._currentValue2=le.value}function Fn(le,Ee){if(le.context._currentValue2=le.parentValue,le=le.parent,le===null)throw Error(t(402));le.depth===Ee.depth?De(le,Ee):Fn(le,Ee)}function Xn(le,Ee){var He=Ee.parent;if(He===null)throw Error(t(402));le.depth===He.depth?De(le,He):Xn(le,He),Ee.context._currentValue2=Ee.value}function xr(le){var Ee=ct;Ee!==le&&(Ee===null?Kn(le):le===null?Ut(Ee):Ee.depth===le.depth?De(Ee,le):Ee.depth>le.depth?Fn(Ee,le):Xn(Ee,le),ct=le)}var nr={isMounted:function(){return!1},enqueueSetState:function(le,Ee){le=le._reactInternals,le.queue!==null&&le.queue.push(Ee)},enqueueReplaceState:function(le,Ee){le=le._reactInternals,le.replace=!0,le.queue=[Ee]},enqueueForceUpdate:function(){}};function it(le,Ee,He,lt){var Jt=le.state!==void 0?le.state:null;le.updater=nr,le.props=He,le.state=Jt;var Wt={queue:[],replace:!1};le._reactInternals=Wt;var On=Ee.contextType;if(le.context=typeof On=="object"&&On!==null?On._currentValue2:lt,On=Ee.getDerivedStateFromProps,typeof On=="function"&&(On=On(He,Jt),Jt=On==null?Jt:ce({},Jt,On),le.state=Jt),typeof Ee.getDerivedStateFromProps!="function"&&typeof le.getSnapshotBeforeUpdate!="function"&&(typeof le.UNSAFE_componentWillMount=="function"||typeof le.componentWillMount=="function"))if(Ee=le.state,typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount(),Ee!==le.state&&nr.enqueueReplaceState(le,le.state,null),Wt.queue!==null&&0<Wt.queue.length)if(Ee=Wt.queue,On=Wt.replace,Wt.queue=null,Wt.replace=!1,On&&Ee.length===1)le.state=Ee[0];else{for(Wt=On?Ee[0]:le.state,Jt=!0,On=On?1:0;On<Ee.length;On++){var ur=Ee[On];ur=typeof ur=="function"?ur.call(le,Wt,He,lt):ur,ur!=null&&(Jt?(Jt=!1,Wt=ce({},Wt,ur)):ce(Wt,ur))}le.state=Wt}else Wt.queue=null}var En={id:1,overflow:""};function Ln(le,Ee,He){var lt=le.id;le=le.overflow;var Jt=32-Yn(lt)-1;lt&=~(1<<Jt),He+=1;var Wt=32-Yn(Ee)+Jt;if(30<Wt){var On=Jt-Jt%5;return Wt=(lt&(1<<On)-1).toString(32),lt>>=On,Jt-=On,{id:1<<32-Yn(Ee)+Jt|He<<Jt|lt,overflow:Wt+le}}return{id:1<<Wt|He<<Jt|lt,overflow:le}}var Yn=Math.clz32?Math.clz32:Wr,br=Math.log,vr=Math.LN2;function Wr(le){return le>>>=0,le===0?32:31-(br(le)/vr|0)|0}function ci(le,Ee){return le===Ee&&(le!==0||1/le===1/Ee)||le!==le&&Ee!==Ee}var Ct=typeof Object.is=="function"?Object.is:ci,Kt=null,gn=null,rr=null,Gn=null,Ei=!1,so=!1,eo=0,Vo=null,Li=0;function qi(){if(Kt===null)throw Error(t(321));return Kt}function po(){if(0<Li)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function ba(){return Gn===null?rr===null?(Ei=!1,rr=Gn=po()):(Ei=!0,Gn=rr):Gn.next===null?(Ei=!1,Gn=Gn.next=po()):(Ei=!0,Gn=Gn.next),Gn}function tl(){gn=Kt=null,so=!1,rr=null,Li=0,Gn=Vo=null}function Ds(le,Ee){return typeof Ee=="function"?Ee(le):Ee}function ua(le,Ee,He){if(Kt=qi(),Gn=ba(),Ei){var lt=Gn.queue;if(Ee=lt.dispatch,Vo!==null&&(He=Vo.get(lt),He!==void 0)){Vo.delete(lt),lt=Gn.memoizedState;do lt=le(lt,He.action),He=He.next;while(He!==null);return Gn.memoizedState=lt,[lt,Ee]}return[Gn.memoizedState,Ee]}return le=le===Ds?typeof Ee=="function"?Ee():Ee:He!==void 0?He(Ee):Ee,Gn.memoizedState=le,le=Gn.queue={last:null,dispatch:null},le=le.dispatch=ms.bind(null,Kt,le),[Gn.memoizedState,le]}function Cs(le,Ee){if(Kt=qi(),Gn=ba(),Ee=Ee===void 0?null:Ee,Gn!==null){var He=Gn.memoizedState;if(He!==null&&Ee!==null){var lt=He[1];e:if(lt===null)lt=!1;else{for(var Jt=0;Jt<lt.length&&Jt<Ee.length;Jt++)if(!Ct(Ee[Jt],lt[Jt])){lt=!1;break e}lt=!0}if(lt)return He[0]}}return le=le(),Gn.memoizedState=[le,Ee],le}function ms(le,Ee,He){if(25<=Li)throw Error(t(301));if(le===Kt)if(so=!0,le={action:He,next:null},Vo===null&&(Vo=new Map),He=Vo.get(Ee),He===void 0)Vo.set(Ee,le);else{for(Ee=He;Ee.next!==null;)Ee=Ee.next;Ee.next=le}}function di(){throw Error(t(394))}function Ea(){}var Tu={readContext:function(le){return le._currentValue2},useContext:function(le){return qi(),le._currentValue2},useMemo:Cs,useReducer:ua,useRef:function(le){Kt=qi(),Gn=ba();var Ee=Gn.memoizedState;return Ee===null?(le={current:le},Gn.memoizedState=le):Ee},useState:function(le){return ua(Ds,le)},useInsertionEffect:Ea,useLayoutEffect:function(){},useCallback:function(le,Ee){return Cs(function(){return le},Ee)},useImperativeHandle:Ea,useEffect:Ea,useDebugValue:Ea,useDeferredValue:function(le){return qi(),le},useTransition:function(){return qi(),[!1,di]},useId:function(){var le=gn.treeContext,Ee=le.overflow;le=le.id,le=(le&~(1<<32-Yn(le)-1)).toString(32)+Ee;var He=Re;if(He===null)throw Error(t(404));return Ee=eo++,le=":"+He.idPrefix+"R"+le,0<Ee&&(le+="H"+Ee.toString(32)),le+":"},useMutableSource:function(le,Ee){return qi(),Ee(le._source)},useSyncExternalStore:function(le,Ee,He){if(He===void 0)throw Error(t(407));return He()}},Re=null,de=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Fe(le){return console.error(le),null}function dt(){}function at(le,Ee,He,lt,Jt,Wt,On,ur,fr){var $r=[],Ii=new Set;return Ee={destination:null,responseState:Ee,progressiveChunkSize:lt===void 0?12800:lt,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Ii,pingedTasks:$r,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:Jt===void 0?Fe:Jt,onAllReady:Wt===void 0?dt:Wt,onShellReady:On===void 0?dt:On,onShellError:ur===void 0?dt:ur,onFatalError:fr===void 0?dt:fr},He=tn(Ee,0,null,He,!1,!1),He.parentFlushed=!0,le=vt(Ee,le,null,He,Ii,Vr,null,En),$r.push(le),Ee}function vt(le,Ee,He,lt,Jt,Wt,On,ur){le.allPendingTasks++,He===null?le.pendingRootTasks++:He.pendingTasks++;var fr={node:Ee,ping:function(){var $r=le.pingedTasks;$r.push(fr),$r.length===1&&Qn(le)},blockedBoundary:He,blockedSegment:lt,abortSet:Jt,legacyContext:Wt,context:On,treeContext:ur};return Jt.add(fr),fr}function tn(le,Ee,He,lt,Jt,Wt){return{status:0,id:-1,index:Ee,parentFlushed:!1,chunks:[],children:[],formatContext:lt,boundary:He,lastPushedText:Jt,textEmbedded:Wt}}function rn(le,Ee){if(le=le.onError(Ee),le!=null&&typeof le!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof le+'" instead');return le}function Tn(le,Ee){var He=le.onShellError;He(Ee),He=le.onFatalError,He(Ee),le.destination!==null?(le.status=2,le.destination.destroy(Ee)):(le.status=1,le.fatalError=Ee)}function Mn(le,Ee,He,lt,Jt){for(Kt={},gn=Ee,eo=0,le=He(lt,Jt);so;)so=!1,eo=0,Li+=1,Gn=null,le=He(lt,Jt);return tl(),le}function Bn(le,Ee,He,lt){var Jt=He.render(),Wt=lt.childContextTypes;if(Wt!=null){var On=Ee.legacyContext;if(typeof He.getChildContext!="function")lt=On;else{He=He.getChildContext();for(var ur in He)if(!(ur in Wt))throw Error(t(108,_r(lt)||"Unknown",ur));lt=ce({},On,He)}Ee.legacyContext=lt,qn(le,Ee,Jt),Ee.legacyContext=On}else qn(le,Ee,Jt)}function Cn(le,Ee){if(le&&le.defaultProps){Ee=ce({},Ee),le=le.defaultProps;for(var He in le)Ee[He]===void 0&&(Ee[He]=le[He]);return Ee}return Ee}function ir(le,Ee,He,lt,Jt){if(typeof He=="function")if(He.prototype&&He.prototype.isReactComponent){Jt=si(He,Ee.legacyContext);var Wt=He.contextType;Wt=new He(lt,typeof Wt=="object"&&Wt!==null?Wt._currentValue2:Jt),it(Wt,He,lt,Jt),Bn(le,Ee,Wt,He)}else{Wt=si(He,Ee.legacyContext),Jt=Mn(le,Ee,He,lt,Wt);var On=eo!==0;if(typeof Jt=="object"&&Jt!==null&&typeof Jt.render=="function"&&Jt.$$typeof===void 0)it(Jt,He,lt,Wt),Bn(le,Ee,Jt,He);else if(On){lt=Ee.treeContext,Ee.treeContext=Ln(lt,1,0);try{qn(le,Ee,Jt)}finally{Ee.treeContext=lt}}else qn(le,Ee,Jt)}else if(typeof He=="string"){switch(Jt=Ee.blockedSegment,Wt=xe(Jt.chunks,He,lt,le.responseState,Jt.formatContext),Jt.lastPushedText=!1,On=Jt.formatContext,Jt.formatContext=Q(On,He,lt),Lr(le,Ee,Wt),Jt.formatContext=On,He){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:Jt.chunks.push("</",He,">")}Jt.lastPushedText=!1}else{switch(He){case jn:case mn:case et:case Nt:case wt:qn(le,Ee,lt.children);return;case Ye:qn(le,Ee,lt.children);return;case Zt:throw Error(t(343));case nn:e:{He=Ee.blockedBoundary,Jt=Ee.blockedSegment,Wt=lt.fallback,lt=lt.children,On=new Set;var ur={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:On,errorDigest:null},fr=tn(le,Jt.chunks.length,ur,Jt.formatContext,!1,!1);Jt.children.push(fr),Jt.lastPushedText=!1;var $r=tn(le,0,null,Jt.formatContext,!1,!1);$r.parentFlushed=!0,Ee.blockedBoundary=ur,Ee.blockedSegment=$r;try{if(Lr(le,Ee,lt),le.responseState.generateStaticMarkup||$r.lastPushedText&&$r.textEmbedded&&$r.chunks.push("<!-- -->"),$r.status=1,wr(ur,$r),ur.pendingTasks===0)break e}catch(Ii){$r.status=4,ur.forceClientRender=!0,ur.errorDigest=rn(le,Ii)}finally{Ee.blockedBoundary=He,Ee.blockedSegment=Jt}Ee=vt(le,Wt,He,fr,On,Ee.legacyContext,Ee.context,Ee.treeContext),le.pingedTasks.push(Ee)}return}if(typeof He=="object"&&He!==null)switch(He.$$typeof){case fn:if(lt=Mn(le,Ee,He.render,lt,Jt),eo!==0){He=Ee.treeContext,Ee.treeContext=Ln(He,1,0);try{qn(le,Ee,lt)}finally{Ee.treeContext=He}}else qn(le,Ee,lt);return;case Xt:He=He.type,lt=Cn(He,lt),ir(le,Ee,He,lt,Jt);return;case Ot:if(Jt=lt.children,He=He._context,lt=lt.value,Wt=He._currentValue2,He._currentValue2=lt,On=ct,ct=lt={parent:On,depth:On===null?0:On.depth+1,context:He,parentValue:Wt,value:lt},Ee.context=lt,qn(le,Ee,Jt),le=ct,le===null)throw Error(t(403));lt=le.parentValue,le.context._currentValue2=lt===Wn?le.context._defaultValue:lt,le=ct=le.parent,Ee.context=le;return;case an:lt=lt.children,lt=lt(He._currentValue2),qn(le,Ee,lt);return;case Ft:Jt=He._init,He=Jt(He._payload),lt=Cn(He,lt),ir(le,Ee,He,lt,void 0);return}throw Error(t(130,He==null?He:typeof He,""))}}function qn(le,Ee,He){if(Ee.node=He,typeof He=="object"&&He!==null){switch(He.$$typeof){case qe:ir(le,Ee,He.type,He.props,He.ref);return;case ht:throw Error(t(257));case Ft:var lt=He._init;He=lt(He._payload),qn(le,Ee,He);return}if(A(He)){lr(le,Ee,He);return}if(He===null||typeof He!="object"?lt=null:(lt=tr&&He[tr]||He["@@iterator"],lt=typeof lt=="function"?lt:null),lt&&(lt=lt.call(He))){if(He=lt.next(),!He.done){var Jt=[];do Jt.push(He.value),He=lt.next();while(!He.done);lr(le,Ee,Jt)}return}throw le=Object.prototype.toString.call(He),Error(t(31,le==="[object Object]"?"object with keys {"+Object.keys(He).join(", ")+"}":le))}typeof He=="string"?(lt=Ee.blockedSegment,lt.lastPushedText=me(Ee.blockedSegment.chunks,He,le.responseState,lt.lastPushedText)):typeof He=="number"&&(lt=Ee.blockedSegment,lt.lastPushedText=me(Ee.blockedSegment.chunks,""+He,le.responseState,lt.lastPushedText))}function lr(le,Ee,He){for(var lt=He.length,Jt=0;Jt<lt;Jt++){var Wt=Ee.treeContext;Ee.treeContext=Ln(Wt,lt,Jt);try{Lr(le,Ee,He[Jt])}finally{Ee.treeContext=Wt}}}function Lr(le,Ee,He){var lt=Ee.blockedSegment.formatContext,Jt=Ee.legacyContext,Wt=Ee.context;try{return qn(le,Ee,He)}catch(fr){if(tl(),typeof fr=="object"&&fr!==null&&typeof fr.then=="function"){He=fr;var On=Ee.blockedSegment,ur=tn(le,On.chunks.length,null,On.formatContext,On.lastPushedText,!0);On.children.push(ur),On.lastPushedText=!1,le=vt(le,Ee.node,Ee.blockedBoundary,ur,Ee.abortSet,Ee.legacyContext,Ee.context,Ee.treeContext).ping,He.then(le,le),Ee.blockedSegment.formatContext=lt,Ee.legacyContext=Jt,Ee.context=Wt,xr(Wt)}else throw Ee.blockedSegment.formatContext=lt,Ee.legacyContext=Jt,Ee.context=Wt,xr(Wt),fr}}function Zr(le){var Ee=le.blockedBoundary;le=le.blockedSegment,le.status=3,jr(this,Ee,le)}function Qr(le,Ee,He){var lt=le.blockedBoundary;le.blockedSegment.status=3,lt===null?(Ee.allPendingTasks--,Ee.status!==2&&(Ee.status=2,Ee.destination!==null&&Ee.destination.push(null))):(lt.pendingTasks--,lt.forceClientRender||(lt.forceClientRender=!0,le=He===void 0?Error(t(432)):He,lt.errorDigest=Ee.onError(le),lt.parentFlushed&&Ee.clientRenderedBoundaries.push(lt)),lt.fallbackAbortableTasks.forEach(function(Jt){return Qr(Jt,Ee,He)}),lt.fallbackAbortableTasks.clear(),Ee.allPendingTasks--,Ee.allPendingTasks===0&&(lt=Ee.onAllReady,lt()))}function wr(le,Ee){if(Ee.chunks.length===0&&Ee.children.length===1&&Ee.children[0].boundary===null){var He=Ee.children[0];He.id=Ee.id,He.parentFlushed=!0,He.status===1&&wr(le,He)}else le.completedSegments.push(Ee)}function jr(le,Ee,He){if(Ee===null){if(He.parentFlushed){if(le.completedRootSegment!==null)throw Error(t(389));le.completedRootSegment=He}le.pendingRootTasks--,le.pendingRootTasks===0&&(le.onShellError=dt,Ee=le.onShellReady,Ee())}else Ee.pendingTasks--,Ee.forceClientRender||(Ee.pendingTasks===0?(He.parentFlushed&&He.status===1&&wr(Ee,He),Ee.parentFlushed&&le.completedBoundaries.push(Ee),Ee.fallbackAbortableTasks.forEach(Zr,le),Ee.fallbackAbortableTasks.clear()):He.parentFlushed&&He.status===1&&(wr(Ee,He),Ee.completedSegments.length===1&&Ee.parentFlushed&&le.partialBoundaries.push(Ee)));le.allPendingTasks--,le.allPendingTasks===0&&(le=le.onAllReady,le())}function Qn(le){if(le.status!==2){var Ee=ct,He=de.current;de.current=Tu;var lt=Re;Re=le.responseState;try{var Jt=le.pingedTasks,Wt;for(Wt=0;Wt<Jt.length;Wt++){var On=Jt[Wt],ur=le,fr=On.blockedSegment;if(fr.status===0){xr(On.context);try{qn(ur,On,On.node),ur.responseState.generateStaticMarkup||fr.lastPushedText&&fr.textEmbedded&&fr.chunks.push("<!-- -->"),On.abortSet.delete(On),fr.status=1,jr(ur,On.blockedBoundary,fr)}catch(No){if(tl(),typeof No=="object"&&No!==null&&typeof No.then=="function"){var $r=On.ping;No.then($r,$r)}else{On.abortSet.delete(On),fr.status=4;var Ii=On.blockedBoundary,To=No,Aa=rn(ur,To);if(Ii===null?Tn(ur,To):(Ii.pendingTasks--,Ii.forceClientRender||(Ii.forceClientRender=!0,Ii.errorDigest=Aa,Ii.parentFlushed&&ur.clientRenderedBoundaries.push(Ii))),ur.allPendingTasks--,ur.allPendingTasks===0){var $s=ur.onAllReady;$s()}}}finally{}}}Jt.splice(0,Wt),le.destination!==null&&Ni(le,le.destination)}catch(No){rn(le,No),Tn(le,No)}finally{Re=lt,de.current=He,He===Tu&&xr(Ee)}}}function Br(le,Ee,He){switch(He.parentFlushed=!0,He.status){case 0:var lt=He.id=le.nextSegmentId++;return He.lastPushedText=!1,He.textEmbedded=!1,le=le.responseState,Ee.push('<template id="'),Ee.push(le.placeholderPrefix),le=lt.toString(16),Ee.push(le),Ee.push('"></template>');case 1:He.status=2;var Jt=!0;lt=He.chunks;var Wt=0;He=He.children;for(var On=0;On<He.length;On++){for(Jt=He[On];Wt<Jt.index;Wt++)Ee.push(lt[Wt]);Jt=ri(le,Ee,Jt)}for(;Wt<lt.length-1;Wt++)Ee.push(lt[Wt]);return Wt<lt.length&&(Jt=Ee.push(lt[Wt])),Jt;default:throw Error(t(390))}}function ri(le,Ee,He){var lt=He.boundary;if(lt===null)return Br(le,Ee,He);if(lt.parentFlushed=!0,lt.forceClientRender)return le.responseState.generateStaticMarkup||(lt=lt.errorDigest,Ee.push("<!--$!-->"),Ee.push("<template"),lt&&(Ee.push(' data-dgst="'),lt=F(lt),Ee.push(lt),Ee.push('"')),Ee.push("></template>")),Br(le,Ee,He),le=le.responseState.generateStaticMarkup?!0:Ee.push("<!--/$-->"),le;if(0<lt.pendingTasks){lt.rootSegmentID=le.nextSegmentId++,0<lt.completedSegments.length&&le.partialBoundaries.push(lt);var Jt=le.responseState,Wt=Jt.nextSuspenseID++;return Jt=Jt.boundaryPrefix+Wt.toString(16),lt=lt.id=Jt,ot(Ee,le.responseState,lt),Br(le,Ee,He),Ee.push("<!--/$-->")}if(lt.byteSize>le.progressiveChunkSize)return lt.rootSegmentID=le.nextSegmentId++,le.completedBoundaries.push(lt),ot(Ee,le.responseState,lt.id),Br(le,Ee,He),Ee.push("<!--/$-->");if(le.responseState.generateStaticMarkup||Ee.push("<!--$-->"),He=lt.completedSegments,He.length!==1)throw Error(t(391));return ri(le,Ee,He[0]),le=le.responseState.generateStaticMarkup?!0:Ee.push("<!--/$-->"),le}function Hr(le,Ee,He){return Ze(Ee,le.responseState,He.formatContext,He.id),ri(le,Ee,He),mt(Ee,He.formatContext)}function Si(le,Ee,He){for(var lt=He.completedSegments,Jt=0;Jt<lt.length;Jt++)Ai(le,Ee,He,lt[Jt]);if(lt.length=0,le=le.responseState,lt=He.id,He=He.rootSegmentID,Ee.push(le.startInlineScript),le.sentCompleteBoundaryFunction?Ee.push('$RC("'):(le.sentCompleteBoundaryFunction=!0,Ee.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),lt===null)throw Error(t(395));return He=He.toString(16),Ee.push(lt),Ee.push('","'),Ee.push(le.segmentPrefix),Ee.push(He),Ee.push('")<\/script>')}function Ai(le,Ee,He,lt){if(lt.status===2)return!0;var Jt=lt.id;if(Jt===-1){if((lt.id=He.rootSegmentID)===-1)throw Error(t(392));return Hr(le,Ee,lt)}return Hr(le,Ee,lt),le=le.responseState,Ee.push(le.startInlineScript),le.sentCompleteSegmentFunction?Ee.push('$RS("'):(le.sentCompleteSegmentFunction=!0,Ee.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),Ee.push(le.segmentPrefix),Jt=Jt.toString(16),Ee.push(Jt),Ee.push('","'),Ee.push(le.placeholderPrefix),Ee.push(Jt),Ee.push('")<\/script>')}function Ni(le,Ee){try{var He=le.completedRootSegment;if(He!==null&&le.pendingRootTasks===0){ri(le,Ee,He),le.completedRootSegment=null;var lt=le.responseState.bootstrapChunks;for(He=0;He<lt.length-1;He++)Ee.push(lt[He]);He<lt.length&&Ee.push(lt[He])}var Jt=le.clientRenderedBoundaries,Wt;for(Wt=0;Wt<Jt.length;Wt++){var On=Jt[Wt];lt=Ee;var ur=le.responseState,fr=On.id,$r=On.errorDigest,Ii=On.errorMessage,To=On.errorComponentStack;if(lt.push(ur.startInlineScript),ur.sentClientRenderFunction?lt.push('$RX("'):(ur.sentClientRenderFunction=!0,lt.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),fr===null)throw Error(t(395));if(lt.push(fr),lt.push('"'),$r||Ii||To){lt.push(",");var Aa=Te($r||"");lt.push(Aa)}if(Ii||To){lt.push(",");var $s=Te(Ii||"");lt.push($s)}if(To){lt.push(",");var No=Te(To);lt.push(No)}if(!lt.push(")<\/script>")){le.destination=null,Wt++,Jt.splice(0,Wt);return}}Jt.splice(0,Wt);var La=le.completedBoundaries;for(Wt=0;Wt<La.length;Wt++)if(!Si(le,Ee,La[Wt])){le.destination=null,Wt++,La.splice(0,Wt);return}La.splice(0,Wt);var Na=le.partialBoundaries;for(Wt=0;Wt<Na.length;Wt++){var bi=Na[Wt];e:{Jt=le,On=Ee;var Ci=bi.completedSegments;for(ur=0;ur<Ci.length;ur++)if(!Ai(Jt,On,bi,Ci[ur])){ur++,Ci.splice(0,ur);var ca=!1;break e}Ci.splice(0,ur),ca=!0}if(!ca){le.destination=null,Wt++,Na.splice(0,Wt);return}}Na.splice(0,Wt);var ea=le.completedBoundaries;for(Wt=0;Wt<ea.length;Wt++)if(!Si(le,Ee,ea[Wt])){le.destination=null,Wt++,ea.splice(0,Wt);return}ea.splice(0,Wt)}finally{le.allPendingTasks===0&&le.pingedTasks.length===0&&le.clientRenderedBoundaries.length===0&&le.completedBoundaries.length===0&&Ee.push(null)}}function Ui(le,Ee){try{var He=le.abortableTasks;He.forEach(function(lt){return Qr(lt,le,Ee)}),He.clear(),le.destination!==null&&Ni(le,le.destination)}catch(lt){rn(le,lt),Tn(le,lt)}}function ai(){}function wo(le,Ee,He,lt){var Jt=!1,Wt=null,On="",ur={push:function($r){return $r!==null&&(On+=$r),!0},destroy:function($r){Jt=!0,Wt=$r}},fr=!1;if(le=at(le,Ae(He,Ee?Ee.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,ai,void 0,function(){fr=!0},void 0,void 0),Qn(le),Ui(le,lt),le.status===1)le.status=2,ur.destroy(le.fatalError);else if(le.status!==2&&le.destination===null){le.destination=ur;try{Ni(le,ur)}catch($r){rn(le,$r),Tn(le,$r)}}if(Jt)throw Wt;if(!fr)throw Error(t(426));return On}n.renderToNodeStream=function(){throw Error(t(207))},n.renderToStaticMarkup=function(le,Ee){return wo(le,Ee,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},n.renderToStaticNodeStream=function(){throw Error(t(208))},n.renderToString=function(le,Ee){return wo(le,Ee,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},n.version="18.2.0"}}),b9e=ns({"../../node_modules/react-dom/cjs/react-dom-server.browser.production.min.js"(n){var e=ps();function t(ue){for(var Ce="https://reactjs.org/docs/error-decoder.html?invariant="+ue,Ge=1;Ge<arguments.length;Ge++)Ce+="&args[]="+encodeURIComponent(arguments[Ge]);return"Minified React error #"+ue+"; visit "+Ce+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=null,o=0;function a(ue,Ce){if(Ce.length!==0)if(512<Ce.length)0<o&&(ue.enqueue(new Uint8Array(r.buffer,0,o)),r=new Uint8Array(512),o=0),ue.enqueue(Ce);else{var Ge=r.length-o;Ge<Ce.length&&(Ge===0?ue.enqueue(r):(r.set(Ce.subarray(0,Ge),o),ue.enqueue(r),Ce=Ce.subarray(Ge)),r=new Uint8Array(512),o=0),r.set(Ce,o),o+=Ce.length}}function c(ue,Ce){return a(ue,Ce),!0}function p(ue){r&&0<o&&(ue.enqueue(new Uint8Array(r.buffer,0,o)),r=null,o=0)}var g=new TextEncoder;function _(ue){return g.encode(ue)}function b(ue){return g.encode(ue)}function C(ue,Ce){typeof ue.error=="function"?ue.error(Ce):ue.close()}var k=Object.prototype.hasOwnProperty,B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z={},F={};function N(ue){return k.call(F,ue)?!0:k.call(z,ue)?!1:B.test(ue)?F[ue]=!0:(z[ue]=!0,!1)}function D(ue,Ce,Ge,ut,$t,jt,Dn){this.acceptsBooleans=Ce===2||Ce===3||Ce===4,this.attributeName=ut,this.attributeNamespace=$t,this.mustUseProperty=Ge,this.propertyName=ue,this.type=Ce,this.sanitizeURL=jt,this.removeEmptyString=Dn}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ue){A[ue]=new D(ue,0,!1,ue,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ue){var Ce=ue[0];A[Ce]=new D(Ce,1,!1,ue[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(ue){A[ue]=new D(ue,2,!1,ue.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ue){A[ue]=new D(ue,2,!1,ue,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ue){A[ue]=new D(ue,3,!1,ue.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(ue){A[ue]=new D(ue,3,!0,ue,null,!1,!1)}),["capture","download"].forEach(function(ue){A[ue]=new D(ue,4,!1,ue,null,!1,!1)}),["cols","rows","size","span"].forEach(function(ue){A[ue]=new D(ue,6,!1,ue,null,!1,!1)}),["rowSpan","start"].forEach(function(ue){A[ue]=new D(ue,5,!1,ue.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function Q(ue){return ue[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ue){var Ce=ue.replace(G,Q);A[Ce]=new D(Ce,1,!1,ue,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ue){var Ce=ue.replace(G,Q);A[Ce]=new D(Ce,1,!1,ue,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(ue){var Ce=ue.replace(G,Q);A[Ce]=new D(Ce,1,!1,ue,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(ue){A[ue]=new D(ue,1,!1,ue.toLowerCase(),null,!1,!1)}),A.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(ue){A[ue]=new D(ue,1,!1,ue.toLowerCase(),null,!0,!0)});var ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(ue){Y.forEach(function(Ce){Ce=Ce+ue.charAt(0).toUpperCase()+ue.substring(1),ae[Ce]=ae[ue]})});var ge=/["'&<>]/;function _e(ue){if(typeof ue=="boolean"||typeof ue=="number")return""+ue;ue=""+ue;var Ce=ge.exec(ue);if(Ce){var Ge="",ut,$t=0;for(ut=Ce.index;ut<ue.length;ut++){switch(ue.charCodeAt(ut)){case 34:Ce="&quot;";break;case 38:Ce="&amp;";break;case 39:Ce="&#x27;";break;case 60:Ce="&lt;";break;case 62:Ce="&gt;";break;default:continue}$t!==ut&&(Ge+=ue.substring($t,ut)),$t=ut+1,Ge+=Ce}ue=$t!==ut?Ge+ue.substring($t,ut):Ge}return ue}var J=/([A-Z])/g,Se=/^ms-/,Be=Array.isArray,_t=b("<script>"),Ve=b("<\/script>"),xe=b('<script src="'),ot=b('<script type="module" src="'),Ze=b('" async=""><\/script>'),mt=/(<\/|<)(s)(cript)/gi;function we(ue,Ce,Ge,ut){return""+Ce+(Ge==="s"?"\\u0073":"\\u0053")+ut}function Te(ue,Ce,Ge,ut,$t){ue=ue===void 0?"":ue,Ce=Ce===void 0?_t:b('<script nonce="'+_e(Ce)+'">');var jt=[];if(Ge!==void 0&&jt.push(Ce,_((""+Ge).replace(mt,we)),Ve),ut!==void 0)for(Ge=0;Ge<ut.length;Ge++)jt.push(xe,_(_e(ut[Ge])),Ze);if($t!==void 0)for(ut=0;ut<$t.length;ut++)jt.push(ot,_(_e($t[ut])),Ze);return{bootstrapChunks:jt,startInlineScript:Ce,placeholderPrefix:b(ue+"P:"),segmentPrefix:b(ue+"S:"),boundaryPrefix:ue+"B:",idPrefix:ue,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Ae(ue,Ce){return{insertionMode:ue,selectedValue:Ce}}function me(ue){return Ae(ue==="http://www.w3.org/2000/svg"?2:ue==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function ce(ue,Ce,Ge){switch(Ce){case"select":return Ae(1,Ge.value!=null?Ge.value:Ge.defaultValue);case"svg":return Ae(2,null);case"math":return Ae(3,null);case"foreignObject":return Ae(1,null);case"table":return Ae(4,null);case"thead":case"tbody":case"tfoot":return Ae(5,null);case"colgroup":return Ae(7,null);case"tr":return Ae(6,null)}return 4<=ue.insertionMode||ue.insertionMode===0?Ae(1,null):ue}var qe=b("<!-- -->");function ht(ue,Ce,Ge,ut){return Ce===""?ut:(ut&&ue.push(qe),ue.push(_(_e(Ce))),!0)}var wt=new Map,et=b(' style="'),Nt=b(":"),Ot=b(";");function an(ue,Ce,Ge){if(typeof Ge!="object")throw Error(t(62));Ce=!0;for(var ut in Ge)if(k.call(Ge,ut)){var $t=Ge[ut];if($t!=null&&typeof $t!="boolean"&&$t!==""){if(ut.indexOf("--")===0){var jt=_(_e(ut));$t=_(_e((""+$t).trim()))}else{jt=ut;var Dn=wt.get(jt);Dn!==void 0||(Dn=b(_e(jt.replace(J,"-$1").toLowerCase().replace(Se,"-ms-"))),wt.set(jt,Dn)),jt=Dn,$t=typeof $t=="number"?$t===0||k.call(ae,ut)?_(""+$t):_($t+"px"):_(_e((""+$t).trim()))}Ce?(Ce=!1,ue.push(et,jt,Nt,$t)):ue.push(Ot,jt,Nt,$t)}}Ce||ue.push(Ye)}var fn=b(" "),nn=b('="'),Ye=b('"'),Xt=b('=""');function Ft(ue,Ce,Ge,ut){switch(Ge){case"style":an(ue,Ce,ut);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<Ge.length)||Ge[0]!=="o"&&Ge[0]!=="O"||Ge[1]!=="n"&&Ge[1]!=="N"){if(Ce=A.hasOwnProperty(Ge)?A[Ge]:null,Ce!==null){switch(typeof ut){case"function":case"symbol":return;case"boolean":if(!Ce.acceptsBooleans)return}switch(Ge=_(Ce.attributeName),Ce.type){case 3:ut&&ue.push(fn,Ge,Xt);break;case 4:ut===!0?ue.push(fn,Ge,Xt):ut!==!1&&ue.push(fn,Ge,nn,_(_e(ut)),Ye);break;case 5:isNaN(ut)||ue.push(fn,Ge,nn,_(_e(ut)),Ye);break;case 6:!isNaN(ut)&&1<=ut&&ue.push(fn,Ge,nn,_(_e(ut)),Ye);break;default:Ce.sanitizeURL&&(ut=""+ut),ue.push(fn,Ge,nn,_(_e(ut)),Ye)}}else if(N(Ge)){switch(typeof ut){case"function":case"symbol":return;case"boolean":if(Ce=Ge.toLowerCase().slice(0,5),Ce!=="data-"&&Ce!=="aria-")return}ue.push(fn,_(Ge),nn,_(_e(ut)),Ye)}}}var Zt=b(">"),mn=b("/>");function jn(ue,Ce,Ge){if(Ce!=null){if(Ge!=null)throw Error(t(60));if(typeof Ce!="object"||!("__html"in Ce))throw Error(t(61));Ce=Ce.__html,Ce!=null&&ue.push(_(""+Ce))}}function Wn(ue){var Ce="";return e.Children.forEach(ue,function(Ge){Ge!=null&&(Ce+=Ge)}),Ce}var tr=b(' selected=""');function _r(ue,Ce,Ge,ut){ue.push(De(Ge));var $t=Ge=null,jt;for(jt in Ce)if(k.call(Ce,jt)){var Dn=Ce[jt];if(Dn!=null)switch(jt){case"children":Ge=Dn;break;case"dangerouslySetInnerHTML":$t=Dn;break;default:Ft(ue,ut,jt,Dn)}}return ue.push(Zt),jn(ue,$t,Ge),typeof Ge=="string"?(ue.push(_(_e(Ge))),null):Ge}var Vr=b(`
`),si=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ct=new Map;function De(ue){var Ce=ct.get(ue);if(Ce===void 0){if(!si.test(ue))throw Error(t(65,ue));Ce=b("<"+ue),ct.set(ue,Ce)}return Ce}var Ut=b("<!DOCTYPE html>");function Kn(ue,Ce,Ge,ut,$t){switch(Ce){case"select":ue.push(De("select"));var jt=null,Dn=null;for(Tr in Ge)if(k.call(Ge,Tr)){var cr=Ge[Tr];if(cr!=null)switch(Tr){case"children":jt=cr;break;case"dangerouslySetInnerHTML":Dn=cr;break;case"defaultValue":case"value":break;default:Ft(ue,ut,Tr,cr)}}return ue.push(Zt),jn(ue,Dn,jt),jt;case"option":Dn=$t.selectedValue,ue.push(De("option"));var Xr=cr=null,Gr=null,Tr=null;for(jt in Ge)if(k.call(Ge,jt)){var Nr=Ge[jt];if(Nr!=null)switch(jt){case"children":cr=Nr;break;case"selected":Gr=Nr;break;case"dangerouslySetInnerHTML":Tr=Nr;break;case"value":Xr=Nr;default:Ft(ue,ut,jt,Nr)}}if(Dn!=null)if(Ge=Xr!==null?""+Xr:Wn(cr),Be(Dn)){for(ut=0;ut<Dn.length;ut++)if(""+Dn[ut]===Ge){ue.push(tr);break}}else""+Dn===Ge&&ue.push(tr);else Gr&&ue.push(tr);return ue.push(Zt),jn(ue,Tr,cr),cr;case"textarea":ue.push(De("textarea")),Tr=Dn=jt=null;for(cr in Ge)if(k.call(Ge,cr)&&(Xr=Ge[cr],Xr!=null))switch(cr){case"children":Tr=Xr;break;case"value":jt=Xr;break;case"defaultValue":Dn=Xr;break;case"dangerouslySetInnerHTML":throw Error(t(91));default:Ft(ue,ut,cr,Xr)}if(jt===null&&Dn!==null&&(jt=Dn),ue.push(Zt),Tr!=null){if(jt!=null)throw Error(t(92));if(Be(Tr)&&1<Tr.length)throw Error(t(93));jt=""+Tr}return typeof jt=="string"&&jt[0]===`
`&&ue.push(Vr),jt!==null&&ue.push(_(_e(""+jt))),null;case"input":ue.push(De("input")),Xr=Tr=cr=jt=null;for(Dn in Ge)if(k.call(Ge,Dn)&&(Gr=Ge[Dn],Gr!=null))switch(Dn){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,"input"));case"defaultChecked":Xr=Gr;break;case"defaultValue":cr=Gr;break;case"checked":Tr=Gr;break;case"value":jt=Gr;break;default:Ft(ue,ut,Dn,Gr)}return Tr!==null?Ft(ue,ut,"checked",Tr):Xr!==null&&Ft(ue,ut,"checked",Xr),jt!==null?Ft(ue,ut,"value",jt):cr!==null&&Ft(ue,ut,"value",cr),ue.push(mn),null;case"menuitem":ue.push(De("menuitem"));for(var ao in Ge)if(k.call(Ge,ao)&&(jt=Ge[ao],jt!=null))switch(ao){case"children":case"dangerouslySetInnerHTML":throw Error(t(400));default:Ft(ue,ut,ao,jt)}return ue.push(Zt),null;case"title":ue.push(De("title")),jt=null;for(Nr in Ge)if(k.call(Ge,Nr)&&(Dn=Ge[Nr],Dn!=null))switch(Nr){case"children":jt=Dn;break;case"dangerouslySetInnerHTML":throw Error(t(434));default:Ft(ue,ut,Nr,Dn)}return ue.push(Zt),jt;case"listing":case"pre":ue.push(De(Ce)),Dn=jt=null;for(Xr in Ge)if(k.call(Ge,Xr)&&(cr=Ge[Xr],cr!=null))switch(Xr){case"children":jt=cr;break;case"dangerouslySetInnerHTML":Dn=cr;break;default:Ft(ue,ut,Xr,cr)}if(ue.push(Zt),Dn!=null){if(jt!=null)throw Error(t(60));if(typeof Dn!="object"||!("__html"in Dn))throw Error(t(61));Ge=Dn.__html,Ge!=null&&(typeof Ge=="string"&&0<Ge.length&&Ge[0]===`
`?ue.push(Vr,_(Ge)):ue.push(_(""+Ge)))}return typeof jt=="string"&&jt[0]===`
`&&ue.push(Vr),jt;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":ue.push(De(Ce));for(var Fo in Ge)if(k.call(Ge,Fo)&&(jt=Ge[Fo],jt!=null))switch(Fo){case"children":case"dangerouslySetInnerHTML":throw Error(t(399,Ce));default:Ft(ue,ut,Fo,jt)}return ue.push(mn),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return _r(ue,Ge,Ce,ut);case"html":return $t.insertionMode===0&&ue.push(Ut),_r(ue,Ge,Ce,ut);default:if(Ce.indexOf("-")===-1&&typeof Ge.is!="string")return _r(ue,Ge,Ce,ut);ue.push(De(Ce)),Dn=jt=null;for(Gr in Ge)if(k.call(Ge,Gr)&&(cr=Ge[Gr],cr!=null))switch(Gr){case"children":jt=cr;break;case"dangerouslySetInnerHTML":Dn=cr;break;case"style":an(ue,ut,cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:N(Gr)&&typeof cr!="function"&&typeof cr!="symbol"&&ue.push(fn,_(Gr),nn,_(_e(cr)),Ye)}return ue.push(Zt),jn(ue,Dn,jt),jt}}var Fn=b("</"),Xn=b(">"),xr=b('<template id="'),nr=b('"></template>'),it=b("<!--$-->"),En=b('<!--$?--><template id="'),Ln=b('"></template>'),Yn=b("<!--$!-->"),br=b("<!--/$-->"),vr=b("<template"),Wr=b('"'),ci=b(' data-dgst="');b(' data-msg="'),b(' data-stck="');var Ct=b("></template>");function Kt(ue,Ce,Ge){if(a(ue,En),Ge===null)throw Error(t(395));return a(ue,Ge),c(ue,Ln)}var gn=b('<div hidden id="'),rr=b('">'),Gn=b("</div>"),Ei=b('<svg aria-hidden="true" style="display:none" id="'),so=b('">'),eo=b("</svg>"),Vo=b('<math aria-hidden="true" style="display:none" id="'),Li=b('">'),qi=b("</math>"),po=b('<table hidden id="'),ba=b('">'),tl=b("</table>"),Ds=b('<table hidden><tbody id="'),ua=b('">'),Cs=b("</tbody></table>"),ms=b('<table hidden><tr id="'),di=b('">'),Ea=b("</tr></table>"),Tu=b('<table hidden><colgroup id="'),Re=b('">'),de=b("</colgroup></table>");function Fe(ue,Ce,Ge,ut){switch(Ge.insertionMode){case 0:case 1:return a(ue,gn),a(ue,Ce.segmentPrefix),a(ue,_(ut.toString(16))),c(ue,rr);case 2:return a(ue,Ei),a(ue,Ce.segmentPrefix),a(ue,_(ut.toString(16))),c(ue,so);case 3:return a(ue,Vo),a(ue,Ce.segmentPrefix),a(ue,_(ut.toString(16))),c(ue,Li);case 4:return a(ue,po),a(ue,Ce.segmentPrefix),a(ue,_(ut.toString(16))),c(ue,ba);case 5:return a(ue,Ds),a(ue,Ce.segmentPrefix),a(ue,_(ut.toString(16))),c(ue,ua);case 6:return a(ue,ms),a(ue,Ce.segmentPrefix),a(ue,_(ut.toString(16))),c(ue,di);case 7:return a(ue,Tu),a(ue,Ce.segmentPrefix),a(ue,_(ut.toString(16))),c(ue,Re);default:throw Error(t(397))}}function dt(ue,Ce){switch(Ce.insertionMode){case 0:case 1:return c(ue,Gn);case 2:return c(ue,eo);case 3:return c(ue,qi);case 4:return c(ue,tl);case 5:return c(ue,Cs);case 6:return c(ue,Ea);case 7:return c(ue,de);default:throw Error(t(397))}}var at=b('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),vt=b('$RS("'),tn=b('","'),rn=b('")<\/script>'),Tn=b('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),Mn=b('$RC("'),Bn=b('","'),Cn=b('")<\/script>'),ir=b('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),qn=b('$RX("'),lr=b('"'),Lr=b(")<\/script>"),Zr=b(","),Qr=/[<\u2028\u2029]/g;function wr(ue){return JSON.stringify(ue).replace(Qr,function(Ce){switch(Ce){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var jr=Object.assign,Qn=Symbol.for("react.element"),Br=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),Hr=Symbol.for("react.strict_mode"),Si=Symbol.for("react.profiler"),Ai=Symbol.for("react.provider"),Ni=Symbol.for("react.context"),Ui=Symbol.for("react.forward_ref"),ai=Symbol.for("react.suspense"),wo=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),He=Symbol.for("react.scope"),lt=Symbol.for("react.debug_trace_mode"),Jt=Symbol.for("react.legacy_hidden"),Wt=Symbol.for("react.default_value"),On=Symbol.iterator;function ur(ue){if(ue==null)return null;if(typeof ue=="function")return ue.displayName||ue.name||null;if(typeof ue=="string")return ue;switch(ue){case ri:return"Fragment";case Br:return"Portal";case Si:return"Profiler";case Hr:return"StrictMode";case ai:return"Suspense";case wo:return"SuspenseList"}if(typeof ue=="object")switch(ue.$$typeof){case Ni:return(ue.displayName||"Context")+".Consumer";case Ai:return(ue._context.displayName||"Context")+".Provider";case Ui:var Ce=ue.render;return ue=ue.displayName,ue||(ue=Ce.displayName||Ce.name||"",ue=ue!==""?"ForwardRef("+ue+")":"ForwardRef"),ue;case le:return Ce=ue.displayName||null,Ce!==null?Ce:ur(ue.type)||"Memo";case Ee:Ce=ue._payload,ue=ue._init;try{return ur(ue(Ce))}catch{}}return null}var fr={};function $r(ue,Ce){if(ue=ue.contextTypes,!ue)return fr;var Ge={},ut;for(ut in ue)Ge[ut]=Ce[ut];return Ge}var Ii=null;function To(ue,Ce){if(ue!==Ce){ue.context._currentValue=ue.parentValue,ue=ue.parent;var Ge=Ce.parent;if(ue===null){if(Ge!==null)throw Error(t(401))}else{if(Ge===null)throw Error(t(401));To(ue,Ge)}Ce.context._currentValue=Ce.value}}function Aa(ue){ue.context._currentValue=ue.parentValue,ue=ue.parent,ue!==null&&Aa(ue)}function $s(ue){var Ce=ue.parent;Ce!==null&&$s(Ce),ue.context._currentValue=ue.value}function No(ue,Ce){if(ue.context._currentValue=ue.parentValue,ue=ue.parent,ue===null)throw Error(t(402));ue.depth===Ce.depth?To(ue,Ce):No(ue,Ce)}function La(ue,Ce){var Ge=Ce.parent;if(Ge===null)throw Error(t(402));ue.depth===Ge.depth?To(ue,Ge):La(ue,Ge),Ce.context._currentValue=Ce.value}function Na(ue){var Ce=Ii;Ce!==ue&&(Ce===null?$s(ue):ue===null?Aa(Ce):Ce.depth===ue.depth?To(Ce,ue):Ce.depth>ue.depth?No(Ce,ue):La(Ce,ue),Ii=ue)}var bi={isMounted:function(){return!1},enqueueSetState:function(ue,Ce){ue=ue._reactInternals,ue.queue!==null&&ue.queue.push(Ce)},enqueueReplaceState:function(ue,Ce){ue=ue._reactInternals,ue.replace=!0,ue.queue=[Ce]},enqueueForceUpdate:function(){}};function Ci(ue,Ce,Ge,ut){var $t=ue.state!==void 0?ue.state:null;ue.updater=bi,ue.props=Ge,ue.state=$t;var jt={queue:[],replace:!1};ue._reactInternals=jt;var Dn=Ce.contextType;if(ue.context=typeof Dn=="object"&&Dn!==null?Dn._currentValue:ut,Dn=Ce.getDerivedStateFromProps,typeof Dn=="function"&&(Dn=Dn(Ge,$t),$t=Dn==null?$t:jr({},$t,Dn),ue.state=$t),typeof Ce.getDerivedStateFromProps!="function"&&typeof ue.getSnapshotBeforeUpdate!="function"&&(typeof ue.UNSAFE_componentWillMount=="function"||typeof ue.componentWillMount=="function"))if(Ce=ue.state,typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount(),Ce!==ue.state&&bi.enqueueReplaceState(ue,ue.state,null),jt.queue!==null&&0<jt.queue.length)if(Ce=jt.queue,Dn=jt.replace,jt.queue=null,jt.replace=!1,Dn&&Ce.length===1)ue.state=Ce[0];else{for(jt=Dn?Ce[0]:ue.state,$t=!0,Dn=Dn?1:0;Dn<Ce.length;Dn++){var cr=Ce[Dn];cr=typeof cr=="function"?cr.call(ue,jt,Ge,ut):cr,cr!=null&&($t?($t=!1,jt=jr({},jt,cr)):jr(jt,cr))}ue.state=jt}else jt.queue=null}var ca={id:1,overflow:""};function ea(ue,Ce,Ge){var ut=ue.id;ue=ue.overflow;var $t=32-uu(ut)-1;ut&=~(1<<$t),Ge+=1;var jt=32-uu(Ce)+$t;if(30<jt){var Dn=$t-$t%5;return jt=(ut&(1<<Dn)-1).toString(32),ut>>=Dn,$t-=Dn,{id:1<<32-uu(Ce)+$t|Ge<<$t|ut,overflow:jt+ue}}return{id:1<<jt|Ge<<$t|ut,overflow:ue}}var uu=Math.clz32?Math.clz32:us,Pu=Math.log,Ls=Math.LN2;function us(ue){return ue>>>=0,ue===0?32:31-(Pu(ue)/Ls|0)|0}function Tc(ue,Ce){return ue===Ce&&(ue!==0||1/ue===1/Ce)||ue!==ue&&Ce!==Ce}var rc=typeof Object.is=="function"?Object.is:Tc,da=null,ku=null,Ns=null,ji=null,Ca=!1,Vs=!1,Po=0,cs=null,Iu=0;function Ll(){if(da===null)throw Error(t(321));return da}function Md(){if(0<Iu)throw Error(t(312));return{memoizedState:null,queue:null,next:null}}function Ma(){return ji===null?Ns===null?(Ca=!1,Ns=ji=Md()):(Ca=!0,ji=Ns):ji.next===null?(Ca=!1,ji=ji.next=Md()):(Ca=!0,ji=ji.next),ji}function Ta(){ku=da=null,Vs=!1,Ns=null,Iu=0,ji=cs=null}function Pc(ue,Ce){return typeof Ce=="function"?Ce(ue):Ce}function nl(ue,Ce,Ge){if(da=Ll(),ji=Ma(),Ca){var ut=ji.queue;if(Ce=ut.dispatch,cs!==null&&(Ge=cs.get(ut),Ge!==void 0)){cs.delete(ut),ut=ji.memoizedState;do ut=ue(ut,Ge.action),Ge=Ge.next;while(Ge!==null);return ji.memoizedState=ut,[ut,Ce]}return[ji.memoizedState,Ce]}return ue=ue===Pc?typeof Ce=="function"?Ce():Ce:Ge!==void 0?Ge(Ce):Ce,ji.memoizedState=ue,ue=ji.queue={last:null,dispatch:null},ue=ue.dispatch=Ws.bind(null,da,ue),[ji.memoizedState,ue]}function fa(ue,Ce){if(da=Ll(),ji=Ma(),Ce=Ce===void 0?null:Ce,ji!==null){var Ge=ji.memoizedState;if(Ge!==null&&Ce!==null){var ut=Ge[1];e:if(ut===null)ut=!1;else{for(var $t=0;$t<ut.length&&$t<Ce.length;$t++)if(!rc(Ce[$t],ut[$t])){ut=!1;break e}ut=!0}if(ut)return Ge[0]}}return ue=ue(),ji.memoizedState=[ue,Ce],ue}function Ws(ue,Ce,Ge){if(25<=Iu)throw Error(t(301));if(ue===da)if(Vs=!0,ue={action:Ge,next:null},cs===null&&(cs=new Map),Ge=cs.get(Ce),Ge===void 0)cs.set(Ce,ue);else{for(Ce=Ge;Ce.next!==null;)Ce=Ce.next;Ce.next=ue}}function Ru(){throw Error(t(394))}function ha(){}var Fa={readContext:function(ue){return ue._currentValue},useContext:function(ue){return Ll(),ue._currentValue},useMemo:fa,useReducer:nl,useRef:function(ue){da=Ll(),ji=Ma();var Ce=ji.memoizedState;return Ce===null?(ue={current:ue},ji.memoizedState=ue):Ce},useState:function(ue){return nl(Pc,ue)},useInsertionEffect:ha,useLayoutEffect:function(){},useCallback:function(ue,Ce){return fa(function(){return ue},Ce)},useImperativeHandle:ha,useEffect:ha,useDebugValue:ha,useDeferredValue:function(ue){return Ll(),ue},useTransition:function(){return Ll(),[!1,Ru]},useId:function(){var ue=ku.treeContext,Ce=ue.overflow;ue=ue.id,ue=(ue&~(1<<32-uu(ue)-1)).toString(32)+Ce;var Ge=Al;if(Ge===null)throw Error(t(404));return Ce=Po++,ue=":"+Ge.idPrefix+"R"+ue,0<Ce&&(ue+="H"+Ce.toString(32)),ue+":"},useMutableSource:function(ue,Ce){return Ll(),Ce(ue._source)},useSyncExternalStore:function(ue,Ce,Ge){if(Ge===void 0)throw Error(t(407));return Ge()}},Al=null,rs=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function cu(ue){return console.error(ue),null}function Nl(){}function gs(ue,Ce,Ge,ut,$t,jt,Dn,cr,Xr){var Gr=[],Tr=new Set;return Ce={destination:null,responseState:Ce,progressiveChunkSize:ut===void 0?12800:ut,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:Tr,pingedTasks:Gr,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:$t===void 0?cu:$t,onAllReady:jt===void 0?Nl:jt,onShellReady:Dn===void 0?Nl:Dn,onShellError:cr===void 0?Nl:cr,onFatalError:Xr===void 0?Nl:Xr},Ge=ko(Ce,0,null,Ge,!1,!1),Ge.parentFlushed=!0,ue=is(Ce,ue,null,Ge,Tr,fr,null,ca),Gr.push(ue),Ce}function is(ue,Ce,Ge,ut,$t,jt,Dn,cr){ue.allPendingTasks++,Ge===null?ue.pendingRootTasks++:Ge.pendingTasks++;var Xr={node:Ce,ping:function(){var Gr=ue.pingedTasks;Gr.push(Xr),Gr.length===1&&Td(ue)},blockedBoundary:Ge,blockedSegment:ut,abortSet:$t,legacyContext:jt,context:Dn,treeContext:cr};return $t.add(Xr),Xr}function ko(ue,Ce,Ge,ut,$t,jt){return{status:0,id:-1,index:Ce,parentFlushed:!1,chunks:[],children:[],formatContext:ut,boundary:Ge,lastPushedText:$t,textEmbedded:jt}}function Ro(ue,Ce){if(ue=ue.onError(Ce),ue!=null&&typeof ue!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof ue+'" instead');return ue}function Zo(ue,Ce){var Ge=ue.onShellError;Ge(Ce),Ge=ue.onFatalError,Ge(Ce),ue.destination!==null?(ue.status=2,C(ue.destination,Ce)):(ue.status=1,ue.fatalError=Ce)}function du(ue,Ce,Ge,ut,$t){for(da={},ku=Ce,Po=0,ue=Ge(ut,$t);Vs;)Vs=!1,Po=0,Iu+=1,ji=null,ue=Ge(ut,$t);return Ta(),ue}function Xs(ue,Ce,Ge,ut){var $t=Ge.render(),jt=ut.childContextTypes;if(jt!=null){var Dn=Ce.legacyContext;if(typeof Ge.getChildContext!="function")ut=Dn;else{Ge=Ge.getChildContext();for(var cr in Ge)if(!(cr in jt))throw Error(t(108,ur(ut)||"Unknown",cr));ut=jr({},Dn,Ge)}Ce.legacyContext=ut,Ms(ue,Ce,$t),Ce.legacyContext=Dn}else Ms(ue,Ce,$t)}function _o(ue,Ce){if(ue&&ue.defaultProps){Ce=jr({},Ce),ue=ue.defaultProps;for(var Ge in ue)Ce[Ge]===void 0&&(Ce[Ge]=ue[Ge]);return Ce}return Ce}function ta(ue,Ce,Ge,ut,$t){if(typeof Ge=="function")if(Ge.prototype&&Ge.prototype.isReactComponent){$t=$r(Ge,Ce.legacyContext);var jt=Ge.contextType;jt=new Ge(ut,typeof jt=="object"&&jt!==null?jt._currentValue:$t),Ci(jt,Ge,ut,$t),Xs(ue,Ce,jt,Ge)}else{jt=$r(Ge,Ce.legacyContext),$t=du(ue,Ce,Ge,ut,jt);var Dn=Po!==0;if(typeof $t=="object"&&$t!==null&&typeof $t.render=="function"&&$t.$$typeof===void 0)Ci($t,Ge,ut,jt),Xs(ue,Ce,$t,Ge);else if(Dn){ut=Ce.treeContext,Ce.treeContext=ea(ut,1,0);try{Ms(ue,Ce,$t)}finally{Ce.treeContext=ut}}else Ms(ue,Ce,$t)}else if(typeof Ge=="string"){switch($t=Ce.blockedSegment,jt=Kn($t.chunks,Ge,ut,ue.responseState,$t.formatContext),$t.lastPushedText=!1,Dn=$t.formatContext,$t.formatContext=ce(Dn,Ge,ut),rl(ue,Ce,jt),$t.formatContext=Dn,Ge){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:$t.chunks.push(Fn,_(Ge),Xn)}$t.lastPushedText=!1}else{switch(Ge){case Jt:case lt:case Hr:case Si:case ri:Ms(ue,Ce,ut.children);return;case wo:Ms(ue,Ce,ut.children);return;case He:throw Error(t(343));case ai:e:{Ge=Ce.blockedBoundary,$t=Ce.blockedSegment,jt=ut.fallback,ut=ut.children,Dn=new Set;var cr={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:Dn,errorDigest:null},Xr=ko(ue,$t.chunks.length,cr,$t.formatContext,!1,!1);$t.children.push(Xr),$t.lastPushedText=!1;var Gr=ko(ue,0,null,$t.formatContext,!1,!1);Gr.parentFlushed=!0,Ce.blockedBoundary=cr,Ce.blockedSegment=Gr;try{if(rl(ue,Ce,ut),Gr.lastPushedText&&Gr.textEmbedded&&Gr.chunks.push(qe),Gr.status=1,Ou(cr,Gr),cr.pendingTasks===0)break e}catch(Tr){Gr.status=4,cr.forceClientRender=!0,cr.errorDigest=Ro(ue,Tr)}finally{Ce.blockedBoundary=Ge,Ce.blockedSegment=$t}Ce=is(ue,jt,Ge,Xr,Dn,Ce.legacyContext,Ce.context,Ce.treeContext),ue.pingedTasks.push(Ce)}return}if(typeof Ge=="object"&&Ge!==null)switch(Ge.$$typeof){case Ui:if(ut=du(ue,Ce,Ge.render,ut,$t),Po!==0){Ge=Ce.treeContext,Ce.treeContext=ea(Ge,1,0);try{Ms(ue,Ce,ut)}finally{Ce.treeContext=Ge}}else Ms(ue,Ce,ut);return;case le:Ge=Ge.type,ut=_o(Ge,ut),ta(ue,Ce,Ge,ut,$t);return;case Ai:if($t=ut.children,Ge=Ge._context,ut=ut.value,jt=Ge._currentValue,Ge._currentValue=ut,Dn=Ii,Ii=ut={parent:Dn,depth:Dn===null?0:Dn.depth+1,context:Ge,parentValue:jt,value:ut},Ce.context=ut,Ms(ue,Ce,$t),ue=Ii,ue===null)throw Error(t(403));ut=ue.parentValue,ue.context._currentValue=ut===Wt?ue.context._defaultValue:ut,ue=Ii=ue.parent,Ce.context=ue;return;case Ni:ut=ut.children,ut=ut(Ge._currentValue),Ms(ue,Ce,ut);return;case Ee:$t=Ge._init,Ge=$t(Ge._payload),ut=_o(Ge,ut),ta(ue,Ce,Ge,ut,void 0);return}throw Error(t(130,Ge==null?Ge:typeof Ge,""))}}function Ms(ue,Ce,Ge){if(Ce.node=Ge,typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case Qn:ta(ue,Ce,Ge.type,Ge.props,Ge.ref);return;case Br:throw Error(t(257));case Ee:var ut=Ge._init;Ge=ut(Ge._payload),Ms(ue,Ce,Ge);return}if(Be(Ge)){ic(ue,Ce,Ge);return}if(Ge===null||typeof Ge!="object"?ut=null:(ut=On&&Ge[On]||Ge["@@iterator"],ut=typeof ut=="function"?ut:null),ut&&(ut=ut.call(Ge))){if(Ge=ut.next(),!Ge.done){var $t=[];do $t.push(Ge.value),Ge=ut.next();while(!Ge.done);ic(ue,Ce,$t)}return}throw ue=Object.prototype.toString.call(Ge),Error(t(31,ue==="[object Object]"?"object with keys {"+Object.keys(Ge).join(", ")+"}":ue))}typeof Ge=="string"?(ut=Ce.blockedSegment,ut.lastPushedText=ht(Ce.blockedSegment.chunks,Ge,ue.responseState,ut.lastPushedText)):typeof Ge=="number"&&(ut=Ce.blockedSegment,ut.lastPushedText=ht(Ce.blockedSegment.chunks,""+Ge,ue.responseState,ut.lastPushedText))}function ic(ue,Ce,Ge){for(var ut=Ge.length,$t=0;$t<ut;$t++){var jt=Ce.treeContext;Ce.treeContext=ea(jt,ut,$t);try{rl(ue,Ce,Ge[$t])}finally{Ce.treeContext=jt}}}function rl(ue,Ce,Ge){var ut=Ce.blockedSegment.formatContext,$t=Ce.legacyContext,jt=Ce.context;try{return Ms(ue,Ce,Ge)}catch(Xr){if(Ta(),typeof Xr=="object"&&Xr!==null&&typeof Xr.then=="function"){Ge=Xr;var Dn=Ce.blockedSegment,cr=ko(ue,Dn.chunks.length,null,Dn.formatContext,Dn.lastPushedText,!0);Dn.children.push(cr),Dn.lastPushedText=!1,ue=is(ue,Ce.node,Ce.blockedBoundary,cr,Ce.abortSet,Ce.legacyContext,Ce.context,Ce.treeContext).ping,Ge.then(ue,ue),Ce.blockedSegment.formatContext=ut,Ce.legacyContext=$t,Ce.context=jt,Na(jt)}else throw Ce.blockedSegment.formatContext=ut,Ce.legacyContext=$t,Ce.context=jt,Na(jt),Xr}}function fu(ue){var Ce=ue.blockedBoundary;ue=ue.blockedSegment,ue.status=3,Bu(this,Ce,ue)}function kc(ue,Ce,Ge){var ut=ue.blockedBoundary;ue.blockedSegment.status=3,ut===null?(Ce.allPendingTasks--,Ce.status!==2&&(Ce.status=2,Ce.destination!==null&&Ce.destination.close())):(ut.pendingTasks--,ut.forceClientRender||(ut.forceClientRender=!0,ue=Ge===void 0?Error(t(432)):Ge,ut.errorDigest=Ce.onError(ue),ut.parentFlushed&&Ce.clientRenderedBoundaries.push(ut)),ut.fallbackAbortableTasks.forEach(function($t){return kc($t,Ce,Ge)}),ut.fallbackAbortableTasks.clear(),Ce.allPendingTasks--,Ce.allPendingTasks===0&&(ut=Ce.onAllReady,ut()))}function Ou(ue,Ce){if(Ce.chunks.length===0&&Ce.children.length===1&&Ce.children[0].boundary===null){var Ge=Ce.children[0];Ge.id=Ce.id,Ge.parentFlushed=!0,Ge.status===1&&Ou(ue,Ge)}else ue.completedSegments.push(Ce)}function Bu(ue,Ce,Ge){if(Ce===null){if(Ge.parentFlushed){if(ue.completedRootSegment!==null)throw Error(t(389));ue.completedRootSegment=Ge}ue.pendingRootTasks--,ue.pendingRootTasks===0&&(ue.onShellError=Nl,Ce=ue.onShellReady,Ce())}else Ce.pendingTasks--,Ce.forceClientRender||(Ce.pendingTasks===0?(Ge.parentFlushed&&Ge.status===1&&Ou(Ce,Ge),Ce.parentFlushed&&ue.completedBoundaries.push(Ce),Ce.fallbackAbortableTasks.forEach(fu,ue),Ce.fallbackAbortableTasks.clear()):Ge.parentFlushed&&Ge.status===1&&(Ou(Ce,Ge),Ce.completedSegments.length===1&&Ce.parentFlushed&&ue.partialBoundaries.push(Ce)));ue.allPendingTasks--,ue.allPendingTasks===0&&(ue=ue.onAllReady,ue())}function Td(ue){if(ue.status!==2){var Ce=Ii,Ge=rs.current;rs.current=Fa;var ut=Al;Al=ue.responseState;try{var $t=ue.pingedTasks,jt;for(jt=0;jt<$t.length;jt++){var Dn=$t[jt],cr=ue,Xr=Dn.blockedSegment;if(Xr.status===0){Na(Dn.context);try{Ms(cr,Dn,Dn.node),Xr.lastPushedText&&Xr.textEmbedded&&Xr.chunks.push(qe),Dn.abortSet.delete(Dn),Xr.status=1,Bu(cr,Dn.blockedBoundary,Xr)}catch(zs){if(Ta(),typeof zs=="object"&&zs!==null&&typeof zs.then=="function"){var Gr=Dn.ping;zs.then(Gr,Gr)}else{Dn.abortSet.delete(Dn),Xr.status=4;var Tr=Dn.blockedBoundary,Nr=zs,ao=Ro(cr,Nr);if(Tr===null?Zo(cr,Nr):(Tr.pendingTasks--,Tr.forceClientRender||(Tr.forceClientRender=!0,Tr.errorDigest=ao,Tr.parentFlushed&&cr.clientRenderedBoundaries.push(Tr))),cr.allPendingTasks--,cr.allPendingTasks===0){var Fo=cr.onAllReady;Fo()}}}finally{}}}$t.splice(0,jt),ue.destination!==null&&zl(ue,ue.destination)}catch(zs){Ro(ue,zs),Zo(ue,zs)}finally{Al=ut,rs.current=Ge,Ge===Fa&&Na(Ce)}}}function Ic(ue,Ce,Ge){switch(Ge.parentFlushed=!0,Ge.status){case 0:var ut=Ge.id=ue.nextSegmentId++;return Ge.lastPushedText=!1,Ge.textEmbedded=!1,ue=ue.responseState,a(Ce,xr),a(Ce,ue.placeholderPrefix),ue=_(ut.toString(16)),a(Ce,ue),c(Ce,nr);case 1:Ge.status=2;var $t=!0;ut=Ge.chunks;var jt=0;Ge=Ge.children;for(var Dn=0;Dn<Ge.length;Dn++){for($t=Ge[Dn];jt<$t.index;jt++)a(Ce,ut[jt]);$t=oc(ue,Ce,$t)}for(;jt<ut.length-1;jt++)a(Ce,ut[jt]);return jt<ut.length&&($t=c(Ce,ut[jt])),$t;default:throw Error(t(390))}}function oc(ue,Ce,Ge){var ut=Ge.boundary;if(ut===null)return Ic(ue,Ce,Ge);if(ut.parentFlushed=!0,ut.forceClientRender)ut=ut.errorDigest,c(Ce,Yn),a(Ce,vr),ut&&(a(Ce,ci),a(Ce,_(_e(ut))),a(Ce,Wr)),c(Ce,Ct),Ic(ue,Ce,Ge);else if(0<ut.pendingTasks){ut.rootSegmentID=ue.nextSegmentId++,0<ut.completedSegments.length&&ue.partialBoundaries.push(ut);var $t=ue.responseState,jt=$t.nextSuspenseID++;$t=b($t.boundaryPrefix+jt.toString(16)),ut=ut.id=$t,Kt(Ce,ue.responseState,ut),Ic(ue,Ce,Ge)}else if(ut.byteSize>ue.progressiveChunkSize)ut.rootSegmentID=ue.nextSegmentId++,ue.completedBoundaries.push(ut),Kt(Ce,ue.responseState,ut.id),Ic(ue,Ce,Ge);else{if(c(Ce,it),Ge=ut.completedSegments,Ge.length!==1)throw Error(t(391));oc(ue,Ce,Ge[0])}return c(Ce,br)}function Fl(ue,Ce,Ge){return Fe(Ce,ue.responseState,Ge.formatContext,Ge.id),oc(ue,Ce,Ge),dt(Ce,Ge.formatContext)}function Cl(ue,Ce,Ge){for(var ut=Ge.completedSegments,$t=0;$t<ut.length;$t++)Pa(ue,Ce,Ge,ut[$t]);if(ut.length=0,ue=ue.responseState,ut=Ge.id,Ge=Ge.rootSegmentID,a(Ce,ue.startInlineScript),ue.sentCompleteBoundaryFunction?a(Ce,Mn):(ue.sentCompleteBoundaryFunction=!0,a(Ce,Tn)),ut===null)throw Error(t(395));return Ge=_(Ge.toString(16)),a(Ce,ut),a(Ce,Bn),a(Ce,ue.segmentPrefix),a(Ce,Ge),c(Ce,Cn)}function Pa(ue,Ce,Ge,ut){if(ut.status===2)return!0;var $t=ut.id;if($t===-1){if((ut.id=Ge.rootSegmentID)===-1)throw Error(t(392));return Fl(ue,Ce,ut)}return Fl(ue,Ce,ut),ue=ue.responseState,a(Ce,ue.startInlineScript),ue.sentCompleteSegmentFunction?a(Ce,vt):(ue.sentCompleteSegmentFunction=!0,a(Ce,at)),a(Ce,ue.segmentPrefix),$t=_($t.toString(16)),a(Ce,$t),a(Ce,tn),a(Ce,ue.placeholderPrefix),a(Ce,$t),c(Ce,rn)}function zl(ue,Ce){r=new Uint8Array(512),o=0;try{var Ge=ue.completedRootSegment;if(Ge!==null&&ue.pendingRootTasks===0){oc(ue,Ce,Ge),ue.completedRootSegment=null;var ut=ue.responseState.bootstrapChunks;for(Ge=0;Ge<ut.length-1;Ge++)a(Ce,ut[Ge]);Ge<ut.length&&c(Ce,ut[Ge])}var $t=ue.clientRenderedBoundaries,jt;for(jt=0;jt<$t.length;jt++){var Dn=$t[jt];ut=Ce;var cr=ue.responseState,Xr=Dn.id,Gr=Dn.errorDigest,Tr=Dn.errorMessage,Nr=Dn.errorComponentStack;if(a(ut,cr.startInlineScript),cr.sentClientRenderFunction?a(ut,qn):(cr.sentClientRenderFunction=!0,a(ut,ir)),Xr===null)throw Error(t(395));a(ut,Xr),a(ut,lr),(Gr||Tr||Nr)&&(a(ut,Zr),a(ut,_(wr(Gr||"")))),(Tr||Nr)&&(a(ut,Zr),a(ut,_(wr(Tr||"")))),Nr&&(a(ut,Zr),a(ut,_(wr(Nr)))),c(ut,Lr)}$t.splice(0,jt);var ao=ue.completedBoundaries;for(jt=0;jt<ao.length;jt++)Cl(ue,Ce,ao[jt]);ao.splice(0,jt),p(Ce),r=new Uint8Array(512),o=0;var Fo=ue.partialBoundaries;for(jt=0;jt<Fo.length;jt++){var zs=Fo[jt];e:{$t=ue,Dn=Ce;var hu=zs.completedSegments;for(cr=0;cr<hu.length;cr++)if(!Pa($t,Dn,zs,hu[cr])){cr++,hu.splice(0,cr);var mo=!1;break e}hu.splice(0,cr),mo=!0}if(!mo){ue.destination=null,jt++,Fo.splice(0,jt);return}}Fo.splice(0,jt);var il=ue.completedBoundaries;for(jt=0;jt<il.length;jt++)Cl(ue,Ce,il[jt]);il.splice(0,jt)}finally{p(Ce),ue.allPendingTasks===0&&ue.pingedTasks.length===0&&ue.clientRenderedBoundaries.length===0&&ue.completedBoundaries.length===0&&Ce.close()}}function Fs(ue,Ce){try{var Ge=ue.abortableTasks;Ge.forEach(function(ut){return kc(ut,ue,Ce)}),Ge.clear(),ue.destination!==null&&zl(ue,ue.destination)}catch(ut){Ro(ue,ut),Zo(ue,ut)}}n.renderToReadableStream=function(ue,Ce){return new Promise(function(Ge,ut){var $t,jt,Dn=new Promise(function(Tr,Nr){jt=Tr,$t=Nr}),cr=gs(ue,Te(Ce?Ce.identifierPrefix:void 0,Ce?Ce.nonce:void 0,Ce?Ce.bootstrapScriptContent:void 0,Ce?Ce.bootstrapScripts:void 0,Ce?Ce.bootstrapModules:void 0),me(Ce?Ce.namespaceURI:void 0),Ce?Ce.progressiveChunkSize:void 0,Ce?Ce.onError:void 0,jt,function(){var Tr=new ReadableStream({type:"bytes",pull:function(Nr){if(cr.status===1)cr.status=2,C(Nr,cr.fatalError);else if(cr.status!==2&&cr.destination===null){cr.destination=Nr;try{zl(cr,Nr)}catch(ao){Ro(cr,ao),Zo(cr,ao)}}},cancel:function(){Fs(cr)}},{highWaterMark:0});Tr.allReady=Dn,Ge(Tr)},function(Tr){Dn.catch(function(){}),ut(Tr)},$t);if(Ce&&Ce.signal){var Xr=Ce.signal,Gr=function(){Fs(cr,Xr.reason),Xr.removeEventListener("abort",Gr)};Xr.addEventListener("abort",Gr)}Td(cr)})},n.version="18.2.0"}}),E9e=ns({"../../node_modules/react-dom/server.browser.js"(n){var e,t;e=x9e(),t=b9e(),n.version=e.version,n.renderToString=e.renderToString,n.renderToStaticMarkup=e.renderToStaticMarkup,n.renderToNodeStream=e.renderToNodeStream,n.renderToStaticNodeStream=e.renderToStaticNodeStream,n.renderToReadableStream=t.renderToReadableStream}}),A9e=ns({"../../node_modules/react-is/cjs/react-is.production.min.js"(n){var e=60103,t=60106,r=60107,o=60108,a=60114,c=60109,p=60110,g=60112,_=60113,b=60120,C=60115,k=60116,B=60121,z=60122,F=60117,N=60129,D=60131;typeof Symbol=="function"&&Symbol.for&&(A=Symbol.for,e=A("react.element"),t=A("react.portal"),r=A("react.fragment"),o=A("react.strict_mode"),a=A("react.profiler"),c=A("react.provider"),p=A("react.context"),g=A("react.forward_ref"),_=A("react.suspense"),b=A("react.suspense_list"),C=A("react.memo"),k=A("react.lazy"),B=A("react.block"),z=A("react.server.block"),F=A("react.fundamental"),N=A("react.debug_trace_mode"),D=A("react.legacy_hidden"));var A;function G(xe){if(typeof xe=="object"&&xe!==null){var ot=xe.$$typeof;switch(ot){case e:switch(xe=xe.type,xe){case r:case a:case o:case _:case b:return xe;default:switch(xe=xe&&xe.$$typeof,xe){case p:case g:case k:case C:case c:return xe;default:return ot}}case t:return ot}}}var Q=c,ae=e,Y=g,ge=r,_e=k,J=C,Se=t,Be=a,_t=o,Ve=_;n.ContextConsumer=p,n.ContextProvider=Q,n.Element=ae,n.ForwardRef=Y,n.Fragment=ge,n.Lazy=_e,n.Memo=J,n.Portal=Se,n.Profiler=Be,n.StrictMode=_t,n.Suspense=Ve,n.isAsyncMode=function(){return!1},n.isConcurrentMode=function(){return!1},n.isContextConsumer=function(xe){return G(xe)===p},n.isContextProvider=function(xe){return G(xe)===c},n.isElement=function(xe){return typeof xe=="object"&&xe!==null&&xe.$$typeof===e},n.isForwardRef=function(xe){return G(xe)===g},n.isFragment=function(xe){return G(xe)===r},n.isLazy=function(xe){return G(xe)===k},n.isMemo=function(xe){return G(xe)===C},n.isPortal=function(xe){return G(xe)===t},n.isProfiler=function(xe){return G(xe)===a},n.isStrictMode=function(xe){return G(xe)===o},n.isSuspense=function(xe){return G(xe)===_},n.isValidElementType=function(xe){return typeof xe=="string"||typeof xe=="function"||xe===r||xe===a||xe===N||xe===o||xe===_||xe===b||xe===D||typeof xe=="object"&&xe!==null&&(xe.$$typeof===k||xe.$$typeof===C||xe.$$typeof===c||xe.$$typeof===p||xe.$$typeof===g||xe.$$typeof===F||xe.$$typeof===B||xe[0]===z)},n.typeOf=G}}),C9e=ns({"../../node_modules/react-is/index.js"(n,e){e.exports=A9e()}}),M9e=ns({"../../node_modules/shallowequal/index.js"(n,e){e.exports=function(t,r,o,a){var c=o?o.call(a,t,r):void 0;if(c!==void 0)return!!c;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var p=Object.keys(t),g=Object.keys(r);if(p.length!==g.length)return!1;for(var _=Object.prototype.hasOwnProperty.bind(r),b=0;b<p.length;b++){var C=p[b];if(!_(C))return!1;var k=t[C],B=r[C];if(c=o?o.call(a,k,B,C):void 0,c===!1||c===void 0&&k!==B)return!1}return!0}}});function T9e(n){function e(ce,qe,ht,wt,et){for(var Nt=0,Ot=0,an=0,fn=0,nn,Ye,Xt=0,Ft=0,Zt,mn=Zt=nn=0,jn=0,Wn=0,tr=0,_r=0,Vr=ht.length,si=Vr-1,ct,De="",Ut="",Kn="",Fn="",Xn;jn<Vr;){if(Ye=ht.charCodeAt(jn),jn===si&&Ot+fn+an+Nt!==0&&(Ot!==0&&(Ye=Ot===47?10:47),fn=an=Nt=0,Vr++,si++),Ot+fn+an+Nt===0){if(jn===si&&(0<Wn&&(De=De.replace(k,"")),0<De.trim().length)){switch(Ye){case 32:case 9:case 59:case 13:case 10:break;default:De+=ht.charAt(jn)}Ye=59}switch(Ye){case 123:for(De=De.trim(),nn=De.charCodeAt(0),Zt=1,_r=++jn;jn<Vr;){switch(Ye=ht.charCodeAt(jn)){case 123:Zt++;break;case 125:Zt--;break;case 47:switch(Ye=ht.charCodeAt(jn+1)){case 42:case 47:e:{for(mn=jn+1;mn<si;++mn)switch(ht.charCodeAt(mn)){case 47:if(Ye===42&&ht.charCodeAt(mn-1)===42&&jn+2!==mn){jn=mn+1;break e}break;case 10:if(Ye===47){jn=mn+1;break e}}jn=mn}}break;case 91:Ye++;case 40:Ye++;case 34:case 39:for(;jn++<si&&ht.charCodeAt(jn)!==Ye;);}if(Zt===0)break;jn++}switch(Zt=ht.substring(_r,jn),nn===0&&(nn=(De=De.replace(C,"").trim()).charCodeAt(0)),nn){case 64:switch(0<Wn&&(De=De.replace(k,"")),Ye=De.charCodeAt(1),Ye){case 100:case 109:case 115:case 45:Wn=qe;break;default:Wn=Ze}if(Zt=e(qe,Wn,Zt,Ye,et+1),_r=Zt.length,0<we&&(Wn=t(Ze,De,tr),Xn=p(3,Zt,Wn,qe,Ve,_t,_r,Ye,et,wt),De=Wn.join(""),Xn!==void 0&&(_r=(Zt=Xn.trim()).length)===0&&(Ye=0,Zt="")),0<_r)switch(Ye){case 115:De=De.replace(Y,c);case 100:case 109:case 45:Zt=De+"{"+Zt+"}";break;case 107:De=De.replace(A,"$1 $2"),Zt=De+"{"+Zt+"}",Zt=ot===1||ot===2&&a("@"+Zt,3)?"@-webkit-"+Zt+"@"+Zt:"@"+Zt;break;default:Zt=De+Zt,wt===112&&(Zt=(Ut+=Zt,""))}else Zt="";break;default:Zt=e(qe,t(qe,De,tr),Zt,wt,et+1)}Kn+=Zt,Zt=tr=Wn=mn=nn=0,De="",Ye=ht.charCodeAt(++jn);break;case 125:case 59:if(De=(0<Wn?De.replace(k,""):De).trim(),1<(_r=De.length))switch(mn===0&&(nn=De.charCodeAt(0),nn===45||96<nn&&123>nn)&&(_r=(De=De.replace(" ",":")).length),0<we&&(Xn=p(1,De,qe,ce,Ve,_t,Ut.length,wt,et,wt))!==void 0&&(_r=(De=Xn.trim()).length)===0&&(De="\0\0"),nn=De.charCodeAt(0),Ye=De.charCodeAt(1),nn){case 0:break;case 64:if(Ye===105||Ye===99){Fn+=De+ht.charAt(jn);break}default:De.charCodeAt(_r-1)!==58&&(Ut+=o(De,nn,Ye,De.charCodeAt(2)))}tr=Wn=mn=nn=0,De="",Ye=ht.charCodeAt(++jn)}}switch(Ye){case 13:case 10:Ot===47?Ot=0:1+nn===0&&wt!==107&&0<De.length&&(Wn=1,De+="\0"),0<we*Ae&&p(0,De,qe,ce,Ve,_t,Ut.length,wt,et,wt),_t=1,Ve++;break;case 59:case 125:if(Ot+fn+an+Nt===0){_t++;break}default:switch(_t++,ct=ht.charAt(jn),Ye){case 9:case 32:if(fn+Nt+Ot===0)switch(Xt){case 44:case 58:case 9:case 32:ct="";break;default:Ye!==32&&(ct=" ")}break;case 0:ct="\\0";break;case 12:ct="\\f";break;case 11:ct="\\v";break;case 38:fn+Ot+Nt===0&&(Wn=tr=1,ct="\f"+ct);break;case 108:if(fn+Ot+Nt+xe===0&&0<mn)switch(jn-mn){case 2:Xt===112&&ht.charCodeAt(jn-3)===58&&(xe=Xt);case 8:Ft===111&&(xe=Ft)}break;case 58:fn+Ot+Nt===0&&(mn=jn);break;case 44:Ot+an+fn+Nt===0&&(Wn=1,ct+="\r");break;case 34:case 39:Ot===0&&(fn=fn===Ye?0:fn===0?Ye:fn);break;case 91:fn+Ot+an===0&&Nt++;break;case 93:fn+Ot+an===0&&Nt--;break;case 41:fn+Ot+Nt===0&&an--;break;case 40:if(fn+Ot+Nt===0){if(nn===0)switch(2*Xt+3*Ft){case 533:break;default:nn=1}an++}break;case 64:Ot+an+fn+Nt+mn+Zt===0&&(Zt=1);break;case 42:case 47:if(!(0<fn+Nt+an))switch(Ot){case 0:switch(2*Ye+3*ht.charCodeAt(jn+1)){case 235:Ot=47;break;case 220:_r=jn,Ot=42}break;case 42:Ye===47&&Xt===42&&_r+2!==jn&&(ht.charCodeAt(_r+2)===33&&(Ut+=ht.substring(_r,jn+1)),ct="",Ot=0)}}Ot===0&&(De+=ct)}Ft=Xt,Xt=Ye,jn++}if(_r=Ut.length,0<_r){if(Wn=qe,0<we&&(Xn=p(2,Ut,Wn,ce,Ve,_t,_r,wt,et,wt),Xn!==void 0&&(Ut=Xn).length===0))return Fn+Ut+Kn;if(Ut=Wn.join(",")+"{"+Ut+"}",ot*xe!==0){switch(ot!==2||a(Ut,2)||(xe=0),xe){case 111:Ut=Ut.replace(Q,":-moz-$1")+Ut;break;case 112:Ut=Ut.replace(G,"::-webkit-input-$1")+Ut.replace(G,"::-moz-$1")+Ut.replace(G,":-ms-input-$1")+Ut}xe=0}}return Fn+Ut+Kn}function t(ce,qe,ht){var wt=qe.trim().split(N);qe=wt;var et=wt.length,Nt=ce.length;switch(Nt){case 0:case 1:var Ot=0;for(ce=Nt===0?"":ce[0]+" ";Ot<et;++Ot)qe[Ot]=r(ce,qe[Ot],ht).trim();break;default:var an=Ot=0;for(qe=[];Ot<et;++Ot)for(var fn=0;fn<Nt;++fn)qe[an++]=r(ce[fn]+" ",wt[Ot],ht).trim()}return qe}function r(ce,qe,ht){var wt=qe.charCodeAt(0);switch(33>wt&&(wt=(qe=qe.trim()).charCodeAt(0)),wt){case 38:return qe.replace(D,"$1"+ce.trim());case 58:return ce.trim()+qe.replace(D,"$1"+ce.trim());default:if(0<1*ht&&0<qe.indexOf("\f"))return qe.replace(D,(ce.charCodeAt(0)===58?"":"$1")+ce.trim())}return ce+qe}function o(ce,qe,ht,wt){var et=ce+";",Nt=2*qe+3*ht+4*wt;if(Nt===944){ce=et.indexOf(":",9)+1;var Ot=et.substring(ce,et.length-1).trim();return Ot=et.substring(0,ce).trim()+Ot+";",ot===1||ot===2&&a(Ot,1)?"-webkit-"+Ot+Ot:Ot}if(ot===0||ot===2&&!a(et,1))return et;switch(Nt){case 1015:return et.charCodeAt(10)===97?"-webkit-"+et+et:et;case 951:return et.charCodeAt(3)===116?"-webkit-"+et+et:et;case 963:return et.charCodeAt(5)===110?"-webkit-"+et+et:et;case 1009:if(et.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+et+et;case 978:return"-webkit-"+et+"-moz-"+et+et;case 1019:case 983:return"-webkit-"+et+"-moz-"+et+"-ms-"+et+et;case 883:if(et.charCodeAt(8)===45)return"-webkit-"+et+et;if(0<et.indexOf("image-set(",11))return et.replace(Be,"$1-webkit-$2")+et;break;case 932:if(et.charCodeAt(4)===45)switch(et.charCodeAt(5)){case 103:return"-webkit-box-"+et.replace("-grow","")+"-webkit-"+et+"-ms-"+et.replace("grow","positive")+et;case 115:return"-webkit-"+et+"-ms-"+et.replace("shrink","negative")+et;case 98:return"-webkit-"+et+"-ms-"+et.replace("basis","preferred-size")+et}return"-webkit-"+et+"-ms-"+et+et;case 964:return"-webkit-"+et+"-ms-flex-"+et+et;case 1023:if(et.charCodeAt(8)!==99)break;return Ot=et.substring(et.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Ot+"-webkit-"+et+"-ms-flex-pack"+Ot+et;case 1005:return z.test(et)?et.replace(B,":-webkit-")+et.replace(B,":-moz-")+et:et;case 1e3:switch(Ot=et.substring(13).trim(),qe=Ot.indexOf("-")+1,Ot.charCodeAt(0)+Ot.charCodeAt(qe)){case 226:Ot=et.replace(ae,"tb");break;case 232:Ot=et.replace(ae,"tb-rl");break;case 220:Ot=et.replace(ae,"lr");break;default:return et}return"-webkit-"+et+"-ms-"+Ot+et;case 1017:if(et.indexOf("sticky",9)===-1)break;case 975:switch(qe=(et=ce).length-10,Ot=(et.charCodeAt(qe)===33?et.substring(0,qe):et).substring(ce.indexOf(":",7)+1).trim(),Nt=Ot.charCodeAt(0)+(Ot.charCodeAt(7)|0)){case 203:if(111>Ot.charCodeAt(8))break;case 115:et=et.replace(Ot,"-webkit-"+Ot)+";"+et;break;case 207:case 102:et=et.replace(Ot,"-webkit-"+(102<Nt?"inline-":"")+"box")+";"+et.replace(Ot,"-webkit-"+Ot)+";"+et.replace(Ot,"-ms-"+Ot+"box")+";"+et}return et+";";case 938:if(et.charCodeAt(5)===45)switch(et.charCodeAt(6)){case 105:return Ot=et.replace("-items",""),"-webkit-"+et+"-webkit-box-"+Ot+"-ms-flex-"+Ot+et;case 115:return"-webkit-"+et+"-ms-flex-item-"+et.replace(_e,"")+et;default:return"-webkit-"+et+"-ms-flex-line-pack"+et.replace("align-content","").replace(_e,"")+et}break;case 973:case 989:if(et.charCodeAt(3)!==45||et.charCodeAt(4)===122)break;case 931:case 953:if(Se.test(ce)===!0)return(Ot=ce.substring(ce.indexOf(":")+1)).charCodeAt(0)===115?o(ce.replace("stretch","fill-available"),qe,ht,wt).replace(":fill-available",":stretch"):et.replace(Ot,"-webkit-"+Ot)+et.replace(Ot,"-moz-"+Ot.replace("fill-",""))+et;break;case 962:if(et="-webkit-"+et+(et.charCodeAt(5)===102?"-ms-"+et:"")+et,ht+wt===211&&et.charCodeAt(13)===105&&0<et.indexOf("transform",10))return et.substring(0,et.indexOf(";",27)+1).replace(F,"$1-webkit-$2")+et}return et}function a(ce,qe){var ht=ce.indexOf(qe===1?":":"{"),wt=ce.substring(0,qe!==3?ht:10);return ht=ce.substring(ht+1,ce.length-1),Te(qe!==2?wt:wt.replace(J,"$1"),ht,qe)}function c(ce,qe){var ht=o(qe,qe.charCodeAt(0),qe.charCodeAt(1),qe.charCodeAt(2));return ht!==qe+";"?ht.replace(ge," or ($1)").substring(4):"("+qe+")"}function p(ce,qe,ht,wt,et,Nt,Ot,an,fn,nn){for(var Ye=0,Xt=qe,Ft;Ye<we;++Ye)switch(Ft=mt[Ye].call(b,ce,Xt,ht,wt,et,Nt,Ot,an,fn,nn)){case void 0:case!1:case!0:case null:break;default:Xt=Ft}if(Xt!==qe)return Xt}function g(ce){switch(ce){case void 0:case null:we=mt.length=0;break;default:if(typeof ce=="function")mt[we++]=ce;else if(typeof ce=="object")for(var qe=0,ht=ce.length;qe<ht;++qe)g(ce[qe]);else Ae=!!ce|0}return g}function _(ce){return ce=ce.prefix,ce!==void 0&&(Te=null,ce?typeof ce!="function"?ot=1:(ot=2,Te=ce):ot=0),_}function b(ce,qe){var ht=ce;if(33>ht.charCodeAt(0)&&(ht=ht.trim()),me=ht,ht=[me],0<we){var wt=p(-1,qe,ht,ht,Ve,_t,0,0,0,0);wt!==void 0&&typeof wt=="string"&&(qe=wt)}var et=e(Ze,ht,qe,0,0);return 0<we&&(wt=p(-2,et,ht,ht,Ve,_t,et.length,0,0,0),wt!==void 0&&(et=wt)),me="",xe=0,_t=Ve=1,et}var C=/^\0+/g,k=/[\0\r\f]/g,B=/: */g,z=/zoo|gra/,F=/([,: ])(transform)/g,N=/,\r+?/g,D=/([\t\r\n ])*\f?&/g,A=/@(k\w+)\s*(\S*)\s*/,G=/::(place)/g,Q=/:(read-only)/g,ae=/[svh]\w+-[tblr]{2}/,Y=/\(\s*(.*)\s*\)/g,ge=/([\s\S]*?);/g,_e=/-self|flex-/g,J=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Se=/stretch|:\s*\w+\-(?:conte|avail)/,Be=/([^-])(image-set\()/,_t=1,Ve=1,xe=0,ot=1,Ze=[],mt=[],we=0,Te=null,Ae=0,me="";return b.use=g,b.set=_,n!==void 0&&_(n),b}var Bxe,P9e=pK({"../../node_modules/@emotion/stylis/dist/stylis.browser.esm.js"(){Bxe=T9e}}),Nve,Dxe,k9e=pK({"../../node_modules/@emotion/unitless/dist/unitless.browser.esm.js"(){Nve={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dxe=Nve}}),I9e=ns({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.prod.js"(n){Object.defineProperty(n,"__esModule",{value:!0});function e(t){var r=Object.create(null);return function(o){return r[o]===void 0&&(r[o]=t(o)),r[o]}}n.default=e}}),R9e=ns({"../../node_modules/@emotion/memoize/dist/emotion-memoize.cjs.js"(n,e){e.exports=I9e()}}),O9e=ns({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.prod.js"(n){Object.defineProperty(n,"__esModule",{value:!0});var e=R9e();function t(c){return c&&c.__esModule?c:{default:c}}var r=t(e),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=r.default(function(c){return o.test(c)||c.charCodeAt(0)===111&&c.charCodeAt(1)===110&&c.charCodeAt(2)<91});n.default=a}}),B9e=ns({"../../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.cjs.js"(n,e){e.exports=O9e()}}),D9e=ns({"../../node_modules/hoist-non-react-statics/node_modules/react-is/cjs/react-is.production.min.js"(n){var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,c=e?Symbol.for("react.profiler"):60114,p=e?Symbol.for("react.provider"):60109,g=e?Symbol.for("react.context"):60110,_=e?Symbol.for("react.async_mode"):60111,b=e?Symbol.for("react.concurrent_mode"):60111,C=e?Symbol.for("react.forward_ref"):60112,k=e?Symbol.for("react.suspense"):60113,B=e?Symbol.for("react.suspense_list"):60120,z=e?Symbol.for("react.memo"):60115,F=e?Symbol.for("react.lazy"):60116,N=e?Symbol.for("react.block"):60121,D=e?Symbol.for("react.fundamental"):60117,A=e?Symbol.for("react.responder"):60118,G=e?Symbol.for("react.scope"):60119;function Q(Y){if(typeof Y=="object"&&Y!==null){var ge=Y.$$typeof;switch(ge){case t:switch(Y=Y.type,Y){case _:case b:case o:case c:case a:case k:return Y;default:switch(Y=Y&&Y.$$typeof,Y){case g:case C:case F:case z:case p:return Y;default:return ge}}case r:return ge}}}function ae(Y){return Q(Y)===b}n.AsyncMode=_,n.ConcurrentMode=b,n.ContextConsumer=g,n.ContextProvider=p,n.Element=t,n.ForwardRef=C,n.Fragment=o,n.Lazy=F,n.Memo=z,n.Portal=r,n.Profiler=c,n.StrictMode=a,n.Suspense=k,n.isAsyncMode=function(Y){return ae(Y)||Q(Y)===_},n.isConcurrentMode=ae,n.isContextConsumer=function(Y){return Q(Y)===g},n.isContextProvider=function(Y){return Q(Y)===p},n.isElement=function(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t},n.isForwardRef=function(Y){return Q(Y)===C},n.isFragment=function(Y){return Q(Y)===o},n.isLazy=function(Y){return Q(Y)===F},n.isMemo=function(Y){return Q(Y)===z},n.isPortal=function(Y){return Q(Y)===r},n.isProfiler=function(Y){return Q(Y)===c},n.isStrictMode=function(Y){return Q(Y)===a},n.isSuspense=function(Y){return Q(Y)===k},n.isValidElementType=function(Y){return typeof Y=="string"||typeof Y=="function"||Y===o||Y===b||Y===c||Y===a||Y===k||Y===B||typeof Y=="object"&&Y!==null&&(Y.$$typeof===F||Y.$$typeof===z||Y.$$typeof===p||Y.$$typeof===g||Y.$$typeof===C||Y.$$typeof===D||Y.$$typeof===A||Y.$$typeof===G||Y.$$typeof===N)},n.typeOf=Q}}),L9e=ns({"../../node_modules/hoist-non-react-statics/node_modules/react-is/index.js"(n,e){e.exports=D9e()}}),N9e=ns({"../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(n,e){var t=L9e(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},p={};p[t.ForwardRef]=a,p[t.Memo]=c;function g(N){return t.isMemo(N)?c:p[N.$$typeof]||r}var _=Object.defineProperty,b=Object.getOwnPropertyNames,C=Object.getOwnPropertySymbols,k=Object.getOwnPropertyDescriptor,B=Object.getPrototypeOf,z=Object.prototype;function F(N,D,A){if(typeof D!="string"){if(z){var G=B(D);G&&G!==z&&F(N,G,A)}var Q=b(D);C&&(Q=Q.concat(C(D)));for(var ae=g(N),Y=g(D),ge=0;ge<Q.length;++ge){var _e=Q[ge];if(!o[_e]&&!(A&&A[_e])&&!(Y&&Y[_e])&&!(ae&&ae[_e])){var J=k(D,_e);try{_(N,_e,J)}catch{}}}}return N}e.exports=F}}),Lxe={};m9e(Lxe,{ServerStyleSheet:()=>sbe,StyleSheetConsumer:()=>qxe,StyleSheetContext:()=>hR,StyleSheetManager:()=>vK,ThemeConsumer:()=>ibe,ThemeContext:()=>d1,ThemeProvider:()=>z9e,__PRIVATE__:()=>ube,createGlobalStyle:()=>jxe,css:()=>mF,default:()=>Tg,isStyledComponent:()=>pF,keyframes:()=>Hxe,useTheme:()=>lbe,version:()=>Vxe,withTheme:()=>abe});function bm(){return(bm=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function yM(n){return typeof n=="function"}function HV(n){return n.displayName||n.name||"Component"}function pF(n){return n&&typeof n.styledComponentId=="string"}function M0(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(t.length>0?" Args: "+t.join(", "):""))}function Q7(n){var e,t="";for(e=Math.abs(n);e>52;e=e/52|0)t=XV(e%52)+t;return(XV(e%52)+t).replace(Xxe,"$1-$2")}function Fve(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(yM(t)&&!pF(t))return!1}return!0}function Nxe(n){var e,t,r,o,a=n===void 0?c1:n,c=a.options,p=c===void 0?c1:c,g=a.plugins,_=g===void 0?fR:g,b=new Bxe(p),C=[],k=function(F){function N(D){if(D)try{F(D+"}")}catch{}}return function(D,A,G,Q,ae,Y,ge,_e,J,Se){switch(D){case 1:if(J===0&&A.charCodeAt(0)===64)return F(A+";"),"";break;case 2:if(_e===0)return A+"/*|*/";break;case 3:switch(_e){case 102:case 112:return F(G[0]+A),"";default:return A+(Se===0?"/*|*/":"")}case-2:A.split("/*|*/}").forEach(N)}}}(function(F){C.push(F)}),B=function(F,N,D){return N===0&&Qxe.indexOf(D[t.length])!==-1||D.match(o)?F:"."+e};function z(F,N,D,A){A===void 0&&(A="&");var G=F.replace(Yxe,""),Q=N&&D?D+" "+N+" { "+G+" }":G;return e=A,t=N,r=new RegExp("\\"+t+"\\b","g"),o=new RegExp("(\\"+t+"\\b){2,}"),b(D||!N?"":N,Q)}return b.use([].concat(_,[function(F,N,D){F===2&&D.length&&D[0].lastIndexOf(t)>0&&(D[0]=D[0].replace(r,B))},k,function(F){if(F===-2){var N=C;return C=[],N}}])),z.hash=_.length?_.reduce(function(F,N){return N.name||M0(15),Qx(F,N.name)},5381).toString():"",z}function gK(){return(0,xa.useContext)(hR)||KV}function Fxe(){return(0,xa.useContext)(iN)||RL}function vK(n){var e=(0,xa.useState)(n.stylisPlugins),t=e[0],r=e[1],o=gK(),a=(0,xa.useMemo)(function(){var p=o;return n.sheet?p=n.sheet:n.target&&(p=p.reconstructWithOptions({target:n.target},!1)),n.disableCSSOMInjection&&(p=p.reconstructWithOptions({useCSSOMInjection:!1})),p},[n.disableCSSOMInjection,n.sheet,n.target]),c=(0,xa.useMemo)(function(){return Nxe({options:{prefix:!n.disableVendorPrefixes},plugins:t})},[n.disableVendorPrefixes,t]);return(0,xa.useEffect)(function(){(0,Gxe.default)(t,n.stylisPlugins)||r(n.stylisPlugins)},[n.stylisPlugins]),xa.default.createElement(hR.Provider,{value:a},xa.default.createElement(iN.Provider,{value:c},n.children))}function zve(n){return Jxe.test(n)?n.replace(Zxe,ebe).replace($xe,"-ms-"):n}function hb(n,e,t,r){if(Array.isArray(n)){for(var o,a=[],c=0,p=n.length;c<p;c+=1)(o=hb(n[c],e,t,r))!==""&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));return a}if(YV(n))return"";if(pF(n))return"."+n.styledComponentId;if(yM(n)){if(typeof(_=n)!="function"||_.prototype&&_.prototype.isReactComponent||!e)return n;var g=n(e);return hb(g,e,t,r)}var _;return n instanceof yK?t?(n.inject(t,r),n.getName(r)):n:rN(n)?function b(C,k){var B,z,F=[];for(var N in C)C.hasOwnProperty(N)&&!YV(C[N])&&(Array.isArray(C[N])&&C[N].isCss||yM(C[N])?F.push(zve(N)+":",C[N],";"):rN(C[N])?F.push.apply(F,b(C[N],N)):F.push(zve(N)+": "+(B=N,(z=C[N])==null||typeof z=="boolean"||z===""?"":typeof z!="number"||z===0||B in Dxe||B.startsWith("--")?String(z).trim():z+"px")+";"));return k?[k+" {"].concat(F,["}"]):F}(n):n.toString()}function mF(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return yM(n)||rN(n)?QV(hb(WV(fR,[n].concat(t)))):t.length===0&&n.length===1&&typeof n[0]=="string"?n:QV(hb(WV(n,t)))}function q7(n){return n.replace(tbe,"-").replace(nbe,"")}function K4(n){return typeof n=="string"&&!0}function F9e(n,e,t){var r=n[t];sN(e)&&sN(r)?zxe(r,e):n[t]=e}function zxe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];for(var o=0,a=t;o<a.length;o++){var c=a[o];if(sN(c))for(var p in c)rbe(p)&&F9e(n,c[p],p)}return n}function z9e(n){var e=(0,xa.useContext)(d1),t=(0,xa.useMemo)(function(){return function(r,o){if(!r)return M0(14);if(yM(r)){var a=r(o);return a}return Array.isArray(r)||typeof r!="object"?M0(8):o?bm({},o,{},r):r}(n.theme,e)},[n.theme,e]);return n.children?xa.default.createElement(d1.Provider,{value:t},n.children):null}function Uxe(n,e,t){var r=pF(n),o=!K4(n),a=e.attrs,c=a===void 0?fR:a,p=e.componentId,g=p===void 0?function(A,G){var Q=typeof A!="string"?"sc":q7(A);OL[Q]=(OL[Q]||0)+1;var ae=Q+"-"+gF("5.3.11"+Q+OL[Q]);return G?G+"-"+ae:ae}(e.displayName,e.parentComponentId):p,_=e.displayName,b=_===void 0?function(A){return K4(A)?"styled."+A:"Styled("+HV(A)+")"}(n):_,C=e.displayName&&e.componentId?q7(e.displayName)+"-"+e.componentId:e.componentId||g,k=r&&n.attrs?Array.prototype.concat(n.attrs,c).filter(Boolean):c,B=e.shouldForwardProp;r&&n.shouldForwardProp&&(B=e.shouldForwardProp?function(A,G,Q){return n.shouldForwardProp(A,G,Q)&&e.shouldForwardProp(A,G,Q)}:n.shouldForwardProp);var z,F=new Kxe(t,C,r?n.componentStyle:void 0),N=F.isStatic&&c.length===0,D=function(A,G){return function(Q,ae,Y,ge){var _e=Q.attrs,J=Q.componentStyle,Se=Q.defaultProps,Be=Q.foldedComponentIds,_t=Q.shouldForwardProp,Ve=Q.styledComponentId,xe=Q.target,ot=function(wt,et,Nt){wt===void 0&&(wt=c1);var Ot=bm({},et,{theme:wt}),an={};return Nt.forEach(function(fn){var nn,Ye,Xt,Ft=fn;for(nn in yM(Ft)&&(Ft=Ft(Ot)),Ft)Ot[nn]=an[nn]=nn==="className"?(Ye=an[nn],Xt=Ft[nn],Ye&&Xt?Ye+" "+Xt:Ye||Xt):Ft[nn]}),[Ot,an]}(oN(ae,(0,xa.useContext)(d1),Se)||c1,ae,_e),Ze=ot[0],mt=ot[1],we=function(wt,et,Nt,Ot){var an=gK(),fn=Fxe(),nn=et?wt.generateAndInjectStyles(c1,an,fn):wt.generateAndInjectStyles(Nt,an,fn);return nn}(J,ge,Ze),Te=Y,Ae=mt.$as||ae.$as||mt.as||ae.as||xe,me=K4(Ae),ce=mt!==ae?bm({},ae,{},mt):ae,qe={};for(var ht in ce)ht[0]!=="$"&&ht!=="as"&&(ht==="forwardedAs"?qe.as=ce[ht]:(_t?_t(ht,GV.default,Ae):!me||(0,GV.default)(ht))&&(qe[ht]=ce[ht]));return ae.style&&mt.style!==ae.style&&(qe.style=bm({},ae.style,{},mt.style)),qe.className=Array.prototype.concat(Be,Ve,we!==Ve?we:null,ae.className,mt.className).filter(Boolean).join(" "),qe.ref=Te,(0,xa.createElement)(Ae,qe)}(z,A,G,N)};return D.displayName=b,(z=xa.default.forwardRef(D)).attrs=k,z.componentStyle=F,z.displayName=b,z.shouldForwardProp=B,z.foldedComponentIds=r?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):fR,z.styledComponentId=C,z.target=r?n.target:n,z.withComponent=function(A){var G=e.componentId,Q=function(Y,ge){if(Y==null)return{};var _e,J,Se={},Be=Object.keys(Y);for(J=0;J<Be.length;J++)_e=Be[J],ge.indexOf(_e)>=0||(Se[_e]=Y[_e]);return Se}(e,["componentId"]),ae=G&&G+"-"+(K4(A)?A:q7(HV(A)));return Uxe(A,bm({},Q,{attrs:k,componentId:ae}),t)},Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?zxe({},n.defaultProps,A):A}}),Object.defineProperty(z,"toString",{value:function(){return"."+z.styledComponentId}}),o&&(0,VV.default)(z,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),z}function jxe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=mF.apply(void 0,[n].concat(t)),a="sc-global-"+gF(JSON.stringify(o)),c=new obe(o,a);function p(_){var b=gK(),C=Fxe(),k=(0,xa.useContext)(d1),B=(0,xa.useRef)(b.allocateGSInstance(a)).current;return b.server&&g(B,_,b,k,C),(0,xa.useLayoutEffect)(function(){if(!b.server)return g(B,_,b,k,C),function(){return c.removeStyles(B,b)}},[B,_,b,k,C]),null}function g(_,b,C,k,B){if(c.isStatic)c.renderStyles(_,Wxe,C,B);else{var z=bm({},b,{theme:oN(b,k,p.defaultProps)});c.renderStyles(_,z,C,B)}}return xa.default.memo(p)}function Hxe(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=mF.apply(void 0,[n].concat(t)).join(""),a=gF(o);return new yK(a,o)}var J7,xa,Gxe,GV,VV,WV,rN,fR,c1,n1,Vxe,Y4,Uve,Wxe,jve,oI,sI,yC,aI,Hve,Gve,Vve,Wve,Xve,Kve,Q4,Z7,Yve,Qve,qve,$7,Jve,Hx,Xxe,XV,Qx,eG,Zve,Kxe,Yxe,Qxe,hR,qxe,iN,KV,RL,yK,Jxe,Zxe,$xe,ebe,YV,QV,oN,tbe,nbe,gF,sN,rbe,d1,ibe,OL,q4,obe,sbe,abe,lbe,ube,Tg,_K=pK({"../../node_modules/styled-components/dist/styled-components.browser.esm.js"(){J7=to(C9e()),xa=to(ps()),Gxe=to(M9e()),P9e(),k9e(),GV=to(B9e()),VV=to(N9e()),WV=function(n,e){for(var t=[n[0]],r=0,o=e.length;r<o;r+=1)t.push(e[r],n[r+1]);return t},rN=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!(0,J7.typeOf)(n)},fR=Object.freeze([]),c1=Object.freeze({}),n1=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Vxe="5.3.11",Y4=typeof window<"u"&&"HTMLElement"in window,Uve=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),Wxe={},jve=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}var e=n.prototype;return e.indexOfGroup=function(t){for(var r=0,o=0;o<t;o++)r+=this.groupSizes[o];return r},e.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var o=this.groupSizes,a=o.length,c=a;t>=c;)(c<<=1)<0&&M0(16,""+t);this.groupSizes=new Uint32Array(c),this.groupSizes.set(o),this.length=c;for(var p=a;p<c;p++)this.groupSizes[p]=0}for(var g=this.indexOfGroup(t+1),_=0,b=r.length;_<b;_++)this.tag.insertRule(g,r[_])&&(this.groupSizes[t]++,g++)},e.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],o=this.indexOfGroup(t),a=o+r;this.groupSizes[t]=0;for(var c=o;c<a;c++)this.tag.deleteRule(o)}},e.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var o=this.groupSizes[t],a=this.indexOfGroup(t),c=a+o,p=a;p<c;p++)r+=this.tag.getRule(p)+`/*!sc*/
`;return r},n}(),oI=new Map,sI=new Map,yC=1,aI=function(n){if(oI.has(n))return oI.get(n);for(;sI.has(yC);)yC++;var e=yC++;return oI.set(n,e),sI.set(e,n),e},Hve=function(n){return sI.get(n)},Gve=function(n,e){e>=yC&&(yC=e+1),oI.set(n,e),sI.set(e,n)},Vve="style["+n1+'][data-styled-version="5.3.11"]',Wve=new RegExp("^"+n1+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Xve=function(n,e,t){for(var r,o=t.split(","),a=0,c=o.length;a<c;a++)(r=o[a])&&n.registerName(e,r)},Kve=function(n,e){for(var t=(e.textContent||"").split(`/*!sc*/
`),r=[],o=0,a=t.length;o<a;o++){var c=t[o].trim();if(c){var p=c.match(Wve);if(p){var g=0|parseInt(p[1],10),_=p[2];g!==0&&(Gve(_,g),Xve(n,_,p[3]),n.getTag().insertRules(g,r)),r.length=0}else r.push(c)}}},Q4=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},Z7=function(n){var e=document.head,t=n||e,r=document.createElement("style"),o=function(p){for(var g=p.childNodes,_=g.length;_>=0;_--){var b=g[_];if(b&&b.nodeType===1&&b.hasAttribute(n1))return b}}(t),a=o!==void 0?o.nextSibling:null;r.setAttribute(n1,"active"),r.setAttribute("data-styled-version","5.3.11");var c=Q4();return c&&r.setAttribute("nonce",c),t.insertBefore(r,a),r},Yve=function(){function n(t){var r=this.element=Z7(t);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,c=0,p=a.length;c<p;c++){var g=a[c];if(g.ownerNode===o)return g}M0(17)}(r),this.length=0}var e=n.prototype;return e.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},e.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.getRule=function(t){var r=this.sheet.cssRules[t];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},n}(),Qve=function(){function n(t){var r=this.element=Z7(t);this.nodes=r.childNodes,this.length=0}var e=n.prototype;return e.insertRule=function(t,r){if(t<=this.length&&t>=0){var o=document.createTextNode(r),a=this.nodes[t];return this.element.insertBefore(o,a||null),this.length++,!0}return!1},e.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),qve=function(){function n(t){this.rules=[],this.length=0}var e=n.prototype;return e.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},e.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),$7=Y4,Jve={isServer:!Y4,useCSSOMInjection:!Uve},Hx=function(){function n(t,r,o){t===void 0&&(t=c1),r===void 0&&(r={}),this.options=bm({},Jve,{},t),this.gs=r,this.names=new Map(o),this.server=!!t.isServer,!this.server&&Y4&&$7&&($7=!1,function(a){for(var c=document.querySelectorAll(Vve),p=0,g=c.length;p<g;p++){var _=c[p];_&&_.getAttribute(n1)!=="active"&&(Kve(a,_),_.parentNode&&_.parentNode.removeChild(_))}}(this))}n.registerId=function(t){return aI(t)};var e=n.prototype;return e.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new n(bm({},this.options,{},t),this.gs,r&&this.names||void 0)},e.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,a=r.useCSSOMInjection,c=r.target,t=o?new qve(c):a?new Yve(c):new Qve(c),new jve(t)));var t,r,o,a,c},e.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},e.registerName=function(t,r){if(aI(t),this.names.has(t))this.names.get(t).add(r);else{var o=new Set;o.add(r),this.names.set(t,o)}},e.insertRules=function(t,r,o){this.registerName(t,r),this.getTag().insertRules(aI(t),o)},e.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.clearRules=function(t){this.getTag().clearGroup(aI(t)),this.clearNames(t)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(t){for(var r=t.getTag(),o=r.length,a="",c=0;c<o;c++){var p=Hve(c);if(p!==void 0){var g=t.names.get(p),_=r.getGroup(c);if(g&&_&&g.size){var b=n1+".g"+c+'[id="'+p+'"]',C="";g!==void 0&&g.forEach(function(k){k.length>0&&(C+=k+",")}),a+=""+_+b+'{content:"'+C+`"}/*!sc*/
`}}}return a}(this)},n}(),Xxe=/(a)(d)/gi,XV=function(n){return String.fromCharCode(n+(n>25?39:97))},Qx=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},eG=function(n){return Qx(5381,n)},Zve=eG("5.3.11"),Kxe=function(){function n(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Fve(e),this.componentId=t,this.baseHash=Qx(Zve,t),this.baseStyle=r,Hx.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,r){var o=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(o,this.staticRulesId))a.push(this.staticRulesId);else{var c=hb(this.rules,e,t,r).join(""),p=Q7(Qx(this.baseHash,c)>>>0);if(!t.hasNameForId(o,p)){var g=r(c,"."+p,void 0,o);t.insertRules(o,p,g)}a.push(p),this.staticRulesId=p}else{for(var _=this.rules.length,b=Qx(this.baseHash,r.hash),C="",k=0;k<_;k++){var B=this.rules[k];if(typeof B=="string")C+=B;else if(B){var z=hb(B,e,t,r),F=Array.isArray(z)?z.join(""):z;b=Qx(b,F+k),C+=F}}if(C){var N=Q7(b>>>0);if(!t.hasNameForId(o,N)){var D=r(C,"."+N,void 0,o);t.insertRules(o,N,D)}a.push(N)}}return a.join(" ")},n}(),Yxe=/^\s*\/\/.*$/gm,Qxe=[":","[",".","#"],hR=xa.default.createContext(),qxe=hR.Consumer,iN=xa.default.createContext(),KV=(iN.Consumer,new Hx),RL=Nxe(),yK=function(){function n(e,t){var r=this;this.inject=function(o,a){a===void 0&&(a=RL);var c=r.name+a.hash;o.hasNameForId(r.id,c)||o.insertRules(r.id,c,a(r.rules,c,"@keyframes"))},this.toString=function(){return M0(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return n.prototype.getName=function(e){return e===void 0&&(e=RL),this.name+e.hash},n}(),Jxe=/([A-Z])/,Zxe=/([A-Z])/g,$xe=/^ms-/,ebe=function(n){return"-"+n.toLowerCase()},YV=function(n){return n==null||n===!1||n===""},QV=function(n){return Array.isArray(n)&&(n.isCss=!0),n},oN=function(n,e,t){return t===void 0&&(t=c1),n.theme!==t.theme&&n.theme||e||t.theme},tbe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,nbe=/(^-|-$)/g,gF=function(n){return Q7(eG(n)>>>0)},sN=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},rbe=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"},d1=xa.default.createContext(),ibe=d1.Consumer,OL={},q4=function(n){return function e(t,r,o){if(o===void 0&&(o=c1),!(0,J7.isValidElementType)(r))return M0(1,String(r));var a=function(){return t(r,o,mF.apply(void 0,arguments))};return a.withConfig=function(c){return e(t,r,bm({},o,{},c))},a.attrs=function(c){return e(t,r,bm({},o,{attrs:Array.prototype.concat(o.attrs,c).filter(Boolean)}))},a}(Uxe,n)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){q4[n]=q4(n)}),obe=function(){function n(t,r){this.rules=t,this.componentId=r,this.isStatic=Fve(t),Hx.registerId(this.componentId+1)}var e=n.prototype;return e.createStyles=function(t,r,o,a){var c=a(hb(this.rules,r,o,a).join(""),""),p=this.componentId+t;o.insertRules(p,p,c)},e.removeStyles=function(t,r){r.clearRules(this.componentId+t)},e.renderStyles=function(t,r,o,a){t>2&&Hx.registerId(this.componentId+t),this.removeStyles(t,o),this.createStyles(t,r,o,a)},n}(),sbe=function(){function n(){var t=this;this._emitSheetCSS=function(){var r=t.instance.toString();if(!r)return"";var o=Q4();return"<style "+[o&&'nonce="'+o+'"',n1+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+r+"</style>"},this.getStyleTags=function(){return t.sealed?M0(2):t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)return M0(2);var o=((r={})[n1]="",r["data-styled-version"]="5.3.11",r.dangerouslySetInnerHTML={__html:t.instance.toString()},r),a=Q4();return a&&(o.nonce=a),[xa.default.createElement("style",bm({},o,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Hx({isServer:!0}),this.sealed=!1}var e=n.prototype;return e.collectStyles=function(t){return this.sealed?M0(2):xa.default.createElement(vK,{sheet:this.instance},t)},e.interleaveWithNodeStream=function(t){return M0(3)},n}(),abe=function(n){var e=xa.default.forwardRef(function(t,r){var o=(0,xa.useContext)(d1),a=n.defaultProps,c=oN(t,o,a);return xa.default.createElement(n,bm({},t,{theme:c,ref:r}))});return(0,VV.default)(e,n),e.displayName="WithTheme("+HV(n)+")",e},lbe=function(){return(0,xa.useContext)(d1)},ube={StyleSheet:Hx,masterSheet:KV},Tg=q4}}),U9e=ns({"../../node_modules/react-dom/node_modules/scheduler/cjs/scheduler.production.min.js"(n){function e(we,Te){var Ae=we.length;we.push(Te);e:for(;0<Ae;){var me=Ae-1>>>1,ce=we[me];if(0<o(ce,Te))we[me]=Te,we[Ae]=ce,Ae=me;else break e}}function t(we){return we.length===0?null:we[0]}function r(we){if(we.length===0)return null;var Te=we[0],Ae=we.pop();if(Ae!==Te){we[0]=Ae;e:for(var me=0,ce=we.length,qe=ce>>>1;me<qe;){var ht=2*(me+1)-1,wt=we[ht],et=ht+1,Nt=we[et];if(0>o(wt,Ae))et<ce&&0>o(Nt,wt)?(we[me]=Nt,we[et]=Ae,me=et):(we[me]=wt,we[ht]=Ae,me=ht);else if(et<ce&&0>o(Nt,Ae))we[me]=Nt,we[et]=Ae,me=et;else break e}}return Te}function o(we,Te){var Ae=we.sortIndex-Te.sortIndex;return Ae!==0?Ae:we.id-Te.id}typeof performance=="object"&&typeof performance.now=="function"?(a=performance,n.unstable_now=function(){return a.now()}):(c=Date,p=c.now(),n.unstable_now=function(){return c.now()-p});var a,c,p,g=[],_=[],b=1,C=null,k=3,B=!1,z=!1,F=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(we){for(var Te=t(_);Te!==null;){if(Te.callback===null)r(_);else if(Te.startTime<=we)r(_),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=t(_)}}function Q(we){if(F=!1,G(we),!z)if(t(g)!==null)z=!0,Ze(ae);else{var Te=t(_);Te!==null&&mt(Q,Te.startTime-we)}}function ae(we,Te){z=!1,F&&(F=!1,D(_e),_e=-1),B=!0;var Ae=k;try{for(G(Te),C=t(g);C!==null&&(!(C.expirationTime>Te)||we&&!Be());){var me=C.callback;if(typeof me=="function"){C.callback=null,k=C.priorityLevel;var ce=me(C.expirationTime<=Te);Te=n.unstable_now(),typeof ce=="function"?C.callback=ce:C===t(g)&&r(g),G(Te)}else r(g);C=t(g)}if(C!==null)var qe=!0;else{var ht=t(_);ht!==null&&mt(Q,ht.startTime-Te),qe=!1}return qe}finally{C=null,k=Ae,B=!1}}var Y=!1,ge=null,_e=-1,J=5,Se=-1;function Be(){return!(n.unstable_now()-Se<J)}function _t(){if(ge!==null){var we=n.unstable_now();Se=we;var Te=!0;try{Te=ge(!0,we)}finally{Te?Ve():(Y=!1,ge=null)}}else Y=!1}var Ve;typeof A=="function"?Ve=function(){A(_t)}:typeof MessageChannel<"u"?(xe=new MessageChannel,ot=xe.port2,xe.port1.onmessage=_t,Ve=function(){ot.postMessage(null)}):Ve=function(){N(_t,0)};var xe,ot;function Ze(we){ge=we,Y||(Y=!0,Ve())}function mt(we,Te){_e=N(function(){we(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(we){we.callback=null},n.unstable_continueExecution=function(){z||B||(z=!0,Ze(ae))},n.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<we?Math.floor(1e3/we):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(we){switch(k){case 1:case 2:case 3:var Te=3;break;default:Te=k}var Ae=k;k=Te;try{return we()}finally{k=Ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(we,Te){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var Ae=k;k=we;try{return Te()}finally{k=Ae}},n.unstable_scheduleCallback=function(we,Te,Ae){var me=n.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?me+Ae:me):Ae=me,we){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Ae+ce,we={id:b++,callback:Te,priorityLevel:we,startTime:Ae,expirationTime:ce,sortIndex:-1},Ae>me?(we.sortIndex=Ae,e(_,we),t(g)===null&&we===t(_)&&(F?(D(_e),_e=-1):F=!0,mt(Q,Ae-me))):(we.sortIndex=ce,e(g,we),z||B||(z=!0,Ze(ae))),we},n.unstable_shouldYield=Be,n.unstable_wrapCallback=function(we){var Te=k;return function(){var Ae=k;k=Te;try{return we.apply(this,arguments)}finally{k=Ae}}}}}),j9e=ns({"../../node_modules/react-dom/node_modules/scheduler/index.js"(n,e){e.exports=U9e()}}),H9e=ns({"../../node_modules/react-dom/cjs/react-dom.production.min.js"(n){var e=ps(),t=j9e();function r(f){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+f,R=1;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R]);return"Minified React error #"+f+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(f,v){p(f,v),p(f+"Capture",v)}function p(f,v){for(a[f]=v,f=0;f<v.length;f++)o.add(v[f])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},k={};function B(f){return _.call(k,f)?!0:_.call(C,f)?!1:b.test(f)?k[f]=!0:(C[f]=!0,!1)}function z(f,v,R,V){if(R!==null&&R.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return V?!1:R!==null?!R.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function F(f,v,R,V){if(v===null||typeof v>"u"||z(f,v,R,V))return!0;if(V)return!1;if(R!==null)switch(R.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function N(f,v,R,V,ie,he,Ne){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=V,this.attributeNamespace=ie,this.mustUseProperty=R,this.propertyName=f,this.type=v,this.sanitizeURL=he,this.removeEmptyString=Ne}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){D[f]=new N(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var v=f[0];D[v]=new N(v,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){D[f]=new N(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){D[f]=new N(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){D[f]=new N(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){D[f]=new N(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){D[f]=new N(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){D[f]=new N(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){D[f]=new N(f,5,!1,f.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function G(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var v=f.replace(A,G);D[v]=new N(v,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var v=f.replace(A,G);D[v]=new N(v,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var v=f.replace(A,G);D[v]=new N(v,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){D[f]=new N(f,1,!1,f.toLowerCase(),null,!1,!1)}),D.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){D[f]=new N(f,1,!1,f.toLowerCase(),null,!0,!0)});function Q(f,v,R,V){var ie=D.hasOwnProperty(v)?D[v]:null;(ie!==null?ie.type!==0:V||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(F(v,R,ie,V)&&(R=null),V||ie===null?B(v)&&(R===null?f.removeAttribute(v):f.setAttribute(v,""+R)):ie.mustUseProperty?f[ie.propertyName]=R===null?ie.type===3?!1:"":R:(v=ie.attributeName,V=ie.attributeNamespace,R===null?f.removeAttribute(v):(ie=ie.type,R=ie===3||ie===4&&R===!0?"":""+R,V?f.setAttributeNS(V,v,R):f.setAttribute(v,R))))}var ae=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ge=Symbol.for("react.portal"),_e=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Se=Symbol.for("react.profiler"),Be=Symbol.for("react.provider"),_t=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),Te=Symbol.iterator;function Ae(f){return f===null||typeof f!="object"?null:(f=Te&&f[Te]||f["@@iterator"],typeof f=="function"?f:null)}var me=Object.assign,ce;function qe(f){if(ce===void 0)try{throw Error()}catch(R){var v=R.stack.trim().match(/\n( *(at )?)/);ce=v&&v[1]||""}return`
`+ce+f}var ht=!1;function wt(f,v){if(!f||ht)return"";ht=!0;var R=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(wn){var V=wn}Reflect.construct(f,[],v)}else{try{v.call()}catch(wn){V=wn}f.call(v.prototype)}else{try{throw Error()}catch(wn){V=wn}f()}}catch(wn){if(wn&&V&&typeof wn.stack=="string"){for(var ie=wn.stack.split(`
`),he=V.stack.split(`
`),Ne=ie.length-1,St=he.length-1;1<=Ne&&0<=St&&ie[Ne]!==he[St];)St--;for(;1<=Ne&&0<=St;Ne--,St--)if(ie[Ne]!==he[St]){if(Ne!==1||St!==1)do if(Ne--,St--,0>St||ie[Ne]!==he[St]){var Bt=`
`+ie[Ne].replace(" at new "," at ");return f.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",f.displayName)),Bt}while(1<=Ne&&0<=St);break}}}finally{ht=!1,Error.prepareStackTrace=R}return(f=f?f.displayName||f.name:"")?qe(f):""}function et(f){switch(f.tag){case 5:return qe(f.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 2:case 15:return f=wt(f.type,!1),f;case 11:return f=wt(f.type.render,!1),f;case 1:return f=wt(f.type,!0),f;default:return""}}function Nt(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case _e:return"Fragment";case ge:return"Portal";case Se:return"Profiler";case J:return"StrictMode";case xe:return"Suspense";case ot:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case _t:return(f.displayName||"Context")+".Consumer";case Be:return(f._context.displayName||"Context")+".Provider";case Ve:var v=f.render;return f=f.displayName,f||(f=v.displayName||v.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case Ze:return v=f.displayName||null,v!==null?v:Nt(f.type)||"Memo";case mt:v=f._payload,f=f._init;try{return Nt(f(v))}catch{}}return null}function Ot(f){var v=f.type;switch(f.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=v.render,f=f.displayName||f.name||"",v.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nt(v);case 8:return v===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function an(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function fn(f){var v=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function nn(f){var v=fn(f)?"checked":"value",R=Object.getOwnPropertyDescriptor(f.constructor.prototype,v),V=""+f[v];if(!f.hasOwnProperty(v)&&typeof R<"u"&&typeof R.get=="function"&&typeof R.set=="function"){var ie=R.get,he=R.set;return Object.defineProperty(f,v,{configurable:!0,get:function(){return ie.call(this)},set:function(Ne){V=""+Ne,he.call(this,Ne)}}),Object.defineProperty(f,v,{enumerable:R.enumerable}),{getValue:function(){return V},setValue:function(Ne){V=""+Ne},stopTracking:function(){f._valueTracker=null,delete f[v]}}}}function Ye(f){f._valueTracker||(f._valueTracker=nn(f))}function Xt(f){if(!f)return!1;var v=f._valueTracker;if(!v)return!0;var R=v.getValue(),V="";return f&&(V=fn(f)?f.checked?"true":"false":f.value),f=V,f!==R?(v.setValue(f),!0):!1}function Ft(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function Zt(f,v){var R=v.checked;return me({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:R??f._wrapperState.initialChecked})}function mn(f,v){var R=v.defaultValue==null?"":v.defaultValue,V=v.checked!=null?v.checked:v.defaultChecked;R=an(v.value!=null?v.value:R),f._wrapperState={initialChecked:V,initialValue:R,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function jn(f,v){v=v.checked,v!=null&&Q(f,"checked",v,!1)}function Wn(f,v){jn(f,v);var R=an(v.value),V=v.type;if(R!=null)V==="number"?(R===0&&f.value===""||f.value!=R)&&(f.value=""+R):f.value!==""+R&&(f.value=""+R);else if(V==="submit"||V==="reset"){f.removeAttribute("value");return}v.hasOwnProperty("value")?_r(f,v.type,R):v.hasOwnProperty("defaultValue")&&_r(f,v.type,an(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(f.defaultChecked=!!v.defaultChecked)}function tr(f,v,R){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var V=v.type;if(!(V!=="submit"&&V!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+f._wrapperState.initialValue,R||v===f.value||(f.value=v),f.defaultValue=v}R=f.name,R!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,R!==""&&(f.name=R)}function _r(f,v,R){(v!=="number"||Ft(f.ownerDocument)!==f)&&(R==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+R&&(f.defaultValue=""+R))}var Vr=Array.isArray;function si(f,v,R,V){if(f=f.options,v){v={};for(var ie=0;ie<R.length;ie++)v["$"+R[ie]]=!0;for(R=0;R<f.length;R++)ie=v.hasOwnProperty("$"+f[R].value),f[R].selected!==ie&&(f[R].selected=ie),ie&&V&&(f[R].defaultSelected=!0)}else{for(R=""+an(R),v=null,ie=0;ie<f.length;ie++){if(f[ie].value===R){f[ie].selected=!0,V&&(f[ie].defaultSelected=!0);return}v!==null||f[ie].disabled||(v=f[ie])}v!==null&&(v.selected=!0)}}function ct(f,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},v,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function De(f,v){var R=v.value;if(R==null){if(R=v.children,v=v.defaultValue,R!=null){if(v!=null)throw Error(r(92));if(Vr(R)){if(1<R.length)throw Error(r(93));R=R[0]}v=R}v==null&&(v=""),R=v}f._wrapperState={initialValue:an(R)}}function Ut(f,v){var R=an(v.value),V=an(v.defaultValue);R!=null&&(R=""+R,R!==f.value&&(f.value=R),v.defaultValue==null&&f.defaultValue!==R&&(f.defaultValue=R)),V!=null&&(f.defaultValue=""+V)}function Kn(f){var v=f.textContent;v===f._wrapperState.initialValue&&v!==""&&v!==null&&(f.value=v)}function Fn(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xn(f,v){return f==null||f==="http://www.w3.org/1999/xhtml"?Fn(v):f==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var xr,nr=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,R,V,ie){MSApp.execUnsafeLocalFunction(function(){return f(v,R,V,ie)})}:f}(function(f,v){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=v;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=xr.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;v.firstChild;)f.appendChild(v.firstChild)}});function it(f,v){if(v){var R=f.firstChild;if(R&&R===f.lastChild&&R.nodeType===3){R.nodeValue=v;return}}f.textContent=v}var En={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ln=["Webkit","ms","Moz","O"];Object.keys(En).forEach(function(f){Ln.forEach(function(v){v=v+f.charAt(0).toUpperCase()+f.substring(1),En[v]=En[f]})});function Yn(f,v,R){return v==null||typeof v=="boolean"||v===""?"":R||typeof v!="number"||v===0||En.hasOwnProperty(f)&&En[f]?(""+v).trim():v+"px"}function br(f,v){f=f.style;for(var R in v)if(v.hasOwnProperty(R)){var V=R.indexOf("--")===0,ie=Yn(R,v[R],V);R==="float"&&(R="cssFloat"),V?f.setProperty(R,ie):f[R]=ie}}var vr=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wr(f,v){if(v){if(vr[f]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,f));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function ci(f,v){if(f.indexOf("-")===-1)return typeof v.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function Kt(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var gn=null,rr=null,Gn=null;function Ei(f){if(f=Ko(f)){if(typeof gn!="function")throw Error(r(280));var v=f.stateNode;v&&(v=rp(v),gn(f.stateNode,f.type,v))}}function so(f){rr?Gn?Gn.push(f):Gn=[f]:rr=f}function eo(){if(rr){var f=rr,v=Gn;if(Gn=rr=null,Ei(f),v)for(f=0;f<v.length;f++)Ei(v[f])}}function Vo(f,v){return f(v)}function Li(){}var qi=!1;function po(f,v,R){if(qi)return f(v,R);qi=!0;try{return Vo(f,v,R)}finally{qi=!1,(rr!==null||Gn!==null)&&(Li(),eo())}}function ba(f,v){var R=f.stateNode;if(R===null)return null;var V=rp(R);if(V===null)return null;R=V[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(V=!V.disabled)||(f=f.type,V=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!V;break e;default:f=!1}if(f)return null;if(R&&typeof R!="function")throw Error(r(231,v,typeof R));return R}var tl=!1;if(g)try{Ds={},Object.defineProperty(Ds,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{tl=!1}var Ds;function ua(f,v,R,V,ie,he,Ne,St,Bt){var wn=Array.prototype.slice.call(arguments,3);try{v.apply(R,wn)}catch(Zn){this.onError(Zn)}}var Cs=!1,ms=null,di=!1,Ea=null,Tu={onError:function(f){Cs=!0,ms=f}};function Re(f,v,R,V,ie,he,Ne,St,Bt){Cs=!1,ms=null,ua.apply(Tu,arguments)}function de(f,v,R,V,ie,he,Ne,St,Bt){if(Re.apply(this,arguments),Cs){if(Cs){var wn=ms;Cs=!1,ms=null}else throw Error(r(198));di||(di=!0,Ea=wn)}}function Fe(f){var v=f,R=f;if(f.alternate)for(;v.return;)v=v.return;else{f=v;do v=f,v.flags&4098&&(R=v.return),f=v.return;while(f)}return v.tag===3?R:null}function dt(f){if(f.tag===13){var v=f.memoizedState;if(v===null&&(f=f.alternate,f!==null&&(v=f.memoizedState)),v!==null)return v.dehydrated}return null}function at(f){if(Fe(f)!==f)throw Error(r(188))}function vt(f){var v=f.alternate;if(!v){if(v=Fe(f),v===null)throw Error(r(188));return v!==f?null:f}for(var R=f,V=v;;){var ie=R.return;if(ie===null)break;var he=ie.alternate;if(he===null){if(V=ie.return,V!==null){R=V;continue}break}if(ie.child===he.child){for(he=ie.child;he;){if(he===R)return at(ie),f;if(he===V)return at(ie),v;he=he.sibling}throw Error(r(188))}if(R.return!==V.return)R=ie,V=he;else{for(var Ne=!1,St=ie.child;St;){if(St===R){Ne=!0,R=ie,V=he;break}if(St===V){Ne=!0,V=ie,R=he;break}St=St.sibling}if(!Ne){for(St=he.child;St;){if(St===R){Ne=!0,R=he,V=ie;break}if(St===V){Ne=!0,V=he,R=ie;break}St=St.sibling}if(!Ne)throw Error(r(189))}}if(R.alternate!==V)throw Error(r(190))}if(R.tag!==3)throw Error(r(188));return R.stateNode.current===R?f:v}function tn(f){return f=vt(f),f!==null?rn(f):null}function rn(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var v=rn(f);if(v!==null)return v;f=f.sibling}return null}var Tn=t.unstable_scheduleCallback,Mn=t.unstable_cancelCallback,Bn=t.unstable_shouldYield,Cn=t.unstable_requestPaint,ir=t.unstable_now,qn=t.unstable_getCurrentPriorityLevel,lr=t.unstable_ImmediatePriority,Lr=t.unstable_UserBlockingPriority,Zr=t.unstable_NormalPriority,Qr=t.unstable_LowPriority,wr=t.unstable_IdlePriority,jr=null,Qn=null;function Br(f){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(jr,f,void 0,(f.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:Ai,Hr=Math.log,Si=Math.LN2;function Ai(f){return f>>>=0,f===0?32:31-(Hr(f)/Si|0)|0}var Ni=64,Ui=4194304;function ai(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function wo(f,v){var R=f.pendingLanes;if(R===0)return 0;var V=0,ie=f.suspendedLanes,he=f.pingedLanes,Ne=R&268435455;if(Ne!==0){var St=Ne&~ie;St!==0?V=ai(St):(he&=Ne,he!==0&&(V=ai(he)))}else Ne=R&~ie,Ne!==0?V=ai(Ne):he!==0&&(V=ai(he));if(V===0)return 0;if(v!==0&&v!==V&&!(v&ie)&&(ie=V&-V,he=v&-v,ie>=he||ie===16&&(he&4194240)!==0))return v;if(V&4&&(V|=R&16),v=f.entangledLanes,v!==0)for(f=f.entanglements,v&=V;0<v;)R=31-ri(v),ie=1<<R,V|=f[R],v&=~ie;return V}function le(f,v){switch(f){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ee(f,v){for(var R=f.suspendedLanes,V=f.pingedLanes,ie=f.expirationTimes,he=f.pendingLanes;0<he;){var Ne=31-ri(he),St=1<<Ne,Bt=ie[Ne];Bt===-1?(!(St&R)||St&V)&&(ie[Ne]=le(St,v)):Bt<=v&&(f.expiredLanes|=St),he&=~St}}function He(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function lt(){var f=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),f}function Jt(f){for(var v=[],R=0;31>R;R++)v.push(f);return v}function Wt(f,v,R){f.pendingLanes|=v,v!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,v=31-ri(v),f[v]=R}function On(f,v){var R=f.pendingLanes&~v;f.pendingLanes=v,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=v,f.mutableReadLanes&=v,f.entangledLanes&=v,v=f.entanglements;var V=f.eventTimes;for(f=f.expirationTimes;0<R;){var ie=31-ri(R),he=1<<ie;v[ie]=0,V[ie]=-1,f[ie]=-1,R&=~he}}function ur(f,v){var R=f.entangledLanes|=v;for(f=f.entanglements;R;){var V=31-ri(R),ie=1<<V;ie&v|f[V]&v&&(f[V]|=v),R&=~ie}}var fr=0;function $r(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Ii,To,Aa,$s,No,La=!1,Na=[],bi=null,Ci=null,ca=null,ea=new Map,uu=new Map,Pu=[],Ls="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function us(f,v){switch(f){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":ea.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(v.pointerId)}}function Tc(f,v,R,V,ie,he){return f===null||f.nativeEvent!==he?(f={blockedOn:v,domEventName:R,eventSystemFlags:V,nativeEvent:he,targetContainers:[ie]},v!==null&&(v=Ko(v),v!==null&&To(v)),f):(f.eventSystemFlags|=V,v=f.targetContainers,ie!==null&&v.indexOf(ie)===-1&&v.push(ie),f)}function rc(f,v,R,V,ie){switch(v){case"focusin":return bi=Tc(bi,f,v,R,V,ie),!0;case"dragenter":return Ci=Tc(Ci,f,v,R,V,ie),!0;case"mouseover":return ca=Tc(ca,f,v,R,V,ie),!0;case"pointerover":var he=ie.pointerId;return ea.set(he,Tc(ea.get(he)||null,f,v,R,V,ie)),!0;case"gotpointercapture":return he=ie.pointerId,uu.set(he,Tc(uu.get(he)||null,f,v,R,V,ie)),!0}return!1}function da(f){var v=pu(f.target);if(v!==null){var R=Fe(v);if(R!==null){if(v=R.tag,v===13){if(v=dt(R),v!==null){f.blockedOn=v,No(f.priority,function(){Aa(R)});return}}else if(v===3&&R.stateNode.current.memoizedState.isDehydrated){f.blockedOn=R.tag===3?R.stateNode.containerInfo:null;return}}}f.blockedOn=null}function ku(f){if(f.blockedOn!==null)return!1;for(var v=f.targetContainers;0<v.length;){var R=Ta(f.domEventName,f.eventSystemFlags,v[0],f.nativeEvent);if(R===null){R=f.nativeEvent;var V=new R.constructor(R.type,R);Ct=V,R.target.dispatchEvent(V),Ct=null}else return v=Ko(R),v!==null&&To(v),f.blockedOn=R,!1;v.shift()}return!0}function Ns(f,v,R){ku(f)&&R.delete(v)}function ji(){La=!1,bi!==null&&ku(bi)&&(bi=null),Ci!==null&&ku(Ci)&&(Ci=null),ca!==null&&ku(ca)&&(ca=null),ea.forEach(Ns),uu.forEach(Ns)}function Ca(f,v){f.blockedOn===v&&(f.blockedOn=null,La||(La=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ji)))}function Vs(f){function v(ie){return Ca(ie,f)}if(0<Na.length){Ca(Na[0],f);for(var R=1;R<Na.length;R++){var V=Na[R];V.blockedOn===f&&(V.blockedOn=null)}}for(bi!==null&&Ca(bi,f),Ci!==null&&Ca(Ci,f),ca!==null&&Ca(ca,f),ea.forEach(v),uu.forEach(v),R=0;R<Pu.length;R++)V=Pu[R],V.blockedOn===f&&(V.blockedOn=null);for(;0<Pu.length&&(R=Pu[0],R.blockedOn===null);)da(R),R.blockedOn===null&&Pu.shift()}var Po=ae.ReactCurrentBatchConfig,cs=!0;function Iu(f,v,R,V){var ie=fr,he=Po.transition;Po.transition=null;try{fr=1,Md(f,v,R,V)}finally{fr=ie,Po.transition=he}}function Ll(f,v,R,V){var ie=fr,he=Po.transition;Po.transition=null;try{fr=4,Md(f,v,R,V)}finally{fr=ie,Po.transition=he}}function Md(f,v,R,V){if(cs){var ie=Ta(f,v,R,V);if(ie===null)$h(f,v,V,Ma,R),us(f,V);else if(rc(ie,f,v,R,V))V.stopPropagation();else if(us(f,V),v&4&&-1<Ls.indexOf(f)){for(;ie!==null;){var he=Ko(ie);if(he!==null&&Ii(he),he=Ta(f,v,R,V),he===null&&$h(f,v,V,Ma,R),he===ie)break;ie=he}ie!==null&&V.stopPropagation()}else $h(f,v,V,null,R)}}var Ma=null;function Ta(f,v,R,V){if(Ma=null,f=Kt(V),f=pu(f),f!==null)if(v=Fe(f),v===null)f=null;else if(R=v.tag,R===13){if(f=dt(v),f!==null)return f;f=null}else if(R===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;f=null}else v!==f&&(f=null);return Ma=f,null}function Pc(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qn()){case lr:return 1;case Lr:return 4;case Zr:case Qr:return 16;case wr:return 536870912;default:return 16}default:return 16}}var nl=null,fa=null,Ws=null;function Ru(){if(Ws)return Ws;var f,v=fa,R=v.length,V,ie="value"in nl?nl.value:nl.textContent,he=ie.length;for(f=0;f<R&&v[f]===ie[f];f++);var Ne=R-f;for(V=1;V<=Ne&&v[R-V]===ie[he-V];V++);return Ws=ie.slice(f,1<V?1-V:void 0)}function ha(f){var v=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&v===13&&(f=13)):f=v,f===10&&(f=13),32<=f||f===13?f:0}function Fa(){return!0}function Al(){return!1}function rs(f){function v(R,V,ie,he,Ne){this._reactName=R,this._targetInst=ie,this.type=V,this.nativeEvent=he,this.target=Ne,this.currentTarget=null;for(var St in f)f.hasOwnProperty(St)&&(R=f[St],this[St]=R?R(he):he[St]);return this.isDefaultPrevented=(he.defaultPrevented!=null?he.defaultPrevented:he.returnValue===!1)?Fa:Al,this.isPropagationStopped=Al,this}return me(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var R=this.nativeEvent;R&&(R.preventDefault?R.preventDefault():typeof R.returnValue!="unknown"&&(R.returnValue=!1),this.isDefaultPrevented=Fa)},stopPropagation:function(){var R=this.nativeEvent;R&&(R.stopPropagation?R.stopPropagation():typeof R.cancelBubble!="unknown"&&(R.cancelBubble=!0),this.isPropagationStopped=Fa)},persist:function(){},isPersistent:Fa}),v}var cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=rs(cu),gs=me({},cu,{view:0,detail:0}),is=rs(gs),ko,Ro,Zo,du=me({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Zo&&(Zo&&f.type==="mousemove"?(ko=f.screenX-Zo.screenX,Ro=f.screenY-Zo.screenY):Ro=ko=0,Zo=f),ko)},movementY:function(f){return"movementY"in f?f.movementY:Ro}}),Xs=rs(du),_o=me({},du,{dataTransfer:0}),ta=rs(_o),Ms=me({},gs,{relatedTarget:0}),ic=rs(Ms),rl=me({},cu,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=rs(rl),kc=me({},cu,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Ou=rs(kc),Bu=me({},cu,{data:0}),Td=rs(Bu),Ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(f){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(f):(f=Fl[f])?!!v[f]:!1}function Pa(){return Cl}var zl=me({},gs,{key:function(f){if(f.key){var v=Ic[f.key]||f.key;if(v!=="Unidentified")return v}return f.type==="keypress"?(f=ha(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?oc[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(f){return f.type==="keypress"?ha(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?ha(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Fs=rs(zl),ue=me({},du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ce=rs(ue),Ge=me({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),ut=rs(Ge),$t=me({},cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),jt=rs($t),Dn=me({},du,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),cr=rs(Dn),Xr=[9,13,27,32],Gr=g&&"CompositionEvent"in window,Tr=null;g&&"documentMode"in document&&(Tr=document.documentMode);var Nr=g&&"TextEvent"in window&&!Tr,ao=g&&(!Gr||Tr&&8<Tr&&11>=Tr),Fo=String.fromCharCode(32),zs=!1;function hu(f,v){switch(f){case"keyup":return Xr.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mo(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var il=!1;function bf(f,v){switch(f){case"compositionend":return mo(v);case"keypress":return v.which!==32?null:(zs=!0,Fo);case"textInput":return f=v.data,f===Fo&&zs?null:f;default:return null}}function Ul(f,v){if(il)return f==="compositionend"||!Gr&&hu(f,v)?(f=Ru(),Ws=fa=nl=null,il=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return ao&&v.locale!=="ko"?null:v.data;default:return null}}var sc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(f){var v=f&&f.nodeName&&f.nodeName.toLowerCase();return v==="input"?!!sc[f.type]:v==="textarea"}function Oc(f,v,R,V){so(V),v=ep(v,"onChange"),0<v.length&&(R=new Nl("onChange","change",null,R,V),f.push({event:R,listeners:v}))}var Ml=null,ac=null;function Pd(f){Mf(f,0)}function Du(f){var v=qs(f);if(Xt(v))return f}function lc(f,v){if(f==="change")return v}var na=!1;g&&(g?(Me="oninput"in document,Me||(rt=document.createElement("div"),rt.setAttribute("oninput","return;"),Me=typeof rt.oninput=="function"),pa=Me):pa=!1,na=pa&&(!document.documentMode||9<document.documentMode));var pa,Me,rt;function Mt(){Ml&&(Ml.detachEvent("onpropertychange",Sn),ac=Ml=null)}function Sn(f){if(f.propertyName==="value"&&Du(ac)){var v=[];Oc(v,ac,f,Kt(f)),po(Pd,v)}}function gi(f,v,R){f==="focusin"?(Mt(),Ml=v,ac=R,Ml.attachEvent("onpropertychange",Sn)):f==="focusout"&&Mt()}function Ao(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return Du(ac)}function Ji(f,v){if(f==="click")return Du(v)}function go(f,v){if(f==="input"||f==="change")return Du(v)}function kd(f,v){return f===v&&(f!==0||1/f===1/v)||f!==f&&v!==v}var Ks=typeof Object.is=="function"?Object.is:kd;function ol(f,v){if(Ks(f,v))return!0;if(typeof f!="object"||f===null||typeof v!="object"||v===null)return!1;var R=Object.keys(f),V=Object.keys(v);if(R.length!==V.length)return!1;for(V=0;V<R.length;V++){var ie=R[V];if(!_.call(v,ie)||!Ks(f[ie],v[ie]))return!1}return!0}function sl(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function za(f,v){var R=sl(f);f=0;for(var V;R;){if(R.nodeType===3){if(V=f+R.textContent.length,f<=v&&V>=v)return{node:R,offset:v-f};f=V}e:{for(;R;){if(R.nextSibling){R=R.nextSibling;break e}R=R.parentNode}R=void 0}R=sl(R)}}function Wo(f,v){return f&&v?f===v?!0:f&&f.nodeType===3?!1:v&&v.nodeType===3?Wo(f,v.parentNode):"contains"in f?f.contains(v):f.compareDocumentPosition?!!(f.compareDocumentPosition(v)&16):!1:!1}function no(){for(var f=window,v=Ft();v instanceof f.HTMLIFrameElement;){try{var R=typeof v.contentWindow.location.href=="string"}catch{R=!1}if(R)f=v.contentWindow;else break;v=Ft(f.document)}return v}function Co(f){var v=f&&f.nodeName&&f.nodeName.toLowerCase();return v&&(v==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||v==="textarea"||f.contentEditable==="true")}function Us(f){var v=no(),R=f.focusedElem,V=f.selectionRange;if(v!==R&&R&&R.ownerDocument&&Wo(R.ownerDocument.documentElement,R)){if(V!==null&&Co(R)){if(v=V.start,f=V.end,f===void 0&&(f=v),"selectionStart"in R)R.selectionStart=v,R.selectionEnd=Math.min(f,R.value.length);else if(f=(v=R.ownerDocument||document)&&v.defaultView||window,f.getSelection){f=f.getSelection();var ie=R.textContent.length,he=Math.min(V.start,ie);V=V.end===void 0?he:Math.min(V.end,ie),!f.extend&&he>V&&(ie=V,V=he,he=ie),ie=za(R,he);var Ne=za(R,V);ie&&Ne&&(f.rangeCount!==1||f.anchorNode!==ie.node||f.anchorOffset!==ie.offset||f.focusNode!==Ne.node||f.focusOffset!==Ne.offset)&&(v=v.createRange(),v.setStart(ie.node,ie.offset),f.removeAllRanges(),he>V?(f.addRange(v),f.extend(Ne.node,Ne.offset)):(v.setEnd(Ne.node,Ne.offset),f.addRange(v)))}}for(v=[],f=R;f=f.parentNode;)f.nodeType===1&&v.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<v.length;R++)f=v[R],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var Id=g&&"documentMode"in document&&11>=document.documentMode,jl=null,Bc=null,js=null,Ys=!1;function Ef(f,v,R){var V=R.window===R?R.document:R.nodeType===9?R:R.ownerDocument;Ys||jl==null||jl!==Ft(V)||(V=jl,"selectionStart"in V&&Co(V)?V={start:V.selectionStart,end:V.selectionEnd}:(V=(V.ownerDocument&&V.ownerDocument.defaultView||window).getSelection(),V={anchorNode:V.anchorNode,anchorOffset:V.anchorOffset,focusNode:V.focusNode,focusOffset:V.focusOffset}),js&&ol(js,V)||(js=V,V=ep(Bc,"onSelect"),0<V.length&&(v=new Nl("onSelect","select",null,v,R),f.push({event:v,listeners:V}),v.target=jl)))}function Rd(f,v){var R={};return R[f.toLowerCase()]=v.toLowerCase(),R["Webkit"+f]="webkit"+v,R["Moz"+f]="moz"+v,R}var al={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},Qs={},ka={};g&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Tl(f){if(Qs[f])return Qs[f];if(!al[f])return f;var v=al[f],R;for(R in v)if(v.hasOwnProperty(R)&&R in ka)return Qs[f]=v[R];return f}var Zc=Tl("animationend"),hh=Tl("animationiteration"),jp=Tl("animationstart"),ph=Tl("transitionend"),qh=new Map,Hp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dc(f,v){qh.set(f,v),c(v,[f])}for(Dd=0;Dd<Hp.length;Dd++)Af=Hp[Dd],Od=Af.toLowerCase(),Bd=Af[0].toUpperCase()+Af.slice(1),Dc(Od,"on"+Bd);var Af,Od,Bd,Dd;Dc(Zc,"onAnimationEnd"),Dc(hh,"onAnimationIteration"),Dc(jp,"onAnimationStart"),Dc("dblclick","onDoubleClick"),Dc("focusin","onFocus"),Dc("focusout","onBlur"),Dc(ph,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cf=new Set("cancel close invalid load scroll toggle".split(" ").concat(uc));function $c(f,v,R){var V=f.type||"unknown-event";f.currentTarget=R,de(V,v,void 0,f),f.currentTarget=null}function Mf(f,v){v=(v&4)!==0;for(var R=0;R<f.length;R++){var V=f[R],ie=V.event;V=V.listeners;e:{var he=void 0;if(v)for(var Ne=V.length-1;0<=Ne;Ne--){var St=V[Ne],Bt=St.instance,wn=St.currentTarget;if(St=St.listener,Bt!==he&&ie.isPropagationStopped())break e;$c(ie,St,wn),he=Bt}else for(Ne=0;Ne<V.length;Ne++){if(St=V[Ne],Bt=St.instance,wn=St.currentTarget,St=St.listener,Bt!==he&&ie.isPropagationStopped())break e;$c(ie,St,wn),he=Bt}}}if(di)throw f=Ea,di=!1,Ea=null,f}function Xo(f,v){var R=v[dc];R===void 0&&(R=v[dc]=new Set);var V=f+"__bubble";R.has(V)||(Zh(v,f,2,!1),R.add(V))}function Jh(f,v,R){var V=0;v&&(V|=4),Zh(R,f,V,v)}var mh="_reactListening"+Math.random().toString(36).slice(2);function cc(f){if(!f[mh]){f[mh]=!0,o.forEach(function(R){R!=="selectionchange"&&(Cf.has(R)||Jh(R,!1,f),Jh(R,!0,f))});var v=f.nodeType===9?f:f.ownerDocument;v===null||v[mh]||(v[mh]=!0,Jh("selectionchange",!1,v))}}function Zh(f,v,R,V){switch(Pc(v)){case 1:var ie=Iu;break;case 4:ie=Ll;break;default:ie=Md}R=ie.bind(null,v,R,f),ie=void 0,!tl||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(ie=!0),V?ie!==void 0?f.addEventListener(v,R,{capture:!0,passive:ie}):f.addEventListener(v,R,!0):ie!==void 0?f.addEventListener(v,R,{passive:ie}):f.addEventListener(v,R,!1)}function $h(f,v,R,V,ie){var he=V;if(!(v&1)&&!(v&2)&&V!==null)e:for(;;){if(V===null)return;var Ne=V.tag;if(Ne===3||Ne===4){var St=V.stateNode.containerInfo;if(St===ie||St.nodeType===8&&St.parentNode===ie)break;if(Ne===4)for(Ne=V.return;Ne!==null;){var Bt=Ne.tag;if((Bt===3||Bt===4)&&(Bt=Ne.stateNode.containerInfo,Bt===ie||Bt.nodeType===8&&Bt.parentNode===ie))return;Ne=Ne.return}for(;St!==null;){if(Ne=pu(St),Ne===null)return;if(Bt=Ne.tag,Bt===5||Bt===6){V=he=Ne;continue e}St=St.parentNode}}V=V.return}po(function(){var wn=he,Zn=Kt(R),yr=[];e:{var ar=qh.get(f);if(ar!==void 0){var qr=Nl,oi=f;switch(f){case"keypress":if(ha(R)===0)break e;case"keydown":case"keyup":qr=Fs;break;case"focusin":oi="focus",qr=ic;break;case"focusout":oi="blur",qr=ic;break;case"beforeblur":case"afterblur":qr=ic;break;case"click":if(R.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qr=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qr=ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qr=ut;break;case Zc:case hh:case jp:qr=fu;break;case ph:qr=jt;break;case"scroll":qr=is;break;case"wheel":qr=cr;break;case"copy":case"cut":case"paste":qr=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qr=Ce}var li=(v&4)!==0,pl=!li&&f==="scroll",sn=li?ar!==null?ar+"Capture":null:ar;li=[];for(var zt=wn,yn;zt!==null;){yn=zt;var Cr=yn.stateNode;if(yn.tag===5&&Cr!==null&&(yn=Cr,sn!==null&&(Cr=ba(zt,sn),Cr!=null&&li.push(gh(zt,Cr,yn)))),pl)break;zt=zt.return}0<li.length&&(ar=new qr(ar,oi,null,R,Zn),yr.push({event:ar,listeners:li}))}}if(!(v&7)){e:{if(ar=f==="mouseover"||f==="pointerover",qr=f==="mouseout"||f==="pointerout",ar&&R!==Ct&&(oi=R.relatedTarget||R.fromElement)&&(pu(oi)||oi[ja]))break e;if((qr||ar)&&(ar=Zn.window===Zn?Zn:(ar=Zn.ownerDocument)?ar.defaultView||ar.parentWindow:window,qr?(oi=R.relatedTarget||R.toElement,qr=wn,oi=oi?pu(oi):null,oi!==null&&(pl=Fe(oi),oi!==pl||oi.tag!==5&&oi.tag!==6)&&(oi=null)):(qr=null,oi=wn),qr!==oi)){if(li=Xs,Cr="onMouseLeave",sn="onMouseEnter",zt="mouse",(f==="pointerout"||f==="pointerover")&&(li=Ce,Cr="onPointerLeave",sn="onPointerEnter",zt="pointer"),pl=qr==null?ar:qs(qr),yn=oi==null?ar:qs(oi),ar=new li(Cr,zt+"leave",qr,R,Zn),ar.target=pl,ar.relatedTarget=yn,Cr=null,pu(Zn)===wn&&(li=new li(sn,zt+"enter",oi,R,Zn),li.target=yn,li.relatedTarget=pl,Cr=li),pl=Cr,qr&&oi)t:{for(li=qr,sn=oi,zt=0,yn=li;yn;yn=Tf(yn))zt++;for(yn=0,Cr=sn;Cr;Cr=Tf(Cr))yn++;for(;0<zt-yn;)li=Tf(li),zt--;for(;0<yn-zt;)sn=Tf(sn),yn--;for(;zt--;){if(li===sn||sn!==null&&li===sn.alternate)break t;li=Tf(li),sn=Tf(sn)}li=null}else li=null;qr!==null&&Pg(yr,ar,qr,li,!1),oi!==null&&pl!==null&&Pg(yr,pl,oi,li,!0)}}e:{if(ar=wn?qs(wn):window,qr=ar.nodeName&&ar.nodeName.toLowerCase(),qr==="select"||qr==="input"&&ar.type==="file")var fi=lc;else if(Rc(ar))if(na)fi=go;else{fi=Ao;var Bi=gi}else(qr=ar.nodeName)&&qr.toLowerCase()==="input"&&(ar.type==="checkbox"||ar.type==="radio")&&(fi=Ji);if(fi&&(fi=fi(f,wn))){Oc(yr,fi,R,Zn);break e}Bi&&Bi(f,ar,wn),f==="focusout"&&(Bi=ar._wrapperState)&&Bi.controlled&&ar.type==="number"&&_r(ar,"number",ar.value)}switch(Bi=wn?qs(wn):window,f){case"focusin":(Rc(Bi)||Bi.contentEditable==="true")&&(jl=Bi,Bc=wn,js=null);break;case"focusout":js=Bc=jl=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,Ef(yr,R,Zn);break;case"selectionchange":if(Id)break;case"keydown":case"keyup":Ef(yr,R,Zn)}var zi;if(Gr)e:{switch(f){case"compositionstart":var Wi="onCompositionStart";break e;case"compositionend":Wi="onCompositionEnd";break e;case"compositionupdate":Wi="onCompositionUpdate";break e}Wi=void 0}else il?hu(f,R)&&(Wi="onCompositionEnd"):f==="keydown"&&R.keyCode===229&&(Wi="onCompositionStart");Wi&&(ao&&R.locale!=="ko"&&(il||Wi!=="onCompositionStart"?Wi==="onCompositionEnd"&&il&&(zi=Ru()):(nl=Zn,fa="value"in nl?nl.value:nl.textContent,il=!0)),Bi=ep(wn,Wi),0<Bi.length&&(Wi=new Td(Wi,f,null,R,Zn),yr.push({event:Wi,listeners:Bi}),zi?Wi.data=zi:(zi=mo(R),zi!==null&&(Wi.data=zi)))),(zi=Nr?bf(f,R):Ul(f,R))&&(wn=ep(wn,"onBeforeInput"),0<wn.length&&(Zn=new Td("onBeforeInput","beforeinput",null,R,Zn),yr.push({event:Zn,listeners:wn}),Zn.data=zi))}Mf(yr,v)})}function gh(f,v,R){return{instance:f,listener:v,currentTarget:R}}function ep(f,v){for(var R=v+"Capture",V=[];f!==null;){var ie=f,he=ie.stateNode;ie.tag===5&&he!==null&&(ie=he,he=ba(f,R),he!=null&&V.unshift(gh(f,he,ie)),he=ba(f,v),he!=null&&V.push(gh(f,he,ie))),f=f.return}return V}function Tf(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function Pg(f,v,R,V,ie){for(var he=v._reactName,Ne=[];R!==null&&R!==V;){var St=R,Bt=St.alternate,wn=St.stateNode;if(Bt!==null&&Bt===V)break;St.tag===5&&wn!==null&&(St=wn,ie?(Bt=ba(R,he),Bt!=null&&Ne.unshift(gh(R,Bt,St))):ie||(Bt=ba(R,he),Bt!=null&&Ne.push(gh(R,Bt,St)))),R=R.return}Ne.length!==0&&f.push({event:v,listeners:Ne})}var kg=/\r\n?/g,Rm=/\u0000|\uFFFD/g;function Gp(f){return(typeof f=="string"?f:""+f).replace(kg,`
`).replace(Rm,"")}function vh(f,v,R){if(v=Gp(v),Gp(f)!==v&&R)throw Error(r(425))}function Ld(){}var zo=null,Om=null;function Ig(f,v){return f==="textarea"||f==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,Pf=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,Bm=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(f){return tp.resolve(null).then(f).catch(kf)}:Vp;function kf(f){setTimeout(function(){throw f})}function np(f,v){var R=v,V=0;do{var ie=R.nextSibling;if(f.removeChild(R),ie&&ie.nodeType===8)if(R=ie.data,R==="/$"){if(V===0){f.removeChild(ie),Vs(v);return}V--}else R!=="$"&&R!=="$?"&&R!=="$!"||V++;R=ie}while(R);Vs(v)}function Lu(f){for(;f!=null;f=f.nextSibling){var v=f.nodeType;if(v===1||v===3)break;if(v===8){if(v=f.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return f}function Wp(f){f=f.previousSibling;for(var v=0;f;){if(f.nodeType===8){var R=f.data;if(R==="$"||R==="$!"||R==="$?"){if(v===0)return f;v--}else R==="/$"&&v++}f=f.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),ma="__reactFiber$"+Ua,So="__reactProps$"+Ua,ja="__reactContainer$"+Ua,dc="__reactEvents$"+Ua,If="__reactListeners$"+Ua,yh="__reactHandles$"+Ua;function pu(f){var v=f[ma];if(v)return v;for(var R=f.parentNode;R;){if(v=R[ja]||R[ma]){if(R=v.alternate,v.child!==null||R!==null&&R.child!==null)for(f=Wp(f);f!==null;){if(R=f[ma])return R;f=Wp(f)}return v}f=R,R=f.parentNode}return null}function Ko(f){return f=f[ma]||f[ja],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function qs(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(r(33))}function rp(f){return f[So]||null}var Hl=[],lo=-1;function vs(f){return{current:f}}function $o(f){0>lo||(f.current=Hl[lo],Hl[lo]=null,lo--)}function Ho(f,v){lo++,Hl[lo]=f.current,f.current=v}var ed={},Ha=vs(ed),Ga=vs(!1),fc=ed;function td(f,v){var R=f.type.contextTypes;if(!R)return ed;var V=f.stateNode;if(V&&V.__reactInternalMemoizedUnmaskedChildContext===v)return V.__reactInternalMemoizedMaskedChildContext;var ie={},he;for(he in R)ie[he]=v[he];return V&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=v,f.__reactInternalMemoizedMaskedChildContext=ie),ie}function Va(f){return f=f.childContextTypes,f!=null}function ip(){$o(Ga),$o(Ha)}function Nd(f,v,R){if(Ha.current!==ed)throw Error(r(168));Ho(Ha,v),Ho(Ga,R)}function nd(f,v,R){var V=f.stateNode;if(v=v.childContextTypes,typeof V.getChildContext!="function")return R;V=V.getChildContext();for(var ie in V)if(!(ie in v))throw Error(r(108,Ot(f)||"Unknown",ie));return me({},R,V)}function Rf(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||ed,fc=Ha.current,Ho(Ha,f),Ho(Ga,Ga.current),!0}function op(f,v,R){var V=f.stateNode;if(!V)throw Error(r(169));R?(f=nd(f,v,fc),V.__reactInternalMemoizedMergedChildContext=f,$o(Ga),$o(Ha),Ho(Ha,f)):$o(Ga),Ho(Ga,R)}var Nu=null,Fd=!1,Fu=!1;function _h(f){Nu===null?Nu=[f]:Nu.push(f)}function zd(f){Fd=!0,_h(f)}function mu(){if(!Fu&&Nu!==null){Fu=!0;var f=0,v=fr;try{var R=Nu;for(fr=1;f<R.length;f++){var V=R[f];do V=V(!0);while(V!==null)}Nu=null,Fd=!1}catch(ie){throw Nu!==null&&(Nu=Nu.slice(f+1)),Tn(lr,mu),ie}finally{fr=v,Fu=!1}}return null}var Gl=[],Vl=0,Dm=null,wh=0,Ts=[],Wa=0,Rr=null,Er=1,ll="";function rd(f,v){Gl[Vl++]=wh,Gl[Vl++]=Dm,Dm=f,wh=v}function Lm(f,v,R){Ts[Wa++]=Er,Ts[Wa++]=ll,Ts[Wa++]=Rr,Rr=f;var V=Er;f=ll;var ie=32-ri(V)-1;V&=~(1<<ie),R+=1;var he=32-ri(v)+ie;if(30<he){var Ne=ie-ie%5;he=(V&(1<<Ne)-1).toString(32),V>>=Ne,ie-=Ne,Er=1<<32-ri(v)+ie|R<<ie|V,ll=he+f}else Er=1<<he|R<<ie|V,ll=f}function Ud(f){f.return!==null&&(rd(f,1),Lm(f,1,0))}function gu(f){for(;f===Dm;)Dm=Gl[--Vl],Gl[Vl]=null,wh=Gl[--Vl],Gl[Vl]=null;for(;f===Rr;)Rr=Ts[--Wa],Ts[Wa]=null,ll=Ts[--Wa],Ts[Wa]=null,Er=Ts[--Wa],Ts[Wa]=null}var ga=null,ul=null,os=!1,zu=null;function Nm(f,v){var R=qd(5,null,null,0);R.elementType="DELETED",R.stateNode=v,R.return=f,v=f.deletions,v===null?(f.deletions=[R],f.flags|=16):v.push(R)}function sp(f,v){switch(f.tag){case 5:var R=f.type;return v=v.nodeType!==1||R.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(f.stateNode=v,ga=f,ul=Lu(v.firstChild),!0):!1;case 6:return v=f.pendingProps===""||v.nodeType!==3?null:v,v!==null?(f.stateNode=v,ga=f,ul=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(R=Rr!==null?{id:Er,overflow:ll}:null,f.memoizedState={dehydrated:v,treeContext:R,retryLane:1073741824},R=qd(18,null,null,0),R.stateNode=v,R.return=f,f.child=R,ga=f,ul=null,!0):!1;default:return!1}}function ap(f){return(f.mode&1)!==0&&(f.flags&128)===0}function lp(f){if(os){var v=ul;if(v){var R=v;if(!sp(f,v)){if(ap(f))throw Error(r(418));v=Lu(R.nextSibling);var V=ga;v&&sp(f,v)?Nm(V,R):(f.flags=f.flags&-4097|2,os=!1,ga=f)}}else{if(ap(f))throw Error(r(418));f.flags=f.flags&-4097|2,os=!1,ga=f}}}function Lc(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ga=f}function jd(f){if(f!==ga)return!1;if(!os)return Lc(f),os=!0,!1;var v;if((v=f.tag!==3)&&!(v=f.tag!==5)&&(v=f.type,v=v!=="head"&&v!=="body"&&!Ig(f.type,f.memoizedProps)),v&&(v=ul)){if(ap(f))throw Xp(),Error(r(418));for(;v;)Nm(f,v),v=Lu(v.nextSibling)}if(Lc(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));e:{for(f=f.nextSibling,v=0;f;){if(f.nodeType===8){var R=f.data;if(R==="/$"){if(v===0){ul=Lu(f.nextSibling);break e}v--}else R!=="$"&&R!=="$!"&&R!=="$?"||v++}f=f.nextSibling}ul=null}}else ul=ga?Lu(f.stateNode.nextSibling):null;return!0}function Xp(){for(var f=ul;f;)f=Lu(f.nextSibling)}function Nc(){ul=ga=null,os=!1}function Sh(f){zu===null?zu=[f]:zu.push(f)}var Gv=ae.ReactCurrentBatchConfig;function hc(f,v){if(f&&f.defaultProps){v=me({},v),f=f.defaultProps;for(var R in f)v[R]===void 0&&(v[R]=f[R]);return v}return v}var id=vs(null),Hd=null,od=null,Of=null;function sd(){Of=od=Hd=null}function Fc(f){var v=id.current;$o(id),f._currentValue=v}function Gd(f,v,R){for(;f!==null;){var V=f.alternate;if((f.childLanes&v)!==v?(f.childLanes|=v,V!==null&&(V.childLanes|=v)):V!==null&&(V.childLanes&v)!==v&&(V.childLanes|=v),f===R)break;f=f.return}}function pc(f,v){Hd=f,Of=od=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&v&&(Ar=!0),f.firstContext=null)}function va(f){var v=f._currentValue;if(Of!==f)if(f={context:f,memoizedValue:v,next:null},od===null){if(Hd===null)throw Error(r(308));od=f,Hd.dependencies={lanes:0,firstContext:f}}else od=od.next=f;return v}var Uu=null;function xh(f){Uu===null?Uu=[f]:Uu.push(f)}function bh(f,v,R,V){var ie=v.interleaved;return ie===null?(R.next=R,xh(v)):(R.next=ie.next,ie.next=R),v.interleaved=R,vu(f,V)}function vu(f,v){f.lanes|=v;var R=f.alternate;for(R!==null&&(R.lanes|=v),R=f,f=f.return;f!==null;)f.childLanes|=v,R=f.alternate,R!==null&&(R.childLanes|=v),R=f,f=f.return;return R.tag===3?R.stateNode:null}var ju=!1;function up(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cp(f,v){f=f.updateQueue,v.updateQueue===f&&(v.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function ya(f,v){return{eventTime:f,lane:v,tag:0,payload:null,callback:null,next:null}}function Mo(f,v,R){var V=f.updateQueue;if(V===null)return null;if(V=V.shared,Qo&2){var ie=V.pending;return ie===null?v.next=v:(v.next=ie.next,ie.next=v),V.pending=v,vu(f,R)}return ie=V.interleaved,ie===null?(v.next=v,xh(V)):(v.next=ie.next,ie.next=v),V.interleaved=v,vu(f,R)}function Jr(f,v,R){if(v=v.updateQueue,v!==null&&(v=v.shared,(R&4194240)!==0)){var V=v.lanes;V&=f.pendingLanes,R|=V,v.lanes=R,ur(f,R)}}function ii(f,v){var R=f.updateQueue,V=f.alternate;if(V!==null&&(V=V.updateQueue,R===V)){var ie=null,he=null;if(R=R.firstBaseUpdate,R!==null){do{var Ne={eventTime:R.eventTime,lane:R.lane,tag:R.tag,payload:R.payload,callback:R.callback,next:null};he===null?ie=he=Ne:he=he.next=Ne,R=R.next}while(R!==null);he===null?ie=he=v:he=he.next=v}else ie=he=v;R={baseState:V.baseState,firstBaseUpdate:ie,lastBaseUpdate:he,shared:V.shared,effects:V.effects},f.updateQueue=R;return}f=R.lastBaseUpdate,f===null?R.firstBaseUpdate=v:f.next=v,R.lastBaseUpdate=v}function Fi(f,v,R,V){var ie=f.updateQueue;ju=!1;var he=ie.firstBaseUpdate,Ne=ie.lastBaseUpdate,St=ie.shared.pending;if(St!==null){ie.shared.pending=null;var Bt=St,wn=Bt.next;Bt.next=null,Ne===null?he=wn:Ne.next=wn,Ne=Bt;var Zn=f.alternate;Zn!==null&&(Zn=Zn.updateQueue,St=Zn.lastBaseUpdate,St!==Ne&&(St===null?Zn.firstBaseUpdate=wn:St.next=wn,Zn.lastBaseUpdate=Bt))}if(he!==null){var yr=ie.baseState;Ne=0,Zn=wn=Bt=null,St=he;do{var ar=St.lane,qr=St.eventTime;if((V&ar)===ar){Zn!==null&&(Zn=Zn.next={eventTime:qr,lane:0,tag:St.tag,payload:St.payload,callback:St.callback,next:null});e:{var oi=f,li=St;switch(ar=v,qr=R,li.tag){case 1:if(oi=li.payload,typeof oi=="function"){yr=oi.call(qr,yr,ar);break e}yr=oi;break e;case 3:oi.flags=oi.flags&-65537|128;case 0:if(oi=li.payload,ar=typeof oi=="function"?oi.call(qr,yr,ar):oi,ar==null)break e;yr=me({},yr,ar);break e;case 2:ju=!0}}St.callback!==null&&St.lane!==0&&(f.flags|=64,ar=ie.effects,ar===null?ie.effects=[St]:ar.push(St))}else qr={eventTime:qr,lane:ar,tag:St.tag,payload:St.payload,callback:St.callback,next:null},Zn===null?(wn=Zn=qr,Bt=yr):Zn=Zn.next=qr,Ne|=ar;if(St=St.next,St===null){if(St=ie.shared.pending,St===null)break;ar=St,St=ar.next,ar.next=null,ie.lastBaseUpdate=ar,ie.shared.pending=null}}while(1);if(Zn===null&&(Bt=yr),ie.baseState=Bt,ie.firstBaseUpdate=wn,ie.lastBaseUpdate=Zn,v=ie.shared.interleaved,v!==null){ie=v;do Ne|=ie.lane,ie=ie.next;while(ie!==v)}else he===null&&(ie.shared.lanes=0);Lg|=Ne,f.lanes=Ne,f.memoizedState=yr}}function uo(f,v,R){if(f=v.effects,v.effects=null,f!==null)for(v=0;v<f.length;v++){var V=f[v],ie=V.callback;if(ie!==null){if(V.callback=null,V=R,typeof ie!="function")throw Error(r(191,ie));ie.call(V)}}}var Go=new e.Component().refs;function ra(f,v,R,V){v=f.memoizedState,R=R(V,v),R=R==null?v:me({},v,R),f.memoizedState=R,f.lanes===0&&(f.updateQueue.baseState=R)}var ss={isMounted:function(f){return(f=f._reactInternals)?Fe(f)===f:!1},enqueueSetState:function(f,v,R){f=f._reactInternals;var V=_c(),ie=gp(f),he=ya(V,ie);he.payload=v,R!=null&&(he.callback=R),v=Mo(f,he,ie),v!==null&&(Gf(v,f,ie,V),Jr(v,f,ie))},enqueueReplaceState:function(f,v,R){f=f._reactInternals;var V=_c(),ie=gp(f),he=ya(V,ie);he.tag=1,he.payload=v,R!=null&&(he.callback=R),v=Mo(f,he,ie),v!==null&&(Gf(v,f,ie,V),Jr(v,f,ie))},enqueueForceUpdate:function(f,v){f=f._reactInternals;var R=_c(),V=gp(f),ie=ya(R,V);ie.tag=2,v!=null&&(ie.callback=v),v=Mo(f,ie,V),v!==null&&(Gf(v,f,V,R),Jr(v,f,V))}};function Ps(f,v,R,V,ie,he,Ne){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(V,he,Ne):v.prototype&&v.prototype.isPureReactComponent?!ol(R,V)||!ol(ie,he):!0}function mc(f,v,R){var V=!1,ie=ed,he=v.contextType;return typeof he=="object"&&he!==null?he=va(he):(ie=Va(v)?fc:Ha.current,V=v.contextTypes,he=(V=V!=null)?td(f,ie):ed),v=new v(R,he),f.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=ss,f.stateNode=v,v._reactInternals=f,V&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=ie,f.__reactInternalMemoizedMaskedChildContext=he),v}function ad(f,v,R,V){f=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(R,V),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(R,V),v.state!==f&&ss.enqueueReplaceState(v,v.state,null)}function Bf(f,v,R,V){var ie=f.stateNode;ie.props=R,ie.state=f.memoizedState,ie.refs=Go,up(f);var he=v.contextType;typeof he=="object"&&he!==null?ie.context=va(he):(he=Va(v)?fc:Ha.current,ie.context=td(f,he)),ie.state=f.memoizedState,he=v.getDerivedStateFromProps,typeof he=="function"&&(ra(f,v,he,R),ie.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof ie.getSnapshotBeforeUpdate=="function"||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(v=ie.state,typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount(),v!==ie.state&&ss.enqueueReplaceState(ie,ie.state,null),Fi(f,R,ie,V),ie.state=f.memoizedState),typeof ie.componentDidMount=="function"&&(f.flags|=4194308)}function Wl(f,v,R){if(f=R.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(R._owner){if(R=R._owner,R){if(R.tag!==1)throw Error(r(309));var V=R.stateNode}if(!V)throw Error(r(147,f));var ie=V,he=""+f;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===he?v.ref:(v=function(Ne){var St=ie.refs;St===Go&&(St=ie.refs={}),Ne===null?delete St[he]:St[he]=Ne},v._stringRef=he,v)}if(typeof f!="string")throw Error(r(284));if(!R._owner)throw Error(r(290,f))}return f}function ks(f,v){throw f=Object.prototype.toString.call(v),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":f))}function cl(f){var v=f._init;return v(f._payload)}function Df(f){function v(sn,zt){if(f){var yn=sn.deletions;yn===null?(sn.deletions=[zt],sn.flags|=16):yn.push(zt)}}function R(sn,zt){if(!f)return null;for(;zt!==null;)v(sn,zt),zt=zt.sibling;return null}function V(sn,zt){for(sn=new Map;zt!==null;)zt.key!==null?sn.set(zt.key,zt):sn.set(zt.index,zt),zt=zt.sibling;return sn}function ie(sn,zt){return sn=im(sn,zt),sn.index=0,sn.sibling=null,sn}function he(sn,zt,yn){return sn.index=yn,f?(yn=sn.alternate,yn!==null?(yn=yn.index,yn<zt?(sn.flags|=2,zt):yn):(sn.flags|=2,zt)):(sn.flags|=1048576,zt)}function Ne(sn){return f&&sn.alternate===null&&(sn.flags|=2),sn}function St(sn,zt,yn,Cr){return zt===null||zt.tag!==6?(zt=_S(yn,sn.mode,Cr),zt.return=sn,zt):(zt=ie(zt,yn),zt.return=sn,zt)}function Bt(sn,zt,yn,Cr){var fi=yn.type;return fi===_e?Zn(sn,zt,yn.props.children,Cr,yn.key):zt!==null&&(zt.elementType===fi||typeof fi=="object"&&fi!==null&&fi.$$typeof===mt&&cl(fi)===zt.type)?(Cr=ie(zt,yn.props),Cr.ref=Wl(sn,zt,yn),Cr.return=sn,Cr):(Cr=j1(yn.type,yn.key,yn.props,null,sn.mode,Cr),Cr.ref=Wl(sn,zt,yn),Cr.return=sn,Cr)}function wn(sn,zt,yn,Cr){return zt===null||zt.tag!==4||zt.stateNode.containerInfo!==yn.containerInfo||zt.stateNode.implementation!==yn.implementation?(zt=H1(yn,sn.mode,Cr),zt.return=sn,zt):(zt=ie(zt,yn.children||[]),zt.return=sn,zt)}function Zn(sn,zt,yn,Cr,fi){return zt===null||zt.tag!==7?(zt=om(yn,sn.mode,Cr,fi),zt.return=sn,zt):(zt=ie(zt,yn),zt.return=sn,zt)}function yr(sn,zt,yn){if(typeof zt=="string"&&zt!==""||typeof zt=="number")return zt=_S(""+zt,sn.mode,yn),zt.return=sn,zt;if(typeof zt=="object"&&zt!==null){switch(zt.$$typeof){case Y:return yn=j1(zt.type,zt.key,zt.props,null,sn.mode,yn),yn.ref=Wl(sn,null,zt),yn.return=sn,yn;case ge:return zt=H1(zt,sn.mode,yn),zt.return=sn,zt;case mt:var Cr=zt._init;return yr(sn,Cr(zt._payload),yn)}if(Vr(zt)||Ae(zt))return zt=om(zt,sn.mode,yn,null),zt.return=sn,zt;ks(sn,zt)}return null}function ar(sn,zt,yn,Cr){var fi=zt!==null?zt.key:null;if(typeof yn=="string"&&yn!==""||typeof yn=="number")return fi!==null?null:St(sn,zt,""+yn,Cr);if(typeof yn=="object"&&yn!==null){switch(yn.$$typeof){case Y:return yn.key===fi?Bt(sn,zt,yn,Cr):null;case ge:return yn.key===fi?wn(sn,zt,yn,Cr):null;case mt:return fi=yn._init,ar(sn,zt,fi(yn._payload),Cr)}if(Vr(yn)||Ae(yn))return fi!==null?null:Zn(sn,zt,yn,Cr,null);ks(sn,yn)}return null}function qr(sn,zt,yn,Cr,fi){if(typeof Cr=="string"&&Cr!==""||typeof Cr=="number")return sn=sn.get(yn)||null,St(zt,sn,""+Cr,fi);if(typeof Cr=="object"&&Cr!==null){switch(Cr.$$typeof){case Y:return sn=sn.get(Cr.key===null?yn:Cr.key)||null,Bt(zt,sn,Cr,fi);case ge:return sn=sn.get(Cr.key===null?yn:Cr.key)||null,wn(zt,sn,Cr,fi);case mt:var Bi=Cr._init;return qr(sn,zt,yn,Bi(Cr._payload),fi)}if(Vr(Cr)||Ae(Cr))return sn=sn.get(yn)||null,Zn(zt,sn,Cr,fi,null);ks(zt,Cr)}return null}function oi(sn,zt,yn,Cr){for(var fi=null,Bi=null,zi=zt,Wi=zt=0,wu=null;zi!==null&&Wi<yn.length;Wi++){zi.index>Wi?(wu=zi,zi=null):wu=zi.sibling;var qo=ar(sn,zi,yn[Wi],Cr);if(qo===null){zi===null&&(zi=wu);break}f&&zi&&qo.alternate===null&&v(sn,zi),zt=he(qo,zt,Wi),Bi===null?fi=qo:Bi.sibling=qo,Bi=qo,zi=wu}if(Wi===yn.length)return R(sn,zi),os&&rd(sn,Wi),fi;if(zi===null){for(;Wi<yn.length;Wi++)zi=yr(sn,yn[Wi],Cr),zi!==null&&(zt=he(zi,zt,Wi),Bi===null?fi=zi:Bi.sibling=zi,Bi=zi);return os&&rd(sn,Wi),fi}for(zi=V(sn,zi);Wi<yn.length;Wi++)wu=qr(zi,sn,Wi,yn[Wi],Cr),wu!==null&&(f&&wu.alternate!==null&&zi.delete(wu.key===null?Wi:wu.key),zt=he(wu,zt,Wi),Bi===null?fi=wu:Bi.sibling=wu,Bi=wu);return f&&zi.forEach(function(vp){return v(sn,vp)}),os&&rd(sn,Wi),fi}function li(sn,zt,yn,Cr){var fi=Ae(yn);if(typeof fi!="function")throw Error(r(150));if(yn=fi.call(yn),yn==null)throw Error(r(151));for(var Bi=fi=null,zi=zt,Wi=zt=0,wu=null,qo=yn.next();zi!==null&&!qo.done;Wi++,qo=yn.next()){zi.index>Wi?(wu=zi,zi=null):wu=zi.sibling;var vp=ar(sn,zi,qo.value,Cr);if(vp===null){zi===null&&(zi=wu);break}f&&zi&&vp.alternate===null&&v(sn,zi),zt=he(vp,zt,Wi),Bi===null?fi=vp:Bi.sibling=vp,Bi=vp,zi=wu}if(qo.done)return R(sn,zi),os&&rd(sn,Wi),fi;if(zi===null){for(;!qo.done;Wi++,qo=yn.next())qo=yr(sn,qo.value,Cr),qo!==null&&(zt=he(qo,zt,Wi),Bi===null?fi=qo:Bi.sibling=qo,Bi=qo);return os&&rd(sn,Wi),fi}for(zi=V(sn,zi);!qo.done;Wi++,qo=yn.next())qo=qr(zi,sn,Wi,qo.value,Cr),qo!==null&&(f&&qo.alternate!==null&&zi.delete(qo.key===null?Wi:qo.key),zt=he(qo,zt,Wi),Bi===null?fi=qo:Bi.sibling=qo,Bi=qo);return f&&zi.forEach(function($b){return v(sn,$b)}),os&&rd(sn,Wi),fi}function pl(sn,zt,yn,Cr){if(typeof yn=="object"&&yn!==null&&yn.type===_e&&yn.key===null&&(yn=yn.props.children),typeof yn=="object"&&yn!==null){switch(yn.$$typeof){case Y:e:{for(var fi=yn.key,Bi=zt;Bi!==null;){if(Bi.key===fi){if(fi=yn.type,fi===_e){if(Bi.tag===7){R(sn,Bi.sibling),zt=ie(Bi,yn.props.children),zt.return=sn,sn=zt;break e}}else if(Bi.elementType===fi||typeof fi=="object"&&fi!==null&&fi.$$typeof===mt&&cl(fi)===Bi.type){R(sn,Bi.sibling),zt=ie(Bi,yn.props),zt.ref=Wl(sn,Bi,yn),zt.return=sn,sn=zt;break e}R(sn,Bi);break}else v(sn,Bi);Bi=Bi.sibling}yn.type===_e?(zt=om(yn.props.children,sn.mode,Cr,yn.key),zt.return=sn,sn=zt):(Cr=j1(yn.type,yn.key,yn.props,null,sn.mode,Cr),Cr.ref=Wl(sn,zt,yn),Cr.return=sn,sn=Cr)}return Ne(sn);case ge:e:{for(Bi=yn.key;zt!==null;){if(zt.key===Bi)if(zt.tag===4&&zt.stateNode.containerInfo===yn.containerInfo&&zt.stateNode.implementation===yn.implementation){R(sn,zt.sibling),zt=ie(zt,yn.children||[]),zt.return=sn,sn=zt;break e}else{R(sn,zt);break}else v(sn,zt);zt=zt.sibling}zt=H1(yn,sn.mode,Cr),zt.return=sn,sn=zt}return Ne(sn);case mt:return Bi=yn._init,pl(sn,zt,Bi(yn._payload),Cr)}if(Vr(yn))return oi(sn,zt,yn,Cr);if(Ae(yn))return li(sn,zt,yn,Cr);ks(sn,yn)}return typeof yn=="string"&&yn!==""||typeof yn=="number"?(yn=""+yn,zt!==null&&zt.tag===6?(R(sn,zt.sibling),zt=ie(zt,yn),zt.return=sn,sn=zt):(R(sn,zt),zt=_S(yn,sn.mode,Cr),zt.return=sn,sn=zt),Ne(sn)):R(sn,zt)}return pl}var Hu=Df(!0),ld=Df(!1),zc={},Ia=vs(zc),Xl=vs(zc),Pl=vs(zc);function dl(f){if(f===zc)throw Error(r(174));return f}function ud(f,v){switch(Ho(Pl,v),Ho(Xl,f),Ho(Ia,zc),f=v.nodeType,f){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Xn(null,"");break;default:f=f===8?v.parentNode:v,v=f.namespaceURI||null,f=f.tagName,v=Xn(v,f)}$o(Ia),Ho(Ia,v)}function Gu(){$o(Ia),$o(Xl),$o(Pl)}function Eh(f){dl(Pl.current);var v=dl(Ia.current),R=Xn(v,f.type);v!==R&&(Ho(Xl,f),Ho(Ia,R))}function yu(f){Xl.current===f&&($o(Ia),$o(Xl))}var Oi=vs(0);function Uo(f){for(var v=f;v!==null;){if(v.tag===13){var R=v.memoizedState;if(R!==null&&(R=R.dehydrated,R===null||R.data==="$?"||R.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(v.flags&128)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Hs=[];function Xa(){for(var f=0;f<Hs.length;f++)Hs[f]._workInProgressVersionPrimary=null;Hs.length=0}var Js=ae.ReactCurrentDispatcher,Ka=ae.ReactCurrentBatchConfig,Uc=0,Yo=null,Zs=null,ds=null,_u=!1,Lf=!1,Vd=0,cd=0;function Gs(){throw Error(r(321))}function Kp(f,v){if(v===null)return!1;for(var R=0;R<v.length&&R<f.length;R++)if(!Ks(f[R],v[R]))return!1;return!0}function dd(f,v,R,V,ie,he){if(Uc=he,Yo=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Js.current=f===null||f.memoizedState===null?d:x,f=R(V,ie),Lf){he=0;do{if(Lf=!1,Vd=0,25<=he)throw Error(r(301));he+=1,ds=Zs=null,v.updateQueue=null,Js.current=I,f=R(V,ie)}while(Lf)}if(Js.current=s,v=Zs!==null&&Zs.next!==null,Uc=0,ds=Zs=Yo=null,_u=!1,v)throw Error(r(300));return f}function Wd(){var f=Vd!==0;return Vd=0,f}function Vu(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ds===null?Yo.memoizedState=ds=f:ds=ds.next=f,ds}function kl(){if(Zs===null){var f=Yo.alternate;f=f!==null?f.memoizedState:null}else f=Zs.next;var v=ds===null?Yo.memoizedState:ds.next;if(v!==null)ds=v,Zs=f;else{if(f===null)throw Error(r(310));Zs=f,f={memoizedState:Zs.memoizedState,baseState:Zs.baseState,baseQueue:Zs.baseQueue,queue:Zs.queue,next:null},ds===null?Yo.memoizedState=ds=f:ds=ds.next=f}return ds}function Nf(f,v){return typeof v=="function"?v(f):v}function Ah(f){var v=kl(),R=v.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=f;var V=Zs,ie=V.baseQueue,he=R.pending;if(he!==null){if(ie!==null){var Ne=ie.next;ie.next=he.next,he.next=Ne}V.baseQueue=ie=he,R.pending=null}if(ie!==null){he=ie.next,V=V.baseState;var St=Ne=null,Bt=null,wn=he;do{var Zn=wn.lane;if((Uc&Zn)===Zn)Bt!==null&&(Bt=Bt.next={lane:0,action:wn.action,hasEagerState:wn.hasEagerState,eagerState:wn.eagerState,next:null}),V=wn.hasEagerState?wn.eagerState:f(V,wn.action);else{var yr={lane:Zn,action:wn.action,hasEagerState:wn.hasEagerState,eagerState:wn.eagerState,next:null};Bt===null?(St=Bt=yr,Ne=V):Bt=Bt.next=yr,Yo.lanes|=Zn,Lg|=Zn}wn=wn.next}while(wn!==null&&wn!==he);Bt===null?Ne=V:Bt.next=St,Ks(V,v.memoizedState)||(Ar=!0),v.memoizedState=V,v.baseState=Ne,v.baseQueue=Bt,R.lastRenderedState=V}if(f=R.interleaved,f!==null){ie=f;do he=ie.lane,Yo.lanes|=he,Lg|=he,ie=ie.next;while(ie!==f)}else ie===null&&(R.lanes=0);return[v.memoizedState,R.dispatch]}function jc(f){var v=kl(),R=v.queue;if(R===null)throw Error(r(311));R.lastRenderedReducer=f;var V=R.dispatch,ie=R.pending,he=v.memoizedState;if(ie!==null){R.pending=null;var Ne=ie=ie.next;do he=f(he,Ne.action),Ne=Ne.next;while(Ne!==ie);Ks(he,v.memoizedState)||(Ar=!0),v.memoizedState=he,v.baseQueue===null&&(v.baseState=he),R.lastRenderedState=he}return[he,V]}function Wu(){}function gc(f,v){var R=Yo,V=kl(),ie=v(),he=!Ks(V.memoizedState,ie);if(he&&(V.memoizedState=ie,Ar=!0),V=V.queue,zf(fl.bind(null,R,V,f),[f]),V.getSnapshot!==v||he||ds!==null&&ds.memoizedState.tag&1){if(R.flags|=2048,dp(9,_a.bind(null,R,V,ie,v),void 0,null),Jl===null)throw Error(r(349));Uc&30||Xd(R,v,ie)}return ie}function Xd(f,v,R){f.flags|=16384,f={getSnapshot:v,value:R},v=Yo.updateQueue,v===null?(v={lastEffect:null,stores:null},Yo.updateQueue=v,v.stores=[f]):(R=v.stores,R===null?v.stores=[f]:R.push(f))}function _a(f,v,R,V){v.value=R,v.getSnapshot=V,Rg(v)&&Kd(f)}function fl(f,v,R){return R(function(){Rg(v)&&Kd(f)})}function Rg(f){var v=f.getSnapshot;f=f.value;try{var R=v();return!Ks(f,R)}catch{return!0}}function Kd(f){var v=vu(f,1);v!==null&&Gf(v,f,1,-1)}function Ch(f){var v=Vu();return typeof f=="function"&&(f=f()),v.memoizedState=v.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:f},v.queue=f,f=f.dispatch=pp.bind(null,Yo,f),[v.memoizedState,f]}function dp(f,v,R,V){return f={tag:f,create:v,destroy:R,deps:V,next:null},v=Yo.updateQueue,v===null?(v={lastEffect:null,stores:null},Yo.updateQueue=v,v.lastEffect=f.next=f):(R=v.lastEffect,R===null?v.lastEffect=f.next=f:(V=R.next,R.next=f,f.next=V,v.lastEffect=f)),f}function Ff(){return kl().memoizedState}function fp(f,v,R,V){var ie=Vu();Yo.flags|=f,ie.memoizedState=dp(1|v,R,void 0,V===void 0?null:V)}function Kl(f,v,R,V){var ie=kl();V=V===void 0?null:V;var he=void 0;if(Zs!==null){var Ne=Zs.memoizedState;if(he=Ne.destroy,V!==null&&Kp(V,Ne.deps)){ie.memoizedState=dp(v,R,he,V);return}}Yo.flags|=f,ie.memoizedState=dp(1|v,R,he,V)}function hl(f,v){return fp(8390656,8,f,v)}function zf(f,v){return Kl(2048,8,f,v)}function Yd(f,v){return Kl(4,2,f,v)}function Yl(f,v){return Kl(4,4,f,v)}function vc(f,v){if(typeof v=="function")return f=f(),v(f),function(){v(null)};if(v!=null)return f=f(),v.current=f,function(){v.current=null}}function Xu(f,v,R){return R=R!=null?R.concat([f]):null,Kl(4,4,vc.bind(null,v,f),R)}function fd(){}function Mh(f,v){var R=kl();v=v===void 0?null:v;var V=R.memoizedState;return V!==null&&v!==null&&Kp(v,V[1])?V[0]:(R.memoizedState=[f,v],f)}function Yp(f,v){var R=kl();v=v===void 0?null:v;var V=R.memoizedState;return V!==null&&v!==null&&Kp(v,V[1])?V[0]:(f=f(),R.memoizedState=[f,v],f)}function Fm(f,v,R){return Uc&21?(Ks(R,v)||(R=lt(),Yo.lanes|=R,Lg|=R,f.baseState=!0),v):(f.baseState&&(f.baseState=!1,Ar=!0),f.memoizedState=R)}function Qp(f,v){var R=fr;fr=R!==0&&4>R?R:4,f(!0);var V=Ka.transition;Ka.transition={};try{f(!1),v()}finally{fr=R,Ka.transition=V}}function hp(){return kl().memoizedState}function zm(f,v,R){var V=gp(f);if(R={lane:V,action:R,hasEagerState:!1,eagerState:null,next:null},qp(f))Og(v,R);else if(R=bh(f,v,R,V),R!==null){var ie=_c();Gf(R,f,V,ie),S(R,v,V)}}function pp(f,v,R){var V=gp(f),ie={lane:V,action:R,hasEagerState:!1,eagerState:null,next:null};if(qp(f))Og(v,ie);else{var he=f.alternate;if(f.lanes===0&&(he===null||he.lanes===0)&&(he=v.lastRenderedReducer,he!==null))try{var Ne=v.lastRenderedState,St=he(Ne,R);if(ie.hasEagerState=!0,ie.eagerState=St,Ks(St,Ne)){var Bt=v.interleaved;Bt===null?(ie.next=ie,xh(v)):(ie.next=Bt.next,Bt.next=ie),v.interleaved=ie;return}}catch{}finally{}R=bh(f,v,ie,V),R!==null&&(ie=_c(),Gf(R,f,V,ie),S(R,v,V))}}function qp(f){var v=f.alternate;return f===Yo||v!==null&&v===Yo}function Og(f,v){Lf=_u=!0;var R=f.pending;R===null?v.next=v:(v.next=R.next,R.next=v),f.pending=v}function S(f,v,R){if(R&4194240){var V=v.lanes;V&=f.pendingLanes,R|=V,v.lanes=R,ur(f,R)}}var s={readContext:va,useCallback:Gs,useContext:Gs,useEffect:Gs,useImperativeHandle:Gs,useInsertionEffect:Gs,useLayoutEffect:Gs,useMemo:Gs,useReducer:Gs,useRef:Gs,useState:Gs,useDebugValue:Gs,useDeferredValue:Gs,useTransition:Gs,useMutableSource:Gs,useSyncExternalStore:Gs,useId:Gs,unstable_isNewReconciler:!1},d={readContext:va,useCallback:function(f,v){return Vu().memoizedState=[f,v===void 0?null:v],f},useContext:va,useEffect:hl,useImperativeHandle:function(f,v,R){return R=R!=null?R.concat([f]):null,fp(4194308,4,vc.bind(null,v,f),R)},useLayoutEffect:function(f,v){return fp(4194308,4,f,v)},useInsertionEffect:function(f,v){return fp(4,2,f,v)},useMemo:function(f,v){var R=Vu();return v=v===void 0?null:v,f=f(),R.memoizedState=[f,v],f},useReducer:function(f,v,R){var V=Vu();return v=R!==void 0?R(v):v,V.memoizedState=V.baseState=v,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:v},V.queue=f,f=f.dispatch=zm.bind(null,Yo,f),[V.memoizedState,f]},useRef:function(f){var v=Vu();return f={current:f},v.memoizedState=f},useState:Ch,useDebugValue:fd,useDeferredValue:function(f){return Vu().memoizedState=f},useTransition:function(){var f=Ch(!1),v=f[0];return f=Qp.bind(null,f[1]),Vu().memoizedState=f,[v,f]},useMutableSource:function(){},useSyncExternalStore:function(f,v,R){var V=Yo,ie=Vu();if(os){if(R===void 0)throw Error(r(407));R=R()}else{if(R=v(),Jl===null)throw Error(r(349));Uc&30||Xd(V,v,R)}ie.memoizedState=R;var he={value:R,getSnapshot:v};return ie.queue=he,hl(fl.bind(null,V,he,f),[f]),V.flags|=2048,dp(9,_a.bind(null,V,he,R,v),void 0,null),R},useId:function(){var f=Vu(),v=Jl.identifierPrefix;if(os){var R=ll,V=Er;R=(V&~(1<<32-ri(V)-1)).toString(32)+R,v=":"+v+"R"+R,R=Vd++,0<R&&(v+="H"+R.toString(32)),v+=":"}else R=cd++,v=":"+v+"r"+R.toString(32)+":";return f.memoizedState=v},unstable_isNewReconciler:!1},x={readContext:va,useCallback:Mh,useContext:va,useEffect:zf,useImperativeHandle:Xu,useInsertionEffect:Yd,useLayoutEffect:Yl,useMemo:Yp,useReducer:Ah,useRef:Ff,useState:function(){return Ah(Nf)},useDebugValue:fd,useDeferredValue:function(f){var v=kl();return Fm(v,Zs.memoizedState,f)},useTransition:function(){var f=Ah(Nf)[0],v=kl().memoizedState;return[f,v]},useMutableSource:Wu,useSyncExternalStore:gc,useId:hp,unstable_isNewReconciler:!1},I={readContext:va,useCallback:Mh,useContext:va,useEffect:zf,useImperativeHandle:Xu,useInsertionEffect:Yd,useLayoutEffect:Yl,useMemo:Yp,useReducer:jc,useRef:Ff,useState:function(){return jc(Nf)},useDebugValue:fd,useDeferredValue:function(f){var v=kl();return Zs===null?v.memoizedState=f:Fm(v,Zs.memoizedState,f)},useTransition:function(){var f=jc(Nf)[0],v=kl().memoizedState;return[f,v]},useMutableSource:Wu,useSyncExternalStore:gc,useId:hp,unstable_isNewReconciler:!1};function U(f,v){try{var R="",V=v;do R+=et(V),V=V.return;while(V);var ie=R}catch(he){ie=`
Error generating stack: `+he.message+`
`+he.stack}return{value:f,source:v,stack:ie,digest:null}}function ne(f,v,R){return{value:f,source:null,stack:R??null,digest:v??null}}function Pe(f,v){try{console.error(v.value)}catch(R){setTimeout(function(){throw R})}}var Je=typeof WeakMap=="function"?WeakMap:Map;function Tt(f,v,R){R=ya(-1,R),R.tag=3,R.payload={element:null};var V=v.value;return R.callback=function(){ty||(ty=!0,lS=V),Pe(f,v)},R}function hn(f,v,R){R=ya(-1,R),R.tag=3;var V=f.type.getDerivedStateFromError;if(typeof V=="function"){var ie=v.value;R.payload=function(){return V(ie)},R.callback=function(){Pe(f,v)}}var he=f.stateNode;return he!==null&&typeof he.componentDidCatch=="function"&&(R.callback=function(){Pe(f,v),typeof V!="function"&&(Hf===null?Hf=new Set([this]):Hf.add(this));var Ne=v.stack;this.componentDidCatch(v.value,{componentStack:Ne!==null?Ne:""})}),R}function kn(f,v,R){var V=f.pingCache;if(V===null){V=f.pingCache=new Je;var ie=new Set;V.set(v,ie)}else ie=V.get(v),ie===void 0&&(ie=new Set,V.set(v,ie));ie.has(R)||(ie.add(R),f=pS.bind(null,f,v,R),v.then(f,f))}function dr(f){do{var v;if((v=f.tag===13)&&(v=f.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return f;f=f.return}while(f!==null);return null}function Dr(f,v,R,V,ie){return f.mode&1?(f.flags|=65536,f.lanes=ie,f):(f===v?f.flags|=65536:(f.flags|=128,R.flags|=131072,R.flags&=-52805,R.tag===1&&(R.alternate===null?R.tag=17:(v=ya(-1,1),v.tag=2,Mo(R,v,1))),R.lanes|=1),f)}var Pr=ae.ReactCurrentOwner,Ar=!1;function Zi(f,v,R,V){v.child=f===null?ld(v,null,R,V):Hu(v,f.child,R,V)}function on(f,v,R,V,ie){R=R.render;var he=v.ref;return pc(v,ie),V=dd(f,v,R,V,he,ie),R=Wd(),f!==null&&!Ar?(v.updateQueue=f.updateQueue,v.flags&=-2053,f.lanes&=~ie,Zp(f,v,ie)):(os&&R&&Ud(v),v.flags|=1,Zi(f,v,V,ie),v.child)}function Qe(f,v,R,V,ie){if(f===null){var he=R.type;return typeof he=="function"&&!U1(he)&&he.defaultProps===void 0&&R.compare===null&&R.defaultProps===void 0?(v.tag=15,v.type=he,tt(f,v,he,V,ie)):(f=j1(R.type,null,V,v,v.mode,ie),f.ref=v.ref,f.return=v,v.child=f)}if(he=f.child,!(f.lanes&ie)){var Ne=he.memoizedProps;if(R=R.compare,R=R!==null?R:ol,R(Ne,V)&&f.ref===v.ref)return Zp(f,v,ie)}return v.flags|=1,f=im(he,V),f.ref=v.ref,f.return=v,v.child=f}function tt(f,v,R,V,ie){if(f!==null){var he=f.memoizedProps;if(ol(he,V)&&f.ref===v.ref)if(Ar=!1,v.pendingProps=V=he,(f.lanes&ie)!==0)f.flags&131072&&(Ar=!0);else return v.lanes=f.lanes,Zp(f,v,ie)}return sr(f,v,R,V,ie)}function kt(f,v,R){var V=v.pendingProps,ie=V.children,he=f!==null?f.memoizedState:null;if(V.mode==="hidden")if(!(v.mode&1))v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ho(Dg,Hc),Hc|=R;else{if(!(R&1073741824))return f=he!==null?he.baseLanes|R:R,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:f,cachePool:null,transitions:null},v.updateQueue=null,Ho(Dg,Hc),Hc|=f,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},V=he!==null?he.baseLanes:R,Ho(Dg,Hc),Hc|=V}else he!==null?(V=he.baseLanes|R,v.memoizedState=null):V=R,Ho(Dg,Hc),Hc|=V;return Zi(f,v,ie,R),v.child}function In(f,v){var R=v.ref;(f===null&&R!==null||f!==null&&f.ref!==R)&&(v.flags|=512,v.flags|=2097152)}function sr(f,v,R,V,ie){var he=Va(R)?fc:Ha.current;return he=td(v,he),pc(v,ie),R=dd(f,v,R,V,he,ie),V=Wd(),f!==null&&!Ar?(v.updateQueue=f.updateQueue,v.flags&=-2053,f.lanes&=~ie,Zp(f,v,ie)):(os&&V&&Ud(v),v.flags|=1,Zi(f,v,R,ie),v.child)}function kr(f,v,R,V,ie){if(Va(R)){var he=!0;Rf(v)}else he=!1;if(pc(v,ie),v.stateNode===null)Wv(f,v),mc(v,R,V),Bf(v,R,V,ie),V=!0;else if(f===null){var Ne=v.stateNode,St=v.memoizedProps;Ne.props=St;var Bt=Ne.context,wn=R.contextType;typeof wn=="object"&&wn!==null?wn=va(wn):(wn=Va(R)?fc:Ha.current,wn=td(v,wn));var Zn=R.getDerivedStateFromProps,yr=typeof Zn=="function"||typeof Ne.getSnapshotBeforeUpdate=="function";yr||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(St!==V||Bt!==wn)&&ad(v,Ne,V,wn),ju=!1;var ar=v.memoizedState;Ne.state=ar,Fi(v,V,Ne,ie),Bt=v.memoizedState,St!==V||ar!==Bt||Ga.current||ju?(typeof Zn=="function"&&(ra(v,R,Zn,V),Bt=v.memoizedState),(St=ju||Ps(v,R,St,V,ar,Bt,wn))?(yr||typeof Ne.UNSAFE_componentWillMount!="function"&&typeof Ne.componentWillMount!="function"||(typeof Ne.componentWillMount=="function"&&Ne.componentWillMount(),typeof Ne.UNSAFE_componentWillMount=="function"&&Ne.UNSAFE_componentWillMount()),typeof Ne.componentDidMount=="function"&&(v.flags|=4194308)):(typeof Ne.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=V,v.memoizedState=Bt),Ne.props=V,Ne.state=Bt,Ne.context=wn,V=St):(typeof Ne.componentDidMount=="function"&&(v.flags|=4194308),V=!1)}else{Ne=v.stateNode,cp(f,v),St=v.memoizedProps,wn=v.type===v.elementType?St:hc(v.type,St),Ne.props=wn,yr=v.pendingProps,ar=Ne.context,Bt=R.contextType,typeof Bt=="object"&&Bt!==null?Bt=va(Bt):(Bt=Va(R)?fc:Ha.current,Bt=td(v,Bt));var qr=R.getDerivedStateFromProps;(Zn=typeof qr=="function"||typeof Ne.getSnapshotBeforeUpdate=="function")||typeof Ne.UNSAFE_componentWillReceiveProps!="function"&&typeof Ne.componentWillReceiveProps!="function"||(St!==yr||ar!==Bt)&&ad(v,Ne,V,Bt),ju=!1,ar=v.memoizedState,Ne.state=ar,Fi(v,V,Ne,ie);var oi=v.memoizedState;St!==yr||ar!==oi||Ga.current||ju?(typeof qr=="function"&&(ra(v,R,qr,V),oi=v.memoizedState),(wn=ju||Ps(v,R,wn,V,ar,oi,Bt)||!1)?(Zn||typeof Ne.UNSAFE_componentWillUpdate!="function"&&typeof Ne.componentWillUpdate!="function"||(typeof Ne.componentWillUpdate=="function"&&Ne.componentWillUpdate(V,oi,Bt),typeof Ne.UNSAFE_componentWillUpdate=="function"&&Ne.UNSAFE_componentWillUpdate(V,oi,Bt)),typeof Ne.componentDidUpdate=="function"&&(v.flags|=4),typeof Ne.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof Ne.componentDidUpdate!="function"||St===f.memoizedProps&&ar===f.memoizedState||(v.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||St===f.memoizedProps&&ar===f.memoizedState||(v.flags|=1024),v.memoizedProps=V,v.memoizedState=oi),Ne.props=V,Ne.state=oi,Ne.context=Bt,V=wn):(typeof Ne.componentDidUpdate!="function"||St===f.memoizedProps&&ar===f.memoizedState||(v.flags|=4),typeof Ne.getSnapshotBeforeUpdate!="function"||St===f.memoizedProps&&ar===f.memoizedState||(v.flags|=1024),V=!1)}return Fr(f,v,R,V,he,ie)}function Fr(f,v,R,V,ie,he){In(f,v);var Ne=(v.flags&128)!==0;if(!V&&!Ne)return ie&&op(v,R,!1),Zp(f,v,he);V=v.stateNode,Pr.current=v;var St=Ne&&typeof R.getDerivedStateFromError!="function"?null:V.render();return v.flags|=1,f!==null&&Ne?(v.child=Hu(v,f.child,null,he),v.child=Hu(v,null,St,he)):Zi(f,v,St,he),v.memoizedState=V.state,ie&&op(v,R,!0),v.child}function Ri(f){var v=f.stateNode;v.pendingContext?Nd(f,v.pendingContext,v.pendingContext!==v.context):v.context&&Nd(f,v.context,!1),ud(f,v.containerInfo)}function Ti(f,v,R,V,ie){return Nc(),Sh(ie),v.flags|=256,Zi(f,v,R,V),v.child}var $i={dehydrated:null,treeContext:null,retryLane:0};function hd(f){return{baseLanes:f,cachePool:null,transitions:null}}function Jp(f,v,R){var V=v.pendingProps,ie=Oi.current,he=!1,Ne=(v.flags&128)!==0,St;if((St=Ne)||(St=f!==null&&f.memoizedState===null?!1:(ie&2)!==0),St?(he=!0,v.flags&=-129):(f===null||f.memoizedState!==null)&&(ie|=1),Ho(Oi,ie&1),f===null)return lp(v),f=v.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(v.mode&1?f.data==="$!"?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(Ne=V.children,f=V.fallback,he?(V=v.mode,he=v.child,Ne={mode:"hidden",children:Ne},!(V&1)&&he!==null?(he.childLanes=0,he.pendingProps=Ne):he=oy(Ne,V,0,null),f=om(f,V,R,null),he.return=v,f.return=v,he.sibling=f,v.child=he,v.child.memoizedState=hd(R),v.memoizedState=$i,f):Bg(v,Ne));if(ie=f.memoizedState,ie!==null&&(St=ie.dehydrated,St!==null))return XM(f,v,Ne,V,St,ie,R);if(he){he=V.fallback,Ne=v.mode,ie=f.child,St=ie.sibling;var Bt={mode:"hidden",children:V.children};return!(Ne&1)&&v.child!==ie?(V=v.child,V.childLanes=0,V.pendingProps=Bt,v.deletions=null):(V=im(ie,Bt),V.subtreeFlags=ie.subtreeFlags&14680064),St!==null?he=im(St,he):(he=om(he,Ne,R,null),he.flags|=2),he.return=v,V.return=v,V.sibling=he,v.child=V,V=he,he=v.child,Ne=f.child.memoizedState,Ne=Ne===null?hd(R):{baseLanes:Ne.baseLanes|R,cachePool:null,transitions:Ne.transitions},he.memoizedState=Ne,he.childLanes=f.childLanes&~R,v.memoizedState=$i,V}return he=f.child,f=he.sibling,V=im(he,{mode:"visible",children:V.children}),!(v.mode&1)&&(V.lanes=R),V.return=v,V.sibling=null,f!==null&&(R=v.deletions,R===null?(v.deletions=[f],v.flags|=16):R.push(f)),v.child=V,v.memoizedState=null,V}function Bg(f,v){return v=oy({mode:"visible",children:v},f.mode,0,null),v.return=f,f.child=v}function Vv(f,v,R,V){return V!==null&&Sh(V),Hu(v,f.child,null,R),f=Bg(v,v.pendingProps.children),f.flags|=2,v.memoizedState=null,f}function XM(f,v,R,V,ie,he,Ne){if(R)return v.flags&256?(v.flags&=-257,V=ne(Error(r(422))),Vv(f,v,Ne,V)):v.memoizedState!==null?(v.child=f.child,v.flags|=128,null):(he=V.fallback,ie=v.mode,V=oy({mode:"visible",children:V.children},ie,0,null),he=om(he,ie,Ne,null),he.flags|=2,V.return=v,he.return=v,V.sibling=he,v.child=V,v.mode&1&&Hu(v,f.child,null,Ne),v.child.memoizedState=hd(Ne),v.memoizedState=$i,he);if(!(v.mode&1))return Vv(f,v,Ne,null);if(ie.data==="$!"){if(V=ie.nextSibling&&ie.nextSibling.dataset,V)var St=V.dgst;return V=St,he=Error(r(419)),V=ne(he,V,void 0),Vv(f,v,Ne,V)}if(St=(Ne&f.childLanes)!==0,Ar||St){if(V=Jl,V!==null){switch(Ne&-Ne){case 4:ie=2;break;case 16:ie=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ie=32;break;case 536870912:ie=268435456;break;default:ie=0}ie=ie&(V.suspendedLanes|Ne)?0:ie,ie!==0&&ie!==he.retryLane&&(he.retryLane=ie,vu(f,ie),Gf(V,f,ie,-1))}return F1(),V=ne(Error(r(421))),Vv(f,v,Ne,V)}return ie.data==="$?"?(v.flags|=128,v.child=f.child,v=Kb.bind(null,f),ie._reactRetry=v,null):(f=he.treeContext,ul=Lu(ie.nextSibling),ga=v,os=!0,zu=null,f!==null&&(Ts[Wa++]=Er,Ts[Wa++]=ll,Ts[Wa++]=Rr,Er=f.id,ll=f.overflow,Rr=v),v=Bg(v,V.children),v.flags|=4096,v)}function Jw(f,v,R){f.lanes|=v;var V=f.alternate;V!==null&&(V.lanes|=v),Gd(f.return,v,R)}function Zw(f,v,R,V,ie){var he=f.memoizedState;he===null?f.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:V,tail:R,tailMode:ie}:(he.isBackwards=v,he.rendering=null,he.renderingStartTime=0,he.last=V,he.tail=R,he.tailMode=ie)}function Lb(f,v,R){var V=v.pendingProps,ie=V.revealOrder,he=V.tail;if(Zi(f,v,V.children,R),V=Oi.current,V&2)V=V&1|2,v.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=v.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Jw(f,R,v);else if(f.tag===19)Jw(f,R,v);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===v)break e;for(;f.sibling===null;){if(f.return===null||f.return===v)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}V&=1}if(Ho(Oi,V),!(v.mode&1))v.memoizedState=null;else switch(ie){case"forwards":for(R=v.child,ie=null;R!==null;)f=R.alternate,f!==null&&Uo(f)===null&&(ie=R),R=R.sibling;R=ie,R===null?(ie=v.child,v.child=null):(ie=R.sibling,R.sibling=null),Zw(v,!1,ie,R,he);break;case"backwards":for(R=null,ie=v.child,v.child=null;ie!==null;){if(f=ie.alternate,f!==null&&Uo(f)===null){v.child=ie;break}f=ie.sibling,ie.sibling=R,R=ie,ie=f}Zw(v,!0,R,null,he);break;case"together":Zw(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function Wv(f,v){!(v.mode&1)&&f!==null&&(f.alternate=null,v.alternate=null,v.flags|=2)}function Zp(f,v,R){if(f!==null&&(v.dependencies=f.dependencies),Lg|=v.lanes,!(R&v.childLanes))return null;if(f!==null&&v.child!==f.child)throw Error(r(153));if(v.child!==null){for(f=v.child,R=im(f,f.pendingProps),v.child=R,R.return=v;f.sibling!==null;)f=f.sibling,R=R.sibling=im(f,f.pendingProps),R.return=v;R.sibling=null}return v.child}function Nb(f,v,R){switch(v.tag){case 3:Ri(v),Nc();break;case 5:Eh(v);break;case 1:Va(v.type)&&Rf(v);break;case 4:ud(v,v.stateNode.containerInfo);break;case 10:var V=v.type._context,ie=v.memoizedProps.value;Ho(id,V._currentValue),V._currentValue=ie;break;case 13:if(V=v.memoizedState,V!==null)return V.dehydrated!==null?(Ho(Oi,Oi.current&1),v.flags|=128,null):R&v.child.childLanes?Jp(f,v,R):(Ho(Oi,Oi.current&1),f=Zp(f,v,R),f!==null?f.sibling:null);Ho(Oi,Oi.current&1);break;case 19:if(V=(R&v.childLanes)!==0,f.flags&128){if(V)return Lb(f,v,R);v.flags|=128}if(ie=v.memoizedState,ie!==null&&(ie.rendering=null,ie.tail=null,ie.lastEffect=null),Ho(Oi,Oi.current),V)break;return null;case 22:case 23:return v.lanes=0,kt(f,v,R)}return Zp(f,v,R)}var $w,Xv,eS,tS;$w=function(f,v){for(var R=v.child;R!==null;){if(R.tag===5||R.tag===6)f.appendChild(R.stateNode);else if(R.tag!==4&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===v)break;for(;R.sibling===null;){if(R.return===null||R.return===v)return;R=R.return}R.sibling.return=R.return,R=R.sibling}},Xv=function(){},eS=function(f,v,R,V){var ie=f.memoizedProps;if(ie!==V){f=v.stateNode,dl(Ia.current);var he=null;switch(R){case"input":ie=Zt(f,ie),V=Zt(f,V),he=[];break;case"select":ie=me({},ie,{value:void 0}),V=me({},V,{value:void 0}),he=[];break;case"textarea":ie=ct(f,ie),V=ct(f,V),he=[];break;default:typeof ie.onClick!="function"&&typeof V.onClick=="function"&&(f.onclick=Ld)}Wr(R,V);var Ne;R=null;for(wn in ie)if(!V.hasOwnProperty(wn)&&ie.hasOwnProperty(wn)&&ie[wn]!=null)if(wn==="style"){var St=ie[wn];for(Ne in St)St.hasOwnProperty(Ne)&&(R||(R={}),R[Ne]="")}else wn!=="dangerouslySetInnerHTML"&&wn!=="children"&&wn!=="suppressContentEditableWarning"&&wn!=="suppressHydrationWarning"&&wn!=="autoFocus"&&(a.hasOwnProperty(wn)?he||(he=[]):(he=he||[]).push(wn,null));for(wn in V){var Bt=V[wn];if(St=ie!=null?ie[wn]:void 0,V.hasOwnProperty(wn)&&Bt!==St&&(Bt!=null||St!=null))if(wn==="style")if(St){for(Ne in St)!St.hasOwnProperty(Ne)||Bt&&Bt.hasOwnProperty(Ne)||(R||(R={}),R[Ne]="");for(Ne in Bt)Bt.hasOwnProperty(Ne)&&St[Ne]!==Bt[Ne]&&(R||(R={}),R[Ne]=Bt[Ne])}else R||(he||(he=[]),he.push(wn,R)),R=Bt;else wn==="dangerouslySetInnerHTML"?(Bt=Bt?Bt.__html:void 0,St=St?St.__html:void 0,Bt!=null&&St!==Bt&&(he=he||[]).push(wn,Bt)):wn==="children"?typeof Bt!="string"&&typeof Bt!="number"||(he=he||[]).push(wn,""+Bt):wn!=="suppressContentEditableWarning"&&wn!=="suppressHydrationWarning"&&(a.hasOwnProperty(wn)?(Bt!=null&&wn==="onScroll"&&Xo("scroll",f),he||St===Bt||(he=[])):(he=he||[]).push(wn,Bt))}R&&(he=he||[]).push("style",R);var wn=he;(v.updateQueue=wn)&&(v.flags|=4)}},tS=function(f,v,R,V){R!==V&&(v.flags|=4)};function Kv(f,v){if(!os)switch(f.tailMode){case"hidden":v=f.tail;for(var R=null;v!==null;)v.alternate!==null&&(R=v),v=v.sibling;R===null?f.tail=null:R.sibling=null;break;case"collapsed":R=f.tail;for(var V=null;R!==null;)R.alternate!==null&&(V=R),R=R.sibling;V===null?v||f.tail===null?f.tail=null:f.tail.sibling=null:V.sibling=null}}function yc(f){var v=f.alternate!==null&&f.alternate.child===f.child,R=0,V=0;if(v)for(var ie=f.child;ie!==null;)R|=ie.lanes|ie.childLanes,V|=ie.subtreeFlags&14680064,V|=ie.flags&14680064,ie.return=f,ie=ie.sibling;else for(ie=f.child;ie!==null;)R|=ie.lanes|ie.childLanes,V|=ie.subtreeFlags,V|=ie.flags,ie.return=f,ie=ie.sibling;return f.subtreeFlags|=V,f.childLanes=R,v}function Fb(f,v,R){var V=v.pendingProps;switch(gu(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yc(v),null;case 1:return Va(v.type)&&ip(),yc(v),null;case 3:return V=v.stateNode,Gu(),$o(Ga),$o(Ha),Xa(),V.pendingContext&&(V.context=V.pendingContext,V.pendingContext=null),(f===null||f.child===null)&&(jd(v)?v.flags|=4:f===null||f.memoizedState.isDehydrated&&!(v.flags&256)||(v.flags|=1024,zu!==null&&(L1(zu),zu=null))),Xv(f,v),yc(v),null;case 5:yu(v);var ie=dl(Pl.current);if(R=v.type,f!==null&&v.stateNode!=null)eS(f,v,R,V,ie),f.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!V){if(v.stateNode===null)throw Error(r(166));return yc(v),null}if(f=dl(Ia.current),jd(v)){V=v.stateNode,R=v.type;var he=v.memoizedProps;switch(V[ma]=v,V[So]=he,f=(v.mode&1)!==0,R){case"dialog":Xo("cancel",V),Xo("close",V);break;case"iframe":case"object":case"embed":Xo("load",V);break;case"video":case"audio":for(ie=0;ie<uc.length;ie++)Xo(uc[ie],V);break;case"source":Xo("error",V);break;case"img":case"image":case"link":Xo("error",V),Xo("load",V);break;case"details":Xo("toggle",V);break;case"input":mn(V,he),Xo("invalid",V);break;case"select":V._wrapperState={wasMultiple:!!he.multiple},Xo("invalid",V);break;case"textarea":De(V,he),Xo("invalid",V)}Wr(R,he),ie=null;for(var Ne in he)if(he.hasOwnProperty(Ne)){var St=he[Ne];Ne==="children"?typeof St=="string"?V.textContent!==St&&(he.suppressHydrationWarning!==!0&&vh(V.textContent,St,f),ie=["children",St]):typeof St=="number"&&V.textContent!==""+St&&(he.suppressHydrationWarning!==!0&&vh(V.textContent,St,f),ie=["children",""+St]):a.hasOwnProperty(Ne)&&St!=null&&Ne==="onScroll"&&Xo("scroll",V)}switch(R){case"input":Ye(V),tr(V,he,!0);break;case"textarea":Ye(V),Kn(V);break;case"select":case"option":break;default:typeof he.onClick=="function"&&(V.onclick=Ld)}V=ie,v.updateQueue=V,V!==null&&(v.flags|=4)}else{Ne=ie.nodeType===9?ie:ie.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=Fn(R)),f==="http://www.w3.org/1999/xhtml"?R==="script"?(f=Ne.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof V.is=="string"?f=Ne.createElement(R,{is:V.is}):(f=Ne.createElement(R),R==="select"&&(Ne=f,V.multiple?Ne.multiple=!0:V.size&&(Ne.size=V.size))):f=Ne.createElementNS(f,R),f[ma]=v,f[So]=V,$w(f,v,!1,!1),v.stateNode=f;e:{switch(Ne=ci(R,V),R){case"dialog":Xo("cancel",f),Xo("close",f),ie=V;break;case"iframe":case"object":case"embed":Xo("load",f),ie=V;break;case"video":case"audio":for(ie=0;ie<uc.length;ie++)Xo(uc[ie],f);ie=V;break;case"source":Xo("error",f),ie=V;break;case"img":case"image":case"link":Xo("error",f),Xo("load",f),ie=V;break;case"details":Xo("toggle",f),ie=V;break;case"input":mn(f,V),ie=Zt(f,V),Xo("invalid",f);break;case"option":ie=V;break;case"select":f._wrapperState={wasMultiple:!!V.multiple},ie=me({},V,{value:void 0}),Xo("invalid",f);break;case"textarea":De(f,V),ie=ct(f,V),Xo("invalid",f);break;default:ie=V}Wr(R,ie),St=ie;for(he in St)if(St.hasOwnProperty(he)){var Bt=St[he];he==="style"?br(f,Bt):he==="dangerouslySetInnerHTML"?(Bt=Bt?Bt.__html:void 0,Bt!=null&&nr(f,Bt)):he==="children"?typeof Bt=="string"?(R!=="textarea"||Bt!=="")&&it(f,Bt):typeof Bt=="number"&&it(f,""+Bt):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(a.hasOwnProperty(he)?Bt!=null&&he==="onScroll"&&Xo("scroll",f):Bt!=null&&Q(f,he,Bt,Ne))}switch(R){case"input":Ye(f),tr(f,V,!1);break;case"textarea":Ye(f),Kn(f);break;case"option":V.value!=null&&f.setAttribute("value",""+an(V.value));break;case"select":f.multiple=!!V.multiple,he=V.value,he!=null?si(f,!!V.multiple,he,!1):V.defaultValue!=null&&si(f,!!V.multiple,V.defaultValue,!0);break;default:typeof ie.onClick=="function"&&(f.onclick=Ld)}switch(R){case"button":case"input":case"select":case"textarea":V=!!V.autoFocus;break e;case"img":V=!0;break e;default:V=!1}}V&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return yc(v),null;case 6:if(f&&v.stateNode!=null)tS(f,v,f.memoizedProps,V);else{if(typeof V!="string"&&v.stateNode===null)throw Error(r(166));if(R=dl(Pl.current),dl(Ia.current),jd(v)){if(V=v.stateNode,R=v.memoizedProps,V[ma]=v,(he=V.nodeValue!==R)&&(f=ga,f!==null))switch(f.tag){case 3:vh(V.nodeValue,R,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&vh(V.nodeValue,R,(f.mode&1)!==0)}he&&(v.flags|=4)}else V=(R.nodeType===9?R:R.ownerDocument).createTextNode(V),V[ma]=v,v.stateNode=V}return yc(v),null;case 13:if($o(Oi),V=v.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(os&&ul!==null&&v.mode&1&&!(v.flags&128))Xp(),Nc(),v.flags|=98560,he=!1;else if(he=jd(v),V!==null&&V.dehydrated!==null){if(f===null){if(!he)throw Error(r(318));if(he=v.memoizedState,he=he!==null?he.dehydrated:null,!he)throw Error(r(317));he[ma]=v}else Nc(),!(v.flags&128)&&(v.memoizedState=null),v.flags|=4;yc(v),he=!1}else zu!==null&&(L1(zu),zu=null),he=!0;if(!he)return v.flags&65536?v:null}return v.flags&128?(v.lanes=R,v):(V=V!==null,V!==(f!==null&&f.memoizedState!==null)&&V&&(v.child.flags|=8192,v.mode&1&&(f===null||Oi.current&1?ro===0&&(ro=3):F1())),v.updateQueue!==null&&(v.flags|=4),yc(v),null);case 4:return Gu(),Xv(f,v),f===null&&cc(v.stateNode.containerInfo),yc(v),null;case 10:return Fc(v.type._context),yc(v),null;case 17:return Va(v.type)&&ip(),yc(v),null;case 19:if($o(Oi),he=v.memoizedState,he===null)return yc(v),null;if(V=(v.flags&128)!==0,Ne=he.rendering,Ne===null)if(V)Kv(he,!1);else{if(ro!==0||f!==null&&f.flags&128)for(f=v.child;f!==null;){if(Ne=Uo(f),Ne!==null){for(v.flags|=128,Kv(he,!1),V=Ne.updateQueue,V!==null&&(v.updateQueue=V,v.flags|=4),v.subtreeFlags=0,V=R,R=v.child;R!==null;)he=R,f=V,he.flags&=14680066,Ne=he.alternate,Ne===null?(he.childLanes=0,he.lanes=f,he.child=null,he.subtreeFlags=0,he.memoizedProps=null,he.memoizedState=null,he.updateQueue=null,he.dependencies=null,he.stateNode=null):(he.childLanes=Ne.childLanes,he.lanes=Ne.lanes,he.child=Ne.child,he.subtreeFlags=0,he.deletions=null,he.memoizedProps=Ne.memoizedProps,he.memoizedState=Ne.memoizedState,he.updateQueue=Ne.updateQueue,he.type=Ne.type,f=Ne.dependencies,he.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),R=R.sibling;return Ho(Oi,Oi.current&1|2),v.child}f=f.sibling}he.tail!==null&&ir()>Ng&&(v.flags|=128,V=!0,Kv(he,!1),v.lanes=4194304)}else{if(!V)if(f=Uo(Ne),f!==null){if(v.flags|=128,V=!0,R=f.updateQueue,R!==null&&(v.updateQueue=R,v.flags|=4),Kv(he,!0),he.tail===null&&he.tailMode==="hidden"&&!Ne.alternate&&!os)return yc(v),null}else 2*ir()-he.renderingStartTime>Ng&&R!==1073741824&&(v.flags|=128,V=!0,Kv(he,!1),v.lanes=4194304);he.isBackwards?(Ne.sibling=v.child,v.child=Ne):(R=he.last,R!==null?R.sibling=Ne:v.child=Ne,he.last=Ne)}return he.tail!==null?(v=he.tail,he.rendering=v,he.tail=v.sibling,he.renderingStartTime=ir(),v.sibling=null,R=Oi.current,Ho(Oi,V?R&1|2:R&1),v):(yc(v),null);case 22:case 23:return G0(),V=v.memoizedState!==null,f!==null&&f.memoizedState!==null!==V&&(v.flags|=8192),V&&v.mode&1?Hc&1073741824&&(yc(v),v.subtreeFlags&6&&(v.flags|=8192)):yc(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function KM(f,v){switch(gu(v),v.tag){case 1:return Va(v.type)&&ip(),f=v.flags,f&65536?(v.flags=f&-65537|128,v):null;case 3:return Gu(),$o(Ga),$o(Ha),Xa(),f=v.flags,f&65536&&!(f&128)?(v.flags=f&-65537|128,v):null;case 5:return yu(v),null;case 13:if($o(Oi),f=v.memoizedState,f!==null&&f.dehydrated!==null){if(v.alternate===null)throw Error(r(340));Nc()}return f=v.flags,f&65536?(v.flags=f&-65537|128,v):null;case 19:return $o(Oi),null;case 4:return Gu(),null;case 10:return Fc(v.type._context),null;case 22:case 23:return G0(),null;case 24:return null;default:return null}}var C1=!1,Ql=!1,YM=typeof WeakSet=="function"?WeakSet:Set,ei=null;function $p(f,v){var R=f.ref;if(R!==null)if(typeof R=="function")try{R(null)}catch(V){Ra(f,v,V)}else R.current=null}function zb(f,v,R){try{R()}catch(V){Ra(f,v,V)}}var nS=!1;function Yv(f,v){if(zo=cs,f=no(),Co(f)){if("selectionStart"in f)var R={start:f.selectionStart,end:f.selectionEnd};else e:{R=(R=f.ownerDocument)&&R.defaultView||window;var V=R.getSelection&&R.getSelection();if(V&&V.rangeCount!==0){R=V.anchorNode;var ie=V.anchorOffset,he=V.focusNode;V=V.focusOffset;try{R.nodeType,he.nodeType}catch{R=null;break e}var Ne=0,St=-1,Bt=-1,wn=0,Zn=0,yr=f,ar=null;t:for(;;){for(var qr;yr!==R||ie!==0&&yr.nodeType!==3||(St=Ne+ie),yr!==he||V!==0&&yr.nodeType!==3||(Bt=Ne+V),yr.nodeType===3&&(Ne+=yr.nodeValue.length),(qr=yr.firstChild)!==null;)ar=yr,yr=qr;for(;;){if(yr===f)break t;if(ar===R&&++wn===ie&&(St=Ne),ar===he&&++Zn===V&&(Bt=Ne),(qr=yr.nextSibling)!==null)break;yr=ar,ar=yr.parentNode}yr=qr}R=St===-1||Bt===-1?null:{start:St,end:Bt}}else R=null}R=R||{start:0,end:0}}else R=null;for(Om={focusedElem:f,selectionRange:R},cs=!1,ei=v;ei!==null;)if(v=ei,f=v.child,(v.subtreeFlags&1028)!==0&&f!==null)f.return=v,ei=f;else for(;ei!==null;){v=ei;try{var oi=v.alternate;if(v.flags&1024)switch(v.tag){case 0:case 11:case 15:break;case 1:if(oi!==null){var li=oi.memoizedProps,pl=oi.memoizedState,sn=v.stateNode,zt=sn.getSnapshotBeforeUpdate(v.elementType===v.type?li:hc(v.type,li),pl);sn.__reactInternalSnapshotBeforeUpdate=zt}break;case 3:var yn=v.stateNode.containerInfo;yn.nodeType===1?yn.textContent="":yn.nodeType===9&&yn.documentElement&&yn.removeChild(yn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Cr){Ra(v,v.return,Cr)}if(f=v.sibling,f!==null){f.return=v.return,ei=f;break}ei=v.return}return oi=nS,nS=!1,oi}function Qv(f,v,R){var V=v.updateQueue;if(V=V!==null?V.lastEffect:null,V!==null){var ie=V=V.next;do{if((ie.tag&f)===f){var he=ie.destroy;ie.destroy=void 0,he!==void 0&&zb(v,R,he)}ie=ie.next}while(ie!==V)}}function qv(f,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var R=v=v.next;do{if((R.tag&f)===f){var V=R.create;R.destroy=V()}R=R.next}while(R!==v)}}function em(f){var v=f.ref;if(v!==null){var R=f.stateNode;switch(f.tag){case 5:f=R;break;default:f=R}typeof v=="function"?v(f):v.current=f}}function rS(f){var v=f.alternate;v!==null&&(f.alternate=null,rS(v)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(v=f.stateNode,v!==null&&(delete v[ma],delete v[So],delete v[dc],delete v[If],delete v[yh])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function M1(f){return f.tag===5||f.tag===3||f.tag===4}function T1(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||M1(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Jv(f,v,R){var V=f.tag;if(V===5||V===6)f=f.stateNode,v?R.nodeType===8?R.parentNode.insertBefore(f,v):R.insertBefore(f,v):(R.nodeType===8?(v=R.parentNode,v.insertBefore(f,R)):(v=R,v.appendChild(f)),R=R._reactRootContainer,R!=null||v.onclick!==null||(v.onclick=Ld));else if(V!==4&&(f=f.child,f!==null))for(Jv(f,v,R),f=f.sibling;f!==null;)Jv(f,v,R),f=f.sibling}function Zv(f,v,R){var V=f.tag;if(V===5||V===6)f=f.stateNode,v?R.insertBefore(f,v):R.appendChild(f);else if(V!==4&&(f=f.child,f!==null))for(Zv(f,v,R),f=f.sibling;f!==null;)Zv(f,v,R),f=f.sibling}var ql=null,Qd=!1;function mp(f,v,R){for(R=R.child;R!==null;)iS(f,v,R),R=R.sibling}function iS(f,v,R){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(jr,R)}catch{}switch(R.tag){case 5:Ql||$p(R,v);case 6:var V=ql,ie=Qd;ql=null,mp(f,v,R),ql=V,Qd=ie,ql!==null&&(Qd?(f=ql,R=R.stateNode,f.nodeType===8?f.parentNode.removeChild(R):f.removeChild(R)):ql.removeChild(R.stateNode));break;case 18:ql!==null&&(Qd?(f=ql,R=R.stateNode,f.nodeType===8?np(f.parentNode,R):f.nodeType===1&&np(f,R),Vs(f)):np(ql,R.stateNode));break;case 4:V=ql,ie=Qd,ql=R.stateNode.containerInfo,Qd=!0,mp(f,v,R),ql=V,Qd=ie;break;case 0:case 11:case 14:case 15:if(!Ql&&(V=R.updateQueue,V!==null&&(V=V.lastEffect,V!==null))){ie=V=V.next;do{var he=ie,Ne=he.destroy;he=he.tag,Ne!==void 0&&(he&2||he&4)&&zb(R,v,Ne),ie=ie.next}while(ie!==V)}mp(f,v,R);break;case 1:if(!Ql&&($p(R,v),V=R.stateNode,typeof V.componentWillUnmount=="function"))try{V.props=R.memoizedProps,V.state=R.memoizedState,V.componentWillUnmount()}catch(St){Ra(R,v,St)}mp(f,v,R);break;case 21:mp(f,v,R);break;case 22:R.mode&1?(Ql=(V=Ql)||R.memoizedState!==null,mp(f,v,R),Ql=V):mp(f,v,R);break;default:mp(f,v,R)}}function oS(f){var v=f.updateQueue;if(v!==null){f.updateQueue=null;var R=f.stateNode;R===null&&(R=f.stateNode=new YM),v.forEach(function(V){var ie=gS.bind(null,f,V);R.has(V)||(R.add(V),V.then(ie,ie))})}}function Uf(f,v){var R=v.deletions;if(R!==null)for(var V=0;V<R.length;V++){var ie=R[V];try{var he=f,Ne=v,St=Ne;e:for(;St!==null;){switch(St.tag){case 5:ql=St.stateNode,Qd=!1;break e;case 3:ql=St.stateNode.containerInfo,Qd=!0;break e;case 4:ql=St.stateNode.containerInfo,Qd=!0;break e}St=St.return}if(ql===null)throw Error(r(160));iS(he,Ne,ie),ql=null,Qd=!1;var Bt=ie.alternate;Bt!==null&&(Bt.return=null),ie.return=null}catch(wn){Ra(ie,v,wn)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)P1(v,f),v=v.sibling}function P1(f,v){var R=f.alternate,V=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Uf(v,f),Ku(f),V&4){try{Qv(3,f,f.return),qv(3,f)}catch(li){Ra(f,f.return,li)}try{Qv(5,f,f.return)}catch(li){Ra(f,f.return,li)}}break;case 1:Uf(v,f),Ku(f),V&512&&R!==null&&$p(R,R.return);break;case 5:if(Uf(v,f),Ku(f),V&512&&R!==null&&$p(R,R.return),f.flags&32){var ie=f.stateNode;try{it(ie,"")}catch(li){Ra(f,f.return,li)}}if(V&4&&(ie=f.stateNode,ie!=null)){var he=f.memoizedProps,Ne=R!==null?R.memoizedProps:he,St=f.type,Bt=f.updateQueue;if(f.updateQueue=null,Bt!==null)try{St==="input"&&he.type==="radio"&&he.name!=null&&jn(ie,he),ci(St,Ne);var wn=ci(St,he);for(Ne=0;Ne<Bt.length;Ne+=2){var Zn=Bt[Ne],yr=Bt[Ne+1];Zn==="style"?br(ie,yr):Zn==="dangerouslySetInnerHTML"?nr(ie,yr):Zn==="children"?it(ie,yr):Q(ie,Zn,yr,wn)}switch(St){case"input":Wn(ie,he);break;case"textarea":Ut(ie,he);break;case"select":var ar=ie._wrapperState.wasMultiple;ie._wrapperState.wasMultiple=!!he.multiple;var qr=he.value;qr!=null?si(ie,!!he.multiple,qr,!1):ar!==!!he.multiple&&(he.defaultValue!=null?si(ie,!!he.multiple,he.defaultValue,!0):si(ie,!!he.multiple,he.multiple?[]:"",!1))}ie[So]=he}catch(li){Ra(f,f.return,li)}}break;case 6:if(Uf(v,f),Ku(f),V&4){if(f.stateNode===null)throw Error(r(162));ie=f.stateNode,he=f.memoizedProps;try{ie.nodeValue=he}catch(li){Ra(f,f.return,li)}}break;case 3:if(Uf(v,f),Ku(f),V&4&&R!==null&&R.memoizedState.isDehydrated)try{Vs(v.containerInfo)}catch(li){Ra(f,f.return,li)}break;case 4:Uf(v,f),Ku(f);break;case 13:Uf(v,f),Ku(f),ie=f.child,ie.flags&8192&&(he=ie.memoizedState!==null,ie.stateNode.isHidden=he,!he||ie.alternate!==null&&ie.alternate.memoizedState!==null||(O1=ir())),V&4&&oS(f);break;case 22:if(Zn=R!==null&&R.memoizedState!==null,f.mode&1?(Ql=(wn=Ql)||Zn,Uf(v,f),Ql=wn):Uf(v,f),Ku(f),V&8192){if(wn=f.memoizedState!==null,(f.stateNode.isHidden=wn)&&!Zn&&f.mode&1)for(ei=f,Zn=f.child;Zn!==null;){for(yr=ei=Zn;ei!==null;){switch(ar=ei,qr=ar.child,ar.tag){case 0:case 11:case 14:case 15:Qv(4,ar,ar.return);break;case 1:$p(ar,ar.return);var oi=ar.stateNode;if(typeof oi.componentWillUnmount=="function"){V=ar,R=ar.return;try{v=V,oi.props=v.memoizedProps,oi.state=v.memoizedState,oi.componentWillUnmount()}catch(li){Ra(V,R,li)}}break;case 5:$p(ar,ar.return);break;case 22:if(ar.memoizedState!==null){k1(yr);continue}}qr!==null?(qr.return=ar,ei=qr):k1(yr)}Zn=Zn.sibling}e:for(Zn=null,yr=f;;){if(yr.tag===5){if(Zn===null){Zn=yr;try{ie=yr.stateNode,wn?(he=ie.style,typeof he.setProperty=="function"?he.setProperty("display","none","important"):he.display="none"):(St=yr.stateNode,Bt=yr.memoizedProps.style,Ne=Bt!=null&&Bt.hasOwnProperty("display")?Bt.display:null,St.style.display=Yn("display",Ne))}catch(li){Ra(f,f.return,li)}}}else if(yr.tag===6){if(Zn===null)try{yr.stateNode.nodeValue=wn?"":yr.memoizedProps}catch(li){Ra(f,f.return,li)}}else if((yr.tag!==22&&yr.tag!==23||yr.memoizedState===null||yr===f)&&yr.child!==null){yr.child.return=yr,yr=yr.child;continue}if(yr===f)break e;for(;yr.sibling===null;){if(yr.return===null||yr.return===f)break e;Zn===yr&&(Zn=null),yr=yr.return}Zn===yr&&(Zn=null),yr.sibling.return=yr.return,yr=yr.sibling}}break;case 19:Uf(v,f),Ku(f),V&4&&oS(f);break;case 21:break;default:Uf(v,f),Ku(f)}}function Ku(f){var v=f.flags;if(v&2){try{e:{for(var R=f.return;R!==null;){if(M1(R)){var V=R;break e}R=R.return}throw Error(r(160))}switch(V.tag){case 5:var ie=V.stateNode;V.flags&32&&(it(ie,""),V.flags&=-33);var he=T1(f);Zv(f,he,ie);break;case 3:case 4:var Ne=V.stateNode.containerInfo,St=T1(f);Jv(f,St,Ne);break;default:throw Error(r(161))}}catch(Bt){Ra(f,f.return,Bt)}f.flags&=-3}v&4096&&(f.flags&=-4097)}function sS(f,v,R){ei=f,Ub(f)}function Ub(f,v,R){for(var V=(f.mode&1)!==0;ei!==null;){var ie=ei,he=ie.child;if(ie.tag===22&&V){var Ne=ie.memoizedState!==null||C1;if(!Ne){var St=ie.alternate,Bt=St!==null&&St.memoizedState!==null||Ql;St=C1;var wn=Ql;if(C1=Ne,(Ql=Bt)&&!wn)for(ei=ie;ei!==null;)Ne=ei,Bt=Ne.child,Ne.tag===22&&Ne.memoizedState!==null?jb(ie):Bt!==null?(Bt.return=Ne,ei=Bt):jb(ie);for(;he!==null;)ei=he,Ub(he),he=he.sibling;ei=ie,C1=St,Ql=wn}aS(f)}else ie.subtreeFlags&8772&&he!==null?(he.return=ie,ei=he):aS(f)}}function aS(f){for(;ei!==null;){var v=ei;if(v.flags&8772){var R=v.alternate;try{if(v.flags&8772)switch(v.tag){case 0:case 11:case 15:Ql||qv(5,v);break;case 1:var V=v.stateNode;if(v.flags&4&&!Ql)if(R===null)V.componentDidMount();else{var ie=v.elementType===v.type?R.memoizedProps:hc(v.type,R.memoizedProps);V.componentDidUpdate(ie,R.memoizedState,V.__reactInternalSnapshotBeforeUpdate)}var he=v.updateQueue;he!==null&&uo(v,he,V);break;case 3:var Ne=v.updateQueue;if(Ne!==null){if(R=null,v.child!==null)switch(v.child.tag){case 5:R=v.child.stateNode;break;case 1:R=v.child.stateNode}uo(v,Ne,R)}break;case 5:var St=v.stateNode;if(R===null&&v.flags&4){R=St;var Bt=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Bt.autoFocus&&R.focus();break;case"img":Bt.src&&(R.src=Bt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var wn=v.alternate;if(wn!==null){var Zn=wn.memoizedState;if(Zn!==null){var yr=Zn.dehydrated;yr!==null&&Vs(yr)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ql||v.flags&512&&em(v)}catch(ar){Ra(v,v.return,ar)}}if(v===f){ei=null;break}if(R=v.sibling,R!==null){R.return=v.return,ei=R;break}ei=v.return}}function k1(f){for(;ei!==null;){var v=ei;if(v===f){ei=null;break}var R=v.sibling;if(R!==null){R.return=v.return,ei=R;break}ei=v.return}}function jb(f){for(;ei!==null;){var v=ei;try{switch(v.tag){case 0:case 11:case 15:var R=v.return;try{qv(4,v)}catch(Bt){Ra(v,R,Bt)}break;case 1:var V=v.stateNode;if(typeof V.componentDidMount=="function"){var ie=v.return;try{V.componentDidMount()}catch(Bt){Ra(v,ie,Bt)}}var he=v.return;try{em(v)}catch(Bt){Ra(v,he,Bt)}break;case 5:var Ne=v.return;try{em(v)}catch(Bt){Ra(v,Ne,Bt)}}}catch(Bt){Ra(v,v.return,Bt)}if(v===f){ei=null;break}var St=v.sibling;if(St!==null){St.return=v.return,ei=St;break}ei=v.return}}var QM=Math.ceil,$v=ae.ReactCurrentDispatcher,I1=ae.ReactCurrentOwner,jf=ae.ReactCurrentBatchConfig,Qo=0,Jl=null,Il=null,Rl=0,Hc=0,Dg=vs(0),ro=0,tm=null,Lg=0,R1=0,ey=0,H0=null,pd=null,O1=0,Ng=1/0,Th=null,ty=!1,lS=null,Hf=null,B1=!1,Um=null,Fg=0,zg=0,uS=null,ny=-1,ry=0;function _c(){return Qo&6?ir():ny!==-1?ny:ny=ir()}function gp(f){return f.mode&1?Qo&2&&Rl!==0?Rl&-Rl:Gv.transition!==null?(ry===0&&(ry=lt()),ry):(f=fr,f!==0||(f=window.event,f=f===void 0?16:Pc(f.type)),f):1}function Gf(f,v,R,V){if(50<zg)throw zg=0,uS=null,Error(r(185));Wt(f,R,V),(!(Qo&2)||f!==Jl)&&(f===Jl&&(!(Qo&2)&&(R1|=R),ro===4&&nm(f,Rl)),Gc(f,V),R===1&&Qo===0&&!(v.mode&1)&&(Ng=ir()+500,Fd&&mu()))}function Gc(f,v){var R=f.callbackNode;Ee(f,v);var V=wo(f,f===Jl?Rl:0);if(V===0)R!==null&&Mn(R),f.callbackNode=null,f.callbackPriority=0;else if(v=V&-V,f.callbackPriority!==v){if(R!=null&&Mn(R),v===1)f.tag===0?zd(dS.bind(null,f)):_h(dS.bind(null,f)),Bm(function(){!(Qo&6)&&mu()}),R=null;else{switch($r(V)){case 1:R=lr;break;case 4:R=Lr;break;case 16:R=Zr;break;case 536870912:R=wr;break;default:R=Zr}R=vS(R,cS.bind(null,f))}f.callbackPriority=v,f.callbackNode=R}}function cS(f,v){if(ny=-1,ry=0,Qo&6)throw Error(r(327));var R=f.callbackNode;if(Gm()&&f.callbackNode!==R)return null;var V=wo(f,f===Jl?Rl:0);if(V===0)return null;if(V&30||V&f.expiredLanes||v)v=iy(f,V);else{v=V;var ie=Qo;Qo|=2;var he=Vb();(Jl!==f||Rl!==v)&&(Th=null,Ng=ir()+500,jm(f,v));do try{fS();break}catch(St){Gb(f,St)}while(1);sd(),$v.current=he,Qo=ie,Il!==null?v=0:(Jl=null,Rl=0,v=ro)}if(v!==0){if(v===2&&(ie=He(f),ie!==0&&(V=ie,v=D1(f,ie))),v===1)throw R=tm,jm(f,0),nm(f,V),Gc(f,ir()),R;if(v===6)nm(f,V);else{if(ie=f.current.alternate,!(V&30)&&!Hb(ie)&&(v=iy(f,V),v===2&&(he=He(f),he!==0&&(V=he,v=D1(f,he))),v===1))throw R=tm,jm(f,0),nm(f,V),Gc(f,ir()),R;switch(f.finishedWork=ie,f.finishedLanes=V,v){case 0:case 1:throw Error(r(345));case 2:Hm(f,pd,Th);break;case 3:if(nm(f,V),(V&130023424)===V&&(v=O1+500-ir(),10<v)){if(wo(f,0)!==0)break;if(ie=f.suspendedLanes,(ie&V)!==V){_c(),f.pingedLanes|=f.suspendedLanes&ie;break}f.timeoutHandle=Vp(Hm.bind(null,f,pd,Th),v);break}Hm(f,pd,Th);break;case 4:if(nm(f,V),(V&4194240)===V)break;for(v=f.eventTimes,ie=-1;0<V;){var Ne=31-ri(V);he=1<<Ne,Ne=v[Ne],Ne>ie&&(ie=Ne),V&=~he}if(V=ie,V=ir()-V,V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3e3>V?3e3:4320>V?4320:1960*QM(V/1960))-V,10<V){f.timeoutHandle=Vp(Hm.bind(null,f,pd,Th),V);break}Hm(f,pd,Th);break;case 5:Hm(f,pd,Th);break;default:throw Error(r(329))}}}return Gc(f,ir()),f.callbackNode===R?cS.bind(null,f):null}function D1(f,v){var R=H0;return f.current.memoizedState.isDehydrated&&(jm(f,v).flags|=256),f=iy(f,v),f!==2&&(v=pd,pd=R,v!==null&&L1(v)),f}function L1(f){pd===null?pd=f:pd.push.apply(pd,f)}function Hb(f){for(var v=f;;){if(v.flags&16384){var R=v.updateQueue;if(R!==null&&(R=R.stores,R!==null))for(var V=0;V<R.length;V++){var ie=R[V],he=ie.getSnapshot;ie=ie.value;try{if(!Ks(he(),ie))return!1}catch{return!1}}}if(R=v.child,v.subtreeFlags&16384&&R!==null)R.return=v,v=R;else{if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function nm(f,v){for(v&=~ey,v&=~R1,f.suspendedLanes|=v,f.pingedLanes&=~v,f=f.expirationTimes;0<v;){var R=31-ri(v),V=1<<R;f[R]=-1,v&=~V}}function dS(f){if(Qo&6)throw Error(r(327));Gm();var v=wo(f,0);if(!(v&1))return Gc(f,ir()),null;var R=iy(f,v);if(f.tag!==0&&R===2){var V=He(f);V!==0&&(v=V,R=D1(f,V))}if(R===1)throw R=tm,jm(f,0),nm(f,v),Gc(f,ir()),R;if(R===6)throw Error(r(345));return f.finishedWork=f.current.alternate,f.finishedLanes=v,Hm(f,pd,Th),Gc(f,ir()),null}function N1(f,v){var R=Qo;Qo|=1;try{return f(v)}finally{Qo=R,Qo===0&&(Ng=ir()+500,Fd&&mu())}}function rm(f){Um!==null&&Um.tag===0&&!(Qo&6)&&Gm();var v=Qo;Qo|=1;var R=jf.transition,V=fr;try{if(jf.transition=null,fr=1,f)return f()}finally{fr=V,jf.transition=R,Qo=v,!(Qo&6)&&mu()}}function G0(){Hc=Dg.current,$o(Dg)}function jm(f,v){f.finishedWork=null,f.finishedLanes=0;var R=f.timeoutHandle;if(R!==-1&&(f.timeoutHandle=-1,Pf(R)),Il!==null)for(R=Il.return;R!==null;){var V=R;switch(gu(V),V.tag){case 1:V=V.type.childContextTypes,V!=null&&ip();break;case 3:Gu(),$o(Ga),$o(Ha),Xa();break;case 5:yu(V);break;case 4:Gu();break;case 13:$o(Oi);break;case 19:$o(Oi);break;case 10:Fc(V.type._context);break;case 22:case 23:G0()}R=R.return}if(Jl=f,Il=f=im(f.current,null),Rl=Hc=v,ro=0,tm=null,ey=R1=Lg=0,pd=H0=null,Uu!==null){for(v=0;v<Uu.length;v++)if(R=Uu[v],V=R.interleaved,V!==null){R.interleaved=null;var ie=V.next,he=R.pending;if(he!==null){var Ne=he.next;he.next=ie,V.next=Ne}R.pending=V}Uu=null}return f}function Gb(f,v){do{var R=Il;try{if(sd(),Js.current=s,_u){for(var V=Yo.memoizedState;V!==null;){var ie=V.queue;ie!==null&&(ie.pending=null),V=V.next}_u=!1}if(Uc=0,ds=Zs=Yo=null,Lf=!1,Vd=0,I1.current=null,R===null||R.return===null){ro=1,tm=v,Il=null;break}e:{var he=f,Ne=R.return,St=R,Bt=v;if(v=Rl,St.flags|=32768,Bt!==null&&typeof Bt=="object"&&typeof Bt.then=="function"){var wn=Bt,Zn=St,yr=Zn.tag;if(!(Zn.mode&1)&&(yr===0||yr===11||yr===15)){var ar=Zn.alternate;ar?(Zn.updateQueue=ar.updateQueue,Zn.memoizedState=ar.memoizedState,Zn.lanes=ar.lanes):(Zn.updateQueue=null,Zn.memoizedState=null)}var qr=dr(Ne);if(qr!==null){qr.flags&=-257,Dr(qr,Ne,St,he,v),qr.mode&1&&kn(he,wn,v),v=qr,Bt=wn;var oi=v.updateQueue;if(oi===null){var li=new Set;li.add(Bt),v.updateQueue=li}else oi.add(Bt);break e}else{if(!(v&1)){kn(he,wn,v),F1();break e}Bt=Error(r(426))}}else if(os&&St.mode&1){var pl=dr(Ne);if(pl!==null){!(pl.flags&65536)&&(pl.flags|=256),Dr(pl,Ne,St,he,v),Sh(U(Bt,St));break e}}he=Bt=U(Bt,St),ro!==4&&(ro=2),H0===null?H0=[he]:H0.push(he),he=Ne;do{switch(he.tag){case 3:he.flags|=65536,v&=-v,he.lanes|=v;var sn=Tt(he,Bt,v);ii(he,sn);break e;case 1:St=Bt;var zt=he.type,yn=he.stateNode;if(!(he.flags&128)&&(typeof zt.getDerivedStateFromError=="function"||yn!==null&&typeof yn.componentDidCatch=="function"&&(Hf===null||!Hf.has(yn)))){he.flags|=65536,v&=-v,he.lanes|=v;var Cr=hn(he,St,v);ii(he,Cr);break e}}he=he.return}while(he!==null)}Xb(R)}catch(fi){v=fi,Il===R&&R!==null&&(Il=R=R.return);continue}break}while(1)}function Vb(){var f=$v.current;return $v.current=s,f===null?s:f}function F1(){(ro===0||ro===3||ro===2)&&(ro=4),Jl===null||!(Lg&268435455)&&!(R1&268435455)||nm(Jl,Rl)}function iy(f,v){var R=Qo;Qo|=2;var V=Vb();(Jl!==f||Rl!==v)&&(Th=null,jm(f,v));do try{Wb();break}catch(ie){Gb(f,ie)}while(1);if(sd(),Qo=R,$v.current=V,Il!==null)throw Error(r(261));return Jl=null,Rl=0,ro}function Wb(){for(;Il!==null;)z1(Il)}function fS(){for(;Il!==null&&!Bn();)z1(Il)}function z1(f){var v=Ug(f.alternate,f,Hc);f.memoizedProps=f.pendingProps,v===null?Xb(f):Il=v,I1.current=null}function Xb(f){var v=f;do{var R=v.alternate;if(f=v.return,v.flags&32768){if(R=KM(R,v),R!==null){R.flags&=32767,Il=R;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{ro=6,Il=null;return}}else if(R=Fb(R,v,Hc),R!==null){Il=R;return}if(v=v.sibling,v!==null){Il=v;return}Il=v=f}while(v!==null);ro===0&&(ro=5)}function Hm(f,v,R){var V=fr,ie=jf.transition;try{jf.transition=null,fr=1,hS(f,v,R,V)}finally{jf.transition=ie,fr=V}return null}function hS(f,v,R,V){do Gm();while(Um!==null);if(Qo&6)throw Error(r(327));R=f.finishedWork;var ie=f.finishedLanes;if(R===null)return null;if(f.finishedWork=null,f.finishedLanes=0,R===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0;var he=R.lanes|R.childLanes;if(On(f,he),f===Jl&&(Il=Jl=null,Rl=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||B1||(B1=!0,vS(Zr,function(){return Gm(),null})),he=(R.flags&15990)!==0,R.subtreeFlags&15990||he){he=jf.transition,jf.transition=null;var Ne=fr;fr=1;var St=Qo;Qo|=4,I1.current=null,Yv(f,R),P1(R,f),Us(Om),cs=!!zo,Om=zo=null,f.current=R,sS(R),Cn(),Qo=St,fr=Ne,jf.transition=he}else f.current=R;if(B1&&(B1=!1,Um=f,Fg=ie),he=f.pendingLanes,he===0&&(Hf=null),Br(R.stateNode),Gc(f,ir()),v!==null)for(V=f.onRecoverableError,R=0;R<v.length;R++)ie=v[R],V(ie.value,{componentStack:ie.stack,digest:ie.digest});if(ty)throw ty=!1,f=lS,lS=null,f;return Fg&1&&f.tag!==0&&Gm(),he=f.pendingLanes,he&1?f===uS?zg++:(zg=0,uS=f):zg=0,mu(),null}function Gm(){if(Um!==null){var f=$r(Fg),v=jf.transition,R=fr;try{if(jf.transition=null,fr=16>f?16:f,Um===null)var V=!1;else{if(f=Um,Um=null,Fg=0,Qo&6)throw Error(r(331));var ie=Qo;for(Qo|=4,ei=f.current;ei!==null;){var he=ei,Ne=he.child;if(ei.flags&16){var St=he.deletions;if(St!==null){for(var Bt=0;Bt<St.length;Bt++){var wn=St[Bt];for(ei=wn;ei!==null;){var Zn=ei;switch(Zn.tag){case 0:case 11:case 15:Qv(8,Zn,he)}var yr=Zn.child;if(yr!==null)yr.return=Zn,ei=yr;else for(;ei!==null;){Zn=ei;var ar=Zn.sibling,qr=Zn.return;if(rS(Zn),Zn===wn){ei=null;break}if(ar!==null){ar.return=qr,ei=ar;break}ei=qr}}}var oi=he.alternate;if(oi!==null){var li=oi.child;if(li!==null){oi.child=null;do{var pl=li.sibling;li.sibling=null,li=pl}while(li!==null)}}ei=he}}if(he.subtreeFlags&2064&&Ne!==null)Ne.return=he,ei=Ne;else e:for(;ei!==null;){if(he=ei,he.flags&2048)switch(he.tag){case 0:case 11:case 15:Qv(9,he,he.return)}var sn=he.sibling;if(sn!==null){sn.return=he.return,ei=sn;break e}ei=he.return}}var zt=f.current;for(ei=zt;ei!==null;){Ne=ei;var yn=Ne.child;if(Ne.subtreeFlags&2064&&yn!==null)yn.return=Ne,ei=yn;else e:for(Ne=zt;ei!==null;){if(St=ei,St.flags&2048)try{switch(St.tag){case 0:case 11:case 15:qv(9,St)}}catch(fi){Ra(St,St.return,fi)}if(St===Ne){ei=null;break e}var Cr=St.sibling;if(Cr!==null){Cr.return=St.return,ei=Cr;break e}ei=St.return}}if(Qo=ie,mu(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(jr,f)}catch{}V=!0}return V}finally{fr=R,jf.transition=v}}return!1}function V0(f,v,R){v=U(R,v),v=Tt(f,v,1),f=Mo(f,v,1),v=_c(),f!==null&&(Wt(f,1,v),Gc(f,v))}function Ra(f,v,R){if(f.tag===3)V0(f,f,R);else for(;v!==null;){if(v.tag===3){V0(v,f,R);break}else if(v.tag===1){var V=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof V.componentDidCatch=="function"&&(Hf===null||!Hf.has(V))){f=U(R,f),f=hn(v,f,1),v=Mo(v,f,1),f=_c(),v!==null&&(Wt(v,1,f),Gc(v,f));break}}v=v.return}}function pS(f,v,R){var V=f.pingCache;V!==null&&V.delete(v),v=_c(),f.pingedLanes|=f.suspendedLanes&R,Jl===f&&(Rl&R)===R&&(ro===4||ro===3&&(Rl&130023424)===Rl&&500>ir()-O1?jm(f,0):ey|=R),Gc(f,v)}function mS(f,v){v===0&&(f.mode&1?(v=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):v=1);var R=_c();f=vu(f,v),f!==null&&(Wt(f,v,R),Gc(f,R))}function Kb(f){var v=f.memoizedState,R=0;v!==null&&(R=v.retryLane),mS(f,R)}function gS(f,v){var R=0;switch(f.tag){case 13:var V=f.stateNode,ie=f.memoizedState;ie!==null&&(R=ie.retryLane);break;case 19:V=f.stateNode;break;default:throw Error(r(314))}V!==null&&V.delete(v),mS(f,R)}var Ug;Ug=function(f,v,R){if(f!==null)if(f.memoizedProps!==v.pendingProps||Ga.current)Ar=!0;else{if(!(f.lanes&R)&&!(v.flags&128))return Ar=!1,Nb(f,v,R);Ar=!!(f.flags&131072)}else Ar=!1,os&&v.flags&1048576&&Lm(v,wh,v.index);switch(v.lanes=0,v.tag){case 2:var V=v.type;Wv(f,v),f=v.pendingProps;var ie=td(v,Ha.current);pc(v,R),ie=dd(null,v,V,f,ie,R);var he=Wd();return v.flags|=1,typeof ie=="object"&&ie!==null&&typeof ie.render=="function"&&ie.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Va(V)?(he=!0,Rf(v)):he=!1,v.memoizedState=ie.state!==null&&ie.state!==void 0?ie.state:null,up(v),ie.updater=ss,v.stateNode=ie,ie._reactInternals=v,Bf(v,V,f,R),v=Fr(null,v,V,!0,he,R)):(v.tag=0,os&&he&&Ud(v),Zi(null,v,ie,R),v=v.child),v;case 16:V=v.elementType;e:{switch(Wv(f,v),f=v.pendingProps,ie=V._init,V=ie(V._payload),v.type=V,ie=v.tag=yS(V),f=hc(V,f),ie){case 0:v=sr(null,v,V,f,R);break e;case 1:v=kr(null,v,V,f,R);break e;case 11:v=on(null,v,V,f,R);break e;case 14:v=Qe(null,v,V,hc(V.type,f),R);break e}throw Error(r(306,V,""))}return v;case 0:return V=v.type,ie=v.pendingProps,ie=v.elementType===V?ie:hc(V,ie),sr(f,v,V,ie,R);case 1:return V=v.type,ie=v.pendingProps,ie=v.elementType===V?ie:hc(V,ie),kr(f,v,V,ie,R);case 3:e:{if(Ri(v),f===null)throw Error(r(387));V=v.pendingProps,he=v.memoizedState,ie=he.element,cp(f,v),Fi(v,V,null,R);var Ne=v.memoizedState;if(V=Ne.element,he.isDehydrated)if(he={element:V,isDehydrated:!1,cache:Ne.cache,pendingSuspenseBoundaries:Ne.pendingSuspenseBoundaries,transitions:Ne.transitions},v.updateQueue.baseState=he,v.memoizedState=he,v.flags&256){ie=U(Error(r(423)),v),v=Ti(f,v,V,R,ie);break e}else if(V!==ie){ie=U(Error(r(424)),v),v=Ti(f,v,V,R,ie);break e}else for(ul=Lu(v.stateNode.containerInfo.firstChild),ga=v,os=!0,zu=null,R=ld(v,null,V,R),v.child=R;R;)R.flags=R.flags&-3|4096,R=R.sibling;else{if(Nc(),V===ie){v=Zp(f,v,R);break e}Zi(f,v,V,R)}v=v.child}return v;case 5:return Eh(v),f===null&&lp(v),V=v.type,ie=v.pendingProps,he=f!==null?f.memoizedProps:null,Ne=ie.children,Ig(V,ie)?Ne=null:he!==null&&Ig(V,he)&&(v.flags|=32),In(f,v),Zi(f,v,Ne,R),v.child;case 6:return f===null&&lp(v),null;case 13:return Jp(f,v,R);case 4:return ud(v,v.stateNode.containerInfo),V=v.pendingProps,f===null?v.child=Hu(v,null,V,R):Zi(f,v,V,R),v.child;case 11:return V=v.type,ie=v.pendingProps,ie=v.elementType===V?ie:hc(V,ie),on(f,v,V,ie,R);case 7:return Zi(f,v,v.pendingProps,R),v.child;case 8:return Zi(f,v,v.pendingProps.children,R),v.child;case 12:return Zi(f,v,v.pendingProps.children,R),v.child;case 10:e:{if(V=v.type._context,ie=v.pendingProps,he=v.memoizedProps,Ne=ie.value,Ho(id,V._currentValue),V._currentValue=Ne,he!==null)if(Ks(he.value,Ne)){if(he.children===ie.children&&!Ga.current){v=Zp(f,v,R);break e}}else for(he=v.child,he!==null&&(he.return=v);he!==null;){var St=he.dependencies;if(St!==null){Ne=he.child;for(var Bt=St.firstContext;Bt!==null;){if(Bt.context===V){if(he.tag===1){Bt=ya(-1,R&-R),Bt.tag=2;var wn=he.updateQueue;if(wn!==null){wn=wn.shared;var Zn=wn.pending;Zn===null?Bt.next=Bt:(Bt.next=Zn.next,Zn.next=Bt),wn.pending=Bt}}he.lanes|=R,Bt=he.alternate,Bt!==null&&(Bt.lanes|=R),Gd(he.return,R,v),St.lanes|=R;break}Bt=Bt.next}}else if(he.tag===10)Ne=he.type===v.type?null:he.child;else if(he.tag===18){if(Ne=he.return,Ne===null)throw Error(r(341));Ne.lanes|=R,St=Ne.alternate,St!==null&&(St.lanes|=R),Gd(Ne,R,v),Ne=he.sibling}else Ne=he.child;if(Ne!==null)Ne.return=he;else for(Ne=he;Ne!==null;){if(Ne===v){Ne=null;break}if(he=Ne.sibling,he!==null){he.return=Ne.return,Ne=he;break}Ne=Ne.return}he=Ne}Zi(f,v,ie.children,R),v=v.child}return v;case 9:return ie=v.type,V=v.pendingProps.children,pc(v,R),ie=va(ie),V=V(ie),v.flags|=1,Zi(f,v,V,R),v.child;case 14:return V=v.type,ie=hc(V,v.pendingProps),ie=hc(V.type,ie),Qe(f,v,V,ie,R);case 15:return tt(f,v,v.type,v.pendingProps,R);case 17:return V=v.type,ie=v.pendingProps,ie=v.elementType===V?ie:hc(V,ie),Wv(f,v),v.tag=1,Va(V)?(f=!0,Rf(v)):f=!1,pc(v,R),mc(v,V,ie),Bf(v,V,ie,R),Fr(null,v,V,!0,f,R);case 19:return Lb(f,v,R);case 22:return kt(f,v,R)}throw Error(r(156,v.tag))};function vS(f,v){return Tn(f,v)}function Yb(f,v,R,V){this.tag=f,this.key=R,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=V,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qd(f,v,R,V){return new Yb(f,v,R,V)}function U1(f){return f=f.prototype,!(!f||!f.isReactComponent)}function yS(f){if(typeof f=="function")return U1(f)?1:0;if(f!=null){if(f=f.$$typeof,f===Ve)return 11;if(f===Ze)return 14}return 2}function im(f,v){var R=f.alternate;return R===null?(R=qd(f.tag,v,f.key,f.mode),R.elementType=f.elementType,R.type=f.type,R.stateNode=f.stateNode,R.alternate=f,f.alternate=R):(R.pendingProps=v,R.type=f.type,R.flags=0,R.subtreeFlags=0,R.deletions=null),R.flags=f.flags&14680064,R.childLanes=f.childLanes,R.lanes=f.lanes,R.child=f.child,R.memoizedProps=f.memoizedProps,R.memoizedState=f.memoizedState,R.updateQueue=f.updateQueue,v=f.dependencies,R.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},R.sibling=f.sibling,R.index=f.index,R.ref=f.ref,R}function j1(f,v,R,V,ie,he){var Ne=2;if(V=f,typeof f=="function")U1(f)&&(Ne=1);else if(typeof f=="string")Ne=5;else e:switch(f){case _e:return om(R.children,ie,he,v);case J:Ne=8,ie|=8;break;case Se:return f=qd(12,R,v,ie|2),f.elementType=Se,f.lanes=he,f;case xe:return f=qd(13,R,v,ie),f.elementType=xe,f.lanes=he,f;case ot:return f=qd(19,R,v,ie),f.elementType=ot,f.lanes=he,f;case we:return oy(R,ie,he,v);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case Be:Ne=10;break e;case _t:Ne=9;break e;case Ve:Ne=11;break e;case Ze:Ne=14;break e;case mt:Ne=16,V=null;break e}throw Error(r(130,f==null?f:typeof f,""))}return v=qd(Ne,R,v,ie),v.elementType=f,v.type=V,v.lanes=he,v}function om(f,v,R,V){return f=qd(7,f,V,v),f.lanes=R,f}function oy(f,v,R,V){return f=qd(22,f,V,v),f.elementType=we,f.lanes=R,f.stateNode={isHidden:!1},f}function _S(f,v,R){return f=qd(6,f,null,v),f.lanes=R,f}function H1(f,v,R){return v=qd(4,f.children!==null?f.children:[],f.key,v),v.lanes=R,v.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},v}function Qb(f,v,R,V,ie){this.tag=v,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jt(0),this.expirationTimes=Jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jt(0),this.identifierPrefix=V,this.onRecoverableError=ie,this.mutableSourceEagerHydrationData=null}function wS(f,v,R,V,ie,he,Ne,St,Bt){return f=new Qb(f,v,R,St,Bt),v===1?(v=1,he===!0&&(v|=8)):v=0,he=qd(3,null,null,v),f.current=he,he.stateNode=f,he.memoizedState={element:V,isDehydrated:R,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(he),f}function SS(f,v,R){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ge,key:V==null?null:""+V,children:f,containerInfo:v,implementation:R}}function xS(f){if(!f)return ed;f=f._reactInternals;e:{if(Fe(f)!==f||f.tag!==1)throw Error(r(170));var v=f;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(Va(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(f.tag===1){var R=f.type;if(Va(R))return nd(f,R,v)}return v}function bS(f,v,R,V,ie,he,Ne,St,Bt){return f=wS(R,V,!0,f,ie,he,Ne,St,Bt),f.context=xS(null),R=f.current,V=_c(),ie=gp(R),he=ya(V,ie),he.callback=v??null,Mo(R,he,ie),f.current.lanes=ie,Wt(f,ie,V),Gc(f,V),f}function sy(f,v,R,V){var ie=v.current,he=_c(),Ne=gp(ie);return R=xS(R),v.context===null?v.context=R:v.pendingContext=R,v=ya(he,Ne),v.payload={element:f},V=V===void 0?null:V,V!==null&&(v.callback=V),f=Mo(ie,v,Ne),f!==null&&(Gf(f,ie,Ne,he),Jr(f,ie,Ne)),Ne}function G1(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function qb(f,v){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var R=f.retryLane;f.retryLane=R!==0&&R<v?R:v}}function V1(f,v){qb(f,v),(f=f.alternate)&&qb(f,v)}function qM(){return null}var Jb=typeof reportError=="function"?reportError:function(f){console.error(f)};function W1(f){this._internalRoot=f}X1.prototype.render=W1.prototype.render=function(f){var v=this._internalRoot;if(v===null)throw Error(r(409));sy(f,v,null,null)},X1.prototype.unmount=W1.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var v=f.containerInfo;rm(function(){sy(null,f,null,null)}),v[ja]=null}};function X1(f){this._internalRoot=f}X1.prototype.unstable_scheduleHydration=function(f){if(f){var v=$s();f={blockedOn:null,target:f,priority:v};for(var R=0;R<Pu.length&&v!==0&&v<Pu[R].priority;R++);Pu.splice(R,0,f),R===0&&da(f)}};function ES(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function ay(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function Zb(){}function JM(f,v,R,V,ie){if(ie){if(typeof V=="function"){var he=V;V=function(){var wn=G1(Ne);he.call(wn)}}var Ne=bS(v,V,f,0,null,!1,!1,"",Zb);return f._reactRootContainer=Ne,f[ja]=Ne.current,cc(f.nodeType===8?f.parentNode:f),rm(),Ne}for(;ie=f.lastChild;)f.removeChild(ie);if(typeof V=="function"){var St=V;V=function(){var wn=G1(Bt);St.call(wn)}}var Bt=wS(f,0,!1,null,null,!1,!1,"",Zb);return f._reactRootContainer=Bt,f[ja]=Bt.current,cc(f.nodeType===8?f.parentNode:f),rm(function(){sy(v,Bt,R,V)}),Bt}function ly(f,v,R,V,ie){var he=R._reactRootContainer;if(he){var Ne=he;if(typeof ie=="function"){var St=ie;ie=function(){var Bt=G1(Ne);St.call(Bt)}}sy(v,Ne,f,ie)}else Ne=JM(R,v,f,ie,V);return G1(Ne)}Ii=function(f){switch(f.tag){case 3:var v=f.stateNode;if(v.current.memoizedState.isDehydrated){var R=ai(v.pendingLanes);R!==0&&(ur(v,R|1),Gc(v,ir()),!(Qo&6)&&(Ng=ir()+500,mu()))}break;case 13:rm(function(){var V=vu(f,1);if(V!==null){var ie=_c();Gf(V,f,1,ie)}}),V1(f,1)}},To=function(f){if(f.tag===13){var v=vu(f,134217728);if(v!==null){var R=_c();Gf(v,f,134217728,R)}V1(f,134217728)}},Aa=function(f){if(f.tag===13){var v=gp(f),R=vu(f,v);if(R!==null){var V=_c();Gf(R,f,v,V)}V1(f,v)}},$s=function(){return fr},No=function(f,v){var R=fr;try{return fr=f,v()}finally{fr=R}},gn=function(f,v,R){switch(v){case"input":if(Wn(f,R),v=R.name,R.type==="radio"&&v!=null){for(R=f;R.parentNode;)R=R.parentNode;for(R=R.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<R.length;v++){var V=R[v];if(V!==f&&V.form===f.form){var ie=rp(V);if(!ie)throw Error(r(90));Xt(V),Wn(V,ie)}}}break;case"textarea":Ut(f,R);break;case"select":v=R.value,v!=null&&si(f,!!R.multiple,v,!1)}},Vo=N1,Li=rm;var AS={usingClientEntryPoint:!1,Events:[Ko,qs,rp,so,eo,N1]},W0={findFiberByHostInstance:pu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZM={bundleType:W0.bundleType,version:W0.version,rendererPackageName:W0.rendererPackageName,rendererConfig:W0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=tn(f),f===null?null:f.stateNode},findFiberByHostInstance:W0.findFiberByHostInstance||qM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(uy=__REACT_DEVTOOLS_GLOBAL_HOOK__,!uy.isDisabled&&uy.supportsFiber))try{jr=uy.inject(ZM),Qn=uy}catch{}var uy;n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AS,n.createPortal=function(f,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ES(v))throw Error(r(200));return SS(f,v,null,R)},n.createRoot=function(f,v){if(!ES(f))throw Error(r(299));var R=!1,V="",ie=Jb;return v!=null&&(v.unstable_strictMode===!0&&(R=!0),v.identifierPrefix!==void 0&&(V=v.identifierPrefix),v.onRecoverableError!==void 0&&(ie=v.onRecoverableError)),v=wS(f,1,!1,null,null,R,!1,V,ie),f[ja]=v.current,cc(f.nodeType===8?f.parentNode:f),new W1(v)},n.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var v=f._reactInternals;if(v===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=tn(v),f=f===null?null:f.stateNode,f},n.flushSync=function(f){return rm(f)},n.hydrate=function(f,v,R){if(!ay(v))throw Error(r(200));return ly(null,f,v,!0,R)},n.hydrateRoot=function(f,v,R){if(!ES(f))throw Error(r(405));var V=R!=null&&R.hydratedSources||null,ie=!1,he="",Ne=Jb;if(R!=null&&(R.unstable_strictMode===!0&&(ie=!0),R.identifierPrefix!==void 0&&(he=R.identifierPrefix),R.onRecoverableError!==void 0&&(Ne=R.onRecoverableError)),v=bS(v,null,f,1,R??null,ie,!1,he,Ne),f[ja]=v.current,cc(f),V)for(f=0;f<V.length;f++)R=V[f],ie=R._getVersion,ie=ie(R._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[R,ie]:v.mutableSourceEagerHydrationData.push(R,ie);return new X1(v)},n.render=function(f,v,R){if(!ay(v))throw Error(r(200));return ly(null,f,v,!1,R)},n.unmountComponentAtNode=function(f){if(!ay(f))throw Error(r(40));return f._reactRootContainer?(rm(function(){ly(null,null,f,!1,function(){f._reactRootContainer=null,f[ja]=null})}),!0):!1},n.unstable_batchedUpdates=N1,n.unstable_renderSubtreeIntoContainer=function(f,v,R,V){if(!ay(R))throw Error(r(200));if(f==null||f._reactInternals===void 0)throw Error(r(38));return ly(f,v,R,!1,V)},n.version="18.2.0-next-9e3b772b8-20220608"}}),wK=ns({"../../node_modules/react-dom/index.js"(n,e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=H9e()}}),G9e=ns({"../../node_modules/prop-types/lib/ReactPropTypesSecret.js"(n,e){var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t}}),V9e=ns({"../../node_modules/prop-types/factoryWithThrowingShims.js"(n,e){var t=G9e();function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function a(g,_,b,C,k,B){if(B!==t){var z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw z.name="Invariant Violation",z}}a.isRequired=a;function c(){return a}var p={array:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:c,element:a,elementType:a,instanceOf:c,node:a,objectOf:c,oneOf:c,oneOfType:c,shape:c,exact:c,checkPropTypes:o,resetWarningCache:r};return p.PropTypes=p,p}}}),W9e=ns({"../../node_modules/prop-types/index.js"(n,e){e.exports=V9e()()}}),X9e=ns({"../../node_modules/react-shadow/styled-components.js"(n){Object.defineProperty(n,"__esModule",{value:!0});var e=ps(),t=E9e(),r=(_K(),g9e(Lxe)),o=wK(),a=W9e();function c(Ve){return Ve&&typeof Ve=="object"&&"default"in Ve?Ve:{default:Ve}}var p=c(e),g=c(a),_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b(Ve,xe){return Ve(xe={exports:{}},xe.exports),xe.exports}var C=b(function(Ve){(function(xe){var ot=function(an,fn,nn){if(!me(fn)||qe(fn)||ht(fn)||wt(fn)||Ae(fn))return fn;var Ye,Xt=0,Ft=0;if(ce(fn))for(Ye=[],Ft=fn.length;Xt<Ft;Xt++)Ye.push(ot(an,fn[Xt],nn));else for(var Zt in Ye={},fn)Object.prototype.hasOwnProperty.call(fn,Zt)&&(Ye[an(Zt,nn)]=ot(an,fn[Zt],nn));return Ye},Ze=function(an){return et(an)?an:(an=an.replace(/[\-_\s]+(.)?/g,function(fn,nn){return nn?nn.toUpperCase():""})).substr(0,1).toLowerCase()+an.substr(1)},mt=function(an){var fn=Ze(an);return fn.substr(0,1).toUpperCase()+fn.substr(1)},we=function(an,fn){return function(nn,Ye){var Xt=(Ye=Ye||{}).separator||"_",Ft=Ye.split||/(?=[A-Z])/;return nn.split(Ft).join(Xt)}(an,fn).toLowerCase()},Te=Object.prototype.toString,Ae=function(an){return typeof an=="function"},me=function(an){return an===Object(an)},ce=function(an){return Te.call(an)=="[object Array]"},qe=function(an){return Te.call(an)=="[object Date]"},ht=function(an){return Te.call(an)=="[object RegExp]"},wt=function(an){return Te.call(an)=="[object Boolean]"},et=function(an){return(an-=0)==an},Nt=function(an,fn){var nn=fn&&"process"in fn?fn.process:fn;return typeof nn!="function"?an:function(Ye,Xt){return nn(Ye,an,Xt)}},Ot={camelize:Ze,decamelize:we,pascalize:mt,depascalize:we,camelizeKeys:function(an,fn){return ot(Nt(Ze,fn),an)},decamelizeKeys:function(an,fn){return ot(Nt(we,fn),an,fn)},pascalizeKeys:function(an,fn){return ot(Nt(mt,fn),an)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};Ve.exports?Ve.exports=Ot:xe.humps=Ot})(_)}).decamelize,k=function(Ve){if(Array.isArray(Ve))return Ve},B=function(Ve,xe){if(typeof Symbol<"u"&&Symbol.iterator in Object(Ve)){var ot=[],Ze=!0,mt=!1,we=void 0;try{for(var Te,Ae=Ve[Symbol.iterator]();!(Ze=(Te=Ae.next()).done)&&(ot.push(Te.value),!xe||ot.length!==xe);Ze=!0);}catch(me){mt=!0,we=me}finally{try{Ze||Ae.return==null||Ae.return()}finally{if(mt)throw we}}return ot}},z=function(Ve,xe){(xe==null||xe>Ve.length)&&(xe=Ve.length);for(var ot=0,Ze=new Array(xe);ot<xe;ot++)Ze[ot]=Ve[ot];return Ze},F=function(Ve,xe){if(Ve){if(typeof Ve=="string")return z(Ve,xe);var ot=Object.prototype.toString.call(Ve).slice(8,-1);return ot==="Object"&&Ve.constructor&&(ot=Ve.constructor.name),ot==="Map"||ot==="Set"?Array.from(Ve):ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot)?z(Ve,xe):void 0}},N=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},D=function(Ve,xe){return k(Ve)||B(Ve,xe)||F(Ve,xe)||N()},A=b(function(Ve){function xe(){return Ve.exports=xe=Object.assign||function(ot){for(var Ze=1;Ze<arguments.length;Ze++){var mt=arguments[Ze];for(var we in mt)Object.prototype.hasOwnProperty.call(mt,we)&&(ot[we]=mt[we])}return ot},xe.apply(this,arguments)}Ve.exports=xe}),G=function(Ve,xe){if(Ve==null)return{};var ot,Ze,mt={},we=Object.keys(Ve);for(Ze=0;Ze<we.length;Ze++)ot=we[Ze],xe.indexOf(ot)>=0||(mt[ot]=Ve[ot]);return mt},Q=function(Ve,xe){if(Ve==null)return{};var ot,Ze,mt=G(Ve,xe);if(Object.getOwnPropertySymbols){var we=Object.getOwnPropertySymbols(Ve);for(Ze=0;Ze<we.length;Ze++)ot=we[Ze],xe.indexOf(ot)>=0||Object.prototype.propertyIsEnumerable.call(Ve,ot)&&(mt[ot]=Ve[ot])}return mt},ae=e.createContext(null);function Y(Ve){var xe=Ve.children,ot=Q(Ve,["children"]);return typeof xe!="string"&&(xe=t.renderToString(xe)),p.default.createElement("template",A({},ot,{dangerouslySetInnerHTML:{__html:xe}}))}function ge(Ve){var xe=Ve.root,ot=Ve.children;return o.createPortal(ot,xe)}function _e(Ve){var xe=e.forwardRef(function(ot,Ze){var mt,we,Te=ot.mode,Ae=ot.delegatesFocus,me=ot.styleSheets,ce=ot.ssr,qe=ot.children,ht=Q(ot,["mode","delegatesFocus","styleSheets","ssr","children"]),wt=(mt=Ze,we=e.useRef(mt&&mt.current),e.useEffect(function(){mt&&(mt.current=we.current)},[mt]),we),et=e.useState(null),Nt=D(et,2),Ot=Nt[0],an=Nt[1],fn="node_".concat(Te).concat(Ae);return e.useLayoutEffect(function(){if(wt.current)try{if(typeof Ze=="function"&&Ze(wt.current),ce){var nn=wt.current.shadowRoot;return void an(nn)}var Ye=wt.current.attachShadow({mode:Te,delegatesFocus:Ae});me.length>0&&(Ye.adoptedStyleSheets=me),an(Ye)}catch(Xt){(function(Ft){var Zt=Ft.error,mn=Ft.styleSheets,jn=Ft.root;switch(Zt.name){case"NotSupportedError":mn.length>0&&(jn.adoptedStyleSheets=mn);break;default:throw Zt}})({error:Xt,styleSheets:me,root:Ot})}},[Ze,wt,me]),p.default.createElement(p.default.Fragment,null,p.default.createElement(Ve.tag,A({key:fn,ref:wt},ht),(Ot||ce)&&p.default.createElement(ae.Provider,{value:Ot},ce?p.default.createElement(Y,{shadowroot:Te,shadowrootmode:Te},Ve.render({root:Ot,ssr:ce,children:qe})):p.default.createElement(ge,{root:Ot},Ve.render({root:Ot,ssr:ce,children:qe})))))});return xe.propTypes={mode:g.default.oneOf(["open","closed"]),delegatesFocus:g.default.bool,styleSheets:g.default.arrayOf(g.default.instanceOf(globalThis.CSSStyleSheet)),ssr:g.default.bool,children:g.default.node},xe.defaultProps={mode:"open",delegatesFocus:!1,styleSheets:[],ssr:!1,children:null},xe}Y.propTypes={children:g.default.oneOfType([g.default.string,g.default.node])},Y.defaultProps={children:""},ge.propTypes={root:g.default.object.isRequired,children:g.default.node},ge.defaultProps={children:null};var J=new Map;function Se(){var Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"core",ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(Ze){return Ze.children};return new Proxy(Ve,{get:function(Ze,mt){var we=C(mt,{separator:"-"}),Te="".concat(xe,"-").concat(we);return J.has(Te)||J.set(Te,_e({tag:we,render:ot})),J.get(Te)}})}function Be(Ve){var xe=new r.ServerStyleSheet;return t.renderToString(p.default.createElement(r.StyleSheetManager,{sheet:xe.instance},p.default.createElement(p.default.Fragment,null,Ve))),xe.getStyleElement()}Se();var _t=Se({},"styled-components",function(Ve){var xe=Ve.root,ot=Ve.ssr,Ze=Ve.children;return ot?p.default.createElement(p.default.Fragment,null,Be(Ze),Ze):p.default.createElement(r.StyleSheetManager,{target:xe},p.default.createElement(p.default.Fragment,null,Ze))});n.default=_t,n.getStyleSheets=Be}}),cbe=ns({"../../node_modules/react-dom/client.js"(n){var e=wK();n.createRoot=e.createRoot,n.hydrateRoot=e.hydrateRoot}}),K9e=ns({"../../node_modules/queue-microtask/index.js"(n,e){var t;e.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):r=>(t||(t=Promise.resolve())).then(r).catch(o=>setTimeout(()=>{throw o},0))}}),Y9e=ns({"../../node_modules/regenerator-runtime/runtime.js"(n,e){var t=function(r){var o=Object.prototype,a=o.hasOwnProperty,c,p=typeof Symbol=="function"?Symbol:{},g=p.iterator||"@@iterator",_=p.asyncIterator||"@@asyncIterator",b=p.toStringTag||"@@toStringTag";function C(Te,Ae,me){return Object.defineProperty(Te,Ae,{value:me,enumerable:!0,configurable:!0,writable:!0}),Te[Ae]}try{C({},"")}catch{C=function(Ae,me,ce){return Ae[me]=ce}}function k(Te,Ae,me,ce){var qe=Ae&&Ae.prototype instanceof G?Ae:G,ht=Object.create(qe.prototype),wt=new Ze(ce||[]);return ht._invoke=_t(Te,me,wt),ht}r.wrap=k;function B(Te,Ae,me){try{return{type:"normal",arg:Te.call(Ae,me)}}catch(ce){return{type:"throw",arg:ce}}}var z="suspendedStart",F="suspendedYield",N="executing",D="completed",A={};function G(){}function Q(){}function ae(){}var Y={};C(Y,g,function(){return this});var ge=Object.getPrototypeOf,_e=ge&&ge(ge(mt([])));_e&&_e!==o&&a.call(_e,g)&&(Y=_e);var J=ae.prototype=G.prototype=Object.create(Y);Q.prototype=ae,C(J,"constructor",ae),C(ae,"constructor",Q),Q.displayName=C(ae,b,"GeneratorFunction");function Se(Te){["next","throw","return"].forEach(function(Ae){C(Te,Ae,function(me){return this._invoke(Ae,me)})})}r.isGeneratorFunction=function(Te){var Ae=typeof Te=="function"&&Te.constructor;return Ae?Ae===Q||(Ae.displayName||Ae.name)==="GeneratorFunction":!1},r.mark=function(Te){return Object.setPrototypeOf?Object.setPrototypeOf(Te,ae):(Te.__proto__=ae,C(Te,b,"GeneratorFunction")),Te.prototype=Object.create(J),Te},r.awrap=function(Te){return{__await:Te}};function Be(Te,Ae){function me(ht,wt,et,Nt){var Ot=B(Te[ht],Te,wt);if(Ot.type==="throw")Nt(Ot.arg);else{var an=Ot.arg,fn=an.value;return fn&&typeof fn=="object"&&a.call(fn,"__await")?Ae.resolve(fn.__await).then(function(nn){me("next",nn,et,Nt)},function(nn){me("throw",nn,et,Nt)}):Ae.resolve(fn).then(function(nn){an.value=nn,et(an)},function(nn){return me("throw",nn,et,Nt)})}}var ce;function qe(ht,wt){function et(){return new Ae(function(Nt,Ot){me(ht,wt,Nt,Ot)})}return ce=ce?ce.then(et,et):et()}this._invoke=qe}Se(Be.prototype),C(Be.prototype,_,function(){return this}),r.AsyncIterator=Be,r.async=function(Te,Ae,me,ce,qe){qe===void 0&&(qe=Promise);var ht=new Be(k(Te,Ae,me,ce),qe);return r.isGeneratorFunction(Ae)?ht:ht.next().then(function(wt){return wt.done?wt.value:ht.next()})};function _t(Te,Ae,me){var ce=z;return function(qe,ht){if(ce===N)throw new Error("Generator is already running");if(ce===D){if(qe==="throw")throw ht;return we()}for(me.method=qe,me.arg=ht;;){var wt=me.delegate;if(wt){var et=Ve(wt,me);if(et){if(et===A)continue;return et}}if(me.method==="next")me.sent=me._sent=me.arg;else if(me.method==="throw"){if(ce===z)throw ce=D,me.arg;me.dispatchException(me.arg)}else me.method==="return"&&me.abrupt("return",me.arg);ce=N;var Nt=B(Te,Ae,me);if(Nt.type==="normal"){if(ce=me.done?D:F,Nt.arg===A)continue;return{value:Nt.arg,done:me.done}}else Nt.type==="throw"&&(ce=D,me.method="throw",me.arg=Nt.arg)}}}function Ve(Te,Ae){var me=Te.iterator[Ae.method];if(me===c){if(Ae.delegate=null,Ae.method==="throw"){if(Te.iterator.return&&(Ae.method="return",Ae.arg=c,Ve(Te,Ae),Ae.method==="throw"))return A;Ae.method="throw",Ae.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var ce=B(me,Te.iterator,Ae.arg);if(ce.type==="throw")return Ae.method="throw",Ae.arg=ce.arg,Ae.delegate=null,A;var qe=ce.arg;if(!qe)return Ae.method="throw",Ae.arg=new TypeError("iterator result is not an object"),Ae.delegate=null,A;if(qe.done)Ae[Te.resultName]=qe.value,Ae.next=Te.nextLoc,Ae.method!=="return"&&(Ae.method="next",Ae.arg=c);else return qe;return Ae.delegate=null,A}Se(J),C(J,b,"Generator"),C(J,g,function(){return this}),C(J,"toString",function(){return"[object Generator]"});function xe(Te){var Ae={tryLoc:Te[0]};1 in Te&&(Ae.catchLoc=Te[1]),2 in Te&&(Ae.finallyLoc=Te[2],Ae.afterLoc=Te[3]),this.tryEntries.push(Ae)}function ot(Te){var Ae=Te.completion||{};Ae.type="normal",delete Ae.arg,Te.completion=Ae}function Ze(Te){this.tryEntries=[{tryLoc:"root"}],Te.forEach(xe,this),this.reset(!0)}r.keys=function(Te){var Ae=[];for(var me in Te)Ae.push(me);return Ae.reverse(),function ce(){for(;Ae.length;){var qe=Ae.pop();if(qe in Te)return ce.value=qe,ce.done=!1,ce}return ce.done=!0,ce}};function mt(Te){if(Te){var Ae=Te[g];if(Ae)return Ae.call(Te);if(typeof Te.next=="function")return Te;if(!isNaN(Te.length)){var me=-1,ce=function qe(){for(;++me<Te.length;)if(a.call(Te,me))return qe.value=Te[me],qe.done=!1,qe;return qe.value=c,qe.done=!0,qe};return ce.next=ce}}return{next:we}}r.values=mt;function we(){return{value:c,done:!0}}return Ze.prototype={constructor:Ze,reset:function(Te){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(ot),!Te)for(var Ae in this)Ae.charAt(0)==="t"&&a.call(this,Ae)&&!isNaN(+Ae.slice(1))&&(this[Ae]=c)},stop:function(){this.done=!0;var Te=this.tryEntries[0],Ae=Te.completion;if(Ae.type==="throw")throw Ae.arg;return this.rval},dispatchException:function(Te){if(this.done)throw Te;var Ae=this;function me(Nt,Ot){return ht.type="throw",ht.arg=Te,Ae.next=Nt,Ot&&(Ae.method="next",Ae.arg=c),!!Ot}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var qe=this.tryEntries[ce],ht=qe.completion;if(qe.tryLoc==="root")return me("end");if(qe.tryLoc<=this.prev){var wt=a.call(qe,"catchLoc"),et=a.call(qe,"finallyLoc");if(wt&&et){if(this.prev<qe.catchLoc)return me(qe.catchLoc,!0);if(this.prev<qe.finallyLoc)return me(qe.finallyLoc)}else if(wt){if(this.prev<qe.catchLoc)return me(qe.catchLoc,!0)}else if(et){if(this.prev<qe.finallyLoc)return me(qe.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Te,Ae){for(var me=this.tryEntries.length-1;me>=0;--me){var ce=this.tryEntries[me];if(ce.tryLoc<=this.prev&&a.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var qe=ce;break}}qe&&(Te==="break"||Te==="continue")&&qe.tryLoc<=Ae&&Ae<=qe.finallyLoc&&(qe=null);var ht=qe?qe.completion:{};return ht.type=Te,ht.arg=Ae,qe?(this.method="next",this.next=qe.finallyLoc,A):this.complete(ht)},complete:function(Te,Ae){if(Te.type==="throw")throw Te.arg;return Te.type==="break"||Te.type==="continue"?this.next=Te.arg:Te.type==="return"?(this.rval=this.arg=Te.arg,this.method="return",this.next="end"):Te.type==="normal"&&Ae&&(this.next=Ae),A},finish:function(Te){for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var me=this.tryEntries[Ae];if(me.finallyLoc===Te)return this.complete(me.completion,me.afterLoc),ot(me),A}},catch:function(Te){for(var Ae=this.tryEntries.length-1;Ae>=0;--Ae){var me=this.tryEntries[Ae];if(me.tryLoc===Te){var ce=me.completion;if(ce.type==="throw"){var qe=ce.arg;ot(me)}return qe}}throw new Error("illegal catch attempt")},delegateYield:function(Te,Ae,me){return this.delegate={iterator:mt(Te),resultName:Ae,nextLoc:me},this.method==="next"&&(this.arg=c),A}},r}(typeof e=="object"?e.exports:{});try{regeneratorRuntime=t}catch{Function("r","regeneratorRuntime = r")(t)}}}),Q9e=ns({"../../node_modules/@babel/runtime/regenerator/index.js"(n,e){e.exports=Y9e()}}),q9e=ns({"../../node_modules/zustand/index.js"(n){Object.defineProperty(n,"__esModule",{value:!0});var e=Q9e(),t=ps();function r(_){return _&&typeof _=="object"&&"default"in _?_:{default:_}}var o=r(e);function a(_){var b,C=new Set,k=function(A,G){var Q=typeof A=="function"?A(b):A;if(Q!==b){var ae=b;b=G?Q:Object.assign({},b,Q),C.forEach(function(Y){return Y(b,ae)})}},B=function(){return b},z=function(A,G,Q){G===void 0&&(G=B),Q===void 0&&(Q=Object.is);var ae=G(b);function Y(){var ge=G(b);if(!Q(ae,ge)){var _e=ae;A(ae=ge,_e)}}return C.add(Y),function(){return C.delete(Y)}},F=function(A,G,Q){return G||Q?z(A,G,Q):(C.add(A),function(){return C.delete(A)})},N=function(){return C.clear()},D={setState:k,getState:B,subscribe:F,destroy:N};return b=_(k,B,D),D}var c=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),p=c?t.useEffect:t.useLayoutEffect;function g(_){var b=typeof _=="function"?a(_):_,C=function(k,B){k===void 0&&(k=b.getState),B===void 0&&(B=Object.is);var z=t.useReducer(function(J){return J+1},0),F=z[1],N=b.getState(),D=t.useRef(N),A=t.useRef(k),G=t.useRef(B),Q=t.useRef(!1),ae=t.useRef();ae.current===void 0&&(ae.current=k(N));var Y,ge=!1;(D.current!==N||A.current!==k||G.current!==B||Q.current)&&(Y=k(N),ge=!B(ae.current,Y)),p(function(){ge&&(ae.current=Y),D.current=N,A.current=k,G.current=B,Q.current=!1});var _e=t.useRef(N);return p(function(){var J=function(){try{var Be=b.getState(),_t=A.current(Be);G.current(ae.current,_t)||(D.current=Be,ae.current=_t,F())}catch{Q.current=!0,F()}},Se=b.subscribe(J);return b.getState()!==_e.current&&J(),Se},[]),ge?Y:ae.current};return Object.assign(C,b),C[Symbol.iterator]=o.default.mark(function k(){return o.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),B.next=3,C;case 3:return B.next=5,b;case 5:case"end":return B.stop()}},k)}),C}n.default=g}}),kI=to(ps()),Eu=to(ps()),Cc=to(ps()),LC=to(Rxe()),Mv=to(ps(),1);function J9e(n){let e,t=new Set,r=(p,g)=>{let _=typeof p=="function"?p(e):p;if(_!==e){let b=e;e=g?_:Object.assign({},e,_),t.forEach(C=>C(e,b))}},o=()=>e,a=(p,g=o,_=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let b=g(e);function C(){let k=g(e);if(!_(b,k)){let B=b;p(b=k,B)}}return t.add(C),()=>t.delete(C)},c={setState:r,getState:o,subscribe:(p,g,_)=>g||_?a(p,g,_):(t.add(p),()=>t.delete(p)),destroy:()=>t.clear()};return e=n(r,o,c),c}var Z9e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$ve=Z9e?Mv.useEffect:Mv.useLayoutEffect;function dbe(n){let e=typeof n=="function"?J9e(n):n,t=(r=e.getState,o=Object.is)=>{let[,a]=(0,Mv.useReducer)(N=>N+1,0),c=e.getState(),p=(0,Mv.useRef)(c),g=(0,Mv.useRef)(r),_=(0,Mv.useRef)(o),b=(0,Mv.useRef)(!1),C=(0,Mv.useRef)();C.current===void 0&&(C.current=r(c));let k,B=!1;(p.current!==c||g.current!==r||_.current!==o||b.current)&&(k=r(c),B=!o(C.current,k)),$ve(()=>{B&&(C.current=k),p.current=c,g.current=r,_.current=o,b.current=!1});let z=(0,Mv.useRef)(c);$ve(()=>{let N=()=>{try{let A=e.getState(),G=g.current(A);_.current(C.current,G)||(p.current=A,C.current=G,a())}catch{b.current=!0,a()}},D=e.subscribe(N);return e.getState()!==z.current&&N(),D},[]);let F=B?k:C.current;return(0,Mv.useDebugValue)(F),F};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let r=[t,e];return{next(){let o=r.length<=0;return{value:r.shift(),done:o}}}},t}var $9e=to(Oxe()),eye=to(mK()),SK={},eje=n=>void Object.assign(SK,n);function tje(n,e){function t(_,b,C){var k=b,{args:B=[],attach:z}=k,F=Np(k,["args","attach"]);let N=`${_[0].toUpperCase()}${_.slice(1)}`,D;if(_==="primitive"){if(F.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");let A=F.object;D=kC(A,{type:_,root:C,attach:z,primitive:!0})}else{let A=SK[N];if(!A)throw new Error(`R3F: ${N} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(B))throw new Error("R3F: The args prop must be an array!");D=kC(new A(...B),{type:_,root:C,attach:z,memoizedProps:{args:B}})}return D.__r3f.attach===void 0&&(D instanceof yo?D.__r3f.attach="geometry":D instanceof nc&&(D.__r3f.attach="material")),N!=="inject"&&rG(D,F),D}function r(_,b){let C=!1;if(b){var k,B;(k=b.__r3f)!=null&&k.attach?nG(_,b,b.__r3f.attach):b.isObject3D&&_.isObject3D&&(_.add(b),C=!0),C||(B=_.__r3f)==null||B.objects.push(b),b.__r3f||kC(b,{}),b.__r3f.parent=_,JV(b),IC(b)}}function o(_,b,C){let k=!1;if(b){var B,z;if((B=b.__r3f)!=null&&B.attach)nG(_,b,b.__r3f.attach);else if(b.isObject3D&&_.isObject3D){b.parent=_,b.dispatchEvent({type:"added"});let F=_.children.filter(D=>D!==b),N=F.indexOf(C);_.children=[...F.slice(0,N),b,...F.slice(N)],k=!0}k||(z=_.__r3f)==null||z.objects.push(b),b.__r3f||kC(b,{}),b.__r3f.parent=_,JV(b),IC(b)}}function a(_,b,C=!1){_&&[..._].forEach(k=>c(b,k,C))}function c(_,b,C){if(b){var k,B,z;if(b.__r3f&&(b.__r3f.parent=null),(k=_.__r3f)!=null&&k.objects&&(_.__r3f.objects=_.__r3f.objects.filter(G=>G!==b)),(B=b.__r3f)!=null&&B.attach)oye(_,b,b.__r3f.attach);else if(b.isObject3D&&_.isObject3D){var F;_.remove(b),(F=b.__r3f)!=null&&F.root&&aje(b.__r3f.root,b)}let D=(z=b.__r3f)==null?void 0:z.primitive,A=C===void 0?b.dispose!==null&&!D:C;if(!D){var N;a((N=b.__r3f)==null?void 0:N.objects,b,A),a(b.children,b,A)}delete b.__r3f,A&&b.dispose&&b.type!=="Scene"&&(0,eye.unstable_scheduleCallback)(eye.unstable_IdlePriority,()=>{try{b.dispose()}catch{}}),IC(_)}}function p(_,b,C,k){var B;let z=(B=_.__r3f)==null?void 0:B.parent;if(!z)return;let F=t(b,C,_.__r3f.root);if(_.children){for(let N of _.children)N.__r3f&&r(F,N);_.children=_.children.filter(N=>!N.__r3f)}_.__r3f.objects.forEach(N=>r(F,N)),_.__r3f.objects=[],_.__r3f.autoRemovedBeforeAppend||c(z,_),F.parent&&(F.__r3f.autoRemovedBeforeAppend=!0),r(z,F),F.raycast&&F.__r3f.eventCount&&F.__r3f.root.getState().internal.interaction.push(F),[k,k.alternate].forEach(N=>{N!==null&&(N.stateNode=F,N.ref&&(typeof N.ref=="function"?N.ref(F):N.ref.current=F))})}let g=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:(0,$9e.default)({createInstance:t,removeChild:c,appendChild:r,appendInitialChild:r,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(_,b)=>{if(!b)return;let C=_.getState().scene;C.__r3f&&(C.__r3f.root=_,r(C,b))},removeChildFromContainer:(_,b)=>{b&&c(_.getState().scene,b)},insertInContainerBefore:(_,b,C)=>{if(!b||!C)return;let k=_.getState().scene;k.__r3f&&o(k,b,C)},getRootHostContext:()=>null,getChildHostContext:_=>_,finalizeInitialChildren(_){var b;return!!((b=_==null?void 0:_.__r3f)!=null?b:{}).handlers},prepareUpdate(_,b,C,k){var B;if(((B=_==null?void 0:_.__r3f)!=null?B:{}).primitive&&k.object&&k.object!==_)return[!0];{let z=k,{args:F=[],children:N}=z,D=Np(z,["args","children"]),A=C,{args:G=[],children:Q}=A,ae=Np(A,["args","children"]);if(!Array.isArray(F))throw new Error("R3F: the args prop must be an array!");if(F.some((ge,_e)=>ge!==G[_e]))return[!0];let Y=ybe(_,D,ae,!0);return Y.changes.length?[!1,Y]:null}},commitUpdate(_,[b,C],k,B,z,F){b?p(_,k,z,F):rG(_,C)},commitMount(_,b,C,k){var B;let z=(B=_.__r3f)!=null?B:{};_.raycast&&z.handlers&&z.eventCount&&_.__r3f.root.getState().internal.interaction.push(_)},getPublicInstance:_=>_,prepareForCommit:()=>null,preparePortalMount:_=>kC(_.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(_){var b;let{attach:C,parent:k}=(b=_.__r3f)!=null?b:{};C&&k&&oye(k,_,C),_.isObject3D&&(_.visible=!1),IC(_)},unhideInstance(_,b){var C;let{attach:k,parent:B}=(C=_.__r3f)!=null?C:{};k&&B&&nG(B,_,k),(_.isObject3D&&b.visible==null||b.visible)&&(_.visible=!0),IC(_)},createTextInstance:g,hideTextInstance:g,unhideTextInstance:g,getCurrentEventPriority:()=>e?e():LC.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Bl.fun(performance.now)?performance.now:Bl.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Bl.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Bl.fun(clearTimeout)?clearTimeout:void 0}),applyProps:rG}}var tye,nye,tG=n=>"colorSpace"in n||"outputColorSpace"in n,fbe=()=>{var n;return(n=SK.ColorManagement)!=null?n:null},hbe=n=>n&&n.isOrthographicCamera,nje=n=>n&&n.hasOwnProperty("current"),YR=typeof window<"u"&&((tye=window.document)!=null&&tye.createElement||((nye=window.navigator)==null?void 0:nye.product)==="ReactNative")?Cc.useLayoutEffect:Cc.useEffect;function pbe(n){let e=Cc.useRef(n);return YR(()=>void(e.current=n),[n]),e}function rje({set:n}){return YR(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}var mbe=class extends Cc.Component{constructor(...n){super(...n),this.state={error:!1}}componentDidCatch(n){this.props.set(n)}render(){return this.state.error?null:this.props.children}};mbe.getDerivedStateFromError=()=>({error:!0});var gbe="__default",rye=new Map,ije=n=>n&&!!n.memoized&&!!n.changes;function vbe(n){var e;let t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}var lI=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()},Bl={obj:n=>n===Object(n)&&!Bl.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:o=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Bl.str(n)||Bl.num(n))return n===e;let a=Bl.obj(n);if(a&&r==="reference")return n===e;let c=Bl.arr(n);if(c&&t==="reference")return n===e;if((c||a)&&n===e)return!0;let p;for(p in n)if(!(p in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(p in o?e:n)if(!Bl.equ(n[p],e[p],{strict:o,objects:"reference"}))return!1}else for(p in o?e:n)if(n[p]!==e[p])return!1;if(Bl.und(p)){if(c&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function oje(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(let e in n)e.dispose==null||e.dispose(),delete n[e]}function kC(n,e){let t=n;return t.__r3f=Vi({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},e),n}function qV(n,e){let t=n;if(e.includes("-")){let r=e.split("-"),o=r.pop();return t=r.reduce((a,c)=>a[c],n),{target:t,key:o}}else return{target:t,key:e}}var iye=/-\d+$/;function nG(n,e,t){if(Bl.str(t)){if(iye.test(t)){let a=t.replace(iye,""),{target:c,key:p}=qV(n,a);Array.isArray(c[p])||(c[p]=[])}let{target:r,key:o}=qV(n,t);e.__r3f.previousAttach=r[o],r[o]=e}else e.__r3f.previousAttach=t(n,e)}function oye(n,e,t){var r,o;if(Bl.str(t)){let{target:a,key:c}=qV(n,t),p=e.__r3f.previousAttach;p===void 0?delete a[c]:a[c]=p}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(o=e.__r3f)==null||delete o.previousAttach}function ybe(n,e,t={},r=!1){var o=e,a=Np(o,["children","key","ref"]),c=t,p=Np(c,["children","key","ref"]),g;let _=(g=n==null?void 0:n.__r3f)!=null?g:{},b=Object.entries(a),C=[];if(r){let B=Object.keys(p);for(let z=0;z<B.length;z++)a.hasOwnProperty(B[z])||b.unshift([B[z],gbe+"remove"])}b.forEach(([B,z])=>{var F;if((F=n.__r3f)!=null&&F.primitive&&B==="object"||Bl.equ(z,p[B]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(B))return C.push([B,z,!0,[]]);let N=[];B.includes("-")&&(N=B.split("-")),C.push([B,z,!1,N]);for(let D in a){let A=a[D];D.startsWith(`${B}-`)&&C.push([D,A,!1,D.split("-")])}});let k=Vi({},a);return _.memoizedProps&&_.memoizedProps.args&&(k.args=_.memoizedProps.args),_.memoizedProps&&_.memoizedProps.attach&&(k.attach=_.memoizedProps.attach),{memoized:k,changes:C}}function rG(n,e){var t,r,o;let a=(t=n.__r3f)!=null?t:{},c=a.root,p=(r=c==null||c.getState==null?void 0:c.getState())!=null?r:{},{memoized:g,changes:_}=ije(e)?e:ybe(n,e),b=a.eventCount;n.__r3f&&(n.__r3f.memoizedProps=g);for(let C=0;C<_.length;C++){let[k,B,z,F]=_[C];if(tG(n)){let A="srgb",G="srgb-linear";k==="encoding"?(k="colorSpace",B=B===3001?A:G):k==="outputEncoding"&&(k="outputColorSpace",B=B===3001?A:G)}let N=n,D=N[k];if(F.length&&(D=F.reduce((A,G)=>A[G],n),!(D&&D.set))){let[A,...G]=F.reverse();N=G.reverse().reduce((Q,ae)=>Q[ae],n),k=A}if(B===gbe+"remove")if(N.constructor){let A=rye.get(N.constructor);A||(A=new N.constructor,rye.set(N.constructor,A)),B=A[k]}else B=0;if(z)B?a.handlers[k]=B:delete a.handlers[k],a.eventCount=Object.keys(a.handlers).length;else if(D&&D.set&&(D.copy||D instanceof Ov)){if(Array.isArray(B))D.fromArray?D.fromArray(B):D.set(...B);else if(D.copy&&B&&B.constructor&&D.constructor===B.constructor)D.copy(B);else if(B!==void 0){let A=D instanceof Ir;!A&&D.setScalar?D.setScalar(B):D instanceof Ov&&B instanceof Ov?D.mask=B.mask:D.set(B),!fbe()&&!p.linear&&A&&D.convertSRGBToLinear()}}else if(N[k]=B,N[k]instanceof el&&N[k].format===ah&&N[k].type===O0){let A=N[k];tG(A)&&tG(p.gl)?A.colorSpace=p.gl.outputColorSpace:A.encoding=p.gl.outputEncoding}IC(n)}if(a.parent&&p.internal&&n.raycast&&b!==a.eventCount){let C=p.internal.interaction.indexOf(n);C>-1&&p.internal.interaction.splice(C,1),a.eventCount&&p.internal.interaction.push(n)}return!(_.length===1&&_[0][0]==="onUpdate")&&_.length&&(o=n.__r3f)!=null&&o.parent&&JV(n),n}function IC(n){var e,t;let r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function JV(n){n.onUpdate==null||n.onUpdate(n)}function _be(n,e){n.manual||(hbe(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function J4(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function sje(){var n;let e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return LC.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return LC.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return LC.ContinuousEventPriority;default:return LC.DefaultEventPriority}}function wbe(n,e,t,r){let o=t.get(e);o&&(t.delete(e),t.size===0&&(n.delete(r),o.target.releasePointerCapture(r)))}function aje(n,e){let{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,o)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(o)}),t.capturedMap.forEach((r,o)=>{wbe(t.capturedMap,e,r,o)})}function lje(n){function e(g){let{internal:_}=n.getState(),b=g.offsetX-_.initialClick[0],C=g.offsetY-_.initialClick[1];return Math.round(Math.sqrt(b*b+C*C))}function t(g){return g.filter(_=>["Move","Over","Enter","Out","Leave"].some(b=>{var C;return(C=_.__r3f)==null?void 0:C.handlers["onPointer"+b]}))}function r(g,_){let b=n.getState(),C=new Set,k=[],B=_?_(b.internal.interaction):b.internal.interaction;for(let D=0;D<B.length;D++){let A=lI(B[D]);A&&(A.raycaster.camera=void 0)}b.previousRoot||b.events.compute==null||b.events.compute(g,b);function z(D){let A=lI(D);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var G;A.events.compute==null||A.events.compute(g,A,(G=A.previousRoot)==null?void 0:G.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(D,!0):[]}let F=B.flatMap(z).sort((D,A)=>{let G=lI(D.object),Q=lI(A.object);return!G||!Q?D.distance-A.distance:Q.events.priority-G.events.priority||D.distance-A.distance}).filter(D=>{let A=J4(D);return C.has(A)?!1:(C.add(A),!0)});b.events.filter&&(F=b.events.filter(F,b));for(let D of F){let A=D.object;for(;A;){var N;(N=A.__r3f)!=null&&N.eventCount&&k.push(ch(Vi({},D),{eventObject:A})),A=A.parent}}if("pointerId"in g&&b.internal.capturedMap.has(g.pointerId))for(let D of b.internal.capturedMap.get(g.pointerId).values())C.has(J4(D.intersection))||k.push(D.intersection);return k}function o(g,_,b,C){let k=n.getState();if(g.length){let B={stopped:!1};for(let z of g){let F=lI(z.object)||k,{raycaster:N,pointer:D,camera:A,internal:G}=F,Q=new Ke(D.x,D.y,0).unproject(A),ae=Se=>{var Be,_t;return(Be=(_t=G.capturedMap.get(Se))==null?void 0:_t.has(z.eventObject))!=null?Be:!1},Y=Se=>{let Be={intersection:z,target:_.target};G.capturedMap.has(Se)?G.capturedMap.get(Se).set(z.eventObject,Be):G.capturedMap.set(Se,new Map([[z.eventObject,Be]])),_.target.setPointerCapture(Se)},ge=Se=>{let Be=G.capturedMap.get(Se);Be&&wbe(G.capturedMap,z.eventObject,Be,Se)},_e={};for(let Se in _){let Be=_[Se];typeof Be!="function"&&(_e[Se]=Be)}let J=ch(Vi(Vi({},z),_e),{pointer:D,intersections:g,stopped:B.stopped,delta:b,unprojectedPoint:Q,ray:N.ray,camera:A,stopPropagation(){let Se="pointerId"in _&&G.capturedMap.get(_.pointerId);if((!Se||Se.has(z.eventObject))&&(J.stopped=B.stopped=!0,G.hovered.size&&Array.from(G.hovered.values()).find(Be=>Be.eventObject===z.eventObject))){let Be=g.slice(0,g.indexOf(z));a([...Be,z])}},target:{hasPointerCapture:ae,setPointerCapture:Y,releasePointerCapture:ge},currentTarget:{hasPointerCapture:ae,setPointerCapture:Y,releasePointerCapture:ge},nativeEvent:_});if(C(J),B.stopped===!0)break}}return g}function a(g){let{internal:_}=n.getState();for(let b of _.hovered.values())if(!g.length||!g.find(C=>C.object===b.object&&C.index===b.index&&C.instanceId===b.instanceId)){let C=b.eventObject.__r3f,k=C==null?void 0:C.handlers;if(_.hovered.delete(J4(b)),C!=null&&C.eventCount){let B=ch(Vi({},b),{intersections:g});k.onPointerOut==null||k.onPointerOut(B),k.onPointerLeave==null||k.onPointerLeave(B)}}}function c(g,_){for(let b=0;b<_.length;b++){let C=_[b].__r3f;C==null||C.handlers.onPointerMissed==null||C.handlers.onPointerMissed(g)}}function p(g){switch(g){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return _=>{let{internal:b}=n.getState();"pointerId"in _&&b.capturedMap.has(_.pointerId)&&requestAnimationFrame(()=>{b.capturedMap.has(_.pointerId)&&(b.capturedMap.delete(_.pointerId),a([]))})}}return function(_){let{onPointerMissed:b,internal:C}=n.getState();C.lastEvent.current=_;let k=g==="onPointerMove",B=g==="onClick"||g==="onContextMenu"||g==="onDoubleClick",z=r(_,k?t:void 0),F=B?e(_):0;g==="onPointerDown"&&(C.initialClick=[_.offsetX,_.offsetY],C.initialHits=z.map(D=>D.eventObject)),B&&!z.length&&F<=2&&(c(_,C.interaction),b&&b(_)),k&&a(z);function N(D){let A=D.eventObject,G=A.__r3f,Q=G==null?void 0:G.handlers;if(G!=null&&G.eventCount)if(k){if(Q.onPointerOver||Q.onPointerEnter||Q.onPointerOut||Q.onPointerLeave){let ae=J4(D),Y=C.hovered.get(ae);Y?Y.stopped&&D.stopPropagation():(C.hovered.set(ae,D),Q.onPointerOver==null||Q.onPointerOver(D),Q.onPointerEnter==null||Q.onPointerEnter(D))}Q.onPointerMove==null||Q.onPointerMove(D)}else{let ae=Q[g];ae?(!B||C.initialHits.includes(A))&&(c(_,C.interaction.filter(Y=>!C.initialHits.includes(Y))),ae(D)):B&&C.initialHits.includes(A)&&c(_,C.interaction.filter(Y=>!C.initialHits.includes(Y)))}}o(z,_,F,N)}}return{handlePointer:p}}var uje=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Sbe=n=>!!(n!=null&&n.render),xK=Cc.createContext(null),cje=(n,e)=>{let t=dbe((p,g)=>{let _=new Ke,b=new Ke,C=new Ke;function k(N=g().camera,D=b,A=g().size){let{width:G,height:Q,top:ae,left:Y}=A,ge=G/Q;D instanceof Ke?C.copy(D):C.set(...D);let _e=N.getWorldPosition(_).distanceTo(C);if(hbe(N))return{width:G/N.zoom,height:Q/N.zoom,top:ae,left:Y,factor:1,distance:_e,aspect:ge};{let J=N.fov*Math.PI/180,Se=2*Math.tan(J/2)*_e,Be=Se*(G/Q);return{width:Be,height:Se,top:ae,left:Y,factor:G/Be,distance:_e,aspect:ge}}}let B,z=N=>p(D=>({performance:ch(Vi({},D.performance),{current:N})})),F=new Vn;return{set:p,get:g,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(N=1)=>n(g(),N),advance:(N,D)=>e(N,D,g()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new fF,pointer:F,mouse:F,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let N=g();B&&clearTimeout(B),N.performance.current!==N.performance.min&&z(N.performance.min),B=setTimeout(()=>z(g().performance.max),N.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:k},setEvents:N=>p(D=>ch(Vi({},D),{events:Vi(Vi({},D.events),N)})),setSize:(N,D,A,G,Q)=>{let ae=g().camera,Y={width:N,height:D,top:G||0,left:Q||0,updateStyle:A};p(ge=>({size:Y,viewport:Vi(Vi({},ge.viewport),k(ae,b,Y))}))},setDpr:N=>p(D=>{let A=vbe(N);return{viewport:ch(Vi({},D.viewport),{dpr:A,initialDpr:D.viewport.initialDpr||A})}}),setFrameloop:(N="always")=>{let D=g().clock;D.stop(),D.elapsedTime=0,N!=="never"&&(D.start(),D.elapsedTime=0),p(()=>({frameloop:N}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Cc.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(N,D,A)=>{let G=g().internal;return G.priority=G.priority+(D>0?1:0),G.subscribers.push({ref:N,priority:D,store:A}),G.subscribers=G.subscribers.sort((Q,ae)=>Q.priority-ae.priority),()=>{let Q=g().internal;Q!=null&&Q.subscribers&&(Q.priority=Q.priority-(D>0?1:0),Q.subscribers=Q.subscribers.filter(ae=>ae.ref!==N))}}}}}),r=t.getState(),o=r.size,a=r.viewport.dpr,c=r.camera;return t.subscribe(()=>{let{camera:p,size:g,viewport:_,gl:b,set:C}=t.getState();if(g!==o||_.dpr!==a){var k;o=g,a=_.dpr,_be(p,g),b.setPixelRatio(_.dpr);let B=(k=g.updateStyle)!=null?k:typeof HTMLCanvasElement<"u"&&b.domElement instanceof HTMLCanvasElement;b.setSize(g.width,g.height,B)}p!==c&&(c=p,C(B=>({viewport:Vi(Vi({},B.viewport),B.viewport.getCurrentViewport(p))})))}),t.subscribe(p=>n(p)),t},Z4,dje=new Set,fje=new Set,hje=new Set;function iG(n,e){if(n.size)for(let{callback:t}of n.values())t(e)}function uI(n,e){switch(n){case"before":return iG(dje,e);case"after":return iG(fje,e);case"tail":return iG(hje,e)}}var oG,sG;function aG(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),oG=e.internal.subscribers,Z4=0;Z4<oG.length;Z4++)sG=oG[Z4],sG.ref.current(sG.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function pje(n){let e=!1,t,r,o;function a(g){r=requestAnimationFrame(a),e=!0,t=0,uI("before",g);for(let b of n.values()){var _;o=b.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((_=o.gl.xr)!=null&&_.isPresenting)&&(t+=aG(g,o))}if(uI("after",g),t===0)return uI("tail",g),e=!1,cancelAnimationFrame(r)}function c(g,_=1){var b;if(!g)return n.forEach(C=>c(C.store.getState()),_);(b=g.gl.xr)!=null&&b.isPresenting||!g.internal.active||g.frameloop==="never"||(g.internal.frames=Math.min(60,g.internal.frames+_),e||(e=!0,requestAnimationFrame(a)))}function p(g,_=!0,b,C){if(_&&uI("before",g),b)aG(g,b,C);else for(let k of n.values())aG(g,k.store.getState());_&&uI("after",g)}return{loop:a,invalidate:c,advance:p}}function bK(){let n=Cc.useContext(xK);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ed(n=t=>t,e){return bK()(n,e)}function vF(n,e=0){let t=bK(),r=t.getState().internal.subscribe,o=pbe(n);return YR(()=>r(o,e,t),[e,r,t]),null}var _M=new Map,{invalidate:$C,advance:sye}=pje(_M),{reconciler:pR,applyProps:_C}=tje(_M,sje),wC={objects:"shallow",strict:!1},mje=(n,e)=>{let t=typeof n=="function"?n(e):n;return Sbe(t)?t:new WN(Vi({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0},n))};function gje(n,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){let{width:t,height:r,top:o,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:o,left:a}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function vje(n){let e=_M.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");let o=typeof reportError=="function"?reportError:console.error,a=r||cje($C,sye),c=t||pR.createContainer(a,LC.ConcurrentRoot,null,!1,null,"",o,null);e||_M.set(n,{fiber:c,store:a});let p,g=!1,_;return{configure(b={}){let{gl:C,size:k,scene:B,events:z,onCreated:F,shadows:N=!1,linear:D=!1,flat:A=!1,legacy:G=!1,orthographic:Q=!1,frameloop:ae="always",dpr:Y=[1,2],performance:ge,raycaster:_e,camera:J,onPointerMissed:Se}=b,Be=a.getState(),_t=Be.gl;Be.gl||Be.set({gl:_t=mje(C,n)});let Ve=Be.raycaster;Ve||Be.set({raycaster:Ve=new LM});let xe=_e||{},{params:ot}=xe,Ze=Np(xe,["params"]);if(Bl.equ(Ze,Ve,wC)||_C(Ve,Vi({},Ze)),Bl.equ(ot,Ve.params,wC)||_C(Ve,{params:Vi(Vi({},Ve.params),ot)}),!Be.camera||Be.camera===_&&!Bl.equ(_,J,wC)){_=J;let me=J instanceof RM,ce=me?J:Q?new Lp(0,0,0,0,.1,1e3):new Da(75,0,.1,1e3);me||(ce.position.z=5,J&&_C(ce,J),!Be.camera&&!(J!=null&&J.rotation)&&ce.lookAt(0,0,0)),Be.set({camera:ce})}if(!Be.scene){let me;B instanceof wb?me=B:(me=new wb,B&&_C(me,B)),Be.set({scene:kC(me)})}if(!Be.xr){var mt;let me=(ht,wt)=>{let et=a.getState();et.frameloop!=="never"&&sye(ht,!0,et,wt)},ce=()=>{let ht=a.getState();ht.gl.xr.enabled=ht.gl.xr.isPresenting,ht.gl.xr.setAnimationLoop(ht.gl.xr.isPresenting?me:null),ht.gl.xr.isPresenting||$C(ht)},qe={connect(){let ht=a.getState().gl;ht.xr.addEventListener("sessionstart",ce),ht.xr.addEventListener("sessionend",ce)},disconnect(){let ht=a.getState().gl;ht.xr.removeEventListener("sessionstart",ce),ht.xr.removeEventListener("sessionend",ce)}};typeof((mt=_t.xr)==null?void 0:mt.addEventListener)=="function"&&qe.connect(),Be.set({xr:qe})}if(_t.shadowMap){let me=_t.shadowMap.enabled,ce=_t.shadowMap.type;if(_t.shadowMap.enabled=!!N,Bl.boo(N))_t.shadowMap.type=ww;else if(Bl.str(N)){var we;let qe={basic:uX,percentage:FR,soft:ww,variance:pg};_t.shadowMap.type=(we=qe[N])!=null?we:ww}else Bl.obj(N)&&Object.assign(_t.shadowMap,N);(me!==_t.shadowMap.enabled||ce!==_t.shadowMap.type)&&(_t.shadowMap.needsUpdate=!0)}let Te=fbe();Te&&("enabled"in Te?Te.enabled=!G:"legacyMode"in Te&&(Te.legacyMode=G)),_C(_t,{outputEncoding:D?3e3:3001,toneMapping:A?R0:NN}),Be.legacy!==G&&Be.set(()=>({legacy:G})),Be.linear!==D&&Be.set(()=>({linear:D})),Be.flat!==A&&Be.set(()=>({flat:A})),C&&!Bl.fun(C)&&!Sbe(C)&&!Bl.equ(C,_t,wC)&&_C(_t,C),z&&!Be.events.handlers&&Be.set({events:z(a)});let Ae=gje(n,k);return Bl.equ(Ae,Be.size,wC)||Be.setSize(Ae.width,Ae.height,Ae.updateStyle,Ae.top,Ae.left),Y&&Be.viewport.dpr!==vbe(Y)&&Be.setDpr(Y),Be.frameloop!==ae&&Be.setFrameloop(ae),Be.onPointerMissed||Be.set({onPointerMissed:Se}),ge&&!Bl.equ(ge,Be.performance,wC)&&Be.set(me=>({performance:Vi(Vi({},me.performance),ge)})),p=F,g=!0,this},render(b){return g||this.configure(),pR.updateContainer(Cc.createElement(yje,{store:a,children:b,onCreated:p,rootElement:n}),c,null,()=>{}),a},unmount(){xbe(n)}}}function yje({store:n,children:e,onCreated:t,rootElement:r}){return YR(()=>{let o=n.getState();o.set(a=>({internal:ch(Vi({},a.internal),{active:!0})})),t&&t(o),n.getState().events.connected||o.events.connect==null||o.events.connect(r)},[]),Cc.createElement(xK.Provider,{value:n},e)}function xbe(n,e){let t=_M.get(n),r=t==null?void 0:t.fiber;if(r){let o=t==null?void 0:t.store.getState();o&&(o.internal.active=!1),pR.updateContainer(null,r,null,()=>{o&&setTimeout(()=>{try{var a,c,p,g;o.events.disconnect==null||o.events.disconnect(),(a=o.gl)==null||(c=a.renderLists)==null||c.dispose==null||c.dispose(),(p=o.gl)==null||p.forceContextLoss==null||p.forceContextLoss(),(g=o.gl)!=null&&g.xr&&o.xr.disconnect(),oje(o),_M.delete(n),e&&e(n)}catch{}},500)})}}function _je(n,e,t){return Cc.createElement(wje,{key:e.uuid,children:n,container:e,state:t})}function wje({state:n={},children:e,container:t}){let r=n,{events:o,size:a}=r,c=Np(r,["events","size"]),p=bK(),[g]=Cc.useState(()=>new LM),[_]=Cc.useState(()=>new Vn),b=Cc.useCallback((k,B)=>{let z=Vi({},k);Object.keys(k).forEach(N=>{(uje.includes(N)||k[N]!==B[N]&&B[N])&&delete z[N]});let F;if(B&&a){let N=B.camera;F=k.viewport.getCurrentViewport(N,new Ke,a),N!==k.camera&&_be(N,a)}return Vi(ch(Vi({},z),{scene:t,raycaster:g,pointer:_,mouse:_,previousRoot:p,events:Vi(Vi(Vi({},k.events),B==null?void 0:B.events),o),size:Vi(Vi({},k.size),a),viewport:Vi(Vi({},k.viewport),F)}),c)},[n]),[C]=Cc.useState(()=>{let k=p.getState();return dbe((B,z)=>ch(Vi(ch(Vi({},k),{scene:t,raycaster:g,pointer:_,mouse:_,previousRoot:p,events:Vi(Vi({},k.events),o),size:Vi(Vi({},k.size),a)}),c),{set:B,get:z,setEvents:F=>B(N=>ch(Vi({},N),{events:Vi(Vi({},N.events),F)}))}))});return Cc.useEffect(()=>{let k=p.subscribe(B=>C.setState(z=>b(B,z)));return()=>{k(),C.destroy()}},[]),Cc.useEffect(()=>{C.setState(k=>b(p.getState(),k))},[b]),Cc.createElement(Cc.Fragment,null,pR.createPortal(Cc.createElement(xK.Provider,{value:C},e),C,null))}pR.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Cc.version});function aN(){return aN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aN.apply(this,arguments)}var Ac=to(ps()),o1=to(ps()),aye=to(S9e());function EK(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:o}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n,a=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,p]=(0,o1.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),g=(0,o1.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),_=e?typeof e=="number"?e:e.scroll:null,b=e?typeof e=="number"?e:e.resize:null,C=(0,o1.useRef)(!1);(0,o1.useEffect)(()=>(C.current=!0,()=>void(C.current=!1)));let[k,B,z]=(0,o1.useMemo)(()=>{let A=()=>{if(!g.current.element)return;let{left:G,top:Q,width:ae,height:Y,bottom:ge,right:_e,x:J,y:Se}=g.current.element.getBoundingClientRect(),Be={left:G,top:Q,width:ae,height:Y,bottom:ge,right:_e,x:J,y:Se};g.current.element instanceof HTMLElement&&o&&(Be.height=g.current.element.offsetHeight,Be.width=g.current.element.offsetWidth),Object.freeze(Be),C.current&&!Eje(g.current.lastBounds,Be)&&p(g.current.lastBounds=Be)};return[A,b?(0,aye.default)(A,b):A,_?(0,aye.default)(A,_):A]},[p,o,_,b]);function F(){g.current.scrollContainers&&(g.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",z,!0)),g.current.scrollContainers=null),g.current.resizeObserver&&(g.current.resizeObserver.disconnect(),g.current.resizeObserver=null)}function N(){g.current.element&&(g.current.resizeObserver=new a(z),g.current.resizeObserver.observe(g.current.element),t&&g.current.scrollContainers&&g.current.scrollContainers.forEach(A=>A.addEventListener("scroll",z,{capture:!0,passive:!0})))}let D=A=>{!A||A===g.current.element||(F(),g.current.element=A,g.current.scrollContainers=bbe(A),N())};return xje(z,!!t),Sje(B),(0,o1.useEffect)(()=>{F(),N()},[t,z,B]),(0,o1.useEffect)(()=>F,[]),[D,c,k]}function Sje(n){(0,o1.useEffect)(()=>{let e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function xje(n,e){(0,o1.useEffect)(()=>{if(e){let t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function bbe(n){let e=[];if(!n||n===document.body)return e;let{overflow:t,overflowX:r,overflowY:o}=window.getComputedStyle(n);return[t,r,o].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...bbe(n.parentElement)]}var bje=["x","y","top","bottom","left","right","width","height"],Eje=(n,e)=>bje.every(t=>n[t]===e[t]),wg=to(ps(),1),Aje=Object.defineProperty,Cje=Object.defineProperties,Mje=Object.getOwnPropertyDescriptors,lye=Object.getOwnPropertySymbols,Tje=Object.prototype.hasOwnProperty,Pje=Object.prototype.propertyIsEnumerable,uye=(n,e,t)=>e in n?Aje(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,cye=(n,e)=>{for(var t in e||(e={}))Tje.call(e,t)&&uye(n,t,e[t]);if(lye)for(var t of lye(e))Pje.call(e,t)&&uye(n,t,e[t]);return n},kje=(n,e)=>Cje(n,Mje(e));function Ebe(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){let o=Ebe(r,e,t);if(o)return o;r=e?null:r.sibling}}function Abe(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}var AK=Abe(wg.createContext(null)),Cbe=class extends wg.Component{render(){return wg.createElement(AK.Provider,{value:this._reactInternals},this.props.children)}},{ReactCurrentOwner:dye,ReactCurrentDispatcher:fye}=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Ije(){let n=wg.useContext(AK);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");let e=wg.useId();return wg.useMemo(()=>{for(let t of[dye==null?void 0:dye.current,n,n==null?void 0:n.alternate]){if(!t)continue;let r=Ebe(t,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[n,e])}function Rje(){var n,e;let t=Ije(),[r]=wg.useState(()=>new Map);r.clear();let o=t;for(;o;){let a=(n=o.type)==null?void 0:n._context;a&&a!==AK&&!r.has(a)&&r.set(a,(e=fye==null?void 0:fye.current)==null?void 0:e.readContext(Abe(a))),o=o.return}return r}function Oje(){let n=Rje();return wg.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>wg.createElement(e,null,wg.createElement(t.Provider,kje(cye({},r),{value:n.get(t)}))),e=>wg.createElement(Cbe,cye({},e))),[n])}to(Rxe());to(Oxe());to(mK());var lG={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Bje(n){let{handlePointer:e}=lje(n);return{priority:1,enabled:!0,compute(t,r,o){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(lG).reduce((t,r)=>ch(Vi({},t),{[r]:e(r)}),{}),update:()=>{var t;let{events:r,internal:o}=n.getState();(t=o.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(o.lastEvent.current)},connect:t=>{var r;let{set:o,events:a}=n.getState();a.disconnect==null||a.disconnect(),o(c=>({events:ch(Vi({},c.events),{connected:t})})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([c,p])=>{let[g,_]=lG[c];t.addEventListener(g,p,{passive:_})})},disconnect:()=>{let{set:t,events:r}=n.getState();if(r.connected){var o;Object.entries((o=r.handlers)!=null?o:[]).forEach(([a,c])=>{if(r&&r.connected instanceof HTMLElement){let[p]=lG[a];r.connected.removeEventListener(p,c)}}),t(a=>({events:ch(Vi({},a.events),{connected:void 0})}))}}}}var Dje=Ac.forwardRef(function(n,e){var t=n,{children:r,fallback:o,resize:a,style:c,gl:p,events:g=Bje,eventSource:_,eventPrefix:b,shadows:C,linear:k,flat:B,legacy:z,orthographic:F,frameloop:N,dpr:D,performance:A,raycaster:G,camera:Q,onPointerMissed:ae,onCreated:Y}=t,ge=Np(t,["children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"]);Ac.useMemo(()=>eje(ZSe),[]);let _e=Oje(),[J,Se]=EK(Vi({scroll:!0,debounce:{scroll:50,resize:0}},a)),Be=Ac.useRef(null),_t=Ac.useRef(null);Ac.useImperativeHandle(e,()=>Be.current);let Ve=pbe(ae),[xe,ot]=Ac.useState(!1),[Ze,mt]=Ac.useState(!1);if(xe)throw xe;if(Ze)throw Ze;let we=Ac.useRef(null);return YR(()=>{let Te=Be.current;Se.width>0&&Se.height>0&&Te&&(we.current||(we.current=vje(Te)),we.current.configure({gl:p,events:g,shadows:C,linear:k,flat:B,legacy:z,orthographic:F,frameloop:N,dpr:D,performance:A,raycaster:G,camera:Q,size:Se,onPointerMissed:(...Ae)=>Ve.current==null?void 0:Ve.current(...Ae),onCreated:Ae=>{Ae.events.connect==null||Ae.events.connect(_?nje(_)?_.current:_:_t.current),b&&Ae.setEvents({compute:(me,ce)=>{let qe=me[b+"X"],ht=me[b+"Y"];ce.pointer.set(qe/ce.size.width*2-1,-(ht/ce.size.height)*2+1),ce.raycaster.setFromCamera(ce.pointer,ce.camera)}}),Y==null||Y(Ae)}}),we.current.render(Ac.createElement(_e,null,Ac.createElement(mbe,{set:mt},Ac.createElement(Ac.Suspense,{fallback:Ac.createElement(rje,{set:ot})},r)))))}),Ac.useEffect(()=>{let Te=Be.current;if(Te)return()=>xbe(Te)},[]),Ac.createElement("div",aN({ref:_t,style:Vi({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:_?"none":"auto"},c)},ge),Ac.createElement("div",{ref:J,style:{width:"100%",height:"100%"}},Ac.createElement("canvas",{ref:Be,style:{display:"block"}},o)))}),Lje=Ac.forwardRef(function(n,e){return Ac.createElement(Cbe,null,Ac.createElement(Dje,aN({},n,{ref:e})))}),ZV=to(hF()),Nje=to(X9e()),oh=to(ps()),Gh=to(ps());function mR(){return mR=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mR.apply(this,arguments)}var Ba=to(ps()),Fje=to(cbe()),QR=new Ke,CK=new Ke,zje=new Ke;function Uje(n,e,t){let r=QR.setFromMatrixPosition(n.matrixWorld);r.project(e);let o=t.width/2,a=t.height/2;return[r.x*o+o,-(r.y*a)+a]}function jje(n,e){let t=QR.setFromMatrixPosition(n.matrixWorld),r=CK.setFromMatrixPosition(e.matrixWorld),o=t.sub(r),a=e.getWorldDirection(zje);return o.angleTo(a)>Math.PI/2}function Hje(n,e,t,r){let o=QR.setFromMatrixPosition(n.matrixWorld),a=o.clone();a.project(e),t.setFromCamera(a,e);let c=t.intersectObjects(r,!0);if(c.length){let p=c[0].distance;return o.distanceTo(t.ray.origin)<p}return!0}function Gje(n,e){if(e instanceof Lp)return e.zoom;if(e instanceof Da){let t=QR.setFromMatrixPosition(n.matrixWorld),r=CK.setFromMatrixPosition(e.matrixWorld),o=e.fov*Math.PI/180,a=t.distanceTo(r);return 1/(2*Math.tan(o/2)*a)}else return 1}function Vje(n,e,t){if(e instanceof Da||e instanceof Lp){let r=QR.setFromMatrixPosition(n.matrixWorld),o=CK.setFromMatrixPosition(e.matrixWorld),a=r.distanceTo(o),c=(t[1]-t[0])/(e.far-e.near),p=t[1]-c*e.far;return Math.round(c*a+p)}}var $V=n=>Math.abs(n)<1e-10?0:n;function Mbe(n,e,t=""){let r="matrix3d(";for(let o=0;o!==16;o++)r+=$V(e[o]*n.elements[o])+(o!==15?",":")");return t+r}var Wje=(n=>e=>Mbe(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Xje=(n=>(e,t)=>Mbe(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function Kje(n){return n&&typeof n=="object"&&"current"in n}var Yje=Ba.forwardRef((n,e)=>{var t=n,{children:r,eps:o=.001,style:a,className:c,prepend:p,center:g,fullscreen:_,portal:b,distanceFactor:C,sprite:k=!1,transform:B=!1,occlude:z,onOcclude:F,castShadow:N,receiveShadow:D,material:A,geometry:G,zIndexRange:Q=[16777271,0],calculatePosition:ae=Uje,as:Y="div",wrapperClass:ge,pointerEvents:_e="auto"}=t,J=Np(t,["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","castShadow","receiveShadow","material","geometry","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"]);let{gl:Se,camera:Be,scene:_t,size:Ve,raycaster:xe,events:ot,viewport:Ze}=Ed(),[mt]=Ba.useState(()=>document.createElement(Y)),we=Ba.useRef(),Te=Ba.useRef(null),Ae=Ba.useRef(0),me=Ba.useRef([0,0]),ce=Ba.useRef(null),qe=Ba.useRef(null),ht=(b==null?void 0:b.current)||ot.connected||Se.domElement.parentNode,wt=Ba.useRef(null),et=Ba.useRef(!1),Nt=Ba.useMemo(()=>z&&z!=="blending"||Array.isArray(z)&&z.length&&Kje(z[0]),[z]);Ba.useLayoutEffect(()=>{let Ye=Se.domElement;z&&z==="blending"?(Ye.style.zIndex=`${Math.floor(Q[0]/2)}`,Ye.style.position="absolute",Ye.style.pointerEvents="none"):(Ye.style.zIndex=null,Ye.style.position=null,Ye.style.pointerEvents=null)},[z]),Ba.useLayoutEffect(()=>{if(Te.current){let Ye=we.current=Fje.createRoot(mt);if(_t.updateMatrixWorld(),B)mt.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{let Xt=ae(Te.current,Be,Ve);mt.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Xt[0]}px,${Xt[1]}px,0);transform-origin:0 0;`}return ht&&(p?ht.prepend(mt):ht.appendChild(mt)),()=>{ht&&ht.removeChild(mt),Ye.unmount()}}},[ht,B]),Ba.useLayoutEffect(()=>{ge&&(mt.className=ge)},[ge]);let Ot=Ba.useMemo(()=>B?{position:"absolute",top:0,left:0,width:Ve.width,height:Ve.height,transformStyle:"preserve-3d",pointerEvents:"none"}:Vi(Vi({position:"absolute",transform:g?"translate3d(-50%,-50%,0)":"none"},_&&{top:-Ve.height/2,left:-Ve.width/2,width:Ve.width,height:Ve.height}),a),[a,g,_,Ve,B]),an=Ba.useMemo(()=>({position:"absolute",pointerEvents:_e}),[_e]);Ba.useLayoutEffect(()=>{if(et.current=!1,B){var Ye;(Ye=we.current)==null||Ye.render(Ba.createElement("div",{ref:ce,style:Ot},Ba.createElement("div",{ref:qe,style:an},Ba.createElement("div",{ref:e,className:c,style:a,children:r}))))}else{var Xt;(Xt=we.current)==null||Xt.render(Ba.createElement("div",{ref:e,style:Ot,className:c,children:r}))}});let fn=Ba.useRef(!0);vF(Ye=>{if(Te.current){Be.updateMatrixWorld(),Te.current.updateWorldMatrix(!0,!1);let Xt=B?me.current:ae(Te.current,Be,Ve);if(B||Math.abs(Ae.current-Be.zoom)>o||Math.abs(me.current[0]-Xt[0])>o||Math.abs(me.current[1]-Xt[1])>o){let Ft=jje(Te.current,Be),Zt=!1;Nt&&(z!=="blending"?Zt=[_t]:Array.isArray(z)&&(Zt=z.map(tr=>tr.current)));let mn=fn.current;if(Zt){let tr=Hje(Te.current,Be,xe,Zt);fn.current=tr&&!Ft}else fn.current=!Ft;mn!==fn.current&&(F?F(!fn.current):mt.style.display=fn.current?"block":"none");let jn=Math.floor(Q[0]/2),Wn=z?Nt?[Q[0],jn]:[jn-1,0]:Q;if(mt.style.zIndex=`${Vje(Te.current,Be,Wn)}`,B){let[tr,_r]=[Ve.width/2,Ve.height/2],Vr=Be.projectionMatrix.elements[5]*_r,{isOrthographicCamera:si,top:ct,left:De,bottom:Ut,right:Kn}=Be,Fn=Wje(Be.matrixWorldInverse),Xn=si?`scale(${Vr})translate(${$V(-(Kn+De)/2)}px,${$V((ct+Ut)/2)}px)`:`translateZ(${Vr}px)`,xr=Te.current.matrixWorld;k&&(xr=Be.matrixWorldInverse.clone().transpose().copyPosition(xr).scale(Te.current.scale),xr.elements[3]=xr.elements[7]=xr.elements[11]=0,xr.elements[15]=1),mt.style.width=Ve.width+"px",mt.style.height=Ve.height+"px",mt.style.perspective=si?"":`${Vr}px`,ce.current&&qe.current&&(ce.current.style.transform=`${Xn}${Fn}translate(${tr}px,${_r}px)`,qe.current.style.transform=Xje(xr,1/((C||10)/400)))}else{let tr=C===void 0?1:Gje(Te.current,Be)*C;mt.style.transform=`translate3d(${Xt[0]}px,${Xt[1]}px,0) scale(${tr})`}me.current=Xt,Ae.current=Be.zoom}}if(!Nt&&wt.current&&!et.current)if(B){if(ce.current){let Xt=ce.current.children[0];if(Xt!=null&&Xt.clientWidth&&Xt!=null&&Xt.clientHeight){let{isOrthographicCamera:Ft}=Be;if(Ft||G)J.scale&&(Array.isArray(J.scale)?J.scale instanceof Ke?wt.current.scale.copy(J.scale.clone().divideScalar(1)):wt.current.scale.set(1/J.scale[0],1/J.scale[1],1/J.scale[2]):wt.current.scale.setScalar(1/J.scale));else{let Zt=(C||10)/400,mn=Xt.clientWidth*Zt,jn=Xt.clientHeight*Zt;wt.current.scale.set(mn,jn,1)}et.current=!0}}}else{let Xt=mt.children[0];if(Xt!=null&&Xt.clientWidth&&Xt!=null&&Xt.clientHeight){let Ft=1/Ze.factor,Zt=Xt.clientWidth*Ft,mn=Xt.clientHeight*Ft;wt.current.scale.set(Zt,mn,1),et.current=!0}wt.current.lookAt(Ye.camera.position)}});let nn=Ba.useMemo(()=>({vertexShader:B?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[B]);return Ba.createElement("group",mR({},J,{ref:Te}),z&&!Nt&&Ba.createElement("mesh",{castShadow:N,receiveShadow:D,ref:wt},G||Ba.createElement("planeGeometry",null),A||Ba.createElement("shaderMaterial",{side:mf,vertexShader:nn.vertexShader,fragmentShader:nn.fragmentShader})))});function Qje(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qje=Qje,Jje=Object.defineProperty,Zje=(n,e,t)=>e in n?Jje(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Un=(n,e,t)=>(Zje(n,typeof e!="symbol"?e+"":e,t),t),$je=class extends Jo{constructor(n,e){super(),Un(this,"isTransformControls",!0),Un(this,"visible",!1),Un(this,"domElement"),Un(this,"raycaster",new LM),Un(this,"gizmo"),Un(this,"plane"),Un(this,"tempVector",new Ke),Un(this,"tempVector2",new Ke),Un(this,"tempQuaternion",new jo),Un(this,"unit",{X:new Ke(1,0,0),Y:new Ke(0,1,0),Z:new Ke(0,0,1)}),Un(this,"pointStart",new Ke),Un(this,"pointEnd",new Ke),Un(this,"offset",new Ke),Un(this,"rotationAxis",new Ke),Un(this,"startNorm",new Ke),Un(this,"endNorm",new Ke),Un(this,"rotationAngle",0),Un(this,"cameraPosition",new Ke),Un(this,"cameraQuaternion",new jo),Un(this,"cameraScale",new Ke),Un(this,"parentPosition",new Ke),Un(this,"parentQuaternion",new jo),Un(this,"parentQuaternionInv",new jo),Un(this,"parentScale",new Ke),Un(this,"worldPositionStart",new Ke),Un(this,"worldQuaternionStart",new jo),Un(this,"worldScaleStart",new Ke),Un(this,"worldPosition",new Ke),Un(this,"worldQuaternion",new jo),Un(this,"worldQuaternionInv",new jo),Un(this,"worldScale",new Ke),Un(this,"eye",new Ke),Un(this,"positionStart",new Ke),Un(this,"quaternionStart",new jo),Un(this,"scaleStart",new Ke),Un(this,"camera"),Un(this,"object"),Un(this,"enabled",!0),Un(this,"axis",null),Un(this,"mode","translate"),Un(this,"translationSnap",null),Un(this,"rotationSnap",null),Un(this,"scaleSnap",null),Un(this,"space","world"),Un(this,"size",1),Un(this,"dragging",!1),Un(this,"showX",!0),Un(this,"showY",!0),Un(this,"showZ",!0),Un(this,"changeEvent",{type:"change"}),Un(this,"mouseDownEvent",{type:"mouseDown",mode:this.mode}),Un(this,"mouseUpEvent",{type:"mouseUp",mode:this.mode}),Un(this,"objectChangeEvent",{type:"objectChange"}),Un(this,"intersectObjectWithRay",(r,o,a)=>{let c=o.intersectObject(r,!0);for(let p=0;p<c.length;p++)if(c[p].object.visible||a)return c[p];return!1}),Un(this,"attach",r=>(this.object=r,this.visible=!0,this)),Un(this,"detach",()=>(this.object=void 0,this.visible=!1,this.axis=null,this)),Un(this,"reset",()=>this.enabled?(this.dragging&&this.object!==void 0&&(this.object.position.copy(this.positionStart),this.object.quaternion.copy(this.quaternionStart),this.object.scale.copy(this.scaleStart),this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent),this.pointStart.copy(this.pointEnd)),this):this),Un(this,"updateMatrixWorld",()=>{this.object!==void 0&&(this.object.updateMatrixWorld(),this.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this.parentPosition,this.parentQuaternion,this.parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this.worldScale),this.parentQuaternionInv.copy(this.parentQuaternion).invert(),this.worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this.cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld()}),Un(this,"pointerHover",r=>{if(this.object===void 0||this.dragging===!0)return;this.raycaster.setFromCamera(r,this.camera);let o=this.intersectObjectWithRay(this.gizmo.picker[this.mode],this.raycaster);o?this.axis=o.object.name:this.axis=null}),Un(this,"pointerDown",r=>{if(!(this.object===void 0||this.dragging===!0||r.button!==0)&&this.axis!==null){this.raycaster.setFromCamera(r,this.camera);let o=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(o){let a=this.space;if(this.mode==="scale"?a="local":(this.axis==="E"||this.axis==="XYZE"||this.axis==="XYZ")&&(a="world"),a==="local"&&this.mode==="rotate"){let c=this.rotationSnap;this.axis==="X"&&c&&(this.object.rotation.x=Math.round(this.object.rotation.x/c)*c),this.axis==="Y"&&c&&(this.object.rotation.y=Math.round(this.object.rotation.y/c)*c),this.axis==="Z"&&c&&(this.object.rotation.z=Math.round(this.object.rotation.z/c)*c)}this.object.updateMatrixWorld(),this.object.parent&&this.object.parent.updateMatrixWorld(),this.positionStart.copy(this.object.position),this.quaternionStart.copy(this.object.quaternion),this.scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this.worldScaleStart),this.pointStart.copy(o.point).sub(this.worldPositionStart)}this.dragging=!0,this.mouseDownEvent.mode=this.mode,this.dispatchEvent(this.mouseDownEvent)}}),Un(this,"pointerMove",r=>{let o=this.axis,a=this.mode,c=this.object,p=this.space;if(a==="scale"?p="local":(o==="E"||o==="XYZE"||o==="XYZ")&&(p="world"),c===void 0||o===null||this.dragging===!1||r.button!==-1)return;this.raycaster.setFromCamera(r,this.camera);let g=this.intersectObjectWithRay(this.plane,this.raycaster,!0);if(g){if(this.pointEnd.copy(g.point).sub(this.worldPositionStart),a==="translate")this.offset.copy(this.pointEnd).sub(this.pointStart),p==="local"&&o!=="XYZ"&&this.offset.applyQuaternion(this.worldQuaternionInv),o.indexOf("X")===-1&&(this.offset.x=0),o.indexOf("Y")===-1&&(this.offset.y=0),o.indexOf("Z")===-1&&(this.offset.z=0),p==="local"&&o!=="XYZ"?this.offset.applyQuaternion(this.quaternionStart).divide(this.parentScale):this.offset.applyQuaternion(this.parentQuaternionInv).divide(this.parentScale),c.position.copy(this.offset).add(this.positionStart),this.translationSnap&&(p==="local"&&(c.position.applyQuaternion(this.tempQuaternion.copy(this.quaternionStart).invert()),o.search("X")!==-1&&(c.position.x=Math.round(c.position.x/this.translationSnap)*this.translationSnap),o.search("Y")!==-1&&(c.position.y=Math.round(c.position.y/this.translationSnap)*this.translationSnap),o.search("Z")!==-1&&(c.position.z=Math.round(c.position.z/this.translationSnap)*this.translationSnap),c.position.applyQuaternion(this.quaternionStart)),p==="world"&&(c.parent&&c.position.add(this.tempVector.setFromMatrixPosition(c.parent.matrixWorld)),o.search("X")!==-1&&(c.position.x=Math.round(c.position.x/this.translationSnap)*this.translationSnap),o.search("Y")!==-1&&(c.position.y=Math.round(c.position.y/this.translationSnap)*this.translationSnap),o.search("Z")!==-1&&(c.position.z=Math.round(c.position.z/this.translationSnap)*this.translationSnap),c.parent&&c.position.sub(this.tempVector.setFromMatrixPosition(c.parent.matrixWorld))));else if(a==="scale"){if(o.search("XYZ")!==-1){let _=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(_*=-1),this.tempVector2.set(_,_,_)}else this.tempVector.copy(this.pointStart),this.tempVector2.copy(this.pointEnd),this.tempVector.applyQuaternion(this.worldQuaternionInv),this.tempVector2.applyQuaternion(this.worldQuaternionInv),this.tempVector2.divide(this.tempVector),o.search("X")===-1&&(this.tempVector2.x=1),o.search("Y")===-1&&(this.tempVector2.y=1),o.search("Z")===-1&&(this.tempVector2.z=1);c.scale.copy(this.scaleStart).multiply(this.tempVector2),this.scaleSnap&&this.object&&(o.search("X")!==-1&&(this.object.scale.x=Math.round(c.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),o.search("Y")!==-1&&(c.scale.y=Math.round(c.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),o.search("Z")!==-1&&(c.scale.z=Math.round(c.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(a==="rotate"){this.offset.copy(this.pointEnd).sub(this.pointStart);let _=20/this.worldPosition.distanceTo(this.tempVector.setFromMatrixPosition(this.camera.matrixWorld));o==="E"?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this.startNorm.copy(this.pointStart).normalize(),this.endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this.endNorm.cross(this.startNorm).dot(this.eye)<0?1:-1):o==="XYZE"?(this.rotationAxis.copy(this.offset).cross(this.eye).normalize(),this.rotationAngle=this.offset.dot(this.tempVector.copy(this.rotationAxis).cross(this.eye))*_):(o==="X"||o==="Y"||o==="Z")&&(this.rotationAxis.copy(this.unit[o]),this.tempVector.copy(this.unit[o]),p==="local"&&this.tempVector.applyQuaternion(this.worldQuaternion),this.rotationAngle=this.offset.dot(this.tempVector.cross(this.eye).normalize())*_),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),p==="local"&&o!=="E"&&o!=="XYZE"?(c.quaternion.copy(this.quaternionStart),c.quaternion.multiply(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this.parentQuaternionInv),c.quaternion.copy(this.tempQuaternion.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),c.quaternion.multiply(this.quaternionStart).normalize())}this.dispatchEvent(this.changeEvent),this.dispatchEvent(this.objectChangeEvent)}}),Un(this,"pointerUp",r=>{r.button===0&&(this.dragging&&this.axis!==null&&(this.mouseUpEvent.mode=this.mode,this.dispatchEvent(this.mouseUpEvent)),this.dragging=!1,this.axis=null)}),Un(this,"getPointer",r=>{var o,a;if(this.domElement&&(o=this.domElement.ownerDocument)!=null&&o.pointerLockElement)return{x:0,y:0,button:r.button};{let c=r.changedTouches?r.changedTouches[0]:r,p=(a=this.domElement)==null?void 0:a.getBoundingClientRect();return{x:(c.clientX-p.left)/p.width*2-1,y:-(c.clientY-p.top)/p.height*2+1,button:r.button}}}),Un(this,"onPointerHover",r=>{if(this.enabled)switch(r.pointerType){case"mouse":case"pen":this.pointerHover(this.getPointer(r));break}}),Un(this,"onPointerDown",r=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="none",this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.pointerHover(this.getPointer(r)),this.pointerDown(this.getPointer(r)))}),Un(this,"onPointerMove",r=>{this.enabled&&this.pointerMove(this.getPointer(r))}),Un(this,"onPointerUp",r=>{!this.enabled||!this.domElement||(this.domElement.style.touchAction="",this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.pointerUp(this.getPointer(r)))}),Un(this,"getMode",()=>this.mode),Un(this,"setMode",r=>{this.mode=r}),Un(this,"setTranslationSnap",r=>{this.translationSnap=r}),Un(this,"setRotationSnap",r=>{this.rotationSnap=r}),Un(this,"setScaleSnap",r=>{this.scaleSnap=r}),Un(this,"setSize",r=>{this.size=r}),Un(this,"setSpace",r=>{this.space=r}),Un(this,"update",()=>{console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}),Un(this,"connect",r=>{r===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.domElement=r,this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("pointermove",this.onPointerHover),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp)}),Un(this,"dispose",()=>{var r,o,a,c,p,g;(r=this.domElement)==null||r.removeEventListener("pointerdown",this.onPointerDown),(o=this.domElement)==null||o.removeEventListener("pointermove",this.onPointerHover),(c=(a=this.domElement)==null?void 0:a.ownerDocument)==null||c.removeEventListener("pointermove",this.onPointerMove),(g=(p=this.domElement)==null?void 0:p.ownerDocument)==null||g.removeEventListener("pointerup",this.onPointerUp),this.traverse(_=>{let b=_;b.geometry&&b.geometry.dispose(),b.material&&b.material.dispose()})}),this.domElement=e,this.camera=n,this.gizmo=new eHe,this.add(this.gizmo),this.plane=new tHe,this.add(this.plane);let t=(r,o)=>{let a=o;Object.defineProperty(this,r,{get:function(){return a!==void 0?a:o},set:function(c){a!==c&&(a=c,this.plane[r]=c,this.gizmo[r]=c,this.dispatchEvent({type:r+"-changed",value:c}),this.dispatchEvent(this.changeEvent))}}),this[r]=o,this.plane[r]=o,this.gizmo[r]=o};t("camera",this.camera),t("object",this.object),t("enabled",this.enabled),t("axis",this.axis),t("mode",this.mode),t("translationSnap",this.translationSnap),t("rotationSnap",this.rotationSnap),t("scaleSnap",this.scaleSnap),t("space",this.space),t("size",this.size),t("dragging",this.dragging),t("showX",this.showX),t("showY",this.showY),t("showZ",this.showZ),t("worldPosition",this.worldPosition),t("worldPositionStart",this.worldPositionStart),t("worldQuaternion",this.worldQuaternion),t("worldQuaternionStart",this.worldQuaternionStart),t("cameraPosition",this.cameraPosition),t("cameraQuaternion",this.cameraQuaternion),t("pointStart",this.pointStart),t("pointEnd",this.pointEnd),t("rotationAxis",this.rotationAxis),t("rotationAngle",this.rotationAngle),t("eye",this.eye),e!==void 0&&this.connect(e)}},eHe=class extends Jo{constructor(){super(),Un(this,"isTransformControlsGizmo",!0),Un(this,"type","TransformControlsGizmo"),Un(this,"tempVector",new Ke(0,0,0)),Un(this,"tempEuler",new Pb),Un(this,"alignVector",new Ke(0,1,0)),Un(this,"zeroVector",new Ke(0,0,0)),Un(this,"lookAtMatrix",new Qi),Un(this,"tempQuaternion",new jo),Un(this,"tempQuaternion2",new jo),Un(this,"identityQuaternion",new jo),Un(this,"unitX",new Ke(1,0,0)),Un(this,"unitY",new Ke(0,1,0)),Un(this,"unitZ",new Ke(0,0,1)),Un(this,"gizmo"),Un(this,"picker"),Un(this,"helper"),Un(this,"rotationAxis",new Ke),Un(this,"cameraPosition",new Ke),Un(this,"worldPositionStart",new Ke),Un(this,"worldQuaternionStart",new jo),Un(this,"worldPosition",new Ke),Un(this,"worldQuaternion",new jo),Un(this,"eye",new Ke),Un(this,"camera",null),Un(this,"enabled",!0),Un(this,"axis",null),Un(this,"mode","translate"),Un(this,"space","world"),Un(this,"size",1),Un(this,"dragging",!1),Un(this,"showX",!0),Un(this,"showY",!0),Un(this,"showZ",!0),Un(this,"updateMatrixWorld",()=>{let we=this.space;this.mode==="scale"&&(we="local");let Te=we==="local"?this.worldQuaternion:this.identityQuaternion;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let Ae=[];Ae=Ae.concat(this.picker[this.mode].children),Ae=Ae.concat(this.gizmo[this.mode].children),Ae=Ae.concat(this.helper[this.mode].children);for(let me=0;me<Ae.length;me++){let ce=Ae[me];ce.visible=!0,ce.rotation.set(0,0,0),ce.position.copy(this.worldPosition);let qe;if(this.camera.isOrthographicCamera?qe=(this.camera.top-this.camera.bottom)/this.camera.zoom:qe=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),ce.scale.set(1,1,1).multiplyScalar(qe*this.size/7),ce.tag==="helper"){ce.visible=!1,ce.name==="AXIS"?(ce.position.copy(this.worldPositionStart),ce.visible=!!this.axis,this.axis==="X"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,0)),ce.quaternion.copy(Te).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(Te).dot(this.eye))>.9&&(ce.visible=!1)),this.axis==="Y"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,0,Math.PI/2)),ce.quaternion.copy(Te).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(Te).dot(this.eye))>.9&&(ce.visible=!1)),this.axis==="Z"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),ce.quaternion.copy(Te).multiply(this.tempQuaternion),Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(Te).dot(this.eye))>.9&&(ce.visible=!1)),this.axis==="XYZE"&&(this.tempQuaternion.setFromEuler(this.tempEuler.set(0,Math.PI/2,0)),this.alignVector.copy(this.rotationAxis),ce.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.zeroVector,this.alignVector,this.unitY)),ce.quaternion.multiply(this.tempQuaternion),ce.visible=this.dragging),this.axis==="E"&&(ce.visible=!1)):ce.name==="START"?(ce.position.copy(this.worldPositionStart),ce.visible=this.dragging):ce.name==="END"?(ce.position.copy(this.worldPosition),ce.visible=this.dragging):ce.name==="DELTA"?(ce.position.copy(this.worldPositionStart),ce.quaternion.copy(this.worldQuaternionStart),this.tempVector.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),this.tempVector.applyQuaternion(this.worldQuaternionStart.clone().invert()),ce.scale.copy(this.tempVector),ce.visible=this.dragging):(ce.quaternion.copy(Te),this.dragging?ce.position.copy(this.worldPositionStart):ce.position.copy(this.worldPosition),this.axis&&(ce.visible=this.axis.search(ce.name)!==-1));continue}ce.quaternion.copy(Te),this.mode==="translate"||this.mode==="scale"?((ce.name==="X"||ce.name==="XYZX")&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(Te).dot(this.eye))>.99&&(ce.scale.set(1e-10,1e-10,1e-10),ce.visible=!1),(ce.name==="Y"||ce.name==="XYZY")&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(Te).dot(this.eye))>.99&&(ce.scale.set(1e-10,1e-10,1e-10),ce.visible=!1),(ce.name==="Z"||ce.name==="XYZZ")&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(Te).dot(this.eye))>.99&&(ce.scale.set(1e-10,1e-10,1e-10),ce.visible=!1),ce.name==="XY"&&Math.abs(this.alignVector.copy(this.unitZ).applyQuaternion(Te).dot(this.eye))<.2&&(ce.scale.set(1e-10,1e-10,1e-10),ce.visible=!1),ce.name==="YZ"&&Math.abs(this.alignVector.copy(this.unitX).applyQuaternion(Te).dot(this.eye))<.2&&(ce.scale.set(1e-10,1e-10,1e-10),ce.visible=!1),ce.name==="XZ"&&Math.abs(this.alignVector.copy(this.unitY).applyQuaternion(Te).dot(this.eye))<.2&&(ce.scale.set(1e-10,1e-10,1e-10),ce.visible=!1),ce.name.search("X")!==-1&&(this.alignVector.copy(this.unitX).applyQuaternion(Te).dot(this.eye)<0?ce.tag==="fwd"?ce.visible=!1:ce.scale.x*=-1:ce.tag==="bwd"&&(ce.visible=!1)),ce.name.search("Y")!==-1&&(this.alignVector.copy(this.unitY).applyQuaternion(Te).dot(this.eye)<0?ce.tag==="fwd"?ce.visible=!1:ce.scale.y*=-1:ce.tag==="bwd"&&(ce.visible=!1)),ce.name.search("Z")!==-1&&(this.alignVector.copy(this.unitZ).applyQuaternion(Te).dot(this.eye)<0?ce.tag==="fwd"?ce.visible=!1:ce.scale.z*=-1:ce.tag==="bwd"&&(ce.visible=!1))):this.mode==="rotate"&&(this.tempQuaternion2.copy(Te),this.alignVector.copy(this.eye).applyQuaternion(this.tempQuaternion.copy(Te).invert()),ce.name.search("E")!==-1&&ce.quaternion.setFromRotationMatrix(this.lookAtMatrix.lookAt(this.eye,this.zeroVector,this.unitY)),ce.name==="X"&&(this.tempQuaternion.setFromAxisAngle(this.unitX,Math.atan2(-this.alignVector.y,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),ce.quaternion.copy(this.tempQuaternion)),ce.name==="Y"&&(this.tempQuaternion.setFromAxisAngle(this.unitY,Math.atan2(this.alignVector.x,this.alignVector.z)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),ce.quaternion.copy(this.tempQuaternion)),ce.name==="Z"&&(this.tempQuaternion.setFromAxisAngle(this.unitZ,Math.atan2(this.alignVector.y,this.alignVector.x)),this.tempQuaternion.multiplyQuaternions(this.tempQuaternion2,this.tempQuaternion),ce.quaternion.copy(this.tempQuaternion))),ce.visible=ce.visible&&(ce.name.indexOf("X")===-1||this.showX),ce.visible=ce.visible&&(ce.name.indexOf("Y")===-1||this.showY),ce.visible=ce.visible&&(ce.name.indexOf("Z")===-1||this.showZ),ce.visible=ce.visible&&(ce.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),ce.material.tempOpacity=ce.material.tempOpacity||ce.material.opacity,ce.material.tempColor=ce.material.tempColor||ce.material.color.clone(),ce.material.color.copy(ce.material.tempColor),ce.material.opacity=ce.material.tempOpacity,this.enabled?this.axis&&(ce.name===this.axis?(ce.material.opacity=1,ce.material.color.lerp(new Ir(1,1,1),.5)):this.axis.split("").some(function(ht){return ce.name===ht})?(ce.material.opacity=1,ce.material.color.lerp(new Ir(1,1,1),.5)):(ce.material.opacity*=.25,ce.material.color.lerp(new Ir(1,1,1),.5))):(ce.material.opacity*=.5,ce.material.color.lerp(new Ir(1,1,1),.5))}super.updateMatrixWorld()});let n=new yf({depthTest:!1,depthWrite:!1,transparent:!0,side:mf,fog:!1,toneMapped:!1}),e=new xf({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),t=n.clone();t.opacity=.15;let r=n.clone();r.opacity=.33;let o=n.clone();o.color.set(16711680);let a=n.clone();a.color.set(65280);let c=n.clone();c.color.set(255);let p=n.clone();p.opacity=.25;let g=p.clone();g.color.set(16776960);let _=p.clone();_.color.set(65535);let b=p.clone();b.color.set(16711935),n.clone().color.set(16776960);let C=e.clone();C.color.set(16711680);let k=e.clone();k.color.set(65280);let B=e.clone();B.color.set(255);let z=e.clone();z.color.set(65535);let F=e.clone();F.color.set(16711935);let N=e.clone();N.color.set(16776960);let D=e.clone();D.color.set(7895160);let A=N.clone();A.opacity=.25;let G=new pf(0,.05,.2,12,1,!1),Q=new Ip(.125,.125,.125),ae=new yo;ae.setAttribute("position",new _i([0,0,0,1,0,0],3));let Y=(we,Te)=>{let Ae=new yo,me=[];for(let ce=0;ce<=64*Te;++ce)me.push(0,Math.cos(ce/32*Math.PI)*we,Math.sin(ce/32*Math.PI)*we);return Ae.setAttribute("position",new _i(me,3)),Ae},ge=()=>{let we=new yo;return we.setAttribute("position",new _i([0,0,0,1,1,1],3)),we},_e={X:[[new ni(G,o),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new ni(G,o),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new Do(ae,C)]],Y:[[new ni(G,a),[0,1,0],null,null,"fwd"],[new ni(G,a),[0,1,0],[Math.PI,0,0],null,"bwd"],[new Do(ae,k),null,[0,0,Math.PI/2]]],Z:[[new ni(G,c),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new ni(G,c),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new Do(ae,B),null,[0,-Math.PI/2,0]]],XYZ:[[new ni(new gg(.1,0),p.clone()),[0,0,0],[0,0,0]]],XY:[[new ni(new xm(.295,.295),g.clone()),[.15,.15,0]],[new Do(ae,N),[.18,.3,0],null,[.125,1,1]],[new Do(ae,N),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new ni(new xm(.295,.295),_.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new Do(ae,z),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new Do(ae,z),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new ni(new xm(.295,.295),b.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new Do(ae,F),[.18,0,.3],null,[.125,1,1]],[new Do(ae,F),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},J={X:[[new ni(new pf(.2,0,1,4,1,!1),t),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new ni(new pf(.2,0,1,4,1,!1),t),[0,.6,0]]],Z:[[new ni(new pf(.2,0,1,4,1,!1),t),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new ni(new gg(.2,0),t)]],XY:[[new ni(new xm(.4,.4),t),[.2,.2,0]]],YZ:[[new ni(new xm(.4,.4),t),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new ni(new xm(.4,.4),t),[.2,0,.2],[-Math.PI/2,0,0]]]},Se={START:[[new ni(new gg(.01,2),r),null,null,null,"helper"]],END:[[new ni(new gg(.01,2),r),null,null,null,"helper"]],DELTA:[[new Do(ge(),r),null,null,null,"helper"]],X:[[new Do(ae,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Do(ae,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Do(ae,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},Be={X:[[new Do(Y(1,.5),C)],[new ni(new gg(.04,0),o),[0,0,.99],null,[1,3,1]]],Y:[[new Do(Y(1,.5),k),null,[0,0,-Math.PI/2]],[new ni(new gg(.04,0),a),[0,0,.99],null,[3,1,1]]],Z:[[new Do(Y(1,.5),B),null,[0,Math.PI/2,0]],[new ni(new gg(.04,0),c),[.99,0,0],null,[1,3,1]]],E:[[new Do(Y(1.25,1),A),null,[0,Math.PI/2,0]],[new ni(new pf(.03,0,.15,4,1,!1),A),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new ni(new pf(.03,0,.15,4,1,!1),A),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new ni(new pf(.03,0,.15,4,1,!1),A),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new ni(new pf(.03,0,.15,4,1,!1),A),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new Do(Y(1,1),D),null,[0,Math.PI/2,0]]]},_t={AXIS:[[new Do(ae,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},Ve={X:[[new ni(new gw(1,.1,4,24),t),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ni(new gw(1,.1,4,24),t),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ni(new gw(1,.1,4,24),t),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ni(new gw(1.25,.1,2,24),t)]],XYZE:[[new ni(new BM(.7,10,8),t)]]},xe={X:[[new ni(Q,o),[.8,0,0],[0,0,-Math.PI/2]],[new Do(ae,C),null,null,[.8,1,1]]],Y:[[new ni(Q,a),[0,.8,0]],[new Do(ae,k),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new ni(Q,c),[0,0,.8],[Math.PI/2,0,0]],[new Do(ae,B),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new ni(Q,g),[.85,.85,0],null,[2,2,.2]],[new Do(ae,N),[.855,.98,0],null,[.125,1,1]],[new Do(ae,N),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new ni(Q,_),[0,.85,.85],null,[.2,2,2]],[new Do(ae,z),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new Do(ae,z),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new ni(Q,b),[.85,0,.85],null,[2,.2,2]],[new Do(ae,F),[.855,0,.98],null,[.125,1,1]],[new Do(ae,F),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new ni(new Ip(.125,.125,.125),p.clone()),[1.1,0,0]]],XYZY:[[new ni(new Ip(.125,.125,.125),p.clone()),[0,1.1,0]]],XYZZ:[[new ni(new Ip(.125,.125,.125),p.clone()),[0,0,1.1]]]},ot={X:[[new ni(new pf(.2,0,.8,4,1,!1),t),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new ni(new pf(.2,0,.8,4,1,!1),t),[0,.5,0]]],Z:[[new ni(new pf(.2,0,.8,4,1,!1),t),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new ni(Q,t),[.85,.85,0],null,[3,3,.2]]],YZ:[[new ni(Q,t),[0,.85,.85],null,[.2,3,3]]],XZ:[[new ni(Q,t),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new ni(new Ip(.2,.2,.2),t),[1.1,0,0]]],XYZY:[[new ni(new Ip(.2,.2,.2),t),[0,1.1,0]]],XYZZ:[[new ni(new Ip(.2,.2,.2),t),[0,0,1.1]]]},Ze={X:[[new Do(ae,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Do(ae,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Do(ae,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},mt=we=>{let Te=new Jo;for(let Ae in we)for(let me=we[Ae].length;me--;){let ce=we[Ae][me][0].clone(),qe=we[Ae][me][1],ht=we[Ae][me][2],wt=we[Ae][me][3],et=we[Ae][me][4];ce.name=Ae,ce.tag=et,qe&&ce.position.set(qe[0],qe[1],qe[2]),ht&&ce.rotation.set(ht[0],ht[1],ht[2]),wt&&ce.scale.set(wt[0],wt[1],wt[2]),ce.updateMatrix();let Nt=ce.geometry.clone();Nt.applyMatrix4(ce.matrix),ce.geometry=Nt,ce.renderOrder=1/0,ce.position.set(0,0,0),ce.rotation.set(0,0,0),ce.scale.set(1,1,1),Te.add(ce)}return Te};this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=mt(_e)),this.add(this.gizmo.rotate=mt(Be)),this.add(this.gizmo.scale=mt(xe)),this.add(this.picker.translate=mt(J)),this.add(this.picker.rotate=mt(Ve)),this.add(this.picker.scale=mt(ot)),this.add(this.helper.translate=mt(Se)),this.add(this.helper.rotate=mt(_t)),this.add(this.helper.scale=mt(Ze)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}},tHe=class extends ni{constructor(){super(new xm(1e5,1e5,2,2),new yf({visible:!1,wireframe:!0,side:mf,transparent:!0,opacity:.1,toneMapped:!1})),Un(this,"isTransformControlsPlane",!0),Un(this,"type","TransformControlsPlane"),Un(this,"unitX",new Ke(1,0,0)),Un(this,"unitY",new Ke(0,1,0)),Un(this,"unitZ",new Ke(0,0,1)),Un(this,"tempVector",new Ke),Un(this,"dirVector",new Ke),Un(this,"alignVector",new Ke),Un(this,"tempMatrix",new Qi),Un(this,"identityQuaternion",new jo),Un(this,"cameraQuaternion",new jo),Un(this,"worldPosition",new Ke),Un(this,"worldQuaternion",new jo),Un(this,"eye",new Ke),Un(this,"axis",null),Un(this,"mode","translate"),Un(this,"space","world"),Un(this,"updateMatrixWorld",()=>{let n=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(n="local"),this.unitX.set(1,0,0).applyQuaternion(n==="local"?this.worldQuaternion:this.identityQuaternion),this.unitY.set(0,1,0).applyQuaternion(n==="local"?this.worldQuaternion:this.identityQuaternion),this.unitZ.set(0,0,1).applyQuaternion(n==="local"?this.worldQuaternion:this.identityQuaternion),this.alignVector.copy(this.unitY),this.mode){case"translate":case"scale":switch(this.axis){case"X":this.alignVector.copy(this.eye).cross(this.unitX),this.dirVector.copy(this.unitX).cross(this.alignVector);break;case"Y":this.alignVector.copy(this.eye).cross(this.unitY),this.dirVector.copy(this.unitY).cross(this.alignVector);break;case"Z":this.alignVector.copy(this.eye).cross(this.unitZ),this.dirVector.copy(this.unitZ).cross(this.alignVector);break;case"XY":this.dirVector.copy(this.unitZ);break;case"YZ":this.dirVector.copy(this.unitX);break;case"XZ":this.alignVector.copy(this.unitZ),this.dirVector.copy(this.unitY);break;case"XYZ":case"E":this.dirVector.set(0,0,0);break}break;case"rotate":default:this.dirVector.set(0,0,0)}this.dirVector.length()===0?this.quaternion.copy(this.cameraQuaternion):(this.tempMatrix.lookAt(this.tempVector.set(0,0,0),this.dirVector,this.alignVector),this.quaternion.setFromRotationMatrix(this.tempMatrix)),super.updateMatrixWorld()})}},uG=to(ps());function nHe(n,e,t){let r=Ed(k=>k.size),o=Ed(k=>k.viewport),a=typeof n=="number"?n:r.width*o.dpr,c=typeof e=="number"?e:r.height*o.dpr,p=(typeof n=="number"?t:n)||{},{samples:g=0,depth:_}=p,b=Np(p,["samples","depth"]),C=uG.useMemo(()=>{let k=new bg(a,c,Vi({minFilter:aa,magFilter:aa,type:uh},b));return _&&(k.depthTexture=new RX(a,c,vf)),k.samples=g,k},[]);return uG.useLayoutEffect(()=>{C.setSize(a,c),g&&(C.samples=g)},[g,C,a,c]),uG.useEffect(()=>()=>C.dispose(),[]),C}var Ev=to(ps()),rHe=n=>typeof n=="function",iHe=Ev.forwardRef((n,e)=>{var t=n,{envMap:r,resolution:o=256,frames:a=1/0,makeDefault:c,children:p}=t,g=Np(t,["envMap","resolution","frames","makeDefault","children"]);let _=Ed(({set:A})=>A),b=Ed(({camera:A})=>A),C=Ed(({size:A})=>A),k=Ev.useRef(null),B=Ev.useRef(null),z=nHe(o);Ev.useLayoutEffect(()=>{g.manual||(k.current.aspect=C.width/C.height)},[C,g]),Ev.useLayoutEffect(()=>{k.current.updateProjectionMatrix()});let F=0,N=null,D=rHe(p);return vF(A=>{D&&(a===1/0||F<a)&&(B.current.visible=!1,A.gl.setRenderTarget(z),N=A.scene.background,r&&(A.scene.background=r),A.gl.render(A.scene,k.current),A.scene.background=N,A.gl.setRenderTarget(null),B.current.visible=!0,F++)}),Ev.useLayoutEffect(()=>{if(c){let A=b;return _(()=>({camera:k.current})),()=>_(()=>({camera:A}))}},[k,c,_]),Ev.createElement(Ev.Fragment,null,Ev.createElement("perspectiveCamera",mR({ref:qje([k,e])},g),!D&&p),Ev.createElement("group",{ref:B},D&&p(z.texture)))}),SC=to(ps());function oHe(n,e){let t=n+"Geometry";return SC.forwardRef((r,o)=>{var a=r,{args:c,children:p}=a,g=Np(a,["args","children"]);let _=SC.useRef(null);return SC.useImperativeHandle(o,()=>_.current),SC.useLayoutEffect(()=>void(e==null?void 0:e(_.current))),SC.createElement("mesh",mR({ref:_},g),SC.createElement(t,{attach:"geometry",args:c}),p)})}var sHe=oHe("sphere"),aHe=to(hF()),cG=to(ps());function Tbe(){let[n,e]=(0,cG.useState)(void 0),t=(0,cG.useRef)(n);return t.current=n,(0,cG.useLayoutEffect)(()=>{let r=o=>{let a=o.find(c=>c.type==="Theatre_SheetObject_PublicAPI"&&tN.has(c));e(a?Txe(a.address):void 0)};return r(Em.selection),Em.onSelectionChange(r)},[]),n}var lHe=typeof global=="object"&&global&&global.Object===Object&&global,Pbe=lHe,uHe=typeof self=="object"&&self&&self.Object===Object&&self,cHe=Pbe||uHe||Function("return this")(),E1=cHe,dHe=E1.Symbol,jw=dHe,kbe=Object.prototype,fHe=kbe.hasOwnProperty,hHe=kbe.toString,cI=jw?jw.toStringTag:void 0;function pHe(n){var e=fHe.call(n,cI),t=n[cI];try{n[cI]=void 0;var r=!0}catch{}var o=hHe.call(n);return r&&(e?n[cI]=t:delete n[cI]),o}var mHe=pHe,gHe=Object.prototype,vHe=gHe.toString;function yHe(n){return vHe.call(n)}var _He=yHe,wHe="[object Null]",SHe="[object Undefined]",hye=jw?jw.toStringTag:void 0;function xHe(n){return n==null?n===void 0?SHe:wHe:hye&&hye in Object(n)?mHe(n):_He(n)}var FM=xHe;function bHe(n){return n!=null&&typeof n=="object"}var wM=bHe,EHe="[object Symbol]";function AHe(n){return typeof n=="symbol"||wM(n)&&FM(n)==EHe}var yF=AHe;function CHe(n,e){for(var t=-1,r=n==null?0:n.length,o=Array(r);++t<r;)o[t]=e(n[t],t,n);return o}var MHe=CHe,THe=Array.isArray,y1=THe,PHe=1/0,pye=jw?jw.prototype:void 0,mye=pye?pye.toString:void 0;function Ibe(n){if(typeof n=="string")return n;if(y1(n))return MHe(n,Ibe)+"";if(yF(n))return mye?mye.call(n):"";var e=n+"";return e=="0"&&1/n==-PHe?"-0":e}var kHe=Ibe,IHe=/\s/;function RHe(n){for(var e=n.length;e--&&IHe.test(n.charAt(e)););return e}var OHe=RHe,BHe=/^\s+/;function DHe(n){return n&&n.slice(0,OHe(n)+1).replace(BHe,"")}var LHe=DHe;function NHe(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var gR=NHe,gye=0/0,FHe=/^[-+]0x[0-9a-f]+$/i,zHe=/^0b[01]+$/i,UHe=/^0o[0-7]+$/i,jHe=parseInt;function HHe(n){if(typeof n=="number")return n;if(yF(n))return gye;if(gR(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=gR(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=LHe(n);var t=zHe.test(n);return t||UHe.test(n)?jHe(n.slice(2),t?2:8):FHe.test(n)?gye:+n}var GHe=HHe,vye=1/0,VHe=17976931348623157e292;function WHe(n){if(!n)return n===0?n:0;if(n=GHe(n),n===vye||n===-vye){var e=n<0?-1:1;return e*VHe}return n===n?n:0}var XHe=WHe;function KHe(n){var e=XHe(n),t=e%1;return e===e?t?e-t:e:0}var YHe=KHe;function QHe(n){return n}var qHe=QHe,JHe="[object AsyncFunction]",ZHe="[object Function]",$He="[object GeneratorFunction]",e7e="[object Proxy]";function t7e(n){if(!gR(n))return!1;var e=FM(n);return e==ZHe||e==$He||e==JHe||e==e7e}var Rbe=t7e,n7e=E1["__core-js_shared__"],dG=n7e,yye=function(){var n=/[^.]+$/.exec(dG&&dG.keys&&dG.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r7e(n){return!!yye&&yye in n}var i7e=r7e,o7e=Function.prototype,s7e=o7e.toString;function a7e(n){if(n!=null){try{return s7e.call(n)}catch{}try{return n+""}catch{}}return""}var Ob=a7e,l7e=/[\\^$.*+?()[\]{}|]/g,u7e=/^\[object .+?Constructor\]$/,c7e=Function.prototype,d7e=Object.prototype,f7e=c7e.toString,h7e=d7e.hasOwnProperty,p7e=RegExp("^"+f7e.call(h7e).replace(l7e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m7e(n){if(!gR(n)||i7e(n))return!1;var e=Rbe(n)?p7e:u7e;return e.test(Ob(n))}var g7e=m7e;function v7e(n,e){return n==null?void 0:n[e]}var y7e=v7e;function _7e(n,e){var t=y7e(n,e);return g7e(t)?t:void 0}var zM=_7e,w7e=zM(E1,"WeakMap"),eW=w7e;function S7e(n,e,t,r){for(var o=n.length,a=t+(r?1:-1);r?a--:++a<o;)if(e(n[a],a,n))return a;return-1}var x7e=S7e,b7e=9007199254740991,E7e=/^(?:0|[1-9]\d*)$/;function A7e(n,e){var t=typeof n;return e=e??b7e,!!e&&(t=="number"||t!="symbol"&&E7e.test(n))&&n>-1&&n%1==0&&n<e}var Obe=A7e;function C7e(n,e){return n===e||n!==n&&e!==e}var Bbe=C7e,M7e=9007199254740991;function T7e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=M7e}var MK=T7e;function P7e(n){return n!=null&&MK(n.length)&&!Rbe(n)}var k7e=P7e,I7e=Object.prototype;function R7e(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||I7e;return n===t}var O7e=R7e;function B7e(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var D7e=B7e,L7e="[object Arguments]";function N7e(n){return wM(n)&&FM(n)==L7e}var _ye=N7e,Dbe=Object.prototype,F7e=Dbe.hasOwnProperty,z7e=Dbe.propertyIsEnumerable,U7e=_ye(function(){return arguments}())?_ye:function(n){return wM(n)&&F7e.call(n,"callee")&&!z7e.call(n,"callee")},Lbe=U7e;function j7e(){return!1}var H7e=j7e,Nbe=typeof p1=="object"&&p1&&!p1.nodeType&&p1,wye=Nbe&&typeof m1=="object"&&m1&&!m1.nodeType&&m1,G7e=wye&&wye.exports===Nbe,Sye=G7e?E1.Buffer:void 0,V7e=Sye?Sye.isBuffer:void 0,W7e=V7e||H7e,tW=W7e,X7e="[object Arguments]",K7e="[object Array]",Y7e="[object Boolean]",Q7e="[object Date]",q7e="[object Error]",J7e="[object Function]",Z7e="[object Map]",$7e="[object Number]",eGe="[object Object]",tGe="[object RegExp]",nGe="[object Set]",rGe="[object String]",iGe="[object WeakMap]",oGe="[object ArrayBuffer]",sGe="[object DataView]",aGe="[object Float32Array]",lGe="[object Float64Array]",uGe="[object Int8Array]",cGe="[object Int16Array]",dGe="[object Int32Array]",fGe="[object Uint8Array]",hGe="[object Uint8ClampedArray]",pGe="[object Uint16Array]",mGe="[object Uint32Array]",Sl={};Sl[aGe]=Sl[lGe]=Sl[uGe]=Sl[cGe]=Sl[dGe]=Sl[fGe]=Sl[hGe]=Sl[pGe]=Sl[mGe]=!0;Sl[X7e]=Sl[K7e]=Sl[oGe]=Sl[Y7e]=Sl[sGe]=Sl[Q7e]=Sl[q7e]=Sl[J7e]=Sl[Z7e]=Sl[$7e]=Sl[eGe]=Sl[tGe]=Sl[nGe]=Sl[rGe]=Sl[iGe]=!1;function gGe(n){return wM(n)&&MK(n.length)&&!!Sl[FM(n)]}var vGe=gGe;function yGe(n){return function(e){return n(e)}}var _Ge=yGe,Fbe=typeof p1=="object"&&p1&&!p1.nodeType&&p1,UI=Fbe&&typeof m1=="object"&&m1&&!m1.nodeType&&m1,wGe=UI&&UI.exports===Fbe,fG=wGe&&Pbe.process,SGe=function(){try{var n=UI&&UI.require&&UI.require("util").types;return n||fG&&fG.binding&&fG.binding("util")}catch{}}(),xye=SGe,bye=xye&&xye.isTypedArray,xGe=bye?_Ge(bye):vGe,zbe=xGe,bGe=Object.prototype,EGe=bGe.hasOwnProperty;function AGe(n,e){var t=y1(n),r=!t&&Lbe(n),o=!t&&!r&&tW(n),a=!t&&!r&&!o&&zbe(n),c=t||r||o||a,p=c?D7e(n.length,String):[],g=p.length;for(var _ in n)(e||EGe.call(n,_))&&!(c&&(_=="length"||o&&(_=="offset"||_=="parent")||a&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||Obe(_,g)))&&p.push(_);return p}var CGe=AGe;function MGe(n,e){return function(t){return n(e(t))}}var TGe=MGe,PGe=TGe(Object.keys,Object),kGe=PGe,IGe=Object.prototype,RGe=IGe.hasOwnProperty;function OGe(n){if(!O7e(n))return kGe(n);var e=[];for(var t in Object(n))RGe.call(n,t)&&t!="constructor"&&e.push(t);return e}var BGe=OGe;function DGe(n){return k7e(n)?CGe(n):BGe(n)}var Ube=DGe,LGe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NGe=/^\w*$/;function FGe(n,e){if(y1(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||yF(n)?!0:NGe.test(n)||!LGe.test(n)||e!=null&&n in Object(e)}var TK=FGe,zGe=zM(Object,"create"),vR=zGe;function UGe(){this.__data__=vR?vR(null):{},this.size=0}var jGe=UGe;function HGe(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var GGe=HGe,VGe="__lodash_hash_undefined__",WGe=Object.prototype,XGe=WGe.hasOwnProperty;function KGe(n){var e=this.__data__;if(vR){var t=e[n];return t===VGe?void 0:t}return XGe.call(e,n)?e[n]:void 0}var YGe=KGe,QGe=Object.prototype,qGe=QGe.hasOwnProperty;function JGe(n){var e=this.__data__;return vR?e[n]!==void 0:qGe.call(e,n)}var ZGe=JGe,$Ge="__lodash_hash_undefined__";function eVe(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=vR&&e===void 0?$Ge:e,this}var tVe=eVe;function UM(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}UM.prototype.clear=jGe;UM.prototype.delete=GGe;UM.prototype.get=YGe;UM.prototype.has=ZGe;UM.prototype.set=tVe;var Eye=UM;function nVe(){this.__data__=[],this.size=0}var rVe=nVe;function iVe(n,e){for(var t=n.length;t--;)if(Bbe(n[t][0],e))return t;return-1}var _F=iVe,oVe=Array.prototype,sVe=oVe.splice;function aVe(n){var e=this.__data__,t=_F(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():sVe.call(e,t,1),--this.size,!0}var lVe=aVe;function uVe(n){var e=this.__data__,t=_F(e,n);return t<0?void 0:e[t][1]}var cVe=uVe;function dVe(n){return _F(this.__data__,n)>-1}var fVe=dVe;function hVe(n,e){var t=this.__data__,r=_F(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var pVe=hVe;function jM(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}jM.prototype.clear=rVe;jM.prototype.delete=lVe;jM.prototype.get=cVe;jM.prototype.has=fVe;jM.prototype.set=pVe;var wF=jM,mVe=zM(E1,"Map"),yR=mVe;function gVe(){this.size=0,this.__data__={hash:new Eye,map:new(yR||wF),string:new Eye}}var vVe=gVe;function yVe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var _Ve=yVe;function wVe(n,e){var t=n.__data__;return _Ve(e)?t[typeof e=="string"?"string":"hash"]:t.map}var SF=wVe;function SVe(n){var e=SF(this,n).delete(n);return this.size-=e?1:0,e}var xVe=SVe;function bVe(n){return SF(this,n).get(n)}var EVe=bVe;function AVe(n){return SF(this,n).has(n)}var CVe=AVe;function MVe(n,e){var t=SF(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var TVe=MVe;function HM(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}HM.prototype.clear=vVe;HM.prototype.delete=xVe;HM.prototype.get=EVe;HM.prototype.has=CVe;HM.prototype.set=TVe;var xF=HM,PVe="Expected a function";function PK(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(PVe);var t=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=t.cache;if(a.has(o))return a.get(o);var c=n.apply(this,r);return t.cache=a.set(o,c)||a,c};return t.cache=new(PK.Cache||xF),t}PK.Cache=xF;var kVe=PK,IVe=500;function RVe(n){var e=kVe(n,function(r){return t.size===IVe&&t.clear(),r}),t=e.cache;return e}var OVe=RVe,BVe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,DVe=/\\(\\)?/g,LVe=OVe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(BVe,function(t,r,o,a){e.push(o?a.replace(DVe,"$1"):r||t)}),e}),NVe=LVe;function FVe(n){return n==null?"":kHe(n)}var zVe=FVe;function UVe(n,e){return y1(n)?n:TK(n,e)?[n]:NVe(zVe(n))}var jbe=UVe,jVe=1/0;function HVe(n){if(typeof n=="string"||yF(n))return n;var e=n+"";return e=="0"&&1/n==-jVe?"-0":e}var bF=HVe;function GVe(n,e){e=jbe(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[bF(e[t++])];return t&&t==r?n:void 0}var Hbe=GVe;function VVe(n,e,t){var r=n==null?void 0:Hbe(n,e);return r===void 0?t:r}var WVe=VVe;function XVe(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}var KVe=XVe;function YVe(){this.__data__=new wF,this.size=0}var QVe=YVe;function qVe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var JVe=qVe;function ZVe(n){return this.__data__.get(n)}var $Ve=ZVe;function eWe(n){return this.__data__.has(n)}var tWe=eWe,nWe=200;function rWe(n,e){var t=this.__data__;if(t instanceof wF){var r=t.__data__;if(!yR||r.length<nWe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new xF(r)}return t.set(n,e),this.size=t.size,this}var iWe=rWe;function GM(n){var e=this.__data__=new wF(n);this.size=e.size}GM.prototype.clear=QVe;GM.prototype.delete=JVe;GM.prototype.get=$Ve;GM.prototype.has=tWe;GM.prototype.set=iWe;var BL=GM;function oWe(n,e){for(var t=-1,r=n==null?0:n.length,o=0,a=[];++t<r;){var c=n[t];e(c,t,n)&&(a[o++]=c)}return a}var sWe=oWe;function aWe(){return[]}var lWe=aWe,uWe=Object.prototype,cWe=uWe.propertyIsEnumerable,Aye=Object.getOwnPropertySymbols,dWe=Aye?function(n){return n==null?[]:(n=Object(n),sWe(Aye(n),function(e){return cWe.call(n,e)}))}:lWe,fWe=dWe;function hWe(n,e,t){var r=e(n);return y1(n)?r:KVe(r,t(n))}var pWe=hWe;function mWe(n){return pWe(n,Ube,fWe)}var Cye=mWe,gWe=zM(E1,"DataView"),nW=gWe,vWe=zM(E1,"Promise"),rW=vWe,yWe=zM(E1,"Set"),iW=yWe,Mye="[object Map]",_We="[object Object]",Tye="[object Promise]",Pye="[object Set]",kye="[object WeakMap]",Iye="[object DataView]",wWe=Ob(nW),SWe=Ob(yR),xWe=Ob(rW),bWe=Ob(iW),EWe=Ob(eW),qx=FM;(nW&&qx(new nW(new ArrayBuffer(1)))!=Iye||yR&&qx(new yR)!=Mye||rW&&qx(rW.resolve())!=Tye||iW&&qx(new iW)!=Pye||eW&&qx(new eW)!=kye)&&(qx=function(n){var e=FM(n),t=e==_We?n.constructor:void 0,r=t?Ob(t):"";if(r)switch(r){case wWe:return Iye;case SWe:return Mye;case xWe:return Tye;case bWe:return Pye;case EWe:return kye}return e});var Rye=qx,AWe=E1.Uint8Array,Oye=AWe,CWe="__lodash_hash_undefined__";function MWe(n){return this.__data__.set(n,CWe),this}var TWe=MWe;function PWe(n){return this.__data__.has(n)}var kWe=PWe;function lN(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new xF;++e<t;)this.add(n[e])}lN.prototype.add=lN.prototype.push=TWe;lN.prototype.has=kWe;var IWe=lN;function RWe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var OWe=RWe;function BWe(n,e){return n.has(e)}var DWe=BWe,LWe=1,NWe=2;function FWe(n,e,t,r,o,a){var c=t&LWe,p=n.length,g=e.length;if(p!=g&&!(c&&g>p))return!1;var _=a.get(n),b=a.get(e);if(_&&b)return _==e&&b==n;var C=-1,k=!0,B=t&NWe?new IWe:void 0;for(a.set(n,e),a.set(e,n);++C<p;){var z=n[C],F=e[C];if(r)var N=c?r(F,z,C,e,n,a):r(z,F,C,n,e,a);if(N!==void 0){if(N)continue;k=!1;break}if(B){if(!OWe(e,function(D,A){if(!DWe(B,A)&&(z===D||o(z,D,t,r,a)))return B.push(A)})){k=!1;break}}else if(!(z===F||o(z,F,t,r,a))){k=!1;break}}return a.delete(n),a.delete(e),k}var Gbe=FWe;function zWe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,o){t[++e]=[o,r]}),t}var UWe=zWe;function jWe(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var HWe=jWe,GWe=1,VWe=2,WWe="[object Boolean]",XWe="[object Date]",KWe="[object Error]",YWe="[object Map]",QWe="[object Number]",qWe="[object RegExp]",JWe="[object Set]",ZWe="[object String]",$We="[object Symbol]",eXe="[object ArrayBuffer]",tXe="[object DataView]",Bye=jw?jw.prototype:void 0,hG=Bye?Bye.valueOf:void 0;function nXe(n,e,t,r,o,a,c){switch(t){case tXe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case eXe:return!(n.byteLength!=e.byteLength||!a(new Oye(n),new Oye(e)));case WWe:case XWe:case QWe:return Bbe(+n,+e);case KWe:return n.name==e.name&&n.message==e.message;case qWe:case ZWe:return n==e+"";case YWe:var p=UWe;case JWe:var g=r&GWe;if(p||(p=HWe),n.size!=e.size&&!g)return!1;var _=c.get(n);if(_)return _==e;r|=VWe,c.set(n,e);var b=Gbe(p(n),p(e),r,o,a,c);return c.delete(n),b;case $We:if(hG)return hG.call(n)==hG.call(e)}return!1}var rXe=nXe,iXe=1,oXe=Object.prototype,sXe=oXe.hasOwnProperty;function aXe(n,e,t,r,o,a){var c=t&iXe,p=Cye(n),g=p.length,_=Cye(e),b=_.length;if(g!=b&&!c)return!1;for(var C=g;C--;){var k=p[C];if(!(c?k in e:sXe.call(e,k)))return!1}var B=a.get(n),z=a.get(e);if(B&&z)return B==e&&z==n;var F=!0;a.set(n,e),a.set(e,n);for(var N=c;++C<g;){k=p[C];var D=n[k],A=e[k];if(r)var G=c?r(A,D,k,e,n,a):r(D,A,k,n,e,a);if(!(G===void 0?D===A||o(D,A,t,r,a):G)){F=!1;break}N||(N=k=="constructor")}if(F&&!N){var Q=n.constructor,ae=e.constructor;Q!=ae&&"constructor"in n&&"constructor"in e&&!(typeof Q=="function"&&Q instanceof Q&&typeof ae=="function"&&ae instanceof ae)&&(F=!1)}return a.delete(n),a.delete(e),F}var lXe=aXe,uXe=1,Dye="[object Arguments]",Lye="[object Array]",$4="[object Object]",cXe=Object.prototype,Nye=cXe.hasOwnProperty;function dXe(n,e,t,r,o,a){var c=y1(n),p=y1(e),g=c?Lye:Rye(n),_=p?Lye:Rye(e);g=g==Dye?$4:g,_=_==Dye?$4:_;var b=g==$4,C=_==$4,k=g==_;if(k&&tW(n)){if(!tW(e))return!1;c=!0,b=!1}if(k&&!b)return a||(a=new BL),c||zbe(n)?Gbe(n,e,t,r,o,a):rXe(n,e,g,t,r,o,a);if(!(t&uXe)){var B=b&&Nye.call(n,"__wrapped__"),z=C&&Nye.call(e,"__wrapped__");if(B||z){var F=B?n.value():n,N=z?e.value():e;return a||(a=new BL),o(F,N,t,r,a)}}return k?(a||(a=new BL),lXe(n,e,t,r,o,a)):!1}var fXe=dXe;function Vbe(n,e,t,r,o){return n===e?!0:n==null||e==null||!wM(n)&&!wM(e)?n!==n&&e!==e:fXe(n,e,t,r,Vbe,o)}var Wbe=Vbe,hXe=1,pXe=2;function mXe(n,e,t,r){var o=t.length,a=o,c=!r;if(n==null)return!a;for(n=Object(n);o--;){var p=t[o];if(c&&p[2]?p[1]!==n[p[0]]:!(p[0]in n))return!1}for(;++o<a;){p=t[o];var g=p[0],_=n[g],b=p[1];if(c&&p[2]){if(_===void 0&&!(g in n))return!1}else{var C=new BL;if(r)var k=r(_,b,g,n,e,C);if(!(k===void 0?Wbe(b,_,hXe|pXe,r,C):k))return!1}}return!0}var gXe=mXe;function vXe(n){return n===n&&!gR(n)}var Xbe=vXe;function yXe(n){for(var e=Ube(n),t=e.length;t--;){var r=e[t],o=n[r];e[t]=[r,o,Xbe(o)]}return e}var _Xe=yXe;function wXe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var Kbe=wXe;function SXe(n){var e=_Xe(n);return e.length==1&&e[0][2]?Kbe(e[0][0],e[0][1]):function(t){return t===n||gXe(t,n,e)}}var xXe=SXe;function bXe(n,e){return n!=null&&e in Object(n)}var EXe=bXe;function AXe(n,e,t){e=jbe(e,n);for(var r=-1,o=e.length,a=!1;++r<o;){var c=bF(e[r]);if(!(a=n!=null&&t(n,c)))break;n=n[c]}return a||++r!=o?a:(o=n==null?0:n.length,!!o&&MK(o)&&Obe(c,o)&&(y1(n)||Lbe(n)))}var CXe=AXe;function MXe(n,e){return n!=null&&CXe(n,e,EXe)}var TXe=MXe,PXe=1,kXe=2;function IXe(n,e){return TK(n)&&Xbe(e)?Kbe(bF(n),e):function(t){var r=WVe(t,n);return r===void 0&&r===e?TXe(t,n):Wbe(e,r,PXe|kXe)}}var RXe=IXe;function OXe(n){return function(e){return e==null?void 0:e[n]}}var BXe=OXe;function DXe(n){return function(e){return Hbe(e,n)}}var LXe=DXe;function NXe(n){return TK(n)?BXe(bF(n)):LXe(n)}var FXe=NXe;function zXe(n){return typeof n=="function"?n:n==null?qHe:typeof n=="object"?y1(n)?RXe(n[0],n[1]):xXe(n):FXe(n)}var UXe=zXe,jXe=Math.max;function HXe(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var o=t==null?0:YHe(t);return o<0&&(o=jXe(r+o,0)),x7e(n,UXe(e),o)}var Ybe=HXe,GXe=to(K9e()),pb=to(ps()),VXe=to(wK()),WXe=!1;function XXe(n){let[,e]=(0,pb.useState)(0);return(0,pb.useCallback)(()=>{e(t=>t+1)},[])}function KXe(n,e,t){let r=(0,pb.useCallback)(n,e),o=(0,pb.useRef)(null);o.current?o.current.set(r):o.current=new $n.Atom(r);let a=(0,pb.useRef)(null);return a.current||(a.current=$n.prism(()=>o.current.prism.getValue()())),JXe(a.current)}var mb=(n,e)=>KXe(()=>$n.val(n),[n]),Fye=0,Pv=[],_R=new Set,pG=!1,YXe=n=>{QXe(n),qXe()},QXe=n=>{if(!_R.has(n))if(_R.add(n),Pv.length===0)Pv.push(n);else{let e=Ybe(Pv,t=>t.order>=n.order);e===-1?Pv.push(n):Pv[e].order>n.order&&Pv.splice(e,0,n)}},zye=n=>{if(!_R.has(n))return;_R.delete(n);let e=Ybe(Pv,t=>t===n);Pv.splice(e,1)};function qXe(){pG||(pG=!0,(0,GXe.default)(()=>{(0,VXe.unstable_batchedUpdates)(function(){for(;Pv.length>0;){let n=Pv.shift();_R.delete(n);let e;try{e=n.der.getValue()}catch(t){console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(t),n.runUpdate();continue}e!==n.lastValue&&(n.lastValue=e,n.runUpdate())}pG=!1},1)}))}function JXe(n,e){let t=XXe(),r=(0,pb.useRef)(void 0);r.current||(Fye++,r.current={order:Fye,runUpdate:()=>{r.current.unmounted||t()},der:n,lastValue:void 0,unmounted:!1,queueUpdate:()=>{YXe(r.current)},untap:n.onStale(()=>{r.current.queueUpdate()})}),(0,pb.useLayoutEffect)(()=>function(){r.current.unmounted=!0,r.current.untap(),zye(r.current)},[]),zye(r.current);let o=r.current.der.getValue();return r.current.lastValue=o,o}var mG,gG,ZXe={viewport:bs.types.compound({showAxes:bs.types.boolean(!0,{label:"Axes"}),showGrid:bs.types.boolean(!0,{label:"Grid"}),showOverlayIcons:bs.types.boolean(!1,{label:"Overlay Icons"}),shading:bs.types.stringLiteral("rendered",{flat:"Flat",rendered:"Rendered",solid:"Solid",wireframe:"Wireframe"},{as:"menu",label:"Shading"}),referenceWindow:bs.types.stringLiteral("minimized",{maximized:"Maximized",minimized:"Minimized",hidden:"Hidden"},{as:"menu",label:"Reference Window"})},{label:"Viewport Config"}),transformControls:bs.types.compound({mode:bs.types.stringLiteral("translate",{translate:"Translate",rotate:"Rotate",scale:"Scale"},{as:"switch",label:"Mode"}),space:bs.types.stringLiteral("world",{local:"Local",world:"World"},{as:"switch",label:"Space"})},{label:"Transform Controls"})};function Qbe(){return mG||(mG=Em.getStudioProject().sheet("R3F UI")),mG}function Aw(){return gG||(gG=Qbe().object("Editor",ZXe)||null),gG}var jI=to(ps()),Uye=to(ps()),qbe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jye=Uye.default.createContext&&Uye.default.createContext(qbe),Cw=function(){return Cw=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Cw.apply(this,arguments)},$Xe=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};function Jbe(n){return n&&n.map(function(e,t){return jI.default.createElement(e.tag,Cw({key:t},e.attr),Jbe(e.child))})}function Kw(n){return function(e){return jI.default.createElement(eKe,Cw({attr:Cw({},n.attr)},e),Jbe(n.child))}}function eKe(n){var e=function(t){var r=n.attr,o=n.size,a=n.title,c=$Xe(n,["attr","size","title"]),p=o||t.size||"1em",g;return t.className&&(g=t.className),n.className&&(g=(g?g+" ":"")+n.className),jI.default.createElement("svg",Cw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:g,style:Cw(Cw({color:n.color||t.color},t.style),n.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),a&&jI.default.createElement("title",null,a),n.children)};return jye!==void 0?jI.default.createElement(jye.Consumer,null,function(t){return e(t)}):e(qbe)}function tKe(n){return Kw({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"rect",attr:{width:"16",height:"10",rx:"1.5",transform:"matrix(1 0 0 -1 0 14.5)"}},{tag:"path",attr:{fillRule:"evenodd",d:"M2 3a.5.5 0 00.5.5h11a.5.5 0 000-1h-11A.5.5 0 002 3zm2-2a.5.5 0 00.5.5h7a.5.5 0 000-1h-7A.5.5 0 004 1z",clipRule:"evenodd"}}]})(n)}function nKe(n){return Kw({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.667 3h6.666C10.253 3 11 3.746 11 4.667v6.666c0 .92-.746 1.667-1.667 1.667H2.667C1.747 13 1 12.254 1 11.333V4.667C1 3.747 1.746 3 2.667 3z"}},{tag:"path",attr:{d:"M7.404 8.697l6.363 3.692c.54.313 1.233-.066 1.233-.697V4.308c0-.63-.693-1.01-1.233-.696L7.404 7.304a.802.802 0 000 1.393z"}}]})(n)}function rKe(n){return Kw({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.5 13a3.5 3.5 0 11.59-6.95 5.002 5.002 0 119.804 1.98A2.5 2.5 0 0113.5 13h-10z",clipRule:"evenodd"}}]})(n)}function iKe(n){return Kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"}}]})(n)}function oKe(n){return Kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M247 18.656c-80.965 0-146.875 65.02-146.875 145.625 0 45.63 15.758 67 33.313 94.845 11.706 18.57 23.767 39.91 30.53 70.563h165.095c6.728-31.387 18.91-53.12 30.718-71.875 17.58-27.92 33.314-48.912 33.314-93.532 0-80.66-65.127-145.624-146.094-145.624zm-99.78 127.906L170.437 167 210 201.813l31.188-34.125 6.78-7.438 6.907 7.344 30.75 32.72 39.97-33.47 22.686-19-7.655 28.594L304.75 310.28l-18.063-4.842 28.22-105.25-24.032 20.125-6.78 5.656-6.033-6.44-29.906-31.78-30.562 33.438-6.188 6.78-6.875-6.062-23.25-20.437 27.94 104.218-18.064 4.812-35.937-134.063-8-29.875zm22.593 201.813V389.5L315 348.375H169.812zm153.593 17.063l-153.594 43.53v29.438l153.594-43.5v-29.47zm0 48.875L203.97 448.156h119.436v-33.844zm-132.562 52.53v20.533h113.282v-20.53h-113.28z"}}]})(n)}function sKe(n){return Kw({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M18 17v18h38v78.3c-.75.7-1.47 1.5-2.16 2.3-6.52 7.5-9.72 14.5-10.08 19.8l47.46 84.5c1.03-1.9 2.15-3.9 3.39-5.6 8.29-12.2 21.49-23.8 37.89-33.2 16.5-9.1 33.3-14.3 48-15.1 2.2-.1 4.4-.1 6.6 0l-47.4-84.47c-3-1.54-7.1-2.5-12.3-2.53h-2.3c-2.3.11-4.9.4-7.5.88-10.7 1.91-23.15 6.66-34.61 13.1-3.08 1.73-6.09 3.59-8.99 5.53V35h45v26.5c1.8-.22 3.5-.39 5.3-.49 4.4-.25 8.6-.07 12.7.67V35h55V17H18zm165.4 166.9c-.6.1-1.3.1-2 .1-11.1.6-25.7 4.8-40.1 12.9-14.3 8.1-25.5 18.4-31.8 27.5-6.2 9.2-6.8 16-4.8 19.5 1.9 3.5 8 6.5 19.1 6 11.1-.5 25.7-4.8 40.1-12.9 14.3-8.1 25.6-18.3 31.8-27.5 6.2-9.2 6.8-16 4.9-19.5-1.9-3.3-7.4-6.1-17.2-6.1zm36.2 12.2c-.5 7.9-4 16.1-9 23.5-8.3 12.2-21.4 23.8-37.9 33.1s-33.3 14.4-48 15.2c-10.3.5-20.2-1.2-27.61-6.3L49.48 491.4H492.8V353.8L219.6 196.1z"}}]})(n)}function aKe(n){return Kw({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19H12.998V22H10.998zM10.998 2H12.998V5H10.998zM1.998 11H4.998V13H1.998zM18.998 11H21.998V13H18.998z"}},{tag:"path",attr:{transform:"rotate(-45.017 5.986 18.01)",d:"M4.487 17.01H7.487V19.01H4.487z"}},{tag:"path",attr:{transform:"rotate(-45.001 18.008 5.99)",d:"M16.508 4.99H19.509V6.99H16.508z"}},{tag:"path",attr:{transform:"rotate(-134.983 5.988 5.99)",d:"M4.487 4.99H7.487V6.99H4.487z"}},{tag:"path",attr:{transform:"rotate(134.999 18.008 18.01)",d:"M17.008 16.51H19.008V19.511000000000003H17.008z"}}]})(n)}var Gx=to(ps()),lKe={collection:Gx.default.createElement(tKe,null),cube:Gx.default.createElement(iKe,null),lightBulb:Gx.default.createElement(oKe,null),spotLight:Gx.default.createElement(sKe,null),sun:Gx.default.createElement(aKe,null),camera:Gx.default.createElement(nKe,null),cloud:Gx.default.createElement(rKe,null)},uKe=lKe,NC=to(ps()),Zbe=(0,NC.createContext)(!1),cKe=({children:n})=>{let e=(0,NC.useRef)(!1),[t,r]=(0,NC.useState)(!1);return(0,NC.useEffect)(()=>{document.addEventListener("mousedown",()=>e.current=!0),document.addEventListener("mousemove",()=>{e.current&&r(!0)}),document.addEventListener("mouseup",()=>{e.current=!1,r(!1)})},[]),NC.default.createElement(Zbe.Provider,{value:t},n)},dKe=()=>(0,NC.useContext)(Zbe),fKe=to(q9e()),hKe=(0,fKe.default)(bb),Mw=hKe,pKe=({storeKey:n,object:e})=>{var t;let r=Aw(),[o,a]=Mw(z=>[z.setSnapshotProxyObject,z.editables],aHe.default),c=dKe(),p=a[n],g=Tbe(),_=(t=mb(r==null?void 0:r.props.viewport.showOverlayIcons))!=null?t:!1;(0,Gh.useEffect)(()=>(o(e,n),()=>o(null,n)),[n,e,o]),(0,Gh.useLayoutEffect)(()=>{let z=e.visible;return p!=null&&p.visibleOnlyInEditor&&(e.visible=!0),()=>{e.visible=z}},[p==null?void 0:p.visibleOnlyInEditor,e.visible]);let[b,C]=(0,Gh.useState)(!1),k=Ed(z=>z.scene),B=(0,Gh.useMemo)(()=>{var z,F;return(F=p==null?void 0:(z=p.objectConfig).createHelper)==null?void 0:F.call(z,e)},[e]);return(0,Gh.useEffect)(()=>{if(B!=null)return(g===n||b)&&(k.add(B),$C()),()=>{k.remove(B),$C()}},[g,b,B,k]),vF(()=>{B!=null&&B.update&&B.update()}),(0,Gh.useEffect)(()=>{c&&C(!1)},[c]),(0,Gh.useEffect)(()=>{if(!p)return;let z=p.sheetObject,F=p.objectConfig,N=A=>{var G;Object.entries(F.props).forEach(([Q,ae])=>ae.apply(A[Q],e)),(G=F.updateObject)==null||G.call(F,e),$C()};N(z.value);let D=z.onValuesChange(N);return()=>{D()}},[p]),p?Gh.default.createElement(Gh.default.Fragment,null,Gh.default.createElement("group",{onClick:z=>{if(z.delta<2){z.stopPropagation();let F=Mw.getState().editables[n].sheetObject;F?Em.setSelection([F]):console.log("no Theatre.js object for",n)}},onPointerOver:c?void 0:z=>{z.stopPropagation(),C(!0)},onPointerOut:c?void 0:z=>{z.stopPropagation(),C(!1)}},Gh.default.createElement("primitive",{object:e},(_||p.objectConfig.dimensionless&&g!==n)&&Gh.default.createElement(Yje,{center:!0,style:{pointerEvents:"none",transform:"scale(2)",opacity:b?.3:1}},Gh.default.createElement("div",null,uKe[p.objectConfig.icon])),p.objectConfig.dimensionless&&Gh.default.createElement(sHe,{args:[2,4,2],onClick:z=>{if(z.delta<2){z.stopPropagation();let F=Mw.getState().editables[n].sheetObject;F?Em.setSelection([F]):console.log("no Theatre.js object for",n)}},userData:{helper:!0}},Gh.default.createElement("meshBasicMaterial",{visible:!1}))))):null},mKe=pKe,iw=to(ps()),gKe=(0,iw.forwardRef)((n,e)=>{var t=n,{children:r,object:o,orbitControlsRef:a,onObjectChange:c,onDraggingChange:p}=t,g=Np(t,["children","object","orbitControlsRef","onObjectChange","onDraggingChange"]);let{camera:_,gl:b,invalidate:C}=Ed(),k=(0,iw.useMemo)(()=>new $je(_,b.domElement),[_,b.domElement]);return(0,iw.useLayoutEffect)(()=>(k.attach(o),()=>void k.detach()),[o,k]),(0,iw.useEffect)(()=>{var B;return(B=k==null?void 0:k.addEventListener)==null||B.call(k,"change",()=>C()),()=>{var z;return(z=k==null?void 0:k.removeEventListener)==null?void 0:z.call(k,"change",()=>C())}},[k,C]),(0,iw.useEffect)(()=>{let B=z=>{a&&a.current&&(a.current.enabled=!z.value)};return k&&k.addEventListener("dragging-changed",B),()=>{k.removeEventListener("dragging-changed",B)}},[k,a]),(0,iw.useEffect)(()=>(c&&k.addEventListener("objectChange",c),()=>{c&&k.removeEventListener("objectChange",c)}),[c,k]),(0,iw.useEffect)(()=>(p&&k.addEventListener("dragging-changed",p),()=>{p&&k.removeEventListener("dragging-changed",p)}),[k,p]),iw.default.createElement("primitive",Vi({dispose:null,object:k,ref:e},g))}),vKe=gKe,yKe=to(hF()),_Ke=({orbitControlsRef:n})=>{var e,t,r;let o=(0,oh.useRef)(!1),a=Aw(),[c,p]=Mw(Q=>[Q.sceneSnapshot,Q.editables],yKe.default),g=(e=mb(a==null?void 0:a.props.transformControls.mode))!=null?e:"translate",_=(t=mb(a==null?void 0:a.props.transformControls.space))!=null?t:"world",b=(r=mb(a==null?void 0:a.props.viewport.shading))!=null?r:"rendered",C=(0,oh.useMemo)(()=>c==null?void 0:c.clone(),[c]),[k,B]=(0,oh.useState)({});(0,oh.useLayoutEffect)(()=>{if(!C)return;let Q={};C.traverse(ae=>{if(ae.userData.__editable){let Y=ae.userData.__storeKey;Q[Y]||!p[Y]?ae.parent.remove(ae):Q[Y]={portal:oh.default.createElement(wKe,{portal:_je(oh.default.createElement(mKe,{storeKey:Y,object:ae}),ae.parent),key:`portal-wrapper-${Y}`}),object:ae,editable:p[Y]}}}),B(Q)},[n,C]);let z=Tbe(),F=z&&k[z],N=z?p[z]:void 0,[D,A]=(0,oh.useState)({});(0,oh.useLayoutEffect)(()=>{if(!C)return;let Q={};return C.traverse(ae=>{let Y=ae;Y.isMesh&&!Y.userData.helper&&(Q[Y.id]=Y.material)}),A(Q),()=>{}},[C]),(0,oh.useLayoutEffect)(()=>{C&&C.traverse(Q=>{let ae=Q;if(ae.isMesh&&!ae.userData.helper){let Y;switch(b){case"wireframe":ae.material=new yf({wireframe:!0,color:"black"});break;case"flat":if(!D[ae.id])return;Y=new yf,D[ae.id].hasOwnProperty("color")&&(Y.color=D[ae.id].color),D[ae.id].hasOwnProperty("map")&&(Y.map=D[ae.id].map),D[ae.id].hasOwnProperty("vertexColors")&&(Y.vertexColors=D[ae.id].vertexColors),ae.material=Y;break;case"solid":if(!D[ae.id])return;Y=new VX,D[ae.id].hasOwnProperty("color")&&(Y.color=D[ae.id].color),D[ae.id].hasOwnProperty("map")&&(Y.map=D[ae.id].map),D[ae.id].hasOwnProperty("vertexColors")&&(Y.vertexColors=D[ae.id].vertexColors),ae.material=Y;break;case"rendered":ae.material=D[ae.id]}}$C()})},[b,D,C]);let G=(0,oh.useRef)(void 0);return C?oh.default.createElement(oh.default.Fragment,null,oh.default.createElement("primitive",{object:C}),z&&F&&N&&N.objectConfig.useTransformControls&&oh.default.createElement(vKe,{mode:g,space:_,orbitControlsRef:n,object:F.object,onObjectChange:()=>{let Q=F.editable.sheetObject,ae=F.object;G.current.capture(({set:Y})=>{g==="translate"&&Y(Q.props.position,ch(Vi({},Q.value.position),{x:ae.position.x,y:ae.position.y,z:ae.position.z})),g==="rotate"&&Y(Q.props.rotation,ch(Vi({},Q.value.rotation),{x:ae.rotation.x,y:ae.rotation.y,z:ae.rotation.z})),g==="scale"&&Y(Q.props.scale,{x:ae.scale.x,y:ae.scale.y,z:ae.scale.z})})},onDraggingChange:Q=>(Q.value?G.current=Em.scrub():G.current.commit(),o.current=Q.value)}),Object.values(k).map(Q=>Q.portal)):null},wKe=({portal:n})=>oh.default.createElement(oh.default.Fragment,null,n),SKe=_Ke;_K();var xC=to(ps()),Hye=(n,e)=>(n%e+e)%e,xKe=class extends jv{constructor(n,e){super(),Eo(this,"object"),Eo(this,"domElement"),Eo(this,"enabled",!0),Eo(this,"target",new Ke),Eo(this,"minDistance",0),Eo(this,"maxDistance",1/0),Eo(this,"minZoom",0),Eo(this,"maxZoom",1/0),Eo(this,"minPolarAngle",0),Eo(this,"maxPolarAngle",Math.PI),Eo(this,"minAzimuthAngle",-1/0),Eo(this,"maxAzimuthAngle",1/0),Eo(this,"enableDamping",!1),Eo(this,"dampingFactor",.05),Eo(this,"enableZoom",!0),Eo(this,"zoomSpeed",1),Eo(this,"enableRotate",!0),Eo(this,"rotateSpeed",1),Eo(this,"enablePan",!0),Eo(this,"panSpeed",1),Eo(this,"screenSpacePanning",!0),Eo(this,"keyPanSpeed",7),Eo(this,"autoRotate",!1),Eo(this,"autoRotateSpeed",2),Eo(this,"reverseOrbit",!1),Eo(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Eo(this,"mouseButtons",{LEFT:Xx.ROTATE,MIDDLE:Xx.DOLLY,RIGHT:Xx.PAN}),Eo(this,"touches",{ONE:Kx.ROTATE,TWO:Kx.DOLLY_PAN}),Eo(this,"target0"),Eo(this,"position0"),Eo(this,"zoom0"),Eo(this,"_domElementKeyEvents",null),Eo(this,"getPolarAngle"),Eo(this,"getAzimuthalAngle"),Eo(this,"setPolarAngle"),Eo(this,"setAzimuthalAngle"),Eo(this,"getDistance"),Eo(this,"listenToKeyEvents"),Eo(this,"stopListenToKeyEvents"),Eo(this,"saveState"),Eo(this,"reset"),Eo(this,"update"),Eo(this,"connect"),Eo(this,"dispose"),this.object=n,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>_.phi,this.getAzimuthalAngle=()=>_.theta,this.setPolarAngle=it=>{let En=Hye(it,2*Math.PI),Ln=_.phi;Ln<0&&(Ln+=2*Math.PI),En<0&&(En+=2*Math.PI);let Yn=Math.abs(En-Ln);2*Math.PI-Yn<Yn&&(En<Ln?En+=2*Math.PI:Ln+=2*Math.PI),b.phi=En-Ln,t.update()},this.setAzimuthalAngle=it=>{let En=Hye(it,2*Math.PI),Ln=_.theta;Ln<0&&(Ln+=2*Math.PI),En<0&&(En+=2*Math.PI);let Yn=Math.abs(En-Ln);2*Math.PI-Yn<Yn&&(En<Ln?En+=2*Math.PI:Ln+=2*Math.PI),b.theta=En-Ln,t.update()},this.getDistance=()=>t.object.position.distanceTo(t.target),this.listenToKeyEvents=it=>{it.addEventListener("keydown",ct),this._domElementKeyEvents=it},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ct),this._domElementKeyEvents=null},this.saveState=()=>{t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=()=>{t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(r),t.update(),p=c.NONE},this.update=(()=>{let it=new Ke,En=new Ke(0,1,0),Ln=new jo().setFromUnitVectors(n.up,En),Yn=Ln.clone().invert(),br=new Ke,vr=new jo,Wr=2*Math.PI;return function(){let ci=t.object.position;Ln.setFromUnitVectors(n.up,En),Yn.copy(Ln).invert(),it.copy(ci).sub(t.target),it.applyQuaternion(Ln),_.setFromVector3(it),t.autoRotate&&p===c.NONE&&Be(J()),t.enableDamping?(_.theta+=b.theta*t.dampingFactor,_.phi+=b.phi*t.dampingFactor):(_.theta+=b.theta,_.phi+=b.phi);let Ct=t.minAzimuthAngle,Kt=t.maxAzimuthAngle;return isFinite(Ct)&&isFinite(Kt)&&(Ct<-Math.PI?Ct+=Wr:Ct>Math.PI&&(Ct-=Wr),Kt<-Math.PI?Kt+=Wr:Kt>Math.PI&&(Kt-=Wr),Ct<=Kt?_.theta=Math.max(Ct,Math.min(Kt,_.theta)):_.theta=_.theta>(Ct+Kt)/2?Math.max(Ct,_.theta):Math.min(Kt,_.theta)),_.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,_.phi)),_.makeSafe(),_.radius*=C,_.radius=Math.max(t.minDistance,Math.min(t.maxDistance,_.radius)),t.enableDamping===!0?t.target.addScaledVector(k,t.dampingFactor):t.target.add(k),it.setFromSpherical(_),it.applyQuaternion(Yn),ci.copy(t.target).add(it),t.object.lookAt(t.target),t.enableDamping===!0?(b.theta*=1-t.dampingFactor,b.phi*=1-t.dampingFactor,k.multiplyScalar(1-t.dampingFactor)):(b.set(0,0,0),k.set(0,0,0)),C=1,B||br.distanceToSquared(t.object.position)>g||8*(1-vr.dot(t.object.quaternion))>g?(t.dispatchEvent(r),br.copy(t.object.position),vr.copy(t.object.quaternion),B=!1,!0):!1}})(),this.connect=it=>{it===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),t.domElement=it,t.domElement.style.touchAction="none",t.domElement.addEventListener("contextmenu",Kn),t.domElement.addEventListener("pointerdown",mn),t.domElement.addEventListener("pointercancel",tr),t.domElement.addEventListener("wheel",si)},this.dispose=()=>{var it,En,Ln,Yn,br,vr;(it=t.domElement)==null||it.removeEventListener("contextmenu",Kn),(En=t.domElement)==null||En.removeEventListener("pointerdown",mn),(Ln=t.domElement)==null||Ln.removeEventListener("pointercancel",tr),(Yn=t.domElement)==null||Yn.removeEventListener("wheel",si),(br=t.domElement)==null||br.ownerDocument.removeEventListener("pointermove",jn),(vr=t.domElement)==null||vr.ownerDocument.removeEventListener("pointerup",Wn),t._domElementKeyEvents!==null&&t._domElementKeyEvents.removeEventListener("keydown",ct)};let t=this,r={type:"change"},o={type:"start"},a={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},p=c.NONE,g=1e-6,_=new JL,b=new JL,C=1,k=new Ke,B=!1,z=new Vn,F=new Vn,N=new Vn,D=new Vn,A=new Vn,G=new Vn,Q=new Vn,ae=new Vn,Y=new Vn,ge=[],_e={};function J(){return 2*Math.PI/60/60*t.autoRotateSpeed}function Se(){return Math.pow(.95,t.zoomSpeed)}function Be(it){t.reverseOrbit?b.theta+=it:b.theta-=it}function _t(it){t.reverseOrbit?b.phi+=it:b.phi-=it}let Ve=(()=>{let it=new Ke;return function(En,Ln){it.setFromMatrixColumn(Ln,0),it.multiplyScalar(-En),k.add(it)}})(),xe=(()=>{let it=new Ke;return function(En,Ln){t.screenSpacePanning===!0?it.setFromMatrixColumn(Ln,1):(it.setFromMatrixColumn(Ln,0),it.crossVectors(t.object.up,it)),it.multiplyScalar(En),k.add(it)}})(),ot=(()=>{let it=new Ke;return function(En,Ln){let Yn=t.domElement;if(Yn&&t.object instanceof Da&&t.object.isPerspectiveCamera){let br=t.object.position;it.copy(br).sub(t.target);let vr=it.length();vr*=Math.tan(t.object.fov/2*Math.PI/180),Ve(2*En*vr/Yn.clientHeight,t.object.matrix),xe(2*Ln*vr/Yn.clientHeight,t.object.matrix)}else Yn&&t.object instanceof Lp&&t.object.isOrthographicCamera?(Ve(En*(t.object.right-t.object.left)/t.object.zoom/Yn.clientWidth,t.object.matrix),xe(Ln*(t.object.top-t.object.bottom)/t.object.zoom/Yn.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}})();function Ze(it){t.object instanceof Da&&t.object.isPerspectiveCamera?C/=it:t.object instanceof Lp&&t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom*it)),t.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function mt(it){t.object instanceof Da&&t.object.isPerspectiveCamera?C*=it:t.object instanceof Lp&&t.object.isOrthographicCamera?(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/it)),t.object.updateProjectionMatrix(),B=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function we(it){z.set(it.clientX,it.clientY)}function Te(it){Q.set(it.clientX,it.clientY)}function Ae(it){D.set(it.clientX,it.clientY)}function me(it){F.set(it.clientX,it.clientY),N.subVectors(F,z).multiplyScalar(t.rotateSpeed);let En=t.domElement;En&&(Be(2*Math.PI*N.x/En.clientHeight),_t(2*Math.PI*N.y/En.clientHeight)),z.copy(F),t.update()}function ce(it){ae.set(it.clientX,it.clientY),Y.subVectors(ae,Q),Y.y>0?Ze(Se()):Y.y<0&&mt(Se()),Q.copy(ae),t.update()}function qe(it){A.set(it.clientX,it.clientY),G.subVectors(A,D).multiplyScalar(t.panSpeed),ot(G.x,G.y),D.copy(A),t.update()}function ht(it){it.deltaY<0?mt(Se()):it.deltaY>0&&Ze(Se()),t.update()}function wt(it){let En=!1;switch(it.code){case t.keys.UP:ot(0,t.keyPanSpeed),En=!0;break;case t.keys.BOTTOM:ot(0,-t.keyPanSpeed),En=!0;break;case t.keys.LEFT:ot(t.keyPanSpeed,0),En=!0;break;case t.keys.RIGHT:ot(-t.keyPanSpeed,0),En=!0;break}En&&(it.preventDefault(),t.update())}function et(){if(ge.length==1)z.set(ge[0].pageX,ge[0].pageY);else{let it=.5*(ge[0].pageX+ge[1].pageX),En=.5*(ge[0].pageY+ge[1].pageY);z.set(it,En)}}function Nt(){if(ge.length==1)D.set(ge[0].pageX,ge[0].pageY);else{let it=.5*(ge[0].pageX+ge[1].pageX),En=.5*(ge[0].pageY+ge[1].pageY);D.set(it,En)}}function Ot(){let it=ge[0].pageX-ge[1].pageX,En=ge[0].pageY-ge[1].pageY,Ln=Math.sqrt(it*it+En*En);Q.set(0,Ln)}function an(){t.enableZoom&&Ot(),t.enablePan&&Nt()}function fn(){t.enableZoom&&Ot(),t.enableRotate&&et()}function nn(it){if(ge.length==1)F.set(it.pageX,it.pageY);else{let Ln=nr(it),Yn=.5*(it.pageX+Ln.x),br=.5*(it.pageY+Ln.y);F.set(Yn,br)}N.subVectors(F,z).multiplyScalar(t.rotateSpeed);let En=t.domElement;En&&(Be(2*Math.PI*N.x/En.clientHeight),_t(2*Math.PI*N.y/En.clientHeight)),z.copy(F)}function Ye(it){if(ge.length==1)A.set(it.pageX,it.pageY);else{let En=nr(it),Ln=.5*(it.pageX+En.x),Yn=.5*(it.pageY+En.y);A.set(Ln,Yn)}G.subVectors(A,D).multiplyScalar(t.panSpeed),ot(G.x,G.y),D.copy(A)}function Xt(it){let En=nr(it),Ln=it.pageX-En.x,Yn=it.pageY-En.y,br=Math.sqrt(Ln*Ln+Yn*Yn);ae.set(0,br),Y.set(0,Math.pow(ae.y/Q.y,t.zoomSpeed)),Ze(Y.y),Q.copy(ae)}function Ft(it){t.enableZoom&&Xt(it),t.enablePan&&Ye(it)}function Zt(it){t.enableZoom&&Xt(it),t.enableRotate&&nn(it)}function mn(it){var En,Ln;t.enabled!==!1&&(ge.length===0&&((En=t.domElement)==null||En.ownerDocument.addEventListener("pointermove",jn),(Ln=t.domElement)==null||Ln.ownerDocument.addEventListener("pointerup",Wn)),Fn(it),it.pointerType==="touch"?De(it):_r(it))}function jn(it){t.enabled!==!1&&(it.pointerType==="touch"?Ut(it):Vr(it))}function Wn(it){var En,Ln,Yn;Xn(it),ge.length===0&&((En=t.domElement)==null||En.releasePointerCapture(it.pointerId),(Ln=t.domElement)==null||Ln.ownerDocument.removeEventListener("pointermove",jn),(Yn=t.domElement)==null||Yn.ownerDocument.removeEventListener("pointerup",Wn)),t.dispatchEvent(a),p=c.NONE}function tr(it){Xn(it)}function _r(it){let En;switch(it.button){case 0:En=t.mouseButtons.LEFT;break;case 1:En=t.mouseButtons.MIDDLE;break;case 2:En=t.mouseButtons.RIGHT;break;default:En=-1}switch(En){case Xx.DOLLY:if(t.enableZoom===!1)return;Te(it),p=c.DOLLY;break;case Xx.ROTATE:if(it.ctrlKey||it.metaKey||it.shiftKey){if(t.enablePan===!1)return;Ae(it),p=c.PAN}else if(it.altKey){if(t.enableRotate===!1)return;we(it),p=c.ROTATE}break;case Xx.PAN:if(it.ctrlKey||it.metaKey||it.shiftKey){if(t.enableRotate===!1)return;we(it),p=c.ROTATE}else{if(t.enablePan===!1)return;Ae(it),p=c.PAN}break;default:p=c.NONE}p!==c.NONE&&t.dispatchEvent(o)}function Vr(it){if(t.enabled!==!1)switch(p){case c.ROTATE:if(t.enableRotate===!1)return;me(it);break;case c.DOLLY:if(t.enableZoom===!1)return;ce(it);break;case c.PAN:if(t.enablePan===!1)return;qe(it);break}}function si(it){t.enabled===!1||t.enableZoom===!1||p!==c.NONE&&p!==c.ROTATE||(it.preventDefault(),t.dispatchEvent(o),ht(it),t.dispatchEvent(a))}function ct(it){t.enabled===!1||t.enablePan===!1||wt(it)}function De(it){switch(xr(it),ge.length){case 1:switch(t.touches.ONE){case Kx.ROTATE:if(t.enableRotate===!1)return;et(),p=c.TOUCH_ROTATE;break;case Kx.PAN:if(t.enablePan===!1)return;Nt(),p=c.TOUCH_PAN;break;default:p=c.NONE}break;case 2:switch(t.touches.TWO){case Kx.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;an(),p=c.TOUCH_DOLLY_PAN;break;case Kx.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;fn(),p=c.TOUCH_DOLLY_ROTATE;break;default:p=c.NONE}break;default:p=c.NONE}p!==c.NONE&&t.dispatchEvent(o)}function Ut(it){switch(xr(it),p){case c.TOUCH_ROTATE:if(t.enableRotate===!1)return;nn(it),t.update();break;case c.TOUCH_PAN:if(t.enablePan===!1)return;Ye(it),t.update();break;case c.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;Ft(it),t.update();break;case c.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;Zt(it),t.update();break;default:p=c.NONE}}function Kn(it){t.enabled!==!1&&it.preventDefault()}function Fn(it){ge.push(it)}function Xn(it){delete _e[it.pointerId];for(let En=0;En<ge.length;En++)if(ge[En].pointerId==it.pointerId){ge.splice(En,1);return}}function xr(it){let En=_e[it.pointerId];En===void 0&&(En=new Vn,_e[it.pointerId]=En),En.set(it.pageX,it.pageY)}function nr(it){let En=it.pointerId===ge[0].pointerId?ge[1]:ge[0];return _e[En.pointerId]}e!==void 0&&this.connect(e),this.update()}},bKe=xC.forwardRef((n,e)=>{var t=n,{makeDefault:r,camera:o,regress:a,domElement:c,enableDamping:p=!0,keyEvents:g=!1,onChange:_,onStart:b,onEnd:C}=t,k=Np(t,["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"]);let B=Ed(_e=>_e.invalidate),z=Ed(_e=>_e.camera),F=Ed(_e=>_e.gl),N=Ed(_e=>_e.events),D=Ed(_e=>_e.setEvents),A=Ed(_e=>_e.set),G=Ed(_e=>_e.get),Q=Ed(_e=>_e.performance),ae=o||z,Y=c||N.connected||F.domElement,ge=xC.useMemo(()=>new xKe(ae),[ae]);return vF(()=>{ge.enabled&&ge.update()},-1),xC.useEffect(()=>(g&&ge.connect(g===!0?Y:g),ge.connect(Y),()=>void ge.dispose()),[g,Y,a,ge,B]),xC.useEffect(()=>{let _e=Be=>{B(),a&&Q.regress(),_&&_(Be)},J=Be=>{b&&b(Be)},Se=Be=>{C&&C(Be)};return ge.addEventListener("change",_e),ge.addEventListener("start",J),ge.addEventListener("end",Se),()=>{ge.removeEventListener("start",J),ge.removeEventListener("end",Se),ge.removeEventListener("change",_e)}},[_,b,C,ge,B,D]),xC.useEffect(()=>{if(r){let _e=G().controls;return A({controls:ge}),()=>A({controls:_e})}},[r,ge]),xC.createElement("primitive",Vi({ref:e,object:ge,enableDamping:p},k))}),uN=to(ps()),eL=to(ps()),Gye=to(ps());function Vye(n){let e=(0,Gye.useMemo)(()=>{let o=n;return{get current(){return o},set current(a){o=a,r(a)}}},[]),[t,r]=(0,Gye.useState)(()=>n);return[e,t]}var EKe={transform:{position:{x:bs.types.number(10),y:bs.types.number(10),z:bs.types.number(0)},target:{x:bs.types.number(0),y:bs.types.number(0),z:bs.types.number(0)}},lens:{zoom:bs.types.number(1,{range:[1e-4,10]}),fov:bs.types.number(50,{range:[1,1e3]}),near:bs.types.number(.1,{range:[0,1/0]}),far:bs.types.number(2e3,{range:[0,1/0]}),focus:bs.types.number(10,{range:[0,1/0]}),filmGauge:bs.types.number(35,{range:[0,1/0]}),filmOffset:bs.types.number(0,{range:[0,1/0]})}};function AKe(n,e){let[t,r]=Vye(null),[o,a]=Vye(void 0),c=(0,uN.useRef)(null);return(0,uN.useLayoutEffect)(()=>{c.current||(c.current=n.object(`Editor Camera ${e}`,EKe))},[e]),TKe(a,r,c),MKe(a,r,c),[eL.default.createElement(eL.default.Fragment,null,eL.default.createElement(iHe,{makeDefault:!0,ref:o,position:[0,102,0]}),eL.default.createElement(bKe,{makeDefault:!0,ref:t,camera:a,enableDamping:!1})),t]}var CKe=200;function MKe(n,e,t){(0,uN.useLayoutEffect)(()=>{if(!n||e==null)return;let r,o=()=>{var g;if(r){clearTimeout((g=r.scheduledCommit)==null?void 0:g.timer);let _=r;r.scheduledCommit={timer:setTimeout(()=>{_===r&&(r.scrub.commit(),r=void 0)},CKe)}}},a=()=>{var g;r?clearTimeout((g=r.scheduledCommit)==null?void 0:g.timer):r={scrub:Em.scrub()}},c=()=>{o()},p=()=>{if(!r)return;let g=n.position,_={x:g.x,y:g.y,z:g.z},b=e.target,C={x:b.x,y:b.y,z:b.z},k={position:_,target:C};r.scrub.capture(({set:B})=>{B(t.current.props.transform,k)})};return e.addEventListener("start",a),e.addEventListener("end",c),e.addEventListener("change",p),()=>{e.removeEventListener("start",a),e.removeEventListener("end",c),e.removeEventListener("change",p),r&&(r.scrub.discard(),r=void 0)}},[n,e])}function TKe(n,e,t){let r=Ed(({invalidate:o})=>o);(0,uN.useLayoutEffect)(()=>{if(!n||e===null)return;let o=t.current,a=p=>{let{position:g,target:_}=p.transform;n.zoom=p.lens.zoom,n.fov=p.lens.fov,n.near=p.lens.near,n.far=p.lens.far,n.focus=p.lens.focus,n.filmGauge=p.lens.filmGauge,n.filmOffset=p.lens.filmOffset,n.position.set(g.x,g.y,g.z),n.updateProjectionMatrix(),e.target.set(_.x,_.y,_.z),e.update(),r()},c=o.onValuesChange(a);return a(o.value),c},[n,e,t,r])}var PKe=class extends ni{constructor({divisions:n=10,scale:e=.1,color:t=new Ir("white"),distance:r=8e3,subgridOpacity:o=.05,gridOpacity:a=.15}={}){let c=new xm(2,2,1,1),p=new Eg({glslVersion:YL,side:mf,uniforms:{uScale:{value:e},uDivisions:{value:n},uColor:{value:t},uDistance:{value:r},uSubgridOpacity:{value:o},uGridOpacity:{value:a}},transparent:!0,vertexShader:`
          out vec3 worldPosition;
          uniform float uDistance;

          void main() {
              // Scale the plane by the drawing distance
              worldPosition = position.xzy * uDistance;
              worldPosition.xz += cameraPosition.xz;

              gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);
          }
      `,fragmentShader:`
          out vec4 fragColor;
          in vec3 worldPosition;

          uniform float uDivisions;
          uniform float uScale;
          uniform vec3 uColor;
          uniform float uDistance;
          uniform float uSubgridOpacity;
          uniform float uGridOpacity;

          float getGrid(float gapSize) {
              vec2 worldPositionByDivision = worldPosition.xz / gapSize;

              // Inverted, 0 where line, >1 where there's no line
              // We use the worldPosition (which in this case we use similarly to UVs) differential to control the anti-aliasing
              // We need to do the -0.5)-0.5 trick because the result fades out from 0 to 1, and we want both
              // worldPositionByDivision == 0.3 and worldPositionByDivision == 0.7 to result in the same fade, i.e. 0.3,
              // otherwise only one side of the line will be anti-aliased
              vec2 grid = abs(fract(worldPositionByDivision-0.5)-0.5) / fwidth(worldPositionByDivision) / 2.0;
              float gridLine = min(grid.x, grid.y);

              // Uninvert and clamp
              return 1.0 - min(gridLine, 1.0);
          }

          void main() {
              float cameraDistanceToGridPlane = distance(cameraPosition.y, worldPosition.y);
              float cameraDistanceToFragmentOnGridPlane = distance(cameraPosition.xz, worldPosition.xz);

              // The size of the grid and subgrid are powers of each other and they are determined based on camera distance.
              // The current grid will become the next subgrid when it becomes too small, and its next power becomes the new grid.
              float subGridPower = pow(uDivisions, floor(log(cameraDistanceToGridPlane) / log(uDivisions)));
              float gridPower = subGridPower * uDivisions;

              // If we want to fade both the grid and its subgrid, we need to displays 3 different opacities, with the next grid being the third
              float nextGridPower = gridPower * uDivisions;

              // 1 where grid, 0 where no grid
              float subgrid = getGrid(subGridPower * uScale);
              float grid = getGrid(gridPower * uScale);
              float nextGrid = getGrid(nextGridPower * uScale);

              // Where we are between the introduction of the current grid power and when we switch to the next grid power
              float stepPercentage = (cameraDistanceToGridPlane - subGridPower)/(gridPower - subGridPower);

              // The last x percentage of the current step over which we want to fade
              float fadeRange = 0.3;

              // We calculate the fade percentage from the step percentage and the fade range
              float fadePercentage = max(stepPercentage - 1.0 + fadeRange, 0.0) / fadeRange;

              // Set base opacity based on how close we are to the drawing distance, with a cubic falloff
              float baseOpacity = subgrid * pow(1.0 - min(cameraDistanceToFragmentOnGridPlane / uDistance, 1.0), 3.0);

              // Shade the subgrid
              fragColor = vec4(uColor.rgb, (baseOpacity - fadePercentage) * uSubgridOpacity);

              // Somewhat arbitrary additional fade coefficient to counter anti-aliasing popping when switching between grid powers
              float fadeCoefficient = 0.5;

              // Shade the grid
              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity - fadePercentage * (uGridOpacity - uSubgridOpacity) * fadeCoefficient, grid);

              // Shade the next grid
              fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity, nextGrid);

              if (fragColor.a <= 0.0) discard;
          }
      `,extensions:{derivatives:!0}});super(c,p),this.frustumCulled=!1}},kKe=to(ps()),Av=to(ps()),IKe=to(hF());_K();function RKe(n){return Kw({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 5.511c.561 0 1.119.354 1.544 1.062l5.912 9.854c.851 1.415.194 2.573-1.456 2.573h-12c-1.65 0-2.307-1.159-1.456-2.573l5.912-9.854c.425-.708.983-1.062 1.544-1.062m0-2c-1.296 0-2.482.74-3.259 2.031l-5.912 9.856c-.786 1.309-.872 2.705-.235 3.83s1.879 1.772 3.406 1.772h12c1.527 0 2.77-.646 3.406-1.771s.551-2.521-.235-3.83l-5.912-9.854c-.777-1.294-1.963-2.034-3.259-2.034z"}},{tag:"circle",attr:{cx:"12",cy:"16",r:"1.3"}},{tag:"path",attr:{d:"M13.5 10c0-.83-.671-1.5-1.5-1.5s-1.5.67-1.5 1.5c0 .199.041.389.111.562.554 1.376 1.389 3.438 1.389 3.438l1.391-3.438c.068-.173.109-.363.109-.562z"}}]})(n)}var OKe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQBAMAAABykSv/AAAAFVBMVEUDAwPv7+/Dw8M3Nzd5eXmdnZ1YWFh6HLOtAAAAB3RSTlMSEhISEhISn+TpXAAAKwlJREFUeNq0mclaQjkQhf9UJVkXg64jKOsAwjogsA4KroMK7/8I/fWgrbZTT49wq27O+c8pUIMOa4dR6TrxOoDdgX6JJFaHp8fHUeEyu3ryrE4kHgoFNd9NZSZxSbw19HAFtzgBIFTl3iVAWbCroF5vPAl0SkGRfMOl6bXojcLlrXPKLefSfJhdGjDLMXYvmjwA89hzy+hDvOAenJZOdl2zLEgr80rfHcZAUBHdPMFScass17BDzCApzpeE0Lr3pYjjBCVUqCDXuVkChafmzi0/Mg9YJYqGkswec3GUSa9iA2CYfGw78+IqhC7R74xt2yN4S+wa6+1F6HNVCIrlSjICqoBI8lZXpk+3Ny20CR36rAtOoaG3l1mJDRUwomlCTemzBRktwMrUIR0ZEMItjZ7P/two+yvaBqOgyIZaUE+KVINTEpEgaFYXqk7pNZMQDFiyqbjY1zjDnh4w9j7Y8yRPsPhkkiq5dHdfT5Jo3NNsFyAApQvXIrNMMRH6ddzjDgjg7kvBZSb5akltfk9TBFCh+HTMeql1IXpAWgC/G44h+Rs6MZ24TCktwxmiBMjLjQgS3FK7wCKPKSUZ2ajQiOSDjp4y44FeEfAlnSAnHByYwJjsSjAYPBnOxwwcDgsRyKV7GeJiyExYhUzk+ujv8prp3opDIIC3jcvmY7KEO5tRR4Ltig+xEHNw5cKjsoERYRqoi/BIjSVc5Anm1IhQaWmiR3r3q7Chzv2KXOSau9Nlni+jBSbV/C3rtiCKz4Gu1BQeoWZjv5Y2R3feCVyFgmZoQDFJfUfNu1ZPsTJobPPcO0o3hQbRh0mOlaPcaugRPQBRgiNmD15JCJB85RqpJpQE9Twq3sON4eBoNIc3dn9d//HD9dc367/6av2K372byPRHE9EPJpLdoVIoLvrgb50eI8eaH8nMFMdiCyHDBuFhpq5VUeOcdOOcK0vVtMw5YJh10IIT7x0RUOou3Y12zIAbx1WMaEp1OPach610oKUx4BAHzoiVeyge8EGbR6Y9DgXqXeiAkhLUg2uutK6hj7VVl1CQGT0oLCSbNPYJI4drnHHynVKgGwrEBUAcuCouJsw2CphjjhIr2SUcJi74SpVMYgzOfDVHwCVLZZIIK3MrmuA355vT5Am54SzyFy3vS/Ey273X8tNvWh5CvODuWcvPnrV8WunLw7gM6PjskimbPomSfIRwkLukdNtWZZSyMnZ97kgd4WAhswDnyZkog248HwFuRfFuWx0xgADtOKe2PMzOHIUcXQeZEyYj2Ycic8jEDZ2DxqytugAt5Z04F6ce83oxw0kCmVA2YUFJZ8A20dZbwnmoJBZC2OD3XdsW2UHNTgPioJIzkAYsgl8wX1/OudfkzBW/A8tEmA1uyM4yhsEgA4dqenGHv+5CrP5GWvPkc4D7fIfUixBZLLPH95DSqOA7JVUnQUktQKrUcFuj00NhUdj3yETPEgKxdUM5TjTqA+KBOuySY0yEmnWSGZXA+SaEAGgjJdfcILi+2HJRNYONQ7hfm0ie1uCu0zD1fSYiloLzKQTLlidzQWl+NKk1BbkgdcHO7jgNe5BIBh04EhqeApQ65xt5Ni5skKj7FHH5hsWB8OuH+ubwkBm14CEXoQUH8UBNqSamZNszzW7uSHUL+BSPYIeSH5OLm+TwtSyAmlO6PhW8Zfo3DAuhcOFAyNhKyCm6qydPstjw7CEAw5vohOd/CuDRx1RbqpAWfQlYqlkiFQkE9nuazfv4PmGbFUrxCSonl3bxLuV2nUgFgoyT0h5gr0yHyBPVPbVaKzBHhHO6qXbKhb/sMgWnVvdPW9JQZ9TeUiau3EDjIlBtSdqqaBw2I0eW7SoIdWAiQ5xb5/gwzsiLUvGDPzPD5pM/M573LSXUu0GpT92mNflyB03v63ruq862HiNBhYVvPUd5cAKdWoO05GRFqU/wSO2LFfJlQxp3rYZru8+BFbc9TQ4bQyMQRdO8uslT2bWgbVXVMyxhjkPxqTtGD+ApS07k0cD3CaRCVwgOm+pYYxr3URwgAbzB9OLWdWqjk3IC0OgcpdqZbUp1PkF68DwozZLzwsA1Cxo2IbYjMiL0tBXzbsA90Mr9kCOxXqW8zZQCoC1V45ECJQdIIKzRwsCRvEBwrWV4EZXtz0Xl4dXq/GtR+WN1qfM3Vrf52erC0xerG+XA/F+Buf+/wHyUlY7icCBDIF45JmeZm0WCNas8ihR1DfCPIUOOLB+f35FLOLf/9R195/jjvzi+/IeOzx+On3/u+JjDrK4JDJFP4uLiJS4eT89x8fGjuOj/iIsPb+Pi9HVcLM9x0UCn+SUufogYYXb1CWK8j4s8L56/lci+XPzxz8UrhMeQGYjV5vtDCovMZST8NT5MnuPD7Ojv2qv44N/Fh77/PT7cF+9f4gNjFgOvNa0SxwuYdyshYQmAPTm0LkD2FtZALte5CDDNHjLDkGXBtKTrnAnrZJZDcm1EGe63gA5ph8E5owTaDrmfWq0PFhrYtevR2TolMfI6w5Xz8zNJzm7oOrI/FMELpcG9XQnZjYLlwVHJap0SsjhLscMd3uBjBlMUXxwQjVtQCEUBAGq4fpIwh0HbztjczrtyU7tyLDvwlXahleZzKMblfa7Ekj3Dpn5WoPaM/NB1Ss8yXJSyBKCPLORAl0QiRPUQ5DJnANGARy0R6uR6XxxdjSNW0NIRSHEFPXTodilEljWSSUBOnmW8Y1Jm3tLcGFFhvZwawio7e4hNliI+bSsJKuovW6qk2k/jBL6n5r041BEgQtNok6cbtFsnlcpK/k5bYN+3BX8+q8u/Re7zqpfucKhfk/viLbl3/yD35Rty7/9B7vUjcm9vyf30yV+zhZLlc79sBT8GI26JGAtCiy6UBBW8S2hJozu8IyW31k4OGahwdvQwRIfy27bX/2DbF5WUf7rtb60vfWx9+w+s7/wL61v/poDlRQHrW+vjtQKevbW+9wp49aEC8jG/61t+5xW/lz/4/fIdvz98we/+CDb+k99DrT/n99VX/P6SCflqxP1vTaZ8bzLf08XtByMef9VRtQ86Kn5ej6iXd/VIfFuP5Mm39Uh9VY9EfVuP7D+uRx76goW4R63IpllbccTRBboUf4+zGnP3jRaXaqracT1fOaOh6GlaS+5Lvr9gCK62tPwX5J9g2rl1nfQd+S9fkX95T/7lNfnf/UH+NGalWELqDqYQQTk/w+OxVuo62by2uNeIorVh/szgDnyjxmHN54E0xjXx2azvU574oVIdzjnjGiyVYjSghbAMk2PRCj5bqK0xkSBTK67t7cKIohYvSnLUY2XsuTy56EusmEvgkmfd6AQeXXJc6g61c+Gqw4sDtJ91Nx86QPmBA8w/dYAXbtB/wQ08T62+TG3269Rm/3Rq+YupXcpwKlgBwuOaFsMQR6Qh1qXiIwaQb0h3w4Z1D1B9QKB0r5xcifdYpzWf7aTZsTH2qkhTfhY7WwHgOXZ+Y6Ol4Mf5jY2Wj2w0fGyjvX9io5gjTy0/aKeQMSBVWICOz1KnG3FdFQByM/PBua1/CtgSJKYSU1YnWEl/qwv3HoD5p114+ksX3vtrFy6vunB+tan6bFM/q5l4sSn9wKa+ry7lubo8va0uF8j31eU0v20Zrv9oGbDx6QbtpvdIqp8iqXt3wKq/Iunq0wNW+PqApX2Nk5cDlv/JAYuXA9brxuFTra9/S+vTj1ueVv/y3MK/pNbhHZ6XU4h+fBz68hTy3uuP773+4e95Pb96/fAX4s1mOW0YjKJXv2uXAmtRqNeCBNYKSbtWgWRtHML7P0LHBGNAlmRBOl12ppNFCJ/vPfe4mUISnvUIXxM3lHsr2GP7NVk2oTylgu2dChb5e0en/bt/2L9fkzcTUm5tfDOx4eb1TQ6b5rXyPHe7XlmuNKMUWevi+HhxZcuUxVEFF8fj4EyvF0fbsjjiiEuYi0v4JS7hbbjEVLhk9QSArRtcIttxCT5xyQemJs/7n7hkUOMSecIlsxqXlB5cYhgDih8jtS0LAH3DYQb4xLvvoc2It2xGqiHzQx/eVWd49+Ea78oD3p1d4F0/mecHvLuryLx1yPx8ZyYFqn/Rqt0+x9rt5s5264LdeLutq1eU7+Xn+szHe4CHPlJZfoE+szmcj1cMK3Djm1xrfcY9HxN6Oh/2MraDSgtQfLwIAq2n2Tf9C8RKQGPxPueMmLEoq0OCgaT8gKGxJHmGhwwwXChZMFqqJwNLOYhSsBlhnvg2S41vQ098o258A8Bb6Cxr+/RmoeKsDnSWfcodAjYXYbmDvsPyr5M7sIB+3gCCTMH4SGWaTBlA+5wrACAGkyzPiKKggC20Aezo+ViBtIXBlAKvcv1rc6gjZcENZKfPWXk/Zx78nO3Z57w8PkAGt2dp6WTpo1ZkE7ySFK0ItVYk2rQizCsmrCsm7OUQPYdDrF0OMU3gEKnZVFfZlEQWyHOUwIIowS3F4u5SLNtLce+qFJuqFNOWUlycSrEzr/jtLFHPK61f4IXA+kkEvsB5/AvMqGwJ4A/dAnhcl6z3r5l7772gvk+30+reS01cTGNPoN7GQP2wO6jXsg8Iof9kgKYUEDLL0Zekmq/mUqAHaGBsiYYEz8YEbxArEDCsDb5BFk99DhC1AbDLAGCpBlBZCUJ4oQGCjB3aChh6QEaguq+Wu33wKc1ryRX05o1n9E83HnK18diLjWd/VagzihTLa1FbXtrw3wWFnIDjuEIatW9dIVnSCklPsXoCs179CcRqfblCwmESiToVb5FWlCOtJERjc2U+rGvzIRKNa4ygjqfaeE513oHa2RBGMF0xgtuzdzW1C3wNED+lc+8pTRddZUTrDO4WIsQyHBi9MudXbt+IhFEYnTRiqwZGF3eP2H1dAIExfNn157hj+CH4wBt8xqcBBlXwKarg8+My+EjV24aDD7sMPo0bdT+ktl+x9T7Glv32rRcP0IPVSBKM+EAAEpoKgBiGBTEgWMj+bAzU2FlRCSCzgNSmFKz6z7SL4MkbwZPfJHiKsOAJ72/gDrCmbncbrM9tMJE3IXxD7OBe2yfH/DyOaqdPpsVRGruhsADFrm5yvU5Nbpxh4W9yzeDS1uSSBhd61thNhQL9Lx8ESLvykXbjJ+0BnzJ+M7YQxvOIjKNo3GACLo7uv3VMwP/o/ie7gwrid5Mj30I50qqdP0em49kiD+VIZOvvHB/YKa0XEFAbs4YA0w8oPGf5kdjIWV4KSSlAE717fp93r9UzLFE/Kd40BCMQG5uzxiN4iXgEmkGmewTzC49gfuER0FsW8UR1Lz2tKCetxHWRH44uEk8rOO+Psn5Jsgxarw3lxYHyNtbr2jsSTSLWq9v6iUN5wyORXiTNNNYL8GTLTJPwYhgNvxdoogCvQ8V927unSQLbY8V9ubHi8taK25ymcbzi1ssRNUNk7G4dKeXB+c/CNv4Sd/bqacNQGP4s25rdNmRWcWBWSprZBZLZCZRZ/DT3fwl9AiixfWwdH5y0U6YMgC0dfT+vBp1EbrpPIglzEmGiYGIJFjRbQWthvz62FoaeFp9Mx2iWP9KW3k5c/1fryx9FvDlLIN87yh9FwZc/NsQdpL2d4tzb2S3iO7NFGU8iPJhkk2Rwp30QtHqmkswau7uPmtUze6ye7fMMyDqqZyXyrUS7TE7a5XS4dolBRUevT7hP0SdEO3VtvaWjoKuut34UfDyvt+O+6+2sst7et623v5tOfdxYb2mxYZofnfq9LzagGjL2JUGa3nKBkHFOQ8Z8eitpWWH49JbrXmGEz+pusM4+Z9pBZE7aMnOSd8OrZqjuaYaOFxoAYGpm6JKaoYeaGWo0YKEDpjdjhgaO0F+xukRe+NJiV9uQXe1ZBIzbpcUS7cpLtMAlM1EZudA7WnTPRNNT+WhP0jS+fJQ0ykfmnKYxtTTN/D1Nc4UMtgRm+IIsQQz3JUPusBq7SblG7iwslsgAbJFmgAXWsMe/QIrVY2FWDmqafiuTP/nW3PyMzHSdFsADtMp+QmOBdQT1sE+BQ4xCdT3GWuTpP8f52dOfVx9jPpezCeVy6M57IDtv2wnUBpPsZf0EGpe2dgI1LSdQP+0KarfGm94d0+6Um3apTDT5ACclVN9huiXuAqRM34ATzmvOc9RT0oRys95BUtdivkBWGomrQdLhpZFMFWmB28gZ1IUgNUgIQrFLtUCf/0gAAwAV0BT7t4szrymmnKaYEE2RKoRypxmvU4KrTQkuoKZwmTkbzswp2iG+b4/cwiOnbjymhFFT8PlJgf7R+33DMXEVx4RjR+F1KL71bd89bfvS+Cq/4aYoRpPzhmsArTcu1bH63L33jXX1UKkKHIKsK+erAv+TGvbQWOJDwRYufqobwZZdn4E76xAm1xVh0r9KfPwU5/hpfIX38wUuOl9smzkex6VtWR3Wf1w0Pq5+/7jX5OOi0MbqqCP2zuup9wI9lQ9EDgBtQegR8xCg8qjEpJk19odXYpRXYsZAdvUKAcq6IUAF8q2Nj0oMqkrMdVCJES8Om8GD+ZiGbWMStpWGquseoqp4iIrnh5UCfph0v5d7iOyOdtsr+3ZNdjQ2+8ZnAF46y2SUK9nTgkorFtSu1YJah5LCY+SywIy8sSwDqYyq3E1SHCBBUiJhcr2jgrDa+kmYcwDM8yl3rB9fWh3rbX+Zcklkyg4J5FQoOkkgAnt1SOF41MxWOyZb7QvHCgpYvBaORypJuwrHMEBVMS5Ioo31f0YB/4f3dtcCFIAOowBARVt55faf0QJ33bTAIY2OYPGazwElldnoWgUrgT96zEZdRpDl5Cg5WMHEskCElbQh8KGIzw9aAg0b2qEIKlQAiyYMaNm+N9+Tnt4J8mHN96i/O4vAu7YXWLBSH9XFGxolnyfVlmWRKld2qrm26aM2+ca3nQCer3UAT+IBPB6gqesATSMA8PQEaOZJ4Pe9nIzoAoEELsnHht3vpFwvDEy2Li9hfL9QxrcQkUB1D/kGRvsZ/Esl72fIyZQ1oUeMh2e0/AFCjxhGeNLh1l6HI9Q9RocbIYMbqMOBPWrPe3hgAKCHy8r8GN/Yw8Y9MIqRoMCEN5Jqn03ABJ7XeUfVvnjbBBbvm4DvEy15S6/nDAWGySbc8tOyeBIw2QRb/k19yyeTd9/WrxpBxW2tX9d6mcDS4nYSk81WRrtzkm8WYcqf67u0lHKbMAaS3pzTiLsm4WylrQAk51xGWs1Uq3crrWhYab9DmerdhVaa6ckyN55l7mXM4/IVdyqFZcDCN1ULnyRR+DKHqh3idlF+eRJlpIG+X1FCvqJA5k6Aey/xrZK545RedOaYEKrdUMgun4uRYxxW/B0dfHXx/BNdwcZuBGSx2y4mFkDhAEDBOCBKAbhEG9OEy8dvcPlJN1x+eYTL38vh8iMKl88rcHl1hMuXv45weQsRovpS0W59z+z2QmjyLCWinVD50B6G5JFzrPLx5JFzNGUvR85RVyjyrlBzb30UHKcFYefNBarWXlDa3lgEYAVMjfdfMiV50fPfYaBXQeM/U0qlUZC5VzHSU2qkQ4B/nciSPDFJ8pQ/T0me6OlrMZ5ZEyUAsLkrNdyzhYHTwPfIpEDhIgDQiVXp7QuiaJohRXFUmKNxmY1LU5ZRdK2xiLSbIUNLkYbBZzyxnGsa3I4/PbgN4pe353Ed5V5wtH60JW0OtaQNB7dLWk2mdrjdwPs/5GlGhstrKmlGiXx8sr5HvPXtByIISggbKC7YPTR4sfMPEoL3ZoC5PoFJHwYAXRzfp3Z9AgV00UI1lj37qoU5ENmA6avO+FJYECdIA9BRMZ2OPE6wnsfCaeZ99hdLyKrmM4Lr4GfeWQf5yJCZV4QZRzz/pCupkuOVVF29oBemFyRIo+DINAKpNYZiOMUALhlRKK4PLQpFB4+fv0+LECtpxp6XGn3kLxZIjQkb+ds1Uz13IakRiabpXS85yK9P+0zJgZyna8kp9MwwJcIMk6EZJl6Z0F3KxJxXJlDabzzAvgPFrj6IOhfh65c26lzUlYyY+mREqjyKvWa8/GgxXg7iy1XlPoSmnYK/zJ1Lc9NAEITbep2VgDkLnOS8eThn8TwLHHJWTJL//xMoOTFImtXMth4UV4qiQGx2dma6+ytZXgX4ISwLS+QbxYrhmu1eGsUwEi0fGfmgkmjtq/kLQaI9bGpxnCq09RQE1HWqd/9uri+J7u9WCcA1EdV5HfbdlZJIDu31eOulgbpK8CnLUx4d7KKmJzzTbt7BYJdKuHn9D2UUd6Mmmt+Ts7WOy4zauEyX9zB/m6Mw1w0Kc1NEt+FgX4jVOnyX4/TVOvyrdSdX6y5ktX7V9/2HLZbRXiwXhMHDeu3ZHmF7M3OHN6vCEYoTDYoyVnHCsMUKdYRIIQZEZqyNGPCnFZz5pb5bQur7sT/0UpQr/0LIUfOp82dephrxApm7OfwwpRJK2DKxeSSWKNlxiSLko0RUEZU1Di3Pz6Z3psRicTslH96OlyYafKH32x8kCDmv96vnJxmFyi5PrDJWx4WQXRLsYiG7ZBU3mKtTYDWdvIAnU/NO5piDpLauoGrNQa4jxHHbQXbazEFUXUF2mNnV2swOGgRpG9vBwctvvKR3ffV93d14JaiVXbCduFay/a9afSLzVOviqRB/W8mI5yf72VeyMbJj5RA9LcOniKgr5IIcNsgygTqP8o9VBdTxH1lK+fZVlnK4msuyJ0v5lSRFNSxL+dmTpdR9Wcqzp4lzG6wUWYrRxKWowA1KeFMuPSjhT0HSnAJoQSq7bGNMVP+R1+zDiek1Az7VfYfrleJwTV9ugP+Nl18AHORDJtPHDWUPdoEpsUoJoi4ZjrItx6WcoXFyPNITY5tROd5vgM4lOFe/w7+jDG9MYXqfIH51vDFxRX3ne/0737LcDd7Hxads1tH9wnbKb65FT1PlQJUwQQuBmgJfHMGZYAVqIumYsZnz2VxHIJUJS+WTaIlTQMgP91rHueGZMbdax1k2HScUQ4hsT3VX4EVbFSXZi8uqokDAfEcuTOtJ8748cN4nZlNiFUcwpZcT+Nox2vB93k9L7aPzEb44BGbctRgz45Kd/anaeShcbx/DHXEUda7dZTsVR4EQze/lI4FHEZxtE4+S25xt20SKJE08S4TqtorPIoJTLCOPZalcVMv92tsKy4Xobf9aLhKmt528oPwasKAs4LLX4K5qiCggM/DkTshPFHi4NP87r5SdEMsRBFzWbxK/Nk2iU1Eq73A5HqWyDWgS6YwFWP6AmxJuIp6r2FN4LnfEc1HPwBBn0WZBZ1Hx4iyq+3v4w8kQe3gVsrNt80zddjLPNPEqy9YngTxT5xpl2Ztu5s4uIHMnMDLnyYtMuPMgE/TT8UA2CXkorgI8WdXWFxs4wCgskTalpvogsn0mRSPc+6zm4xdfMm/kmOLX0aJeSm9nCE8hmZenwFkZxurkCmP8Kxg31vg3msa4QWsML54qcgyfVeKpkoW7Q2+YO7zQtFTSHYpJxrmao8Xsb+7UwtiJ4av8PcXJQE+h3CLE6JbfDdb90W2zG4zee91wuXDDxQc33NVfN1wFmz8ijZXfibkVuLnVh/Hno509knIxnwsy9XmMBCa2s81ormBGc3WuQqLeKe2sConS1a3REgszVaMdmWvTIfsMctts3LZ2bp+X+pkopt2Zgv9AOSZ/ydkg6imBe7swAmEl1pZQQAgXTMIJzXa9sdiuWypkAkdTZHIwRXb/JjGhSqPjLq5TVB+juUjdW5hXYtG/EkWeiYDT8qpCa3Jbm6pCiPSiJQRuyciEhTtiPUeELUt8wIpLEbBi6ZSwZXvY7zP8bZeTgGd9vk7ROcyn/sMs6rs8zBB1m1+pteGOat3ebZi6reJuHkSW4jFqQh07P089JHLsPLcCXNFcUoKpZAatgMhJtUPTHv+oAkC4BScRiKjCe84XXnELdQ5Y2T9gtRKOqa8cQ6EgGLlyhLxcjs2DhHc9mpcLn/wl45uvKP19/opx77Gc9tzkbCaWk93zJmrPe3mLFeL6SxUnVKA03KREEPt9e9MdR0tZ3qUcRyOZ0YQeDZnQryMZ6nYQXxMgVWcEJhwTBHW4Yd4JtCDghle+V21kBloIr4Wp8oMShElwQwtF6UVqptw4zdToLepJ4ODmhsVAvyUw0G2+RoiiphQRq6Sixu6a3cScIWBBPUyhEatk2qgp2LhU/G8+RTs4Rfs590CTYs6yZV7rGp+q4Qea+GEG0cQypflULc12EgBvjTPYQulhqf4QDi6oCe+FtlRfsaHPxmO21B+z5cTHbCpmN0qgVWt2I6dIIL4q42jhrf7PXqv/Zc/qfzpk9QchEUZGR7/LKG2535T3fCTueTtP7l/4ionTycNej60WhG/Fs7h88i4uSzbFirvrc+6uhyuV1krBeyuhymJuQ5Nx2Pv77QpIbelDMoP0gTY0lm0Yb8DSEhyGx/W6pqxnZtooGJ6FzUxzKZjeMAqmowFqpVkguTKMoDSV2IgdvCwvLt4qGFgFP5F3MuH2fzPhztr4iZ2dEmJEtmz8isj4z4deHz+0EBEqkS2KiFCtzNvhyoznFZ9Vw5+wWJywqAjIqiGg0eBw5HYgKLGF808J+NjL22b3hdGsrG9KDpJMHrdzkJwWGHqmBIaWLz+5SigbYaISuUN6KBtvomp0a6mmW7OgrXLb82UxNYeKYsijITVHeng1iAEBu1aPibV6t4C6poBSa3X/2PHhUECRQdbngv3j094fX1L1GSK+EXfIGpHt+eldINjS9aakkRZRYUd1tuSR1wPoi1+2PDIccpy15JEJOEElnQ1d81Bum0Euodwd4Lhk98tE8XMqUfz6wO4/Zll52f1C+Zb7fAsnlmMTqQiSdUPsmqTNrmlm+N7Q4ygMwZ2o7BoVzPLLF6CynL9cBpjcKSLFWIgUCyRNZP/7qijLdmR/ctl8L4eLlwCRqjq9qs5cCY/WiL8UidBZyhpwLiIS2qGz67Y1QIkZIyRPT3JYdU4NqyzJk83VkXt71II5uODkejYEH1C3A62zWdh5nL4lFhHPtr5FRjxDzZ4NTEJIjqlhJiW04iihCN+EAcjgohRYlTFuVtUramwDeHK/Xblvdv6t6zoTud/qdU3mXREZ9Vg77Dy0hEAIW4+W8En8vIrm6ExhAkSCgyWFgV/FCvWFg4Xmf6ENfEsk8O0pjTvAt0wHvu27/wt7pWgqpACx+H7jo5ldHRffESJUhyOfr5zLLxDV+e5Ngic8Fs7dIkVxV+6QInbXqNc/3mcrvE/WKX0glSB67kAmzaeoPQdyVhM+ytP7WVzivA4JkqW/+6nRNJyXpvHuYj041opGoQ7OSaoqfJRtKkF5FYIa2bzM/DZhHyd9nfmt9Zlfkl9/2B8/DkPqVdY1En9drFIC/0OTT0XXDSoO4FOMOiwO4F7VYU5PGJZMawXcMvt24alnrHQzWqLw3EcJRP+IOSenVszxvheqE12An01i77BSpUwsiOJOIFl6cLU5/39hSPZ9CgC4JcJOcrGWFO6gcdn35WCCpdVFvB8sRaDynxfwonRouxAGC81ztqA2JRHsS06b0tQ5fn8r9TcXujQW85hIFP0NpLZSMoWvCWCu4MPRwFzeVF3DAe1A3kj5e7+1uHakGTwb8fd2yuwSoWFwCIkB4x88UodY+vUp6aPx4CkBAIyLwwkXh3g9pJJP8GjyCbYBfIJhxCkG9jyMa5efetjCe+naNcBWICc98t+czvZv/uBxMgXDvLCI204WA16oSOakYViNv4tJNX5K6Eq+BmPHIqz7e6vSMwEGYU25XawRlxpK/vWjWI01KwYpKmKsGLyoqEkGsgZB0WEQ5AYHQWV7EJR4iITKIEhZJPEzMZg5AoVI71Fi8fKAPrjs+hFLupL5++DT+xl2CPL8v5/REIcADTGIV/bxBWoR5vdGAGUR3pMRVIERW+Nn/9aYQ1PLRbIMwPvQLJJDA/BsHUM6W2j6+sRXDyK5EUTdDQtLEQGf9bCwSc+47+IZR6RW0qT6SvWYo9ATjdKp4YuE1FCEL8q8wmFrBVCL629J0NhiJwCs+kp5oX4aVl8Vhmab9dxIzTZCVYmxb/G2VVSJElOe2jDujEjk+NgdCFbGG+OJe2NMp/1U46RUsDJufjd3LmtNQ1EUXrmOo0DHkUvHKVLGoSLjFMRxKNj3fwQ/aFOT7JN9OWnUR1Da03PWXvv/N2R9UM0FW/LAzBOCRCRcsFSPRAQ39e3OGxe9UOVVF6oYC2GhvhBWtAl76JJf7FDGlMwOIgJlNKmW4KdasjbYatJg23TvIpHzLpIPlNouz3cwXqHUlnZLbdjDeHEaHEptYFfuvRVUzMr9lQUzt7jVNLhekFRECcsMNGkVWl5imH0MNL8dBpousf2GLDFwYvvetLfpAUGorNeKyvolt9g+7bQoPnxpMfmSKmXk07FRPp6RDxalxf1tMlPDjU7y7Cgt9kAliztMw4EO8elnPu40HAK+4RA3DQeyuGPrvhUA4BHrv9oqyXe6SvIyjDfy47KiB/rucQlBi73w1WIXjBa7vnw/A22LXEuEbKkDhD4kmoqKxv1kIlXIiylrf/dTFpSmndqFYeOblmjVtL6A3/h2c02wv6n+IgRbJbybEmzt8G4DjiwdMvxgkgkSjR6uCd5OEmaYyGV5COugyv4ktg9tUhZD8ep8EqPdO2vM/e6NNQz3zgr2mkY21iw/Wd+Y3ln7mgZ/JfFFyojr/IVqa7+tOpDZzrT9eDsfo1aZza/g4RH7ZPeIsbDiowwZjnrlEev+q+kG3zRlNEEfa1oXGEwZLybNmUGv4poM7Xoq17qcbbQsn21sHh6yoHtvfMDntHbcG73XiJPOoUyb0vRQLnv3RjRl4KCcX5zuDuWz3juCz8eTHfF/t4pfOJkHkrUluDUxD0pv9JCrHj5pYPDktzhUSHUSgSs/nl8SN2hIAlHmax3Wp70aMBP76bFnhPOuNcMWjn2o+SDtFVqJwUbNwqv7fp9WmP1d+UT4ZPb7wOEEWtidQLlJttfYCdTiUM1YbUjQStd9qaZs6yVojWRBa456vf+M1MrPCOPDsWUlm0NW8ubOSiISfgtZCZpBPJqsxL3RHS4vMwCEUqZjv9HkhT5rHrS/oHE3fU7cIA4+fcYIM+u/qURV7koUDNtCwSFcp6+2E1fQGApBo5UQxFUvcczawkzIDu5dsk0t9XwprOBxi0t2XEjU53m89yJP5F7keN4W1KiomFyaxA+C/dLkH+ew9XP/nLoeOHvjlTanZs7ey8PZW/4ZPMLxWLuxPNZyKZnbOpO5yFIKoskcRb4fKY87dxbH75s8rjIT2+2rNzLHW65VVGoGiEyo8RX44T9y/b9a8KNk4U9/LSlleKrMB6Npa8JfS54e71RpKyYmyMp3M/KfwE3F7genYhh39daiypnn2Zmya/SLR5X7WzusTnW7teOJlJQZFgWGm82Jn2OLAVicErof49gyViVoaGBXxEQCRGW8ImYtQ1T8GiI+0WcouHY342pdwEkUhDXmQbIoyrSKVlEU1ajC5P3TkuNrVKTB83lWZ2F2V1VElaq2uieN1Z1VpfoXi+H+90a6utaZ0gp6fahrrZ2GlJzUtbADbnXrWklT16pIXauAUtIgza4/91uWZHZNtOT6kClXIByg/vq9dMaMa5Wh6ULFMJLhnVv5VoRWiSBhSVxU+SeTfeThSMSeEJKNu4WkRlOw9c0XvxjyxTQk+SJnUTPV9uHH1Khd/z3jZOXP4/qf8FkFubauggSuV9/9oEku4TOVyCX6wqiBi5lN628a7poIaRUE7n35n3+zWPfWbG3ljsBiGaYrTVjM1JamtR+vWluLZT5+axFL0l+RoVJyEnoqTA3nR/8QwxcdO/rjxOVfzccp3ah7mhi889Vxmlf9Ox/V45NlMj98u0GPv94JAvLusBzxOCWYjQDORys3g9EKaLSSEAJ4F8BbNQDe9kTOrdmetTTbZWsit7zVT+RWRLMtxALroVgATtlyotQ++7f3Ux9cV8hcLUDPgpXvD1qlg3CQHzRNlppI636wt2TmzupiTTQZmupiWM5nDDJPf/RvwM+mP/Oz6br7TdjKARmUAVlpFs57Rcf2zTTvectWiyqXu9KG92ZNUAle6ubEB5Xg7vycaYkDZebo/Ny41nnWQ8SByrrOQ+VUVRZCp5uK9GpBoQ3kH+zxdGSQX9sJOFWJhlOVE3Ihx6miPYcm59ZsKoCkPd6VIjOwM9s/+csBUIn5I5uJG2hOSEYl+tSqMT61PIPBL3IvCUgjpC6Q0snfEHThmOX358nK77LcCNreK1FQcb3XTN17TY822mMCMWPD/A5J7QWk++7ZMC/a8RXoUSooKXsQ2MLEOC57jOPynXFccYzj+KMy9tarjFGKltI3qKIFrRkMm/EgTMhBKBFc9SXv/2COza5OSWejvUxl14yc9zUj5YAcqfiACl0coEIhQuDpHSp0hTESoK1z49bdZIo8mkyPmIVlHKoQCsBSVsdFRB1nhrRsXC/52grejoeHBGAYWXzaKnIpdLKl1CVbuq2i03DzUp7jU1wEeSNbqjnZErmoWoS/P5qLqiD8fbMS5O3eNiQm/sr0If0LDemrrULI5bt67f9GKfZ0dQNLV3b6VyXcm4P0zW3B9IeGzblj8blQLn2/2/TATJvavd93u9J/t2l6hR1kglZ+7RoN+8TDM+WMnWO7FhbIvRlRGH7TqOvuEbOP4/eHCQv0tYoa193hT0Sj9rt21P4buFRXQB0a1NQAAAAASUVORK5CYII=",BKe=Tg.div`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  pointer-events: auto;
  cursor: pointer;
  overflow: hidden;
  border-radius: ${({minimized:n})=>n?"2px":"4px"};
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
`,DKe=Tg.canvas`
  display: block;
  width: ${({width:n,height:e})=>n>e?"auto":"100%"};
  height: ${({width:n,height:e})=>e>n?"auto":"100%"};
`,LKe=Hxe`
  0% { transform: translate(0,0) }
  10% { transform: translate(-5%,-5%) }
  20% { transform: translate(-10%,5%) }
  30% { transform: translate(5%,-10%) }
  40% { transform: translate(-5%,15%) }
  50% { transform: translate(-10%,5%) }
  60% { transform: translate(15%,0) }
  70% { transform: translate(0,10%) }
  80% { transform: translate(-15%,0) }
  90% { transform: translate(10%,5%) }
  100% { transform: translate(5%,0) }
`,NKe=Tg.div`
  position: relative;
  display: flex;
  width: 200px;
  height: 120px;
  padding: 18px;

  ::before {
    content: '';
    position: absolute;
    z-index: -1;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    background: #2f2f2f url(${OKe}) repeat 0 0;
    animation: ${LKe} 0.2s infinite;
  }
`,FKe=Tg.div`
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
  text-align: center;
  opacity: 0.8;
`,zKe=({maxHeight:n,maxWidth:e,minimized:t,onToggleMinified:r})=>{var o,a;let c=(0,Av.useRef)(null),[p]=Mw(z=>[z.gl],IKe.default),[g,{width:_,height:b}]=EK(),C=(a=(o=p==null?void 0:p.getContextAttributes())==null?void 0:o.preserveDrawingBuffer)!=null?a:!1;(0,Av.useLayoutEffect)(()=>{p&&g(p==null?void 0:p.domElement)},[p,g]);let[k,B]=(0,kKe.useMemo)(()=>{if(!p)return[0,0];let z=_/(b||Number.EPSILON)||Number.EPSILON,F=Math.min(z*n,e),N=F/z;return[F,N]},[p,e,n,_,b]);return(0,Av.useEffect)(()=>{let z,F=N=>()=>{if(z=requestAnimationFrame(F(N)),!N.domElement||!C){cancelAnimationFrame(z);return}let D=c.current.getContext("2d");D.imageSmoothingQuality="high",D.fillStyle="white",D.fillRect(0,0,k,B),D.drawImage(N.domElement,0,0,k,B)};return p&&F(p)(),()=>{cancelAnimationFrame(z)}},[p,k,B,C]),Av.default.createElement(BKe,{minimized:t,onClick:r,style:{width:t?32:C?`${k}px`:"auto",height:t?32:C?`${B}px`:"auto"}},C?Av.default.createElement(DKe,{ref:c,width:k,height:B}):Av.default.createElement(NKe,null,Av.default.createElement(FKe,null,Av.default.createElement(RKe,{size:"3em"}),Av.default.createElement("code",null,"Please set ",Av.default.createElement("pre",null,"gl={{ preserveDrawingBuffer: true }}")," on the r3f Canvas for the reference window to work."))))},UKe=zKe,jKe=jxe`
  :host {
    contain: strict;
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`,HKe=({snapshotEditorSheet:n,paneId:e})=>{var t,r;Ed(C=>[C.gl,C.scene,C.camera],ZV.default);let[o,a]=AKe(n,e),c=Aw(),p=Mw(C=>C.helpersRoot,ZV.default),g=(t=mb(c==null?void 0:c.props.viewport.showGrid))!=null?t:!0,_=(r=mb(c==null?void 0:c.props.viewport.showAxes))!=null?r:!0,b=(0,kI.useMemo)(()=>new PKe,[]);return Eu.default.createElement(cKe,null,g&&Eu.default.createElement("primitive",{object:b}),_&&Eu.default.createElement("axesHelper",{args:[500]}),o,Eu.default.createElement("primitive",{object:p}),Eu.default.createElement(SKe,{orbitControlsRef:a}),Eu.default.createElement("color",{attach:"background",args:[.1,.1,.1]}))},GKe=Tg.div`
  tab-size: 4;
  line-height: 1.15; /* 1 */
  -webkit-text-size-adjust: 100%; /* 2 */
  margin: 0;

  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  overflow: hidden;
`,VKe=Tg.div`
  position: relative;
  z-index: 0;
  height: 100%;
  overflow: hidden;
`,WKe=Tg.div`
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
`,XKe=Tg.div`
  position: absolute;
  left: 12px;
  top: 12px;
  pointer-events: auto;
`,KKe=Tg.div`
  position: absolute;
  right: 12px;
  top: 12px;
  justify-content: center;
`,YKe=Tg.div`
  position: absolute;
  margin: auto;
  left: 0;
  right: 0;
  width: 300px;
  top: 12px;
  padding: 16px;
  border-radius: 4px;
  border: 1px solid rgba(255, 255, 255, 0.08);

  backdrop-filter: blur(14px);
  background: rgba(40, 43, 47, 0.8);

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(40, 43, 47, 0.95);
  }
`,QKe=n=>{var e,t;let r=Qbe(),o=n.paneId,a=Aw(),[c,p]=EK(),[g,_]=Mw(z=>[z.sceneSnapshot,z.createSnapshot],ZV.default);(0,kI.useLayoutEffect)(()=>{_()},[]);let b=(0,kI.useCallback)(()=>{let z=Em.selection.find(F=>tN.has(F));z&&Em.setSelection([z.sheet])},[]),[C,k]=(0,kI.useState)();if((0,kI.useEffect)(()=>{if(C)return Em.ui.renderToolset("snapshot-editor",C)},[C]),!a)return Eu.default.createElement(Eu.default.Fragment,null);let B=(t=mb((e=Aw())==null?void 0:e.props.viewport.referenceWindow))!=null?t:"minimized";return Eu.default.createElement(Nje.default.div,{style:{overflow:"hidden"}},Eu.default.createElement(vK,{disableVendorPrefixes:!0},Eu.default.createElement(Eu.default.Fragment,null,Eu.default.createElement(jKe,null),Eu.default.createElement(GKe,null,Eu.default.createElement(WKe,null,Eu.default.createElement(XKe,{ref:k}),B!=="hidden"&&Eu.default.createElement(KKe,null,Eu.default.createElement(UKe,{maxHeight:Math.min(p.height*.3,150),maxWidth:Math.min(p.width*.3,250),minimized:B==="minimized",onToggleMinified:()=>{Em.transaction(({set:z})=>{z(Aw().props.viewport.referenceWindow,B==="minimized"?"maximized":"minimized")})}})),!g&&Eu.default.createElement(YKe,null,"The scene hasn't been initialized yet. It will appear in the editor as soon as it is.")),Eu.default.createElement(VKe,{ref:c},Eu.default.createElement(Lje,{onCreated:({gl:z})=>{z.setClearColor("white")},shadows:!0,dpr:[1,2],frameloop:"demand",onPointerMissed:b},Eu.default.createElement(HKe,{snapshotEditorSheet:r,paneId:o})))))))},qKe=QKe,JKe=to(cbe()),ZKe=to(ps()),$Ke='<svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Camera</title><path d="M350.54 148.68l-26.62-42.06C318.31 100.08 310.62 96 302 96h-92c-8.62 0-16.31 4.08-21.92 10.62l-26.62 42.06C155.85 155.23 148.62 160 140 160H80a32 32 0 00-32 32v192a32 32 0 0032 32h352a32 32 0 0032-32V192a32 32 0 00-32-32h-59c-8.65 0-16.85-4.77-22.46-11.32z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"/><circle cx="256" cy="272" r="80" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"/><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M124 158v-22h-24v22"/></svg>',eYe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 34.47l-90.51 90.51h67.883v108.393H124.98V165.49L34.47 256l90.51 90.51v-67.883h108.393V387.02H165.49L256 477.53l90.51-90.51h-67.883V278.627H387.02v67.883L477.53 256l-90.51-90.51v67.883H278.627V124.98h67.883L256 34.47z"/></svg>',tYe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M263.09 50c-11.882-.007-23.875 1.018-35.857 3.13C142.026 68.156 75.156 135.026 60.13 220.233 45.108 305.44 85.075 391.15 160.005 434.41c32.782 18.927 69.254 27.996 105.463 27.553 46.555-.57 92.675-16.865 129.957-48.15l-30.855-36.768c-50.95 42.75-122.968 49.05-180.566 15.797-57.597-33.254-88.152-98.777-76.603-164.274 11.55-65.497 62.672-116.62 128.17-128.168 51.656-9.108 103.323 7.98 139.17 43.862L327 192h128V64l-46.34 46.342C370.242 71.962 317.83 50.03 263.09 50z"/></svg>',nYe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M29 30l1 90h36V66h26V30H29zm99 0v36h72V30h-72zm108 0v36h72V30h-72zm108 0v36h72V30h-72zm102 0v78h36V30h-36zm-206 80v36h100.543l-118 118H30v218h218V289.457l118-118V272h36V110H240zm206 34v72h36v-72h-36zM30 156v72h36v-72H30zm416 96v72h36v-72h-36zm0 108v72h36v-72h-36zm-166 86v36h72v-36h-72zm108 0v36h72v-36h-72z"/></svg>',rYe='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',Wye='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',iYe='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 24.585L51.47 118.989 256 213.394l204.53-94.405zM38.998 133.054v258.353L247 487.415V229.063zm434.004 0L265 229.062v258.353l208.002-96.008z"></path></svg>',oYe='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"></path></svg>',sYe='<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M238.406 26.844c-9.653.12-18.926 2.69-30.437 7.062l-157.282 57c-20.984 7.65-21.587 11.834-22.344 33.28L20.937 358.22c-1.207 27.514-.654 33.187 23.25 43.56L229.97 483.19c19.34 8.29 31.906 7.655 45.186 3.218l181.938-56.53c21.95-7.295 25.04-9.627 25.875-36.845l7.686-250.155c.662-17.37-5.667-24.695-18.78-29.625L271.062 34.375c-12.977-5.344-23.003-7.653-32.657-7.53zm.813 24.875c23.637-.053 45.564 8.434 87.874 24.874 95.545 37.123 131.71 53.8 69.687 77.937-74.002 28.802-128.175 45.115-172.28 25.814L113.47 131.75c-34.57-15.127-44.69-27.46 17.843-50.094 55.64-20.14 82.742-29.882 107.906-29.937zm44.718 43.75c-38.284.402-55.285 21.205-56.813 38.936-.873 10.132 2.95 19.6 12.406 26.25 9.456 6.65 25.355 10.56 48.97 5.938 35.817-7.01 61.536-15.056 77.5-22.844 7.982-3.894 13.464-7.737 16.5-10.844 3.036-3.107 3.453-4.942 3.438-6-.016-1.057-.44-2.675-3.313-5.406-2.873-2.73-8.03-6.04-15.22-9.156-14.378-6.233-36.757-11.877-65.717-15.72-6.355-.842-12.28-1.213-17.75-1.155zM59.25 134c10.372-.29 29.217 7.2 63.906 22.656 140.925 62.786 140.52 65.876 130.97 200.656-7.783 109.81-8.797 109.85-128.47 59.282-73.15-30.91-86.806-40.853-85.187-88.97l5.468-162.937c.674-20.034 1.557-30.358 13.312-30.687zm381.938 30.906c29.172-.384 29.1 28.075 26.75 105.25-4.118 135.132-9.05 140.184-120.375 173.72-70.42 21.21-81.49 25.614-78.97-12.032l11-164.156c3.217-48.034 7.588-51.508 94.813-83.907 31.323-11.633 52.534-18.686 66.78-18.874zm-20.438 40.688c-.332-.002-.674.015-1 .03-5.22.263-10.226 2.77-14.188 8.407-3.96 5.638-6.81 14.71-5.687 27.907 1.448 17.033-4.507 38.11-15.156 56.938-10.65 18.827-26.502 35.91-47.814 38.813-29.127 3.968-42.41 23.58-43.5 42.062-.545 9.24 2.108 18.03 7.688 24.594s14.088 11.335 27.187 12.03c41.146 2.185 71.336-10.766 91.595-39.155 20.26-28.39 30.396-73.76 25.875-136.595-1.876-26.076-14.708-34.977-25-35.03zm-246.25 8.844c-.644 0-1.218.063-1.72.187-2.003.494-3.685 1.53-5.655 4.813-1.913 3.186-3.688 8.618-4.406 16.343l-.064.657c-1.388 16.732-8.098 28.602-17.844 35.063-9.745 6.46-20.794 7.808-31.125 9.094-10.33 1.286-20.177 2.39-28.156 5.75-7.977 3.36-14.36 8.38-19.468 19.78-7.2 16.076-7.143 28.027-3.124 38.563 4.018 10.537 12.688 20.106 24.687 28.75 23.998 17.29 60.27 29.956 88.906 41.844 11.386 4.727 20.496 6.484 27.282 6.126 6.787-.358 11.278-2.423 15.375-6.562 8.195-8.28 14.057-27.692 15-57.344 2.024-63.623-18.84-110.284-38.656-130.875-8.668-9.008-16.52-12.193-21.03-12.188zm184.22 6.812c-.95-.003-1.927.035-2.97.094-35.464 1.99-48.477 12.867-52.5 24.062-4.023 11.196.826 27.07 10.844 39.78 11.488 14.58 20.59 15.736 30.437 12.283 9.848-3.455 20.542-14.108 27.376-26.908s9.512-27.397 7.188-36.28c-1.163-4.443-3.144-7.422-6.47-9.626-2.908-1.928-7.274-3.388-13.905-3.406z"></path></svg>',aYe={id:"@theatre/r3f",toolbars:{global(n,e){let t=$n.prism(()=>(Aw(),[{type:"Icon",title:"Create Snapshot",svgSource:$Ke,onClick:()=>{e.createPane("snapshot")}}]));return bs.onChange(t,()=>{n(t.getValue())})},"snapshot-editor":(n,e)=>{let{createSnapshot:t}=Mw.getState(),r=$n.prism(()=>{var o,a,c;let p=Aw(),g=(o=$n.val(p==null?void 0:p.props.transformControls.mode))!=null?o:"translate",_=(a=$n.val(p==null?void 0:p.props.transformControls.space))!=null?a:"world",b=(c=$n.val(p==null?void 0:p.props.viewport.shading))!=null?c:"rendered";return[{type:"Icon",onClick:t,title:"Refresh Snapshot",svgSource:'<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>'},{type:"Switch",value:g,onChange:C=>e.transaction(({set:k})=>k(p.props.transformControls.mode,C)),options:[{value:"translate",label:"Tool: Translate",svgSource:eYe},{value:"rotate",label:"Tool: Rotate",svgSource:tYe},{value:"scale",label:"Tool: Scale",svgSource:nYe}]},{type:"Switch",value:_,onChange:C=>e.transaction(({set:k})=>{k(p.props.transformControls.space,C)}),options:[{value:"world",label:"Space: World",svgSource:rYe},{value:"local",label:"Space: Local",svgSource:Wye}]},{type:"Switch",value:b,onChange:C=>e.transaction(({set:k})=>{k(p.props.viewport.shading,C)}),options:[{value:"wireframe",label:"Display: Wireframe",svgSource:Wye},{value:"flat",label:"Display: Flat",svgSource:iYe},{value:"solid",label:"Display: Solid",svgSource:oYe},{value:"rendered",label:"Display: Rendered",svgSource:sYe}]}]});return bs.onChange(r,()=>{n(r.getValue())})}},panes:[{class:"snapshot",mount:({paneId:n,node:e})=>{let t=JKe.default.createRoot(e);t.render(ZKe.default.createElement(qKe,{paneId:n}));function r(){setTimeout(()=>{t.unmount()},0)}return r}}]},lYe=aYe;/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler-constants.production.min.js:
  (**
   * @license React
   * react-reconciler-constants.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-reconciler/cjs/react-reconciler.production.min.js:
  (**
   * @license React
   * react-reconciler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-server-legacy.browser.production.min.js:
  (**
   * @license React
   * react-dom-server-legacy.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom-server.browser.production.min.js:
  (**
   * @license React
   * react-dom-server.browser.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

scheduler/cjs/scheduler.production.min.js:
  (**
   * @license React
   * scheduler.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-dom/cjs/react-dom.production.min.js:
  (**
   * @license React
   * react-dom.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/var oW={},$be={exports:{}},km={},eEe={exports:{}},tEe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(we,Te){var Ae=we.length;we.push(Te);e:for(;0<Ae;){var me=Ae-1>>>1,ce=we[me];if(0<o(ce,Te))we[me]=Te,we[Ae]=ce,Ae=me;else break e}}function t(we){return we.length===0?null:we[0]}function r(we){if(we.length===0)return null;var Te=we[0],Ae=we.pop();if(Ae!==Te){we[0]=Ae;e:for(var me=0,ce=we.length,qe=ce>>>1;me<qe;){var ht=2*(me+1)-1,wt=we[ht],et=ht+1,Nt=we[et];if(0>o(wt,Ae))et<ce&&0>o(Nt,wt)?(we[me]=Nt,we[et]=Ae,me=et):(we[me]=wt,we[ht]=Ae,me=ht);else if(et<ce&&0>o(Nt,Ae))we[me]=Nt,we[et]=Ae,me=et;else break e}}return Te}function o(we,Te){var Ae=we.sortIndex-Te.sortIndex;return Ae!==0?Ae:we.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,p=c.now();n.unstable_now=function(){return c.now()-p}}var g=[],_=[],b=1,C=null,k=3,B=!1,z=!1,F=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(we){for(var Te=t(_);Te!==null;){if(Te.callback===null)r(_);else if(Te.startTime<=we)r(_),Te.sortIndex=Te.expirationTime,e(g,Te);else break;Te=t(_)}}function Q(we){if(F=!1,G(we),!z)if(t(g)!==null)z=!0,Ze(ae);else{var Te=t(_);Te!==null&&mt(Q,Te.startTime-we)}}function ae(we,Te){z=!1,F&&(F=!1,D(_e),_e=-1),B=!0;var Ae=k;try{for(G(Te),C=t(g);C!==null&&(!(C.expirationTime>Te)||we&&!Be());){var me=C.callback;if(typeof me=="function"){C.callback=null,k=C.priorityLevel;var ce=me(C.expirationTime<=Te);Te=n.unstable_now(),typeof ce=="function"?C.callback=ce:C===t(g)&&r(g),G(Te)}else r(g);C=t(g)}if(C!==null)var qe=!0;else{var ht=t(_);ht!==null&&mt(Q,ht.startTime-Te),qe=!1}return qe}finally{C=null,k=Ae,B=!1}}var Y=!1,ge=null,_e=-1,J=5,Se=-1;function Be(){return!(n.unstable_now()-Se<J)}function _t(){if(ge!==null){var we=n.unstable_now();Se=we;var Te=!0;try{Te=ge(!0,we)}finally{Te?Ve():(Y=!1,ge=null)}}else Y=!1}var Ve;if(typeof A=="function")Ve=function(){A(_t)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ot=xe.port2;xe.port1.onmessage=_t,Ve=function(){ot.postMessage(null)}}else Ve=function(){N(_t,0)};function Ze(we){ge=we,Y||(Y=!0,Ve())}function mt(we,Te){_e=N(function(){we(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(we){we.callback=null},n.unstable_continueExecution=function(){z||B||(z=!0,Ze(ae))},n.unstable_forceFrameRate=function(we){0>we||125<we?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<we?Math.floor(1e3/we):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return t(g)},n.unstable_next=function(we){switch(k){case 1:case 2:case 3:var Te=3;break;default:Te=k}var Ae=k;k=Te;try{return we()}finally{k=Ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(we,Te){switch(we){case 1:case 2:case 3:case 4:case 5:break;default:we=3}var Ae=k;k=we;try{return Te()}finally{k=Ae}},n.unstable_scheduleCallback=function(we,Te,Ae){var me=n.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?me+Ae:me):Ae=me,we){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Ae+ce,we={id:b++,callback:Te,priorityLevel:we,startTime:Ae,expirationTime:ce,sortIndex:-1},Ae>me?(we.sortIndex=Ae,e(_,we),t(g)===null&&we===t(_)&&(F?(D(_e),_e=-1):F=!0,mt(Q,Ae-me))):(we.sortIndex=ce,e(g,we),z||B||(z=!0,Ze(ae))),we},n.unstable_shouldYield=Be,n.unstable_wrapCallback=function(we){var Te=k;return function(){var Ae=k;k=Te;try{return we.apply(this,arguments)}finally{k=Ae}}}})(tEe);eEe.exports=tEe;var uYe=eEe.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nEe=qt,Pm=uYe;function Mr(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rEe=new Set,wR={};function Bb(n,e){SM(n,e),SM(n+"Capture",e)}function SM(n,e){for(wR[n]=e,n=0;n<e.length;n++)rEe.add(e[n])}var _1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sW=Object.prototype.hasOwnProperty,cYe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xye={},Kye={};function dYe(n){return sW.call(Kye,n)?!0:sW.call(Xye,n)?!1:cYe.test(n)?Kye[n]=!0:(Xye[n]=!0,!1)}function fYe(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function hYe(n,e,t,r){if(e===null||typeof e>"u"||fYe(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qh(n,e,t,r,o,a,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=a,this.removeEmptyString=c}var Sf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Sf[n]=new Qh(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Sf[e]=new Qh(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Sf[n]=new Qh(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Sf[n]=new Qh(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Sf[n]=new Qh(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Sf[n]=new Qh(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Sf[n]=new Qh(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Sf[n]=new Qh(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Sf[n]=new Qh(n,5,!1,n.toLowerCase(),null,!1,!1)});var kK=/[\-:]([a-z])/g;function IK(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(kK,IK);Sf[e]=new Qh(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(kK,IK);Sf[e]=new Qh(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(kK,IK);Sf[e]=new Qh(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Sf[n]=new Qh(n,1,!1,n.toLowerCase(),null,!1,!1)});Sf.xlinkHref=new Qh("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Sf[n]=new Qh(n,1,!1,n.toLowerCase(),null,!0,!0)});function RK(n,e,t,r){var o=Sf.hasOwnProperty(e)?Sf[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hYe(e,t,o,r)&&(t=null),r||o===null?dYe(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):o.mustUseProperty?n[o.propertyName]=t===null?o.type===3?!1:"":t:(e=o.attributeName,r=o.attributeNamespace,t===null?n.removeAttribute(e):(o=o.type,t=o===3||o===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var A1=nEe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tL=Symbol.for("react.element"),FC=Symbol.for("react.portal"),zC=Symbol.for("react.fragment"),OK=Symbol.for("react.strict_mode"),aW=Symbol.for("react.profiler"),iEe=Symbol.for("react.provider"),oEe=Symbol.for("react.context"),BK=Symbol.for("react.forward_ref"),lW=Symbol.for("react.suspense"),uW=Symbol.for("react.suspense_list"),DK=Symbol.for("react.memo"),dw=Symbol.for("react.lazy"),sEe=Symbol.for("react.offscreen"),Yye=Symbol.iterator;function dI(n){return n===null||typeof n!="object"?null:(n=Yye&&n[Yye]||n["@@iterator"],typeof n=="function"?n:null)}var lu=Object.assign,vG;function II(n){if(vG===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);vG=e&&e[1]||""}return`
`+vG+n}var yG=!1;function _G(n,e){if(!n||yG)return"";yG=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(_){var r=_}Reflect.construct(n,[],e)}else{try{e.call()}catch(_){r=_}n.call(e.prototype)}else{try{throw Error()}catch(_){r=_}n()}}catch(_){if(_&&r&&typeof _.stack=="string"){for(var o=_.stack.split(`
`),a=r.stack.split(`
`),c=o.length-1,p=a.length-1;1<=c&&0<=p&&o[c]!==a[p];)p--;for(;1<=c&&0<=p;c--,p--)if(o[c]!==a[p]){if(c!==1||p!==1)do if(c--,p--,0>p||o[c]!==a[p]){var g=`
`+o[c].replace(" at new "," at ");return n.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",n.displayName)),g}while(1<=c&&0<=p);break}}}finally{yG=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?II(n):""}function pYe(n){switch(n.tag){case 5:return II(n.type);case 16:return II("Lazy");case 13:return II("Suspense");case 19:return II("SuspenseList");case 0:case 2:case 15:return n=_G(n.type,!1),n;case 11:return n=_G(n.type.render,!1),n;case 1:return n=_G(n.type,!0),n;default:return""}}function cW(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case zC:return"Fragment";case FC:return"Portal";case aW:return"Profiler";case OK:return"StrictMode";case lW:return"Suspense";case uW:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case oEe:return(n.displayName||"Context")+".Consumer";case iEe:return(n._context.displayName||"Context")+".Provider";case BK:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case DK:return e=n.displayName||null,e!==null?e:cW(n.type)||"Memo";case dw:e=n._payload,n=n._init;try{return cW(n(e))}catch{}}return null}function mYe(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cW(e);case 8:return e===OK?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hw(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function aEe(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gYe(n){var e=aEe(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var o=t.get,a=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function nL(n){n._valueTracker||(n._valueTracker=gYe(n))}function lEe(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=aEe(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function cN(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function dW(n,e){var t=e.checked;return lu({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Qye(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Hw(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uEe(n,e){e=e.checked,e!=null&&RK(n,"checked",e,!1)}function fW(n,e){uEe(n,e);var t=Hw(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?hW(n,e.type,t):e.hasOwnProperty("defaultValue")&&hW(n,e.type,Hw(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function qye(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function hW(n,e,t){(e!=="number"||cN(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var RI=Array.isArray;function eM(n,e,t,r){if(n=n.options,e){e={};for(var o=0;o<t.length;o++)e["$"+t[o]]=!0;for(t=0;t<n.length;t++)o=e.hasOwnProperty("$"+n[t].value),n[t].selected!==o&&(n[t].selected=o),o&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Hw(t),e=null,o=0;o<n.length;o++){if(n[o].value===t){n[o].selected=!0,r&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function pW(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Mr(91));return lu({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Jye(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Mr(92));if(RI(t)){if(1<t.length)throw Error(Mr(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Hw(t)}}function cEe(n,e){var t=Hw(e.value),r=Hw(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Zye(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function dEe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mW(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?dEe(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var rL,fEe=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,o){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(rL=rL||document.createElement("div"),rL.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=rL.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function SR(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var HI={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vYe=["Webkit","ms","Moz","O"];Object.keys(HI).forEach(function(n){vYe.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),HI[e]=HI[n]})});function hEe(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||HI.hasOwnProperty(n)&&HI[n]?(""+e).trim():e+"px"}function pEe(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,o=hEe(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,o):n[t]=o}}var yYe=lu({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gW(n,e){if(e){if(yYe[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Mr(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Mr(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Mr(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Mr(62))}}function vW(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yW=null;function LK(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _W=null,tM=null,nM=null;function $ye(n){if(n=ZR(n)){if(typeof _W!="function")throw Error(Mr(280));var e=n.stateNode;e&&(e=TF(e),_W(n.stateNode,n.type,e))}}function mEe(n){tM?nM?nM.push(n):nM=[n]:tM=n}function gEe(){if(tM){var n=tM,e=nM;if(nM=tM=null,$ye(n),e)for(n=0;n<e.length;n++)$ye(e[n])}}function vEe(n,e){return n(e)}function yEe(){}var wG=!1;function _Ee(n,e,t){if(wG)return n(e,t);wG=!0;try{return vEe(n,e,t)}finally{wG=!1,(tM!==null||nM!==null)&&(yEe(),gEe())}}function xR(n,e){var t=n.stateNode;if(t===null)return null;var r=TF(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Mr(231,e,typeof t));return t}var wW=!1;if(_1)try{var fI={};Object.defineProperty(fI,"passive",{get:function(){wW=!0}}),window.addEventListener("test",fI,fI),window.removeEventListener("test",fI,fI)}catch{wW=!1}function _Ye(n,e,t,r,o,a,c,p,g){var _=Array.prototype.slice.call(arguments,3);try{e.apply(t,_)}catch(b){this.onError(b)}}var GI=!1,dN=null,fN=!1,SW=null,wYe={onError:function(n){GI=!0,dN=n}};function SYe(n,e,t,r,o,a,c,p,g){GI=!1,dN=null,_Ye.apply(wYe,arguments)}function xYe(n,e,t,r,o,a,c,p,g){if(SYe.apply(this,arguments),GI){if(GI){var _=dN;GI=!1,dN=null}else throw Error(Mr(198));fN||(fN=!0,SW=_)}}function Db(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function wEe(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function e1e(n){if(Db(n)!==n)throw Error(Mr(188))}function bYe(n){var e=n.alternate;if(!e){if(e=Db(n),e===null)throw Error(Mr(188));return e!==n?null:n}for(var t=n,r=e;;){var o=t.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){t=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===t)return e1e(o),n;if(a===r)return e1e(o),e;a=a.sibling}throw Error(Mr(188))}if(t.return!==r.return)t=o,r=a;else{for(var c=!1,p=o.child;p;){if(p===t){c=!0,t=o,r=a;break}if(p===r){c=!0,r=o,t=a;break}p=p.sibling}if(!c){for(p=a.child;p;){if(p===t){c=!0,t=a,r=o;break}if(p===r){c=!0,r=a,t=o;break}p=p.sibling}if(!c)throw Error(Mr(189))}}if(t.alternate!==r)throw Error(Mr(190))}if(t.tag!==3)throw Error(Mr(188));return t.stateNode.current===t?n:e}function SEe(n){return n=bYe(n),n!==null?xEe(n):null}function xEe(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=xEe(n);if(e!==null)return e;n=n.sibling}return null}var bEe=Pm.unstable_scheduleCallback,t1e=Pm.unstable_cancelCallback,EYe=Pm.unstable_shouldYield,AYe=Pm.unstable_requestPaint,tc=Pm.unstable_now,CYe=Pm.unstable_getCurrentPriorityLevel,NK=Pm.unstable_ImmediatePriority,EEe=Pm.unstable_UserBlockingPriority,hN=Pm.unstable_NormalPriority,MYe=Pm.unstable_LowPriority,AEe=Pm.unstable_IdlePriority,EF=null,Lv=null;function TYe(n){if(Lv&&typeof Lv.onCommitFiberRoot=="function")try{Lv.onCommitFiberRoot(EF,n,void 0,(n.current.flags&128)===128)}catch{}}var B0=Math.clz32?Math.clz32:IYe,PYe=Math.log,kYe=Math.LN2;function IYe(n){return n>>>=0,n===0?32:31-(PYe(n)/kYe|0)|0}var iL=64,oL=4194304;function OI(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function pN(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,o=n.suspendedLanes,a=n.pingedLanes,c=t&268435455;if(c!==0){var p=c&~o;p!==0?r=OI(p):(a&=c,a!==0&&(r=OI(a)))}else c=t&~o,c!==0?r=OI(c):a!==0&&(r=OI(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-B0(e),o=1<<t,r|=n[t],e&=~o;return r}function RYe(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OYe(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,o=n.expirationTimes,a=n.pendingLanes;0<a;){var c=31-B0(a),p=1<<c,g=o[c];g===-1?(!(p&t)||p&r)&&(o[c]=RYe(p,e)):g<=e&&(n.expiredLanes|=p),a&=~p}}function xW(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function CEe(){var n=iL;return iL<<=1,!(iL&4194240)&&(iL=64),n}function SG(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function qR(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-B0(e),n[e]=t}function BYe(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var o=31-B0(t),a=1<<o;e[o]=0,r[o]=-1,n[o]=-1,t&=~a}}function FK(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-B0(t),o=1<<r;o&e|n[r]&e&&(n[r]|=e),t&=~o}}var la=0;function MEe(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var TEe,zK,PEe,kEe,IEe,bW=!1,sL=[],Tw=null,Pw=null,kw=null,bR=new Map,ER=new Map,pw=[],DYe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n1e(n,e){switch(n){case"focusin":case"focusout":Tw=null;break;case"dragenter":case"dragleave":Pw=null;break;case"mouseover":case"mouseout":kw=null;break;case"pointerover":case"pointerout":bR.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ER.delete(e.pointerId)}}function hI(n,e,t,r,o,a){return n===null||n.nativeEvent!==a?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},e!==null&&(e=ZR(e),e!==null&&zK(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function LYe(n,e,t,r,o){switch(e){case"focusin":return Tw=hI(Tw,n,e,t,r,o),!0;case"dragenter":return Pw=hI(Pw,n,e,t,r,o),!0;case"mouseover":return kw=hI(kw,n,e,t,r,o),!0;case"pointerover":var a=o.pointerId;return bR.set(a,hI(bR.get(a)||null,n,e,t,r,o)),!0;case"gotpointercapture":return a=o.pointerId,ER.set(a,hI(ER.get(a)||null,n,e,t,r,o)),!0}return!1}function REe(n){var e=ab(n.target);if(e!==null){var t=Db(e);if(t!==null){if(e=t.tag,e===13){if(e=wEe(t),e!==null){n.blockedOn=e,IEe(n.priority,function(){PEe(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function DL(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=EW(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);yW=r,t.target.dispatchEvent(r),yW=null}else return e=ZR(t),e!==null&&zK(e),n.blockedOn=t,!1;e.shift()}return!0}function r1e(n,e,t){DL(n)&&t.delete(e)}function NYe(){bW=!1,Tw!==null&&DL(Tw)&&(Tw=null),Pw!==null&&DL(Pw)&&(Pw=null),kw!==null&&DL(kw)&&(kw=null),bR.forEach(r1e),ER.forEach(r1e)}function pI(n,e){n.blockedOn===e&&(n.blockedOn=null,bW||(bW=!0,Pm.unstable_scheduleCallback(Pm.unstable_NormalPriority,NYe)))}function AR(n){function e(o){return pI(o,n)}if(0<sL.length){pI(sL[0],n);for(var t=1;t<sL.length;t++){var r=sL[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Tw!==null&&pI(Tw,n),Pw!==null&&pI(Pw,n),kw!==null&&pI(kw,n),bR.forEach(e),ER.forEach(e),t=0;t<pw.length;t++)r=pw[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<pw.length&&(t=pw[0],t.blockedOn===null);)REe(t),t.blockedOn===null&&pw.shift()}var rM=A1.ReactCurrentBatchConfig,mN=!0;function FYe(n,e,t,r){var o=la,a=rM.transition;rM.transition=null;try{la=1,UK(n,e,t,r)}finally{la=o,rM.transition=a}}function zYe(n,e,t,r){var o=la,a=rM.transition;rM.transition=null;try{la=4,UK(n,e,t,r)}finally{la=o,rM.transition=a}}function UK(n,e,t,r){if(mN){var o=EW(n,e,t,r);if(o===null)IG(n,e,r,gN,t),n1e(n,r);else if(LYe(o,n,e,t,r))r.stopPropagation();else if(n1e(n,r),e&4&&-1<DYe.indexOf(n)){for(;o!==null;){var a=ZR(o);if(a!==null&&TEe(a),a=EW(n,e,t,r),a===null&&IG(n,e,r,gN,t),a===o)break;o=a}o!==null&&r.stopPropagation()}else IG(n,e,r,null,t)}}var gN=null;function EW(n,e,t,r){if(gN=null,n=LK(r),n=ab(n),n!==null)if(e=Db(n),e===null)n=null;else if(t=e.tag,t===13){if(n=wEe(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return gN=n,null}function OEe(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CYe()){case NK:return 1;case EEe:return 4;case hN:case MYe:return 16;case AEe:return 536870912;default:return 16}default:return 16}}var vw=null,jK=null,LL=null;function BEe(){if(LL)return LL;var n,e=jK,t=e.length,r,o="value"in vw?vw.value:vw.textContent,a=o.length;for(n=0;n<t&&e[n]===o[n];n++);var c=t-n;for(r=1;r<=c&&e[t-r]===o[a-r];r++);return LL=o.slice(n,1<r?1-r:void 0)}function NL(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function aL(){return!0}function i1e(){return!1}function Im(n){function e(t,r,o,a,c){this._reactName=t,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var p in n)n.hasOwnProperty(p)&&(t=n[p],this[p]=t?t(a):a[p]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?aL:i1e,this.isPropagationStopped=i1e,this}return lu(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=aL)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=aL)},persist:function(){},isPersistent:aL}),e}var VM={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HK=Im(VM),JR=lu({},VM,{view:0,detail:0}),UYe=Im(JR),xG,bG,mI,AF=lu({},JR,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GK,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mI&&(mI&&n.type==="mousemove"?(xG=n.screenX-mI.screenX,bG=n.screenY-mI.screenY):bG=xG=0,mI=n),xG)},movementY:function(n){return"movementY"in n?n.movementY:bG}}),o1e=Im(AF),jYe=lu({},AF,{dataTransfer:0}),HYe=Im(jYe),GYe=lu({},JR,{relatedTarget:0}),EG=Im(GYe),VYe=lu({},VM,{animationName:0,elapsedTime:0,pseudoElement:0}),WYe=Im(VYe),XYe=lu({},VM,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),KYe=Im(XYe),YYe=lu({},VM,{data:0}),s1e=Im(YYe),QYe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qYe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JYe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZYe(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=JYe[n])?!!e[n]:!1}function GK(){return ZYe}var $Ye=lu({},JR,{key:function(n){if(n.key){var e=QYe[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=NL(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qYe[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GK,charCode:function(n){return n.type==="keypress"?NL(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?NL(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),eQe=Im($Ye),tQe=lu({},AF,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a1e=Im(tQe),nQe=lu({},JR,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GK}),rQe=Im(nQe),iQe=lu({},VM,{propertyName:0,elapsedTime:0,pseudoElement:0}),oQe=Im(iQe),sQe=lu({},AF,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),aQe=Im(sQe),lQe=[9,13,27,32],VK=_1&&"CompositionEvent"in window,VI=null;_1&&"documentMode"in document&&(VI=document.documentMode);var uQe=_1&&"TextEvent"in window&&!VI,DEe=_1&&(!VK||VI&&8<VI&&11>=VI),l1e=String.fromCharCode(32),u1e=!1;function LEe(n,e){switch(n){case"keyup":return lQe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NEe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var UC=!1;function cQe(n,e){switch(n){case"compositionend":return NEe(e);case"keypress":return e.which!==32?null:(u1e=!0,l1e);case"textInput":return n=e.data,n===l1e&&u1e?null:n;default:return null}}function dQe(n,e){if(UC)return n==="compositionend"||!VK&&LEe(n,e)?(n=BEe(),LL=jK=vw=null,UC=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return DEe&&e.locale!=="ko"?null:e.data;default:return null}}var fQe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c1e(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!fQe[n.type]:e==="textarea"}function FEe(n,e,t,r){mEe(r),e=vN(e,"onChange"),0<e.length&&(t=new HK("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var WI=null,CR=null;function hQe(n){QEe(n,0)}function CF(n){var e=GC(n);if(lEe(e))return n}function pQe(n,e){if(n==="change")return e}var zEe=!1;if(_1){var AG;if(_1){var CG="oninput"in document;if(!CG){var d1e=document.createElement("div");d1e.setAttribute("oninput","return;"),CG=typeof d1e.oninput=="function"}AG=CG}else AG=!1;zEe=AG&&(!document.documentMode||9<document.documentMode)}function f1e(){WI&&(WI.detachEvent("onpropertychange",UEe),CR=WI=null)}function UEe(n){if(n.propertyName==="value"&&CF(CR)){var e=[];FEe(e,CR,n,LK(n)),_Ee(hQe,e)}}function mQe(n,e,t){n==="focusin"?(f1e(),WI=e,CR=t,WI.attachEvent("onpropertychange",UEe)):n==="focusout"&&f1e()}function gQe(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return CF(CR)}function vQe(n,e){if(n==="click")return CF(e)}function yQe(n,e){if(n==="input"||n==="change")return CF(e)}function _Qe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var N0=typeof Object.is=="function"?Object.is:_Qe;function MR(n,e){if(N0(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var o=t[r];if(!sW.call(e,o)||!N0(n[o],e[o]))return!1}return!0}function h1e(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function p1e(n,e){var t=h1e(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=h1e(t)}}function jEe(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?jEe(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function HEe(){for(var n=window,e=cN();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=cN(n.document)}return e}function WK(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function wQe(n){var e=HEe(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&jEe(t.ownerDocument.documentElement,t)){if(r!==null&&WK(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=t.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!n.extend&&a>r&&(o=r,r=a,a=o),o=p1e(t,a);var c=p1e(t,r);o&&c&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==c.node||n.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),a>r?(n.addRange(e),n.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var SQe=_1&&"documentMode"in document&&11>=document.documentMode,jC=null,AW=null,XI=null,CW=!1;function m1e(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;CW||jC==null||jC!==cN(r)||(r=jC,"selectionStart"in r&&WK(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),XI&&MR(XI,r)||(XI=r,r=vN(AW,"onSelect"),0<r.length&&(e=new HK("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=jC)))}function lL(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var HC={animationend:lL("Animation","AnimationEnd"),animationiteration:lL("Animation","AnimationIteration"),animationstart:lL("Animation","AnimationStart"),transitionend:lL("Transition","TransitionEnd")},MG={},GEe={};_1&&(GEe=document.createElement("div").style,"AnimationEvent"in window||(delete HC.animationend.animation,delete HC.animationiteration.animation,delete HC.animationstart.animation),"TransitionEvent"in window||delete HC.transitionend.transition);function MF(n){if(MG[n])return MG[n];if(!HC[n])return n;var e=HC[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in GEe)return MG[n]=e[t];return n}var VEe=MF("animationend"),WEe=MF("animationiteration"),XEe=MF("animationstart"),KEe=MF("transitionend"),YEe=new Map,g1e="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yw(n,e){YEe.set(n,e),Bb(e,[n])}for(var TG=0;TG<g1e.length;TG++){var PG=g1e[TG],xQe=PG.toLowerCase(),bQe=PG[0].toUpperCase()+PG.slice(1);Yw(xQe,"on"+bQe)}Yw(VEe,"onAnimationEnd");Yw(WEe,"onAnimationIteration");Yw(XEe,"onAnimationStart");Yw("dblclick","onDoubleClick");Yw("focusin","onFocus");Yw("focusout","onBlur");Yw(KEe,"onTransitionEnd");SM("onMouseEnter",["mouseout","mouseover"]);SM("onMouseLeave",["mouseout","mouseover"]);SM("onPointerEnter",["pointerout","pointerover"]);SM("onPointerLeave",["pointerout","pointerover"]);Bb("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bb("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bb("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bb("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bb("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bb("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var BI="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EQe=new Set("cancel close invalid load scroll toggle".split(" ").concat(BI));function v1e(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,xYe(r,e,void 0,n),n.currentTarget=null}function QEe(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],o=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var c=r.length-1;0<=c;c--){var p=r[c],g=p.instance,_=p.currentTarget;if(p=p.listener,g!==a&&o.isPropagationStopped())break e;v1e(o,p,_),a=g}else for(c=0;c<r.length;c++){if(p=r[c],g=p.instance,_=p.currentTarget,p=p.listener,g!==a&&o.isPropagationStopped())break e;v1e(o,p,_),a=g}}}if(fN)throw n=SW,fN=!1,SW=null,n}function wl(n,e){var t=e[IW];t===void 0&&(t=e[IW]=new Set);var r=n+"__bubble";t.has(r)||(qEe(e,n,2,!1),t.add(r))}function kG(n,e,t){var r=0;e&&(r|=4),qEe(t,n,r,e)}var uL="_reactListening"+Math.random().toString(36).slice(2);function TR(n){if(!n[uL]){n[uL]=!0,rEe.forEach(function(t){t!=="selectionchange"&&(EQe.has(t)||kG(t,!1,n),kG(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[uL]||(e[uL]=!0,kG("selectionchange",!1,e))}}function qEe(n,e,t,r){switch(OEe(e)){case 1:var o=FYe;break;case 4:o=zYe;break;default:o=UK}t=o.bind(null,e,t,n),o=void 0,!wW||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?n.addEventListener(e,t,{capture:!0,passive:o}):n.addEventListener(e,t,!0):o!==void 0?n.addEventListener(e,t,{passive:o}):n.addEventListener(e,t,!1)}function IG(n,e,t,r,o){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var p=r.stateNode.containerInfo;if(p===o||p.nodeType===8&&p.parentNode===o)break;if(c===4)for(c=r.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===o||g.nodeType===8&&g.parentNode===o))return;c=c.return}for(;p!==null;){if(c=ab(p),c===null)return;if(g=c.tag,g===5||g===6){r=a=c;continue e}p=p.parentNode}}r=r.return}_Ee(function(){var _=a,b=LK(t),C=[];e:{var k=YEe.get(n);if(k!==void 0){var B=HK,z=n;switch(n){case"keypress":if(NL(t)===0)break e;case"keydown":case"keyup":B=eQe;break;case"focusin":z="focus",B=EG;break;case"focusout":z="blur",B=EG;break;case"beforeblur":case"afterblur":B=EG;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=o1e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=HYe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=rQe;break;case VEe:case WEe:case XEe:B=WYe;break;case KEe:B=oQe;break;case"scroll":B=UYe;break;case"wheel":B=aQe;break;case"copy":case"cut":case"paste":B=KYe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=a1e}var F=(e&4)!==0,N=!F&&n==="scroll",D=F?k!==null?k+"Capture":null:k;F=[];for(var A=_,G;A!==null;){G=A;var Q=G.stateNode;if(G.tag===5&&Q!==null&&(G=Q,D!==null&&(Q=xR(A,D),Q!=null&&F.push(PR(A,Q,G)))),N)break;A=A.return}0<F.length&&(k=new B(k,z,null,t,b),C.push({event:k,listeners:F}))}}if(!(e&7)){e:{if(k=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",k&&t!==yW&&(z=t.relatedTarget||t.fromElement)&&(ab(z)||z[w1]))break e;if((B||k)&&(k=b.window===b?b:(k=b.ownerDocument)?k.defaultView||k.parentWindow:window,B?(z=t.relatedTarget||t.toElement,B=_,z=z?ab(z):null,z!==null&&(N=Db(z),z!==N||z.tag!==5&&z.tag!==6)&&(z=null)):(B=null,z=_),B!==z)){if(F=o1e,Q="onMouseLeave",D="onMouseEnter",A="mouse",(n==="pointerout"||n==="pointerover")&&(F=a1e,Q="onPointerLeave",D="onPointerEnter",A="pointer"),N=B==null?k:GC(B),G=z==null?k:GC(z),k=new F(Q,A+"leave",B,t,b),k.target=N,k.relatedTarget=G,Q=null,ab(b)===_&&(F=new F(D,A+"enter",z,t,b),F.target=G,F.relatedTarget=N,Q=F),N=Q,B&&z)t:{for(F=B,D=z,A=0,G=F;G;G=bC(G))A++;for(G=0,Q=D;Q;Q=bC(Q))G++;for(;0<A-G;)F=bC(F),A--;for(;0<G-A;)D=bC(D),G--;for(;A--;){if(F===D||D!==null&&F===D.alternate)break t;F=bC(F),D=bC(D)}F=null}else F=null;B!==null&&y1e(C,k,B,F,!1),z!==null&&N!==null&&y1e(C,N,z,F,!0)}}e:{if(k=_?GC(_):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var ae=pQe;else if(c1e(k))if(zEe)ae=yQe;else{ae=gQe;var Y=mQe}else(B=k.nodeName)&&B.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(ae=vQe);if(ae&&(ae=ae(n,_))){FEe(C,ae,t,b);break e}Y&&Y(n,k,_),n==="focusout"&&(Y=k._wrapperState)&&Y.controlled&&k.type==="number"&&hW(k,"number",k.value)}switch(Y=_?GC(_):window,n){case"focusin":(c1e(Y)||Y.contentEditable==="true")&&(jC=Y,AW=_,XI=null);break;case"focusout":XI=AW=jC=null;break;case"mousedown":CW=!0;break;case"contextmenu":case"mouseup":case"dragend":CW=!1,m1e(C,t,b);break;case"selectionchange":if(SQe)break;case"keydown":case"keyup":m1e(C,t,b)}var ge;if(VK)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else UC?LEe(n,t)&&(_e="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(_e="onCompositionStart");_e&&(DEe&&t.locale!=="ko"&&(UC||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&UC&&(ge=BEe()):(vw=b,jK="value"in vw?vw.value:vw.textContent,UC=!0)),Y=vN(_,_e),0<Y.length&&(_e=new s1e(_e,n,null,t,b),C.push({event:_e,listeners:Y}),ge?_e.data=ge:(ge=NEe(t),ge!==null&&(_e.data=ge)))),(ge=uQe?cQe(n,t):dQe(n,t))&&(_=vN(_,"onBeforeInput"),0<_.length&&(b=new s1e("onBeforeInput","beforeinput",null,t,b),C.push({event:b,listeners:_}),b.data=ge))}QEe(C,e)})}function PR(n,e,t){return{instance:n,listener:e,currentTarget:t}}function vN(n,e){for(var t=e+"Capture",r=[];n!==null;){var o=n,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=xR(n,t),a!=null&&r.unshift(PR(n,a,o)),a=xR(n,e),a!=null&&r.push(PR(n,a,o))),n=n.return}return r}function bC(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function y1e(n,e,t,r,o){for(var a=e._reactName,c=[];t!==null&&t!==r;){var p=t,g=p.alternate,_=p.stateNode;if(g!==null&&g===r)break;p.tag===5&&_!==null&&(p=_,o?(g=xR(t,a),g!=null&&c.unshift(PR(t,g,p))):o||(g=xR(t,a),g!=null&&c.push(PR(t,g,p)))),t=t.return}c.length!==0&&n.push({event:e,listeners:c})}var AQe=/\r\n?/g,CQe=/\u0000|\uFFFD/g;function _1e(n){return(typeof n=="string"?n:""+n).replace(AQe,`
`).replace(CQe,"")}function cL(n,e,t){if(e=_1e(e),_1e(n)!==e&&t)throw Error(Mr(425))}function yN(){}var MW=null,TW=null;function PW(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kW=typeof setTimeout=="function"?setTimeout:void 0,MQe=typeof clearTimeout=="function"?clearTimeout:void 0,w1e=typeof Promise=="function"?Promise:void 0,TQe=typeof queueMicrotask=="function"?queueMicrotask:typeof w1e<"u"?function(n){return w1e.resolve(null).then(n).catch(PQe)}:kW;function PQe(n){setTimeout(function(){throw n})}function RG(n,e){var t=e,r=0;do{var o=t.nextSibling;if(n.removeChild(t),o&&o.nodeType===8)if(t=o.data,t==="/$"){if(r===0){n.removeChild(o),AR(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=o}while(t);AR(e)}function Iw(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function S1e(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var WM=Math.random().toString(36).slice(2),kv="__reactFiber$"+WM,kR="__reactProps$"+WM,w1="__reactContainer$"+WM,IW="__reactEvents$"+WM,kQe="__reactListeners$"+WM,IQe="__reactHandles$"+WM;function ab(n){var e=n[kv];if(e)return e;for(var t=n.parentNode;t;){if(e=t[w1]||t[kv]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=S1e(n);n!==null;){if(t=n[kv])return t;n=S1e(n)}return e}n=t,t=n.parentNode}return null}function ZR(n){return n=n[kv]||n[w1],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function GC(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Mr(33))}function TF(n){return n[kR]||null}var RW=[],VC=-1;function Qw(n){return{current:n}}function El(n){0>VC||(n.current=RW[VC],RW[VC]=null,VC--)}function $a(n,e){VC++,RW[VC]=n.current,n.current=e}var Gw={},dh=Qw(Gw),Fp=Qw(!1),Eb=Gw;function xM(n,e){var t=n.type.contextTypes;if(!t)return Gw;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in t)o[a]=e[a];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function zp(n){return n=n.childContextTypes,n!=null}function _N(){El(Fp),El(dh)}function x1e(n,e,t){if(dh.current!==Gw)throw Error(Mr(168));$a(dh,e),$a(Fp,t)}function JEe(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(Mr(108,mYe(n)||"Unknown",o));return lu({},t,r)}function wN(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gw,Eb=dh.current,$a(dh,n),$a(Fp,Fp.current),!0}function b1e(n,e,t){var r=n.stateNode;if(!r)throw Error(Mr(169));t?(n=JEe(n,e,Eb),r.__reactInternalMemoizedMergedChildContext=n,El(Fp),El(dh),$a(dh,n)):El(Fp),$a(Fp,t)}var a1=null,PF=!1,OG=!1;function ZEe(n){a1===null?a1=[n]:a1.push(n)}function RQe(n){PF=!0,ZEe(n)}function qw(){if(!OG&&a1!==null){OG=!0;var n=0,e=la;try{var t=a1;for(la=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}a1=null,PF=!1}catch(o){throw a1!==null&&(a1=a1.slice(n+1)),bEe(NK,qw),o}finally{la=e,OG=!1}}return null}var WC=[],XC=0,SN=null,xN=0,vg=[],yg=0,Ab=null,f1=1,h1="";function Jx(n,e){WC[XC++]=xN,WC[XC++]=SN,SN=n,xN=e}function $Ee(n,e,t){vg[yg++]=f1,vg[yg++]=h1,vg[yg++]=Ab,Ab=n;var r=f1;n=h1;var o=32-B0(r)-1;r&=~(1<<o),t+=1;var a=32-B0(e)+o;if(30<a){var c=o-o%5;a=(r&(1<<c)-1).toString(32),r>>=c,o-=c,f1=1<<32-B0(e)+o|t<<o|r,h1=a+n}else f1=1<<a|t<<o|r,h1=n}function XK(n){n.return!==null&&(Jx(n,1),$Ee(n,1,0))}function KK(n){for(;n===SN;)SN=WC[--XC],WC[XC]=null,xN=WC[--XC],WC[XC]=null;for(;n===Ab;)Ab=vg[--yg],vg[yg]=null,h1=vg[--yg],vg[yg]=null,f1=vg[--yg],vg[yg]=null}var Mm=null,Am=null,Dl=!1,I0=null;function eAe(n,e){var t=Sg(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function E1e(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Mm=n,Am=Iw(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Mm=n,Am=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ab!==null?{id:f1,overflow:h1}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Sg(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Mm=n,Am=null,!0):!1;default:return!1}}function OW(n){return(n.mode&1)!==0&&(n.flags&128)===0}function BW(n){if(Dl){var e=Am;if(e){var t=e;if(!E1e(n,e)){if(OW(n))throw Error(Mr(418));e=Iw(t.nextSibling);var r=Mm;e&&E1e(n,e)?eAe(r,t):(n.flags=n.flags&-4097|2,Dl=!1,Mm=n)}}else{if(OW(n))throw Error(Mr(418));n.flags=n.flags&-4097|2,Dl=!1,Mm=n}}}function A1e(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Mm=n}function dL(n){if(n!==Mm)return!1;if(!Dl)return A1e(n),Dl=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!PW(n.type,n.memoizedProps)),e&&(e=Am)){if(OW(n))throw tAe(),Error(Mr(418));for(;e;)eAe(n,e),e=Iw(e.nextSibling)}if(A1e(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Mr(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Am=Iw(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Am=null}}else Am=Mm?Iw(n.stateNode.nextSibling):null;return!0}function tAe(){for(var n=Am;n;)n=Iw(n.nextSibling)}function bM(){Am=Mm=null,Dl=!1}function YK(n){I0===null?I0=[n]:I0.push(n)}var OQe=A1.ReactCurrentBatchConfig;function T0(n,e){if(n&&n.defaultProps){e=lu({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var bN=Qw(null),EN=null,KC=null,QK=null;function qK(){QK=KC=EN=null}function JK(n){var e=bN.current;El(bN),n._currentValue=e}function DW(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function iM(n,e){EN=n,QK=KC=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Dp=!0),n.firstContext=null)}function Ag(n){var e=n._currentValue;if(QK!==n)if(n={context:n,memoizedValue:e,next:null},KC===null){if(EN===null)throw Error(Mr(308));KC=n,EN.dependencies={lanes:0,firstContext:n}}else KC=KC.next=n;return e}var lb=null;function ZK(n){lb===null?lb=[n]:lb.push(n)}function nAe(n,e,t,r){var o=e.interleaved;return o===null?(t.next=t,ZK(e)):(t.next=o.next,o.next=t),e.interleaved=t,S1(n,r)}function S1(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var fw=!1;function $K(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rAe(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function v1(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Rw(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,As&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,S1(n,t)}return o=r.interleaved,o===null?(e.next=e,ZK(r)):(e.next=o.next,o.next=e),r.interleaved=e,S1(n,t)}function FL(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,FK(n,t)}}function C1e(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var o=null,a=null;if(t=t.firstBaseUpdate,t!==null){do{var c={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};a===null?o=a=c:a=a.next=c,t=t.next}while(t!==null);a===null?o=a=e:a=a.next=e}else o=a=e;t={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function AN(n,e,t,r){var o=n.updateQueue;fw=!1;var a=o.firstBaseUpdate,c=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var g=p,_=g.next;g.next=null,c===null?a=_:c.next=_,c=g;var b=n.alternate;b!==null&&(b=b.updateQueue,p=b.lastBaseUpdate,p!==c&&(p===null?b.firstBaseUpdate=_:p.next=_,b.lastBaseUpdate=g))}if(a!==null){var C=o.baseState;c=0,b=_=g=null,p=a;do{var k=p.lane,B=p.eventTime;if((r&k)===k){b!==null&&(b=b.next={eventTime:B,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var z=n,F=p;switch(k=e,B=t,F.tag){case 1:if(z=F.payload,typeof z=="function"){C=z.call(B,C,k);break e}C=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=F.payload,k=typeof z=="function"?z.call(B,C,k):z,k==null)break e;C=lu({},C,k);break e;case 2:fw=!0}}p.callback!==null&&p.lane!==0&&(n.flags|=64,k=o.effects,k===null?o.effects=[p]:k.push(p))}else B={eventTime:B,lane:k,tag:p.tag,payload:p.payload,callback:p.callback,next:null},b===null?(_=b=B,g=C):b=b.next=B,c|=k;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;k=p,p=k.next,k.next=null,o.lastBaseUpdate=k,o.shared.pending=null}}while(1);if(b===null&&(g=C),o.baseState=g,o.firstBaseUpdate=_,o.lastBaseUpdate=b,e=o.shared.interleaved,e!==null){o=e;do c|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);Mb|=c,n.lanes=c,n.memoizedState=C}}function M1e(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],o=r.callback;if(o!==null){if(r.callback=null,r=t,typeof o!="function")throw Error(Mr(191,o));o.call(r)}}}var iAe=new nEe.Component().refs;function LW(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:lu({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var kF={isMounted:function(n){return(n=n._reactInternals)?Db(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Kh(),o=Bw(n),a=v1(r,o);a.payload=e,t!=null&&(a.callback=t),e=Rw(n,a,o),e!==null&&(D0(e,n,o,r),FL(e,n,o))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Kh(),o=Bw(n),a=v1(r,o);a.tag=1,a.payload=e,t!=null&&(a.callback=t),e=Rw(n,a,o),e!==null&&(D0(e,n,o,r),FL(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Kh(),r=Bw(n),o=v1(t,r);o.tag=2,e!=null&&(o.callback=e),e=Rw(n,o,r),e!==null&&(D0(e,n,r,t),FL(e,n,r))}};function T1e(n,e,t,r,o,a,c){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,a,c):e.prototype&&e.prototype.isPureReactComponent?!MR(t,r)||!MR(o,a):!0}function oAe(n,e,t){var r=!1,o=Gw,a=e.contextType;return typeof a=="object"&&a!==null?a=Ag(a):(o=zp(e)?Eb:dh.current,r=e.contextTypes,a=(r=r!=null)?xM(n,o):Gw),e=new e(t,a),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kF,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=a),e}function P1e(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&kF.enqueueReplaceState(e,e.state,null)}function NW(n,e,t,r){var o=n.stateNode;o.props=t,o.state=n.memoizedState,o.refs=iAe,$K(n);var a=e.contextType;typeof a=="object"&&a!==null?o.context=Ag(a):(a=zp(e)?Eb:dh.current,o.context=xM(n,a)),o.state=n.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(LW(n,e,a,t),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&kF.enqueueReplaceState(o,o.state,null),AN(n,t,o,r),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function gI(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Mr(309));var r=t.stateNode}if(!r)throw Error(Mr(147,n));var o=r,a=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(c){var p=o.refs;p===iAe&&(p=o.refs={}),c===null?delete p[a]:p[a]=c},e._stringRef=a,e)}if(typeof n!="string")throw Error(Mr(284));if(!t._owner)throw Error(Mr(290,n))}return n}function fL(n,e){throw n=Object.prototype.toString.call(e),Error(Mr(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function k1e(n){var e=n._init;return e(n._payload)}function sAe(n){function e(D,A){if(n){var G=D.deletions;G===null?(D.deletions=[A],D.flags|=16):G.push(A)}}function t(D,A){if(!n)return null;for(;A!==null;)e(D,A),A=A.sibling;return null}function r(D,A){for(D=new Map;A!==null;)A.key!==null?D.set(A.key,A):D.set(A.index,A),A=A.sibling;return D}function o(D,A){return D=Dw(D,A),D.index=0,D.sibling=null,D}function a(D,A,G){return D.index=G,n?(G=D.alternate,G!==null?(G=G.index,G<A?(D.flags|=2,A):G):(D.flags|=2,A)):(D.flags|=1048576,A)}function c(D){return n&&D.alternate===null&&(D.flags|=2),D}function p(D,A,G,Q){return A===null||A.tag!==6?(A=UG(G,D.mode,Q),A.return=D,A):(A=o(A,G),A.return=D,A)}function g(D,A,G,Q){var ae=G.type;return ae===zC?b(D,A,G.props.children,Q,G.key):A!==null&&(A.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===dw&&k1e(ae)===A.type)?(Q=o(A,G.props),Q.ref=gI(D,A,G),Q.return=D,Q):(Q=VL(G.type,G.key,G.props,null,D.mode,Q),Q.ref=gI(D,A,G),Q.return=D,Q)}function _(D,A,G,Q){return A===null||A.tag!==4||A.stateNode.containerInfo!==G.containerInfo||A.stateNode.implementation!==G.implementation?(A=jG(G,D.mode,Q),A.return=D,A):(A=o(A,G.children||[]),A.return=D,A)}function b(D,A,G,Q,ae){return A===null||A.tag!==7?(A=vb(G,D.mode,Q,ae),A.return=D,A):(A=o(A,G),A.return=D,A)}function C(D,A,G){if(typeof A=="string"&&A!==""||typeof A=="number")return A=UG(""+A,D.mode,G),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case tL:return G=VL(A.type,A.key,A.props,null,D.mode,G),G.ref=gI(D,null,A),G.return=D,G;case FC:return A=jG(A,D.mode,G),A.return=D,A;case dw:var Q=A._init;return C(D,Q(A._payload),G)}if(RI(A)||dI(A))return A=vb(A,D.mode,G,null),A.return=D,A;fL(D,A)}return null}function k(D,A,G,Q){var ae=A!==null?A.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ae!==null?null:p(D,A,""+G,Q);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case tL:return G.key===ae?g(D,A,G,Q):null;case FC:return G.key===ae?_(D,A,G,Q):null;case dw:return ae=G._init,k(D,A,ae(G._payload),Q)}if(RI(G)||dI(G))return ae!==null?null:b(D,A,G,Q,null);fL(D,G)}return null}function B(D,A,G,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return D=D.get(G)||null,p(A,D,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case tL:return D=D.get(Q.key===null?G:Q.key)||null,g(A,D,Q,ae);case FC:return D=D.get(Q.key===null?G:Q.key)||null,_(A,D,Q,ae);case dw:var Y=Q._init;return B(D,A,G,Y(Q._payload),ae)}if(RI(Q)||dI(Q))return D=D.get(G)||null,b(A,D,Q,ae,null);fL(A,Q)}return null}function z(D,A,G,Q){for(var ae=null,Y=null,ge=A,_e=A=0,J=null;ge!==null&&_e<G.length;_e++){ge.index>_e?(J=ge,ge=null):J=ge.sibling;var Se=k(D,ge,G[_e],Q);if(Se===null){ge===null&&(ge=J);break}n&&ge&&Se.alternate===null&&e(D,ge),A=a(Se,A,_e),Y===null?ae=Se:Y.sibling=Se,Y=Se,ge=J}if(_e===G.length)return t(D,ge),Dl&&Jx(D,_e),ae;if(ge===null){for(;_e<G.length;_e++)ge=C(D,G[_e],Q),ge!==null&&(A=a(ge,A,_e),Y===null?ae=ge:Y.sibling=ge,Y=ge);return Dl&&Jx(D,_e),ae}for(ge=r(D,ge);_e<G.length;_e++)J=B(ge,D,_e,G[_e],Q),J!==null&&(n&&J.alternate!==null&&ge.delete(J.key===null?_e:J.key),A=a(J,A,_e),Y===null?ae=J:Y.sibling=J,Y=J);return n&&ge.forEach(function(Be){return e(D,Be)}),Dl&&Jx(D,_e),ae}function F(D,A,G,Q){var ae=dI(G);if(typeof ae!="function")throw Error(Mr(150));if(G=ae.call(G),G==null)throw Error(Mr(151));for(var Y=ae=null,ge=A,_e=A=0,J=null,Se=G.next();ge!==null&&!Se.done;_e++,Se=G.next()){ge.index>_e?(J=ge,ge=null):J=ge.sibling;var Be=k(D,ge,Se.value,Q);if(Be===null){ge===null&&(ge=J);break}n&&ge&&Be.alternate===null&&e(D,ge),A=a(Be,A,_e),Y===null?ae=Be:Y.sibling=Be,Y=Be,ge=J}if(Se.done)return t(D,ge),Dl&&Jx(D,_e),ae;if(ge===null){for(;!Se.done;_e++,Se=G.next())Se=C(D,Se.value,Q),Se!==null&&(A=a(Se,A,_e),Y===null?ae=Se:Y.sibling=Se,Y=Se);return Dl&&Jx(D,_e),ae}for(ge=r(D,ge);!Se.done;_e++,Se=G.next())Se=B(ge,D,_e,Se.value,Q),Se!==null&&(n&&Se.alternate!==null&&ge.delete(Se.key===null?_e:Se.key),A=a(Se,A,_e),Y===null?ae=Se:Y.sibling=Se,Y=Se);return n&&ge.forEach(function(_t){return e(D,_t)}),Dl&&Jx(D,_e),ae}function N(D,A,G,Q){if(typeof G=="object"&&G!==null&&G.type===zC&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case tL:e:{for(var ae=G.key,Y=A;Y!==null;){if(Y.key===ae){if(ae=G.type,ae===zC){if(Y.tag===7){t(D,Y.sibling),A=o(Y,G.props.children),A.return=D,D=A;break e}}else if(Y.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===dw&&k1e(ae)===Y.type){t(D,Y.sibling),A=o(Y,G.props),A.ref=gI(D,Y,G),A.return=D,D=A;break e}t(D,Y);break}else e(D,Y);Y=Y.sibling}G.type===zC?(A=vb(G.props.children,D.mode,Q,G.key),A.return=D,D=A):(Q=VL(G.type,G.key,G.props,null,D.mode,Q),Q.ref=gI(D,A,G),Q.return=D,D=Q)}return c(D);case FC:e:{for(Y=G.key;A!==null;){if(A.key===Y)if(A.tag===4&&A.stateNode.containerInfo===G.containerInfo&&A.stateNode.implementation===G.implementation){t(D,A.sibling),A=o(A,G.children||[]),A.return=D,D=A;break e}else{t(D,A);break}else e(D,A);A=A.sibling}A=jG(G,D.mode,Q),A.return=D,D=A}return c(D);case dw:return Y=G._init,N(D,A,Y(G._payload),Q)}if(RI(G))return z(D,A,G,Q);if(dI(G))return F(D,A,G,Q);fL(D,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,A!==null&&A.tag===6?(t(D,A.sibling),A=o(A,G),A.return=D,D=A):(t(D,A),A=UG(G,D.mode,Q),A.return=D,D=A),c(D)):t(D,A)}return N}var EM=sAe(!0),aAe=sAe(!1),$R={},Nv=Qw($R),IR=Qw($R),RR=Qw($R);function ub(n){if(n===$R)throw Error(Mr(174));return n}function eY(n,e){switch($a(RR,e),$a(IR,n),$a(Nv,$R),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mW(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=mW(e,n)}El(Nv),$a(Nv,e)}function AM(){El(Nv),El(IR),El(RR)}function lAe(n){ub(RR.current);var e=ub(Nv.current),t=mW(e,n.type);e!==t&&($a(IR,n),$a(Nv,t))}function tY(n){IR.current===n&&(El(Nv),El(IR))}var iu=Qw(0);function CN(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var BG=[];function nY(){for(var n=0;n<BG.length;n++)BG[n]._workInProgressVersionPrimary=null;BG.length=0}var zL=A1.ReactCurrentDispatcher,DG=A1.ReactCurrentBatchConfig,Cb=0,au=null,Kc=null,Ad=null,MN=!1,KI=!1,OR=0,BQe=0;function rh(){throw Error(Mr(321))}function rY(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!N0(n[t],e[t]))return!1;return!0}function iY(n,e,t,r,o,a){if(Cb=a,au=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zL.current=n===null||n.memoizedState===null?FQe:zQe,n=t(r,o),KI){a=0;do{if(KI=!1,OR=0,25<=a)throw Error(Mr(301));a+=1,Ad=Kc=null,e.updateQueue=null,zL.current=UQe,n=t(r,o)}while(KI)}if(zL.current=TN,e=Kc!==null&&Kc.next!==null,Cb=0,Ad=Kc=au=null,MN=!1,e)throw Error(Mr(300));return n}function oY(){var n=OR!==0;return OR=0,n}function Tv(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ad===null?au.memoizedState=Ad=n:Ad=Ad.next=n,Ad}function Cg(){if(Kc===null){var n=au.alternate;n=n!==null?n.memoizedState:null}else n=Kc.next;var e=Ad===null?au.memoizedState:Ad.next;if(e!==null)Ad=e,Kc=n;else{if(n===null)throw Error(Mr(310));Kc=n,n={memoizedState:Kc.memoizedState,baseState:Kc.baseState,baseQueue:Kc.baseQueue,queue:Kc.queue,next:null},Ad===null?au.memoizedState=Ad=n:Ad=Ad.next=n}return Ad}function BR(n,e){return typeof e=="function"?e(n):e}function LG(n){var e=Cg(),t=e.queue;if(t===null)throw Error(Mr(311));t.lastRenderedReducer=n;var r=Kc,o=r.baseQueue,a=t.pending;if(a!==null){if(o!==null){var c=o.next;o.next=a.next,a.next=c}r.baseQueue=o=a,t.pending=null}if(o!==null){a=o.next,r=r.baseState;var p=c=null,g=null,_=a;do{var b=_.lane;if((Cb&b)===b)g!==null&&(g=g.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),r=_.hasEagerState?_.eagerState:n(r,_.action);else{var C={lane:b,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};g===null?(p=g=C,c=r):g=g.next=C,au.lanes|=b,Mb|=b}_=_.next}while(_!==null&&_!==a);g===null?c=r:g.next=p,N0(r,e.memoizedState)||(Dp=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=g,t.lastRenderedState=r}if(n=t.interleaved,n!==null){o=n;do a=o.lane,au.lanes|=a,Mb|=a,o=o.next;while(o!==n)}else o===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function NG(n){var e=Cg(),t=e.queue;if(t===null)throw Error(Mr(311));t.lastRenderedReducer=n;var r=t.dispatch,o=t.pending,a=e.memoizedState;if(o!==null){t.pending=null;var c=o=o.next;do a=n(a,c.action),c=c.next;while(c!==o);N0(a,e.memoizedState)||(Dp=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),t.lastRenderedState=a}return[a,r]}function uAe(){}function cAe(n,e){var t=au,r=Cg(),o=e(),a=!N0(r.memoizedState,o);if(a&&(r.memoizedState=o,Dp=!0),r=r.queue,sY(hAe.bind(null,t,r,n),[n]),r.getSnapshot!==e||a||Ad!==null&&Ad.memoizedState.tag&1){if(t.flags|=2048,DR(9,fAe.bind(null,t,r,o,e),void 0,null),Cd===null)throw Error(Mr(349));Cb&30||dAe(t,e,o)}return o}function dAe(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=au.updateQueue,e===null?(e={lastEffect:null,stores:null},au.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function fAe(n,e,t,r){e.value=t,e.getSnapshot=r,pAe(e)&&mAe(n)}function hAe(n,e,t){return t(function(){pAe(e)&&mAe(n)})}function pAe(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!N0(n,t)}catch{return!0}}function mAe(n){var e=S1(n,1);e!==null&&D0(e,n,1,-1)}function I1e(n){var e=Tv();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:BR,lastRenderedState:n},e.queue=n,n=n.dispatch=NQe.bind(null,au,n),[e.memoizedState,n]}function DR(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=au.updateQueue,e===null?(e={lastEffect:null,stores:null},au.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function gAe(){return Cg().memoizedState}function UL(n,e,t,r){var o=Tv();au.flags|=n,o.memoizedState=DR(1|e,t,void 0,r===void 0?null:r)}function IF(n,e,t,r){var o=Cg();r=r===void 0?null:r;var a=void 0;if(Kc!==null){var c=Kc.memoizedState;if(a=c.destroy,r!==null&&rY(r,c.deps)){o.memoizedState=DR(e,t,a,r);return}}au.flags|=n,o.memoizedState=DR(1|e,t,a,r)}function R1e(n,e){return UL(8390656,8,n,e)}function sY(n,e){return IF(2048,8,n,e)}function vAe(n,e){return IF(4,2,n,e)}function yAe(n,e){return IF(4,4,n,e)}function _Ae(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function wAe(n,e,t){return t=t!=null?t.concat([n]):null,IF(4,4,_Ae.bind(null,e,n),t)}function aY(){}function SAe(n,e){var t=Cg();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&rY(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function xAe(n,e){var t=Cg();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&rY(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function bAe(n,e,t){return Cb&21?(N0(t,e)||(t=CEe(),au.lanes|=t,Mb|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Dp=!0),n.memoizedState=t)}function DQe(n,e){var t=la;la=t!==0&&4>t?t:4,n(!0);var r=DG.transition;DG.transition={};try{n(!1),e()}finally{la=t,DG.transition=r}}function EAe(){return Cg().memoizedState}function LQe(n,e,t){var r=Bw(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},AAe(n))CAe(e,t);else if(t=nAe(n,e,t,r),t!==null){var o=Kh();D0(t,n,r,o),MAe(t,e,r)}}function NQe(n,e,t){var r=Bw(n),o={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(AAe(n))CAe(e,o);else{var a=n.alternate;if(n.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var c=e.lastRenderedState,p=a(c,t);if(o.hasEagerState=!0,o.eagerState=p,N0(p,c)){var g=e.interleaved;g===null?(o.next=o,ZK(e)):(o.next=g.next,g.next=o),e.interleaved=o;return}}catch{}finally{}t=nAe(n,e,o,r),t!==null&&(o=Kh(),D0(t,n,r,o),MAe(t,e,r))}}function AAe(n){var e=n.alternate;return n===au||e!==null&&e===au}function CAe(n,e){KI=MN=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function MAe(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,FK(n,t)}}var TN={readContext:Ag,useCallback:rh,useContext:rh,useEffect:rh,useImperativeHandle:rh,useInsertionEffect:rh,useLayoutEffect:rh,useMemo:rh,useReducer:rh,useRef:rh,useState:rh,useDebugValue:rh,useDeferredValue:rh,useTransition:rh,useMutableSource:rh,useSyncExternalStore:rh,useId:rh,unstable_isNewReconciler:!1},FQe={readContext:Ag,useCallback:function(n,e){return Tv().memoizedState=[n,e===void 0?null:e],n},useContext:Ag,useEffect:R1e,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,UL(4194308,4,_Ae.bind(null,e,n),t)},useLayoutEffect:function(n,e){return UL(4194308,4,n,e)},useInsertionEffect:function(n,e){return UL(4,2,n,e)},useMemo:function(n,e){var t=Tv();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Tv();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=LQe.bind(null,au,n),[r.memoizedState,n]},useRef:function(n){var e=Tv();return n={current:n},e.memoizedState=n},useState:I1e,useDebugValue:aY,useDeferredValue:function(n){return Tv().memoizedState=n},useTransition:function(){var n=I1e(!1),e=n[0];return n=DQe.bind(null,n[1]),Tv().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=au,o=Tv();if(Dl){if(t===void 0)throw Error(Mr(407));t=t()}else{if(t=e(),Cd===null)throw Error(Mr(349));Cb&30||dAe(r,e,t)}o.memoizedState=t;var a={value:t,getSnapshot:e};return o.queue=a,R1e(hAe.bind(null,r,a,n),[n]),r.flags|=2048,DR(9,fAe.bind(null,r,a,t,e),void 0,null),t},useId:function(){var n=Tv(),e=Cd.identifierPrefix;if(Dl){var t=h1,r=f1;t=(r&~(1<<32-B0(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=OR++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=BQe++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},zQe={readContext:Ag,useCallback:SAe,useContext:Ag,useEffect:sY,useImperativeHandle:wAe,useInsertionEffect:vAe,useLayoutEffect:yAe,useMemo:xAe,useReducer:LG,useRef:gAe,useState:function(){return LG(BR)},useDebugValue:aY,useDeferredValue:function(n){var e=Cg();return bAe(e,Kc.memoizedState,n)},useTransition:function(){var n=LG(BR)[0],e=Cg().memoizedState;return[n,e]},useMutableSource:uAe,useSyncExternalStore:cAe,useId:EAe,unstable_isNewReconciler:!1},UQe={readContext:Ag,useCallback:SAe,useContext:Ag,useEffect:sY,useImperativeHandle:wAe,useInsertionEffect:vAe,useLayoutEffect:yAe,useMemo:xAe,useReducer:NG,useRef:gAe,useState:function(){return NG(BR)},useDebugValue:aY,useDeferredValue:function(n){var e=Cg();return Kc===null?e.memoizedState=n:bAe(e,Kc.memoizedState,n)},useTransition:function(){var n=NG(BR)[0],e=Cg().memoizedState;return[n,e]},useMutableSource:uAe,useSyncExternalStore:cAe,useId:EAe,unstable_isNewReconciler:!1};function CM(n,e){try{var t="",r=e;do t+=pYe(r),r=r.return;while(r);var o=t}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:n,source:e,stack:o,digest:null}}function FG(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function FW(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var jQe=typeof WeakMap=="function"?WeakMap:Map;function TAe(n,e,t){t=v1(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){kN||(kN=!0,YW=r),FW(n,e)},t}function PAe(n,e,t){t=v1(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;t.payload=function(){return r(o)},t.callback=function(){FW(n,e)}}var a=n.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){FW(n,e),typeof r!="function"&&(Ow===null?Ow=new Set([this]):Ow.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),t}function O1e(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new jQe;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(t)||(o.add(t),n=tqe.bind(null,n,e,t),e.then(n,n))}function B1e(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function D1e(n,e,t,r,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=v1(-1,1),e.tag=2,Rw(t,e,1))),t.lanes|=1),n)}var HQe=A1.ReactCurrentOwner,Dp=!1;function Wh(n,e,t,r){e.child=n===null?aAe(e,null,t,r):EM(e,n.child,t,r)}function L1e(n,e,t,r,o){t=t.render;var a=e.ref;return iM(e,o),r=iY(n,e,t,r,a,o),t=oY(),n!==null&&!Dp?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,x1(n,e,o)):(Dl&&t&&XK(e),e.flags|=1,Wh(n,e,r,o),e.child)}function N1e(n,e,t,r,o){if(n===null){var a=t.type;return typeof a=="function"&&!mY(a)&&a.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=a,kAe(n,e,a,r,o)):(n=VL(t.type,null,r,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(a=n.child,!(n.lanes&o)){var c=a.memoizedProps;if(t=t.compare,t=t!==null?t:MR,t(c,r)&&n.ref===e.ref)return x1(n,e,o)}return e.flags|=1,n=Dw(a,r),n.ref=e.ref,n.return=e,e.child=n}function kAe(n,e,t,r,o){if(n!==null){var a=n.memoizedProps;if(MR(a,r)&&n.ref===e.ref)if(Dp=!1,e.pendingProps=r=a,(n.lanes&o)!==0)n.flags&131072&&(Dp=!0);else return e.lanes=n.lanes,x1(n,e,o)}return zW(n,e,t,r,o)}function IAe(n,e,t){var r=e.pendingProps,o=r.children,a=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$a(QC,Sm),Sm|=t;else{if(!(t&1073741824))return n=a!==null?a.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,$a(QC,Sm),Sm|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:t,$a(QC,Sm),Sm|=r}else a!==null?(r=a.baseLanes|t,e.memoizedState=null):r=t,$a(QC,Sm),Sm|=r;return Wh(n,e,o,t),e.child}function RAe(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function zW(n,e,t,r,o){var a=zp(t)?Eb:dh.current;return a=xM(e,a),iM(e,o),t=iY(n,e,t,r,a,o),r=oY(),n!==null&&!Dp?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,x1(n,e,o)):(Dl&&r&&XK(e),e.flags|=1,Wh(n,e,t,o),e.child)}function F1e(n,e,t,r,o){if(zp(t)){var a=!0;wN(e)}else a=!1;if(iM(e,o),e.stateNode===null)jL(n,e),oAe(e,t,r),NW(e,t,r,o),r=!0;else if(n===null){var c=e.stateNode,p=e.memoizedProps;c.props=p;var g=c.context,_=t.contextType;typeof _=="object"&&_!==null?_=Ag(_):(_=zp(t)?Eb:dh.current,_=xM(e,_));var b=t.getDerivedStateFromProps,C=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function";C||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==r||g!==_)&&P1e(e,c,r,_),fw=!1;var k=e.memoizedState;c.state=k,AN(e,r,c,o),g=e.memoizedState,p!==r||k!==g||Fp.current||fw?(typeof b=="function"&&(LW(e,t,b,r),g=e.memoizedState),(p=fw||T1e(e,t,p,r,k,g,_))?(C||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=g),c.props=r,c.state=g,c.context=_,r=p):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,rAe(n,e),p=e.memoizedProps,_=e.type===e.elementType?p:T0(e.type,p),c.props=_,C=e.pendingProps,k=c.context,g=t.contextType,typeof g=="object"&&g!==null?g=Ag(g):(g=zp(t)?Eb:dh.current,g=xM(e,g));var B=t.getDerivedStateFromProps;(b=typeof B=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p!==C||k!==g)&&P1e(e,c,r,g),fw=!1,k=e.memoizedState,c.state=k,AN(e,r,c,o);var z=e.memoizedState;p!==C||k!==z||Fp.current||fw?(typeof B=="function"&&(LW(e,t,B,r),z=e.memoizedState),(_=fw||T1e(e,t,_,r,k,z,g)||!1)?(b||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,z,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,z,g)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||p===n.memoizedProps&&k===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===n.memoizedProps&&k===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=z),c.props=r,c.state=z,c.context=g,r=_):(typeof c.componentDidUpdate!="function"||p===n.memoizedProps&&k===n.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||p===n.memoizedProps&&k===n.memoizedState||(e.flags|=1024),r=!1)}return UW(n,e,t,r,a,o)}function UW(n,e,t,r,o,a){RAe(n,e);var c=(e.flags&128)!==0;if(!r&&!c)return o&&b1e(e,t,!1),x1(n,e,a);r=e.stateNode,HQe.current=e;var p=c&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&c?(e.child=EM(e,n.child,null,a),e.child=EM(e,null,p,a)):Wh(n,e,p,a),e.memoizedState=r.state,o&&b1e(e,t,!0),e.child}function OAe(n){var e=n.stateNode;e.pendingContext?x1e(n,e.pendingContext,e.pendingContext!==e.context):e.context&&x1e(n,e.context,!1),eY(n,e.containerInfo)}function z1e(n,e,t,r,o){return bM(),YK(o),e.flags|=256,Wh(n,e,t,r),e.child}var jW={dehydrated:null,treeContext:null,retryLane:0};function HW(n){return{baseLanes:n,cachePool:null,transitions:null}}function BAe(n,e,t){var r=e.pendingProps,o=iu.current,a=!1,c=(e.flags&128)!==0,p;if((p=c)||(p=n!==null&&n.memoizedState===null?!1:(o&2)!==0),p?(a=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),$a(iu,o&1),n===null)return BW(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,n=r.fallback,a?(r=e.mode,a=e.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=BF(c,r,0,null),n=vb(n,r,t,null),a.return=e,n.return=e,a.sibling=n,e.child=a,e.child.memoizedState=HW(t),e.memoizedState=jW,n):lY(e,c));if(o=n.memoizedState,o!==null&&(p=o.dehydrated,p!==null))return GQe(n,e,c,r,p,o,t);if(a){a=r.fallback,c=e.mode,o=n.child,p=o.sibling;var g={mode:"hidden",children:r.children};return!(c&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=g,e.deletions=null):(r=Dw(o,g),r.subtreeFlags=o.subtreeFlags&14680064),p!==null?a=Dw(p,a):(a=vb(a,c,t,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,c=n.child.memoizedState,c=c===null?HW(t):{baseLanes:c.baseLanes|t,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=n.childLanes&~t,e.memoizedState=jW,r}return a=n.child,n=a.sibling,r=Dw(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function lY(n,e){return e=BF({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function hL(n,e,t,r){return r!==null&&YK(r),EM(e,n.child,null,t),n=lY(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function GQe(n,e,t,r,o,a,c){if(t)return e.flags&256?(e.flags&=-257,r=FG(Error(Mr(422))),hL(n,e,c,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=BF({mode:"visible",children:r.children},o,0,null),a=vb(a,o,c,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&EM(e,n.child,null,c),e.child.memoizedState=HW(c),e.memoizedState=jW,a);if(!(e.mode&1))return hL(n,e,c,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var p=r.dgst;return r=p,a=Error(Mr(419)),r=FG(a,r,void 0),hL(n,e,c,r)}if(p=(c&n.childLanes)!==0,Dp||p){if(r=Cd,r!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|c)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,S1(n,o),D0(r,n,o,-1))}return pY(),r=FG(Error(Mr(421))),hL(n,e,c,r)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=nqe.bind(null,n),o._reactRetry=e,null):(n=a.treeContext,Am=Iw(o.nextSibling),Mm=e,Dl=!0,I0=null,n!==null&&(vg[yg++]=f1,vg[yg++]=h1,vg[yg++]=Ab,f1=n.id,h1=n.overflow,Ab=e),e=lY(e,r.children),e.flags|=4096,e)}function U1e(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),DW(n.return,e,t)}function zG(n,e,t,r,o){var a=n.memoizedState;a===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=t,a.tailMode=o)}function DAe(n,e,t){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(Wh(n,e,r.children,t),r=iu.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&U1e(n,t,e);else if(n.tag===19)U1e(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if($a(iu,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(t=e.child,o=null;t!==null;)n=t.alternate,n!==null&&CN(n)===null&&(o=t),t=t.sibling;t=o,t===null?(o=e.child,e.child=null):(o=t.sibling,t.sibling=null),zG(e,!1,o,t,a);break;case"backwards":for(t=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&CN(n)===null){e.child=o;break}n=o.sibling,o.sibling=t,t=o,o=n}zG(e,!0,t,null,a);break;case"together":zG(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jL(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function x1(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Mb|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Mr(153));if(e.child!==null){for(n=e.child,t=Dw(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Dw(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function VQe(n,e,t){switch(e.tag){case 3:OAe(e),bM();break;case 5:lAe(e);break;case 1:zp(e.type)&&wN(e);break;case 4:eY(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;$a(bN,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($a(iu,iu.current&1),e.flags|=128,null):t&e.child.childLanes?BAe(n,e,t):($a(iu,iu.current&1),n=x1(n,e,t),n!==null?n.sibling:null);$a(iu,iu.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return DAe(n,e,t);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),$a(iu,iu.current),r)break;return null;case 22:case 23:return e.lanes=0,IAe(n,e,t)}return x1(n,e,t)}var LAe,GW,NAe,FAe;LAe=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};GW=function(){};NAe=function(n,e,t,r){var o=n.memoizedProps;if(o!==r){n=e.stateNode,ub(Nv.current);var a=null;switch(t){case"input":o=dW(n,o),r=dW(n,r),a=[];break;case"select":o=lu({},o,{value:void 0}),r=lu({},r,{value:void 0}),a=[];break;case"textarea":o=pW(n,o),r=pW(n,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=yN)}gW(t,r);var c;t=null;for(_ in o)if(!r.hasOwnProperty(_)&&o.hasOwnProperty(_)&&o[_]!=null)if(_==="style"){var p=o[_];for(c in p)p.hasOwnProperty(c)&&(t||(t={}),t[c]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(wR.hasOwnProperty(_)?a||(a=[]):(a=a||[]).push(_,null));for(_ in r){var g=r[_];if(p=o!=null?o[_]:void 0,r.hasOwnProperty(_)&&g!==p&&(g!=null||p!=null))if(_==="style")if(p){for(c in p)!p.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(t||(t={}),t[c]="");for(c in g)g.hasOwnProperty(c)&&p[c]!==g[c]&&(t||(t={}),t[c]=g[c])}else t||(a||(a=[]),a.push(_,t)),t=g;else _==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,p=p?p.__html:void 0,g!=null&&p!==g&&(a=a||[]).push(_,g)):_==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(_,""+g):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(wR.hasOwnProperty(_)?(g!=null&&_==="onScroll"&&wl("scroll",n),a||p===g||(a=[])):(a=a||[]).push(_,g))}t&&(a=a||[]).push("style",t);var _=a;(e.updateQueue=_)&&(e.flags|=4)}};FAe=function(n,e,t,r){t!==r&&(e.flags|=4)};function vI(n,e){if(!Dl)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ih(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)t|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function WQe(n,e,t){var r=e.pendingProps;switch(KK(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ih(e),null;case 1:return zp(e.type)&&_N(),ih(e),null;case 3:return r=e.stateNode,AM(),El(Fp),El(dh),nY(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(dL(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,I0!==null&&(JW(I0),I0=null))),GW(n,e),ih(e),null;case 5:tY(e);var o=ub(RR.current);if(t=e.type,n!==null&&e.stateNode!=null)NAe(n,e,t,r,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Mr(166));return ih(e),null}if(n=ub(Nv.current),dL(e)){r=e.stateNode,t=e.type;var a=e.memoizedProps;switch(r[kv]=e,r[kR]=a,n=(e.mode&1)!==0,t){case"dialog":wl("cancel",r),wl("close",r);break;case"iframe":case"object":case"embed":wl("load",r);break;case"video":case"audio":for(o=0;o<BI.length;o++)wl(BI[o],r);break;case"source":wl("error",r);break;case"img":case"image":case"link":wl("error",r),wl("load",r);break;case"details":wl("toggle",r);break;case"input":Qye(r,a),wl("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},wl("invalid",r);break;case"textarea":Jye(r,a),wl("invalid",r)}gW(t,a),o=null;for(var c in a)if(a.hasOwnProperty(c)){var p=a[c];c==="children"?typeof p=="string"?r.textContent!==p&&(a.suppressHydrationWarning!==!0&&cL(r.textContent,p,n),o=["children",p]):typeof p=="number"&&r.textContent!==""+p&&(a.suppressHydrationWarning!==!0&&cL(r.textContent,p,n),o=["children",""+p]):wR.hasOwnProperty(c)&&p!=null&&c==="onScroll"&&wl("scroll",r)}switch(t){case"input":nL(r),qye(r,a,!0);break;case"textarea":nL(r),Zye(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=yN)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dEe(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=c.createElement(t,{is:r.is}):(n=c.createElement(t),t==="select"&&(c=n,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):n=c.createElementNS(n,t),n[kv]=e,n[kR]=r,LAe(n,e,!1,!1),e.stateNode=n;e:{switch(c=vW(t,r),t){case"dialog":wl("cancel",n),wl("close",n),o=r;break;case"iframe":case"object":case"embed":wl("load",n),o=r;break;case"video":case"audio":for(o=0;o<BI.length;o++)wl(BI[o],n);o=r;break;case"source":wl("error",n),o=r;break;case"img":case"image":case"link":wl("error",n),wl("load",n),o=r;break;case"details":wl("toggle",n),o=r;break;case"input":Qye(n,r),o=dW(n,r),wl("invalid",n);break;case"option":o=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},o=lu({},r,{value:void 0}),wl("invalid",n);break;case"textarea":Jye(n,r),o=pW(n,r),wl("invalid",n);break;default:o=r}gW(t,o),p=o;for(a in p)if(p.hasOwnProperty(a)){var g=p[a];a==="style"?pEe(n,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&fEe(n,g)):a==="children"?typeof g=="string"?(t!=="textarea"||g!=="")&&SR(n,g):typeof g=="number"&&SR(n,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wR.hasOwnProperty(a)?g!=null&&a==="onScroll"&&wl("scroll",n):g!=null&&RK(n,a,g,c))}switch(t){case"input":nL(n),qye(n,r,!1);break;case"textarea":nL(n),Zye(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Hw(r.value));break;case"select":n.multiple=!!r.multiple,a=r.value,a!=null?eM(n,!!r.multiple,a,!1):r.defaultValue!=null&&eM(n,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=yN)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ih(e),null;case 6:if(n&&e.stateNode!=null)FAe(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Mr(166));if(t=ub(RR.current),ub(Nv.current),dL(e)){if(r=e.stateNode,t=e.memoizedProps,r[kv]=e,(a=r.nodeValue!==t)&&(n=Mm,n!==null))switch(n.tag){case 3:cL(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&cL(r.nodeValue,t,(n.mode&1)!==0)}a&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[kv]=e,e.stateNode=r}return ih(e),null;case 13:if(El(iu),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Dl&&Am!==null&&e.mode&1&&!(e.flags&128))tAe(),bM(),e.flags|=98560,a=!1;else if(a=dL(e),r!==null&&r.dehydrated!==null){if(n===null){if(!a)throw Error(Mr(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Mr(317));a[kv]=e}else bM(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ih(e),a=!1}else I0!==null&&(JW(I0),I0=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||iu.current&1?Yc===0&&(Yc=3):pY())),e.updateQueue!==null&&(e.flags|=4),ih(e),null);case 4:return AM(),GW(n,e),n===null&&TR(e.stateNode.containerInfo),ih(e),null;case 10:return JK(e.type._context),ih(e),null;case 17:return zp(e.type)&&_N(),ih(e),null;case 19:if(El(iu),a=e.memoizedState,a===null)return ih(e),null;if(r=(e.flags&128)!==0,c=a.rendering,c===null)if(r)vI(a,!1);else{if(Yc!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(c=CN(n),c!==null){for(e.flags|=128,vI(a,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)a=t,n=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=n,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,n=c.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return $a(iu,iu.current&1|2),e.child}n=n.sibling}a.tail!==null&&tc()>MM&&(e.flags|=128,r=!0,vI(a,!1),e.lanes=4194304)}else{if(!r)if(n=CN(c),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),vI(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!Dl)return ih(e),null}else 2*tc()-a.renderingStartTime>MM&&t!==1073741824&&(e.flags|=128,r=!0,vI(a,!1),e.lanes=4194304);a.isBackwards?(c.sibling=e.child,e.child=c):(t=a.last,t!==null?t.sibling=c:e.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=tc(),e.sibling=null,t=iu.current,$a(iu,r?t&1|2:t&1),e):(ih(e),null);case 22:case 23:return hY(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sm&1073741824&&(ih(e),e.subtreeFlags&6&&(e.flags|=8192)):ih(e),null;case 24:return null;case 25:return null}throw Error(Mr(156,e.tag))}function XQe(n,e){switch(KK(e),e.tag){case 1:return zp(e.type)&&_N(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return AM(),El(Fp),El(dh),nY(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return tY(e),null;case 13:if(El(iu),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Mr(340));bM()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return El(iu),null;case 4:return AM(),null;case 10:return JK(e.type._context),null;case 22:case 23:return hY(),null;case 24:return null;default:return null}}var pL=!1,sh=!1,KQe=typeof WeakSet=="function"?WeakSet:Set,pi=null;function YC(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Au(n,e,r)}else t.current=null}function VW(n,e,t){try{t()}catch(r){Au(n,e,r)}}var j1e=!1;function YQe(n,e){if(MW=mN,n=HEe(),WK(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{t.nodeType,a.nodeType}catch{t=null;break e}var c=0,p=-1,g=-1,_=0,b=0,C=n,k=null;t:for(;;){for(var B;C!==t||o!==0&&C.nodeType!==3||(p=c+o),C!==a||r!==0&&C.nodeType!==3||(g=c+r),C.nodeType===3&&(c+=C.nodeValue.length),(B=C.firstChild)!==null;)k=C,C=B;for(;;){if(C===n)break t;if(k===t&&++_===o&&(p=c),k===a&&++b===r&&(g=c),(B=C.nextSibling)!==null)break;C=k,k=C.parentNode}C=B}t=p===-1||g===-1?null:{start:p,end:g}}else t=null}t=t||{start:0,end:0}}else t=null;for(TW={focusedElem:n,selectionRange:t},mN=!1,pi=e;pi!==null;)if(e=pi,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,pi=n;else for(;pi!==null;){e=pi;try{var z=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(z!==null){var F=z.memoizedProps,N=z.memoizedState,D=e.stateNode,A=D.getSnapshotBeforeUpdate(e.elementType===e.type?F:T0(e.type,F),N);D.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var G=e.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Mr(163))}}catch(Q){Au(e,e.return,Q)}if(n=e.sibling,n!==null){n.return=e.return,pi=n;break}pi=e.return}return z=j1e,j1e=!1,z}function YI(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var a=o.destroy;o.destroy=void 0,a!==void 0&&VW(e,t,a)}o=o.next}while(o!==r)}}function RF(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function WW(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function zAe(n){var e=n.alternate;e!==null&&(n.alternate=null,zAe(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[kv],delete e[kR],delete e[IW],delete e[kQe],delete e[IQe])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function UAe(n){return n.tag===5||n.tag===3||n.tag===4}function H1e(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||UAe(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function XW(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=yN));else if(r!==4&&(n=n.child,n!==null))for(XW(n,e,t),n=n.sibling;n!==null;)XW(n,e,t),n=n.sibling}function KW(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(KW(n,e,t),n=n.sibling;n!==null;)KW(n,e,t),n=n.sibling}var hf=null,P0=!1;function ow(n,e,t){for(t=t.child;t!==null;)jAe(n,e,t),t=t.sibling}function jAe(n,e,t){if(Lv&&typeof Lv.onCommitFiberUnmount=="function")try{Lv.onCommitFiberUnmount(EF,t)}catch{}switch(t.tag){case 5:sh||YC(t,e);case 6:var r=hf,o=P0;hf=null,ow(n,e,t),hf=r,P0=o,hf!==null&&(P0?(n=hf,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):hf.removeChild(t.stateNode));break;case 18:hf!==null&&(P0?(n=hf,t=t.stateNode,n.nodeType===8?RG(n.parentNode,t):n.nodeType===1&&RG(n,t),AR(n)):RG(hf,t.stateNode));break;case 4:r=hf,o=P0,hf=t.stateNode.containerInfo,P0=!0,ow(n,e,t),hf=r,P0=o;break;case 0:case 11:case 14:case 15:if(!sh&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&VW(t,e,c),o=o.next}while(o!==r)}ow(n,e,t);break;case 1:if(!sh&&(YC(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(p){Au(t,e,p)}ow(n,e,t);break;case 21:ow(n,e,t);break;case 22:t.mode&1?(sh=(r=sh)||t.memoizedState!==null,ow(n,e,t),sh=r):ow(n,e,t);break;default:ow(n,e,t)}}function G1e(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new KQe),e.forEach(function(r){var o=rqe.bind(null,n,r);t.has(r)||(t.add(r),r.then(o,o))})}}function E0(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var o=t[r];try{var a=n,c=e,p=c;e:for(;p!==null;){switch(p.tag){case 5:hf=p.stateNode,P0=!1;break e;case 3:hf=p.stateNode.containerInfo,P0=!0;break e;case 4:hf=p.stateNode.containerInfo,P0=!0;break e}p=p.return}if(hf===null)throw Error(Mr(160));jAe(a,c,o),hf=null,P0=!1;var g=o.alternate;g!==null&&(g.return=null),o.return=null}catch(_){Au(o,e,_)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HAe(e,n),e=e.sibling}function HAe(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(E0(e,n),Cv(n),r&4){try{YI(3,n,n.return),RF(3,n)}catch(F){Au(n,n.return,F)}try{YI(5,n,n.return)}catch(F){Au(n,n.return,F)}}break;case 1:E0(e,n),Cv(n),r&512&&t!==null&&YC(t,t.return);break;case 5:if(E0(e,n),Cv(n),r&512&&t!==null&&YC(t,t.return),n.flags&32){var o=n.stateNode;try{SR(o,"")}catch(F){Au(n,n.return,F)}}if(r&4&&(o=n.stateNode,o!=null)){var a=n.memoizedProps,c=t!==null?t.memoizedProps:a,p=n.type,g=n.updateQueue;if(n.updateQueue=null,g!==null)try{p==="input"&&a.type==="radio"&&a.name!=null&&uEe(o,a),vW(p,c);var _=vW(p,a);for(c=0;c<g.length;c+=2){var b=g[c],C=g[c+1];b==="style"?pEe(o,C):b==="dangerouslySetInnerHTML"?fEe(o,C):b==="children"?SR(o,C):RK(o,b,C,_)}switch(p){case"input":fW(o,a);break;case"textarea":cEe(o,a);break;case"select":var k=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var B=a.value;B!=null?eM(o,!!a.multiple,B,!1):k!==!!a.multiple&&(a.defaultValue!=null?eM(o,!!a.multiple,a.defaultValue,!0):eM(o,!!a.multiple,a.multiple?[]:"",!1))}o[kR]=a}catch(F){Au(n,n.return,F)}}break;case 6:if(E0(e,n),Cv(n),r&4){if(n.stateNode===null)throw Error(Mr(162));o=n.stateNode,a=n.memoizedProps;try{o.nodeValue=a}catch(F){Au(n,n.return,F)}}break;case 3:if(E0(e,n),Cv(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{AR(e.containerInfo)}catch(F){Au(n,n.return,F)}break;case 4:E0(e,n),Cv(n);break;case 13:E0(e,n),Cv(n),o=n.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(dY=tc())),r&4&&G1e(n);break;case 22:if(b=t!==null&&t.memoizedState!==null,n.mode&1?(sh=(_=sh)||b,E0(e,n),sh=_):E0(e,n),Cv(n),r&8192){if(_=n.memoizedState!==null,(n.stateNode.isHidden=_)&&!b&&n.mode&1)for(pi=n,b=n.child;b!==null;){for(C=pi=b;pi!==null;){switch(k=pi,B=k.child,k.tag){case 0:case 11:case 14:case 15:YI(4,k,k.return);break;case 1:YC(k,k.return);var z=k.stateNode;if(typeof z.componentWillUnmount=="function"){r=k,t=k.return;try{e=r,z.props=e.memoizedProps,z.state=e.memoizedState,z.componentWillUnmount()}catch(F){Au(r,t,F)}}break;case 5:YC(k,k.return);break;case 22:if(k.memoizedState!==null){W1e(C);continue}}B!==null?(B.return=k,pi=B):W1e(C)}b=b.sibling}e:for(b=null,C=n;;){if(C.tag===5){if(b===null){b=C;try{o=C.stateNode,_?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(p=C.stateNode,g=C.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=hEe("display",c))}catch(F){Au(n,n.return,F)}}}else if(C.tag===6){if(b===null)try{C.stateNode.nodeValue=_?"":C.memoizedProps}catch(F){Au(n,n.return,F)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===n)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;b===C&&(b=null),C=C.return}b===C&&(b=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:E0(e,n),Cv(n),r&4&&G1e(n);break;case 21:break;default:E0(e,n),Cv(n)}}function Cv(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(UAe(t)){var r=t;break e}t=t.return}throw Error(Mr(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(SR(o,""),r.flags&=-33);var a=H1e(n);KW(n,a,o);break;case 3:case 4:var c=r.stateNode.containerInfo,p=H1e(n);XW(n,p,c);break;default:throw Error(Mr(161))}}catch(g){Au(n,n.return,g)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function QQe(n,e,t){pi=n,GAe(n)}function GAe(n,e,t){for(var r=(n.mode&1)!==0;pi!==null;){var o=pi,a=o.child;if(o.tag===22&&r){var c=o.memoizedState!==null||pL;if(!c){var p=o.alternate,g=p!==null&&p.memoizedState!==null||sh;p=pL;var _=sh;if(pL=c,(sh=g)&&!_)for(pi=o;pi!==null;)c=pi,g=c.child,c.tag===22&&c.memoizedState!==null?X1e(o):g!==null?(g.return=c,pi=g):X1e(o);for(;a!==null;)pi=a,GAe(a),a=a.sibling;pi=o,pL=p,sh=_}V1e(n)}else o.subtreeFlags&8772&&a!==null?(a.return=o,pi=a):V1e(n)}}function V1e(n){for(;pi!==null;){var e=pi;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sh||RF(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sh)if(t===null)r.componentDidMount();else{var o=e.elementType===e.type?t.memoizedProps:T0(e.type,t.memoizedProps);r.componentDidUpdate(o,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&M1e(e,a,r);break;case 3:var c=e.updateQueue;if(c!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}M1e(e,c,t)}break;case 5:var p=e.stateNode;if(t===null&&e.flags&4){t=p;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&t.focus();break;case"img":g.src&&(t.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var _=e.alternate;if(_!==null){var b=_.memoizedState;if(b!==null){var C=b.dehydrated;C!==null&&AR(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Mr(163))}sh||e.flags&512&&WW(e)}catch(k){Au(e,e.return,k)}}if(e===n){pi=null;break}if(t=e.sibling,t!==null){t.return=e.return,pi=t;break}pi=e.return}}function W1e(n){for(;pi!==null;){var e=pi;if(e===n){pi=null;break}var t=e.sibling;if(t!==null){t.return=e.return,pi=t;break}pi=e.return}}function X1e(n){for(;pi!==null;){var e=pi;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{RF(4,e)}catch(g){Au(e,t,g)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(g){Au(e,o,g)}}var a=e.return;try{WW(e)}catch(g){Au(e,a,g)}break;case 5:var c=e.return;try{WW(e)}catch(g){Au(e,c,g)}}}catch(g){Au(e,e.return,g)}if(e===n){pi=null;break}var p=e.sibling;if(p!==null){p.return=e.return,pi=p;break}pi=e.return}}var qQe=Math.ceil,PN=A1.ReactCurrentDispatcher,uY=A1.ReactCurrentOwner,xg=A1.ReactCurrentBatchConfig,As=0,Cd=null,Mc=null,wf=0,Sm=0,QC=Qw(0),Yc=0,LR=null,Mb=0,OF=0,cY=0,QI=null,Op=null,dY=0,MM=1/0,s1=null,kN=!1,YW=null,Ow=null,mL=!1,yw=null,IN=0,qI=0,QW=null,HL=-1,GL=0;function Kh(){return As&6?tc():HL!==-1?HL:HL=tc()}function Bw(n){return n.mode&1?As&2&&wf!==0?wf&-wf:OQe.transition!==null?(GL===0&&(GL=CEe()),GL):(n=la,n!==0||(n=window.event,n=n===void 0?16:OEe(n.type)),n):1}function D0(n,e,t,r){if(50<qI)throw qI=0,QW=null,Error(Mr(185));qR(n,t,r),(!(As&2)||n!==Cd)&&(n===Cd&&(!(As&2)&&(OF|=t),Yc===4&&mw(n,wf)),Up(n,r),t===1&&As===0&&!(e.mode&1)&&(MM=tc()+500,PF&&qw()))}function Up(n,e){var t=n.callbackNode;OYe(n,e);var r=pN(n,n===Cd?wf:0);if(r===0)t!==null&&t1e(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&t1e(t),e===1)n.tag===0?RQe(K1e.bind(null,n)):ZEe(K1e.bind(null,n)),TQe(function(){!(As&6)&&qw()}),t=null;else{switch(MEe(r)){case 1:t=NK;break;case 4:t=EEe;break;case 16:t=hN;break;case 536870912:t=AEe;break;default:t=hN}t=JAe(t,VAe.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function VAe(n,e){if(HL=-1,GL=0,As&6)throw Error(Mr(327));var t=n.callbackNode;if(oM()&&n.callbackNode!==t)return null;var r=pN(n,n===Cd?wf:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=RN(n,r);else{e=r;var o=As;As|=2;var a=XAe();(Cd!==n||wf!==e)&&(s1=null,MM=tc()+500,gb(n,e));do try{$Qe();break}catch(p){WAe(n,p)}while(1);qK(),PN.current=a,As=o,Mc!==null?e=0:(Cd=null,wf=0,e=Yc)}if(e!==0){if(e===2&&(o=xW(n),o!==0&&(r=o,e=qW(n,o))),e===1)throw t=LR,gb(n,0),mw(n,r),Up(n,tc()),t;if(e===6)mw(n,r);else{if(o=n.current.alternate,!(r&30)&&!JQe(o)&&(e=RN(n,r),e===2&&(a=xW(n),a!==0&&(r=a,e=qW(n,a))),e===1))throw t=LR,gb(n,0),mw(n,r),Up(n,tc()),t;switch(n.finishedWork=o,n.finishedLanes=r,e){case 0:case 1:throw Error(Mr(345));case 2:Zx(n,Op,s1);break;case 3:if(mw(n,r),(r&130023424)===r&&(e=dY+500-tc(),10<e)){if(pN(n,0)!==0)break;if(o=n.suspendedLanes,(o&r)!==r){Kh(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=kW(Zx.bind(null,n,Op,s1),e);break}Zx(n,Op,s1);break;case 4:if(mw(n,r),(r&4194240)===r)break;for(e=n.eventTimes,o=-1;0<r;){var c=31-B0(r);a=1<<c,c=e[c],c>o&&(o=c),r&=~a}if(r=o,r=tc()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qQe(r/1960))-r,10<r){n.timeoutHandle=kW(Zx.bind(null,n,Op,s1),r);break}Zx(n,Op,s1);break;case 5:Zx(n,Op,s1);break;default:throw Error(Mr(329))}}}return Up(n,tc()),n.callbackNode===t?VAe.bind(null,n):null}function qW(n,e){var t=QI;return n.current.memoizedState.isDehydrated&&(gb(n,e).flags|=256),n=RN(n,e),n!==2&&(e=Op,Op=t,e!==null&&JW(e)),n}function JW(n){Op===null?Op=n:Op.push.apply(Op,n)}function JQe(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var o=t[r],a=o.getSnapshot;o=o.value;try{if(!N0(a(),o))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mw(n,e){for(e&=~cY,e&=~OF,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-B0(e),r=1<<t;n[t]=-1,e&=~r}}function K1e(n){if(As&6)throw Error(Mr(327));oM();var e=pN(n,0);if(!(e&1))return Up(n,tc()),null;var t=RN(n,e);if(n.tag!==0&&t===2){var r=xW(n);r!==0&&(e=r,t=qW(n,r))}if(t===1)throw t=LR,gb(n,0),mw(n,e),Up(n,tc()),t;if(t===6)throw Error(Mr(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Zx(n,Op,s1),Up(n,tc()),null}function fY(n,e){var t=As;As|=1;try{return n(e)}finally{As=t,As===0&&(MM=tc()+500,PF&&qw())}}function Tb(n){yw!==null&&yw.tag===0&&!(As&6)&&oM();var e=As;As|=1;var t=xg.transition,r=la;try{if(xg.transition=null,la=1,n)return n()}finally{la=r,xg.transition=t,As=e,!(As&6)&&qw()}}function hY(){Sm=QC.current,El(QC)}function gb(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,MQe(t)),Mc!==null)for(t=Mc.return;t!==null;){var r=t;switch(KK(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_N();break;case 3:AM(),El(Fp),El(dh),nY();break;case 5:tY(r);break;case 4:AM();break;case 13:El(iu);break;case 19:El(iu);break;case 10:JK(r.type._context);break;case 22:case 23:hY()}t=t.return}if(Cd=n,Mc=n=Dw(n.current,null),wf=Sm=e,Yc=0,LR=null,cY=OF=Mb=0,Op=QI=null,lb!==null){for(e=0;e<lb.length;e++)if(t=lb[e],r=t.interleaved,r!==null){t.interleaved=null;var o=r.next,a=t.pending;if(a!==null){var c=a.next;a.next=o,r.next=c}t.pending=r}lb=null}return n}function WAe(n,e){do{var t=Mc;try{if(qK(),zL.current=TN,MN){for(var r=au.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}MN=!1}if(Cb=0,Ad=Kc=au=null,KI=!1,OR=0,uY.current=null,t===null||t.return===null){Yc=1,LR=e,Mc=null;break}e:{var a=n,c=t.return,p=t,g=e;if(e=wf,p.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var _=g,b=p,C=b.tag;if(!(b.mode&1)&&(C===0||C===11||C===15)){var k=b.alternate;k?(b.updateQueue=k.updateQueue,b.memoizedState=k.memoizedState,b.lanes=k.lanes):(b.updateQueue=null,b.memoizedState=null)}var B=B1e(c);if(B!==null){B.flags&=-257,D1e(B,c,p,a,e),B.mode&1&&O1e(a,_,e),e=B,g=_;var z=e.updateQueue;if(z===null){var F=new Set;F.add(g),e.updateQueue=F}else z.add(g);break e}else{if(!(e&1)){O1e(a,_,e),pY();break e}g=Error(Mr(426))}}else if(Dl&&p.mode&1){var N=B1e(c);if(N!==null){!(N.flags&65536)&&(N.flags|=256),D1e(N,c,p,a,e),YK(CM(g,p));break e}}a=g=CM(g,p),Yc!==4&&(Yc=2),QI===null?QI=[a]:QI.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var D=TAe(a,g,e);C1e(a,D);break e;case 1:p=g;var A=a.type,G=a.stateNode;if(!(a.flags&128)&&(typeof A.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Ow===null||!Ow.has(G)))){a.flags|=65536,e&=-e,a.lanes|=e;var Q=PAe(a,p,e);C1e(a,Q);break e}}a=a.return}while(a!==null)}YAe(t)}catch(ae){e=ae,Mc===t&&t!==null&&(Mc=t=t.return);continue}break}while(1)}function XAe(){var n=PN.current;return PN.current=TN,n===null?TN:n}function pY(){(Yc===0||Yc===3||Yc===2)&&(Yc=4),Cd===null||!(Mb&268435455)&&!(OF&268435455)||mw(Cd,wf)}function RN(n,e){var t=As;As|=2;var r=XAe();(Cd!==n||wf!==e)&&(s1=null,gb(n,e));do try{ZQe();break}catch(o){WAe(n,o)}while(1);if(qK(),As=t,PN.current=r,Mc!==null)throw Error(Mr(261));return Cd=null,wf=0,Yc}function ZQe(){for(;Mc!==null;)KAe(Mc)}function $Qe(){for(;Mc!==null&&!EYe();)KAe(Mc)}function KAe(n){var e=qAe(n.alternate,n,Sm);n.memoizedProps=n.pendingProps,e===null?YAe(n):Mc=e,uY.current=null}function YAe(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=XQe(t,e),t!==null){t.flags&=32767,Mc=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yc=6,Mc=null;return}}else if(t=WQe(t,e,Sm),t!==null){Mc=t;return}if(e=e.sibling,e!==null){Mc=e;return}Mc=e=n}while(e!==null);Yc===0&&(Yc=5)}function Zx(n,e,t){var r=la,o=xg.transition;try{xg.transition=null,la=1,eqe(n,e,t,r)}finally{xg.transition=o,la=r}return null}function eqe(n,e,t,r){do oM();while(yw!==null);if(As&6)throw Error(Mr(327));t=n.finishedWork;var o=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Mr(177));n.callbackNode=null,n.callbackPriority=0;var a=t.lanes|t.childLanes;if(BYe(n,a),n===Cd&&(Mc=Cd=null,wf=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||mL||(mL=!0,JAe(hN,function(){return oM(),null})),a=(t.flags&15990)!==0,t.subtreeFlags&15990||a){a=xg.transition,xg.transition=null;var c=la;la=1;var p=As;As|=4,uY.current=null,YQe(n,t),HAe(t,n),wQe(TW),mN=!!MW,TW=MW=null,n.current=t,QQe(t),AYe(),As=p,la=c,xg.transition=a}else n.current=t;if(mL&&(mL=!1,yw=n,IN=o),a=n.pendingLanes,a===0&&(Ow=null),TYe(t.stateNode),Up(n,tc()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)o=e[t],r(o.value,{componentStack:o.stack,digest:o.digest});if(kN)throw kN=!1,n=YW,YW=null,n;return IN&1&&n.tag!==0&&oM(),a=n.pendingLanes,a&1?n===QW?qI++:(qI=0,QW=n):qI=0,qw(),null}function oM(){if(yw!==null){var n=MEe(IN),e=xg.transition,t=la;try{if(xg.transition=null,la=16>n?16:n,yw===null)var r=!1;else{if(n=yw,yw=null,IN=0,As&6)throw Error(Mr(331));var o=As;for(As|=4,pi=n.current;pi!==null;){var a=pi,c=a.child;if(pi.flags&16){var p=a.deletions;if(p!==null){for(var g=0;g<p.length;g++){var _=p[g];for(pi=_;pi!==null;){var b=pi;switch(b.tag){case 0:case 11:case 15:YI(8,b,a)}var C=b.child;if(C!==null)C.return=b,pi=C;else for(;pi!==null;){b=pi;var k=b.sibling,B=b.return;if(zAe(b),b===_){pi=null;break}if(k!==null){k.return=B,pi=k;break}pi=B}}}var z=a.alternate;if(z!==null){var F=z.child;if(F!==null){z.child=null;do{var N=F.sibling;F.sibling=null,F=N}while(F!==null)}}pi=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,pi=c;else e:for(;pi!==null;){if(a=pi,a.flags&2048)switch(a.tag){case 0:case 11:case 15:YI(9,a,a.return)}var D=a.sibling;if(D!==null){D.return=a.return,pi=D;break e}pi=a.return}}var A=n.current;for(pi=A;pi!==null;){c=pi;var G=c.child;if(c.subtreeFlags&2064&&G!==null)G.return=c,pi=G;else e:for(c=A;pi!==null;){if(p=pi,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:RF(9,p)}}catch(ae){Au(p,p.return,ae)}if(p===c){pi=null;break e}var Q=p.sibling;if(Q!==null){Q.return=p.return,pi=Q;break e}pi=p.return}}if(As=o,qw(),Lv&&typeof Lv.onPostCommitFiberRoot=="function")try{Lv.onPostCommitFiberRoot(EF,n)}catch{}r=!0}return r}finally{la=t,xg.transition=e}}return!1}function Y1e(n,e,t){e=CM(t,e),e=TAe(n,e,1),n=Rw(n,e,1),e=Kh(),n!==null&&(qR(n,1,e),Up(n,e))}function Au(n,e,t){if(n.tag===3)Y1e(n,n,t);else for(;e!==null;){if(e.tag===3){Y1e(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ow===null||!Ow.has(r))){n=CM(t,n),n=PAe(e,n,1),e=Rw(e,n,1),n=Kh(),e!==null&&(qR(e,1,n),Up(e,n));break}}e=e.return}}function tqe(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Kh(),n.pingedLanes|=n.suspendedLanes&t,Cd===n&&(wf&t)===t&&(Yc===4||Yc===3&&(wf&130023424)===wf&&500>tc()-dY?gb(n,0):cY|=t),Up(n,e)}function QAe(n,e){e===0&&(n.mode&1?(e=oL,oL<<=1,!(oL&130023424)&&(oL=4194304)):e=1);var t=Kh();n=S1(n,e),n!==null&&(qR(n,e,t),Up(n,t))}function nqe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),QAe(n,t)}function rqe(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,o=n.memoizedState;o!==null&&(t=o.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Mr(314))}r!==null&&r.delete(e),QAe(n,t)}var qAe;qAe=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Fp.current)Dp=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Dp=!1,VQe(n,e,t);Dp=!!(n.flags&131072)}else Dp=!1,Dl&&e.flags&1048576&&$Ee(e,xN,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;jL(n,e),n=e.pendingProps;var o=xM(e,dh.current);iM(e,t),o=iY(null,e,r,n,o,t);var a=oY();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zp(r)?(a=!0,wN(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,$K(e),o.updater=kF,e.stateNode=o,o._reactInternals=e,NW(e,r,n,t),e=UW(null,e,r,!0,a,t)):(e.tag=0,Dl&&a&&XK(e),Wh(null,e,o,t),e=e.child),e;case 16:r=e.elementType;e:{switch(jL(n,e),n=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=oqe(r),n=T0(r,n),o){case 0:e=zW(null,e,r,n,t);break e;case 1:e=F1e(null,e,r,n,t);break e;case 11:e=L1e(null,e,r,n,t);break e;case 14:e=N1e(null,e,r,T0(r.type,n),t);break e}throw Error(Mr(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:T0(r,o),zW(n,e,r,o,t);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:T0(r,o),F1e(n,e,r,o,t);case 3:e:{if(OAe(e),n===null)throw Error(Mr(387));r=e.pendingProps,a=e.memoizedState,o=a.element,rAe(n,e),AN(e,r,null,t);var c=e.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=CM(Error(Mr(423)),e),e=z1e(n,e,r,t,o);break e}else if(r!==o){o=CM(Error(Mr(424)),e),e=z1e(n,e,r,t,o);break e}else for(Am=Iw(e.stateNode.containerInfo.firstChild),Mm=e,Dl=!0,I0=null,t=aAe(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(bM(),r===o){e=x1(n,e,t);break e}Wh(n,e,r,t)}e=e.child}return e;case 5:return lAe(e),n===null&&BW(e),r=e.type,o=e.pendingProps,a=n!==null?n.memoizedProps:null,c=o.children,PW(r,o)?c=null:a!==null&&PW(r,a)&&(e.flags|=32),RAe(n,e),Wh(n,e,c,t),e.child;case 6:return n===null&&BW(e),null;case 13:return BAe(n,e,t);case 4:return eY(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=EM(e,null,r,t):Wh(n,e,r,t),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:T0(r,o),L1e(n,e,r,o,t);case 7:return Wh(n,e,e.pendingProps,t),e.child;case 8:return Wh(n,e,e.pendingProps.children,t),e.child;case 12:return Wh(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,c=o.value,$a(bN,r._currentValue),r._currentValue=c,a!==null)if(N0(a.value,c)){if(a.children===o.children&&!Fp.current){e=x1(n,e,t);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var p=a.dependencies;if(p!==null){c=a.child;for(var g=p.firstContext;g!==null;){if(g.context===r){if(a.tag===1){g=v1(-1,t&-t),g.tag=2;var _=a.updateQueue;if(_!==null){_=_.shared;var b=_.pending;b===null?g.next=g:(g.next=b.next,b.next=g),_.pending=g}}a.lanes|=t,g=a.alternate,g!==null&&(g.lanes|=t),DW(a.return,t,e),p.lanes|=t;break}g=g.next}}else if(a.tag===10)c=a.type===e.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(Mr(341));c.lanes|=t,p=c.alternate,p!==null&&(p.lanes|=t),DW(c,t,e),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===e){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}Wh(n,e,o.children,t),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,iM(e,t),o=Ag(o),r=r(o),e.flags|=1,Wh(n,e,r,t),e.child;case 14:return r=e.type,o=T0(r,e.pendingProps),o=T0(r.type,o),N1e(n,e,r,o,t);case 15:return kAe(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:T0(r,o),jL(n,e),e.tag=1,zp(r)?(n=!0,wN(e)):n=!1,iM(e,t),oAe(e,r,o),NW(e,r,o,t),UW(null,e,r,!0,n,t);case 19:return DAe(n,e,t);case 22:return IAe(n,e,t)}throw Error(Mr(156,e.tag))};function JAe(n,e){return bEe(n,e)}function iqe(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sg(n,e,t,r){return new iqe(n,e,t,r)}function mY(n){return n=n.prototype,!(!n||!n.isReactComponent)}function oqe(n){if(typeof n=="function")return mY(n)?1:0;if(n!=null){if(n=n.$$typeof,n===BK)return 11;if(n===DK)return 14}return 2}function Dw(n,e){var t=n.alternate;return t===null?(t=Sg(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function VL(n,e,t,r,o,a){var c=2;if(r=n,typeof n=="function")mY(n)&&(c=1);else if(typeof n=="string")c=5;else e:switch(n){case zC:return vb(t.children,o,a,e);case OK:c=8,o|=8;break;case aW:return n=Sg(12,t,e,o|2),n.elementType=aW,n.lanes=a,n;case lW:return n=Sg(13,t,e,o),n.elementType=lW,n.lanes=a,n;case uW:return n=Sg(19,t,e,o),n.elementType=uW,n.lanes=a,n;case sEe:return BF(t,o,a,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case iEe:c=10;break e;case oEe:c=9;break e;case BK:c=11;break e;case DK:c=14;break e;case dw:c=16,r=null;break e}throw Error(Mr(130,n==null?n:typeof n,""))}return e=Sg(c,t,e,o),e.elementType=n,e.type=r,e.lanes=a,e}function vb(n,e,t,r){return n=Sg(7,n,r,e),n.lanes=t,n}function BF(n,e,t,r){return n=Sg(22,n,r,e),n.elementType=sEe,n.lanes=t,n.stateNode={isHidden:!1},n}function UG(n,e,t){return n=Sg(6,n,null,e),n.lanes=t,n}function jG(n,e,t){return e=Sg(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function sqe(n,e,t,r,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SG(0),this.expirationTimes=SG(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SG(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function gY(n,e,t,r,o,a,c,p,g){return n=new sqe(n,e,t,p,g),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Sg(3,null,null,e),n.current=a,a.stateNode=n,a.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},$K(a),n}function aqe(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:FC,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function ZAe(n){if(!n)return Gw;n=n._reactInternals;e:{if(Db(n)!==n||n.tag!==1)throw Error(Mr(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zp(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Mr(171))}if(n.tag===1){var t=n.type;if(zp(t))return JEe(n,t,e)}return e}function $Ae(n,e,t,r,o,a,c,p,g){return n=gY(t,r,!0,n,o,a,c,p,g),n.context=ZAe(null),t=n.current,r=Kh(),o=Bw(t),a=v1(r,o),a.callback=e??null,Rw(t,a,o),n.current.lanes=o,qR(n,o,r),Up(n,r),n}function DF(n,e,t,r){var o=e.current,a=Kh(),c=Bw(o);return t=ZAe(t),e.context===null?e.context=t:e.pendingContext=t,e=v1(a,c),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Rw(o,e,c),n!==null&&(D0(n,o,c,a),FL(n,o,c)),c}function ON(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Q1e(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function vY(n,e){Q1e(n,e),(n=n.alternate)&&Q1e(n,e)}function lqe(){return null}var eCe=typeof reportError=="function"?reportError:function(n){console.error(n)};function yY(n){this._internalRoot=n}LF.prototype.render=yY.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Mr(409));DF(n,e,null,null)};LF.prototype.unmount=yY.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Tb(function(){DF(null,n,null,null)}),e[w1]=null}};function LF(n){this._internalRoot=n}LF.prototype.unstable_scheduleHydration=function(n){if(n){var e=kEe();n={blockedOn:null,target:n,priority:e};for(var t=0;t<pw.length&&e!==0&&e<pw[t].priority;t++);pw.splice(t,0,n),t===0&&REe(n)}};function _Y(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function NF(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function q1e(){}function uqe(n,e,t,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var _=ON(c);a.call(_)}}var c=$Ae(e,r,n,0,null,!1,!1,"",q1e);return n._reactRootContainer=c,n[w1]=c.current,TR(n.nodeType===8?n.parentNode:n),Tb(),c}for(;o=n.lastChild;)n.removeChild(o);if(typeof r=="function"){var p=r;r=function(){var _=ON(g);p.call(_)}}var g=gY(n,0,!1,null,null,!1,!1,"",q1e);return n._reactRootContainer=g,n[w1]=g.current,TR(n.nodeType===8?n.parentNode:n),Tb(function(){DF(e,g,t,r)}),g}function FF(n,e,t,r,o){var a=t._reactRootContainer;if(a){var c=a;if(typeof o=="function"){var p=o;o=function(){var g=ON(c);p.call(g)}}DF(e,c,n,o)}else c=uqe(t,e,n,o,r);return ON(c)}TEe=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=OI(e.pendingLanes);t!==0&&(FK(e,t|1),Up(e,tc()),!(As&6)&&(MM=tc()+500,qw()))}break;case 13:Tb(function(){var r=S1(n,1);if(r!==null){var o=Kh();D0(r,n,1,o)}}),vY(n,1)}};zK=function(n){if(n.tag===13){var e=S1(n,134217728);if(e!==null){var t=Kh();D0(e,n,134217728,t)}vY(n,134217728)}};PEe=function(n){if(n.tag===13){var e=Bw(n),t=S1(n,e);if(t!==null){var r=Kh();D0(t,n,e,r)}vY(n,e)}};kEe=function(){return la};IEe=function(n,e){var t=la;try{return la=n,e()}finally{la=t}};_W=function(n,e,t){switch(e){case"input":if(fW(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var o=TF(r);if(!o)throw Error(Mr(90));lEe(r),fW(r,o)}}}break;case"textarea":cEe(n,t);break;case"select":e=t.value,e!=null&&eM(n,!!t.multiple,e,!1)}};vEe=fY;yEe=Tb;var cqe={usingClientEntryPoint:!1,Events:[ZR,GC,TF,mEe,gEe,fY]},yI={findFiberByHostInstance:ab,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dqe={bundleType:yI.bundleType,version:yI.version,rendererPackageName:yI.rendererPackageName,rendererConfig:yI.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A1.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=SEe(n),n===null?null:n.stateNode},findFiberByHostInstance:yI.findFiberByHostInstance||lqe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gL=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gL.isDisabled&&gL.supportsFiber)try{EF=gL.inject(dqe),Lv=gL}catch{}}km.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cqe;km.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_Y(e))throw Error(Mr(200));return aqe(n,e,null,t)};km.createRoot=function(n,e){if(!_Y(n))throw Error(Mr(299));var t=!1,r="",o=eCe;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=gY(n,1,!1,null,null,t,!1,r,o),n[w1]=e.current,TR(n.nodeType===8?n.parentNode:n),new yY(e)};km.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Mr(188)):(n=Object.keys(n).join(","),Error(Mr(268,n)));return n=SEe(e),n=n===null?null:n.stateNode,n};km.flushSync=function(n){return Tb(n)};km.hydrate=function(n,e,t){if(!NF(e))throw Error(Mr(200));return FF(null,n,e,!0,t)};km.hydrateRoot=function(n,e,t){if(!_Y(n))throw Error(Mr(405));var r=t!=null&&t.hydratedSources||null,o=!1,a="",c=eCe;if(t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),e=$Ae(e,null,n,1,t??null,o,!1,a,c),n[w1]=e.current,TR(n),r)for(n=0;n<r.length;n++)t=r[n],o=t._getVersion,o=o(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,o]:e.mutableSourceEagerHydrationData.push(t,o);return new LF(e)};km.render=function(n,e,t){if(!NF(e))throw Error(Mr(200));return FF(null,n,e,!1,t)};km.unmountComponentAtNode=function(n){if(!NF(n))throw Error(Mr(40));return n._reactRootContainer?(Tb(function(){FF(null,null,n,!1,function(){n._reactRootContainer=null,n[w1]=null})}),!0):!1};km.unstable_batchedUpdates=fY;km.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!NF(t))throw Error(Mr(200));if(n==null||n._reactInternals===void 0)throw Error(Mr(38));return FF(n,e,t,!1,r)};km.version="18.2.0-next-9e3b772b8-20220608";function tCe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tCe)}catch(n){console.error(n)}}tCe(),$be.exports=km;var fqe=$be.exports,wY,J1e=fqe;wY=oW.createRoot=J1e.createRoot,oW.hydrateRoot=J1e.hydrateRoot;const e3=new Ke,SY=new Ke,hqe=new Ke;function pqe(n,e,t){const r=e3.setFromMatrixPosition(n.matrixWorld);r.project(e);const o=t.width/2,a=t.height/2;return[r.x*o+o,-(r.y*a)+a]}function mqe(n,e){const t=e3.setFromMatrixPosition(n.matrixWorld),r=SY.setFromMatrixPosition(e.matrixWorld),o=t.sub(r),a=e.getWorldDirection(hqe);return o.angleTo(a)>Math.PI/2}function gqe(n,e,t,r){const o=e3.setFromMatrixPosition(n.matrixWorld),a=o.clone();a.project(e),t.setFromCamera(a,e);const c=t.intersectObjects(r,!0);if(c.length){const p=c[0].distance;return o.distanceTo(t.ray.origin)<p}return!0}function vqe(n,e){if(e instanceof Lp)return e.zoom;if(e instanceof Da){const t=e3.setFromMatrixPosition(n.matrixWorld),r=SY.setFromMatrixPosition(e.matrixWorld),o=e.fov*Math.PI/180,a=t.distanceTo(r);return 1/(2*Math.tan(o/2)*a)}else return 1}function yqe(n,e,t){if(e instanceof Da||e instanceof Lp){const r=e3.setFromMatrixPosition(n.matrixWorld),o=SY.setFromMatrixPosition(e.matrixWorld),a=r.distanceTo(o),c=(t[1]-t[0])/(e.far-e.near),p=t[1]-c*e.far;return Math.round(c*a+p)}}const ZW=n=>Math.abs(n)<1e-10?0:n;function nCe(n,e,t=""){let r="matrix3d(";for(let o=0;o!==16;o++)r+=ZW(e[o]*n.elements[o])+(o!==15?",":")");return t+r}const _qe=(n=>e=>nCe(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),wqe=(n=>(e,t)=>nCe(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function Sqe(n){return n&&typeof n=="object"&&"current"in n}const xqe=qt.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:o,center:a,fullscreen:c,portal:p,distanceFactor:g,sprite:_=!1,transform:b=!1,occlude:C,onOcclude:k,castShadow:B,receiveShadow:z,material:F,geometry:N,zIndexRange:D=[16777271,0],calculatePosition:A=pqe,as:G="div",wrapperClass:Q,pointerEvents:ae="auto",...Y},ge)=>{const{gl:_e,camera:J,scene:Se,size:Be,raycaster:_t,events:Ve,viewport:xe}=_f(),[ot]=qt.useState(()=>document.createElement(G)),Ze=qt.useRef(),mt=qt.useRef(null),we=qt.useRef(0),Te=qt.useRef([0,0]),Ae=qt.useRef(null),me=qt.useRef(null),ce=(p==null?void 0:p.current)||Ve.connected||_e.domElement.parentNode,qe=qt.useRef(null),ht=qt.useRef(!1),wt=qt.useMemo(()=>C&&C!=="blending"||Array.isArray(C)&&C.length&&Sqe(C[0]),[C]);qt.useLayoutEffect(()=>{const fn=_e.domElement;C&&C==="blending"?(fn.style.zIndex=`${Math.floor(D[0]/2)}`,fn.style.position="absolute",fn.style.pointerEvents="none"):(fn.style.zIndex=null,fn.style.position=null,fn.style.pointerEvents=null)},[C]),qt.useLayoutEffect(()=>{if(mt.current){const fn=Ze.current=wY(ot);if(Se.updateMatrixWorld(),b)ot.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const nn=A(mt.current,J,Be);ot.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${nn[0]}px,${nn[1]}px,0);transform-origin:0 0;`}return ce&&(o?ce.prepend(ot):ce.appendChild(ot)),()=>{ce&&ce.removeChild(ot),fn.unmount()}}},[ce,b]),qt.useLayoutEffect(()=>{Q&&(ot.className=Q)},[Q]);const et=qt.useMemo(()=>b?{position:"absolute",top:0,left:0,width:Be.width,height:Be.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:a?"translate3d(-50%,-50%,0)":"none",...c&&{top:-Be.height/2,left:-Be.width/2,width:Be.width,height:Be.height},...t},[t,a,c,Be,b]),Nt=qt.useMemo(()=>({position:"absolute",pointerEvents:ae}),[ae]);qt.useLayoutEffect(()=>{if(ht.current=!1,b){var fn;(fn=Ze.current)==null||fn.render(qt.createElement("div",{ref:Ae,style:et},qt.createElement("div",{ref:me,style:Nt},qt.createElement("div",{ref:ge,className:r,style:t,children:n}))))}else{var nn;(nn=Ze.current)==null||nn.render(qt.createElement("div",{ref:ge,style:et,className:r,children:n}))}});const Ot=qt.useRef(!0);b1(fn=>{if(mt.current){J.updateMatrixWorld(),mt.current.updateWorldMatrix(!0,!1);const nn=b?Te.current:A(mt.current,J,Be);if(b||Math.abs(we.current-J.zoom)>e||Math.abs(Te.current[0]-nn[0])>e||Math.abs(Te.current[1]-nn[1])>e){const Ye=mqe(mt.current,J);let Xt=!1;wt&&(Array.isArray(C)?Xt=C.map(jn=>jn.current):C!=="blending"&&(Xt=[Se]));const Ft=Ot.current;if(Xt){const jn=gqe(mt.current,J,_t,Xt);Ot.current=jn&&!Ye}else Ot.current=!Ye;Ft!==Ot.current&&(k?k(!Ot.current):ot.style.display=Ot.current?"block":"none");const Zt=Math.floor(D[0]/2),mn=C?wt?[D[0],Zt]:[Zt-1,0]:D;if(ot.style.zIndex=`${yqe(mt.current,J,mn)}`,b){const[jn,Wn]=[Be.width/2,Be.height/2],tr=J.projectionMatrix.elements[5]*Wn,{isOrthographicCamera:_r,top:Vr,left:si,bottom:ct,right:De}=J,Ut=_qe(J.matrixWorldInverse),Kn=_r?`scale(${tr})translate(${ZW(-(De+si)/2)}px,${ZW((Vr+ct)/2)}px)`:`translateZ(${tr}px)`;let Fn=mt.current.matrixWorld;_&&(Fn=J.matrixWorldInverse.clone().transpose().copyPosition(Fn).scale(mt.current.scale),Fn.elements[3]=Fn.elements[7]=Fn.elements[11]=0,Fn.elements[15]=1),ot.style.width=Be.width+"px",ot.style.height=Be.height+"px",ot.style.perspective=_r?"":`${tr}px`,Ae.current&&me.current&&(Ae.current.style.transform=`${Kn}${Ut}translate(${jn}px,${Wn}px)`,me.current.style.transform=wqe(Fn,1/((g||10)/400)))}else{const jn=g===void 0?1:vqe(mt.current,J)*g;ot.style.transform=`translate3d(${nn[0]}px,${nn[1]}px,0) scale(${jn})`}Te.current=nn,we.current=J.zoom}}if(!wt&&qe.current&&!ht.current)if(b){if(Ae.current){const nn=Ae.current.children[0];if(nn!=null&&nn.clientWidth&&nn!=null&&nn.clientHeight){const{isOrthographicCamera:Ye}=J;if(Ye||N)Y.scale&&(Array.isArray(Y.scale)?Y.scale instanceof Ke?qe.current.scale.copy(Y.scale.clone().divideScalar(1)):qe.current.scale.set(1/Y.scale[0],1/Y.scale[1],1/Y.scale[2]):qe.current.scale.setScalar(1/Y.scale));else{const Xt=(g||10)/400,Ft=nn.clientWidth*Xt,Zt=nn.clientHeight*Xt;qe.current.scale.set(Ft,Zt,1)}ht.current=!0}}}else{const nn=ot.children[0];if(nn!=null&&nn.clientWidth&&nn!=null&&nn.clientHeight){const Ye=1/xe.factor,Xt=nn.clientWidth*Ye,Ft=nn.clientHeight*Ye;qe.current.scale.set(Xt,Ft,1),ht.current=!0}qe.current.lookAt(fn.camera.position)}});const an=qt.useMemo(()=>({vertexShader:b?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[b]);return qt.createElement("group",Uw({},Y,{ref:mt}),C&&!wt&&qt.createElement("mesh",{castShadow:B,receiveShadow:z,ref:qe},N||qt.createElement("planeGeometry",null),F||qt.createElement("shaderMaterial",{side:mf,vertexShader:an.vertexShader,fragmentShader:an.fragmentShader})))});function rCe(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function JI(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $W(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function bqe(n,e){if(n){if(typeof n=="string")return $W(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return $W(n,e)}}function Eqe(n){if(Array.isArray(n))return $W(n)}function Aqe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Cqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mqe(n){return Eqe(n)||Aqe(n)||bqe(n)||Cqe()}new Vn;new Vn;function Tqe(n,e,t){return Math.max(e,Math.min(t,n))}function Pqe(n,e){return Tqe(n-Math.floor(n/e)*e,0,e)}function kqe(n,e){var t=Pqe(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function iCe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var dg=function n(e,t,r){var o=this;iCe(this,n),JI(this,"dot2",function(a,c){return o.x*a+o.y*c}),JI(this,"dot3",function(a,c,p){return o.x*a+o.y*c+o.z*p}),this.x=e,this.y=t,this.z=r},Iqe=[new dg(1,1,0),new dg(-1,1,0),new dg(1,-1,0),new dg(-1,-1,0),new dg(1,0,1),new dg(-1,0,1),new dg(1,0,-1),new dg(-1,0,-1),new dg(0,1,1),new dg(0,-1,1),new dg(0,1,-1),new dg(0,-1,-1)],Z1e=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],$1e=new Array(512),e_e=new Array(512),Rqe=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=Z1e[t]^e&255:r=Z1e[t]^e>>8&255,$1e[t]=$1e[t+256]=r,e_e[t]=e_e[t+256]=Iqe[r%12]}};Rqe(0);function Oqe(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function t_e(n){var e=Oqe(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var Bqe=function n(e){var t=this;iCe(this,n),JI(this,"seed",0),JI(this,"init",function(r){t.seed=r,t.value=t_e(r)}),JI(this,"value",t_e(this.seed)),this.init(e)};new Bqe(Math.random());var Dqe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*o)/t)},oCe=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},Lqe=function(e){return e},Nqe={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},Fqe={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},zqe={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},Uqe={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},jqe={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},Hqe={in:function(e){return e===0?0:Math.pow(2,10*e-10)},out:function(e){return e===1?1:1-Math.pow(2,-10*e)},inOut:function(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function Qc(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:oCe,p=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,g="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[g]===void 0&&(n.__damp[g]=0),Math.abs(n[e]-t)<=p)return n[e]=t,!1;r=Math.max(1e-4,r);var _=2/r,b=c(_*o),C=n[e]-t,k=t,B=a*r;C=Math.min(Math.max(C,-B),B),t=n[e]-C;var z=(n.__damp[g]+_*C)*o;n.__damp[g]=(n.__damp[g]-_*z)*b;var F=t+(C+z)*b;return k-n[e]>0==F>k&&(F=k,n.__damp[g]=(F-k)/o),n[e]=F,!0}var Gqe=function(e){return e&&e.isCamera},Vqe=function(e){return e&&e.isLight},_I=new Ke,n_e=new jo,r_e=new jo,wI=new Qi,HG=new Ke;function Wqe(n,e,t,r,o,a,c){typeof e=="number"?_I.setScalar(e):Array.isArray(e)?_I.set(e[0],e[1],e[2]):_I.copy(e);var p=n.parent;n.updateWorldMatrix(!0,!1),HG.setFromMatrixPosition(n.matrixWorld),Gqe(n)||Vqe(n)?wI.lookAt(HG,_I,n.up):wI.lookAt(_I,HG,n.up),BN(n.quaternion,r_e.setFromRotationMatrix(wI),t,r,o,a,c),p&&(wI.extractRotation(p.matrixWorld),n_e.setFromRotationMatrix(wI),BN(n.quaternion,r_e.copy(n.quaternion).premultiply(n_e.invert()),t,r,o,a,c))}function sM(n,e,t,r,o,a,c,p){return Qc(n,e,n[e]+kqe(n[e],t),r,o,a,c,p)}var SI=new Vn,i_e,o_e;function Xqe(n,e,t,r,o,a,c){return typeof e=="number"?SI.setScalar(e):Array.isArray(e)?SI.set(e[0],e[1]):SI.copy(e),i_e=Qc(n,"x",SI.x,t,r,o,a,c),o_e=Qc(n,"y",SI.y,t,r,o,a,c),i_e||o_e}var EC=new Ke,s_e,a_e,l_e;function eX(n,e,t,r,o,a,c){return typeof e=="number"?EC.setScalar(e):Array.isArray(e)?EC.set(e[0],e[1],e[2]):EC.copy(e),s_e=Qc(n,"x",EC.x,t,r,o,a,c),a_e=Qc(n,"y",EC.y,t,r,o,a,c),l_e=Qc(n,"z",EC.z,t,r,o,a,c),s_e||a_e||l_e}var Vx=new Es,u_e,c_e,d_e,f_e;function Kqe(n,e,t,r,o,a,c){return typeof e=="number"?Vx.setScalar(e):Array.isArray(e)?Vx.set(e[0],e[1],e[2],e[3]):Vx.copy(e),u_e=Qc(n,"x",Vx.x,t,r,o,a,c),c_e=Qc(n,"y",Vx.y,t,r,o,a,c),d_e=Qc(n,"z",Vx.z,t,r,o,a,c),f_e=Qc(n,"w",Vx.w,t,r,o,a,c),u_e||c_e||d_e||f_e}var xI=new Pb,h_e,p_e,m_e;function Yqe(n,e,t,r,o,a,c){return Array.isArray(e)?xI.set(e[0],e[1],e[2],e[3]):xI.copy(e),h_e=sM(n,"x",xI.x,t,r,o,a,c),p_e=sM(n,"y",xI.y,t,r,o,a,c),m_e=sM(n,"z",xI.z,t,r,o,a,c),h_e||p_e||m_e}var AC=new Ir,g_e,v_e,y_e;function Qqe(n,e,t,r,o,a,c){return e instanceof Ir?AC.copy(e):Array.isArray(e)?AC.setRGB(e[0],e[1],e[2]):AC.set(e),g_e=Qc(n,"r",AC.r,t,r,o,a,c),v_e=Qc(n,"g",AC.g,t,r,o,a,c),y_e=Qc(n,"b",AC.b,t,r,o,a,c),g_e||v_e||y_e}var A0=new jo,r1=new Es,__e=new Es,bI=new Es,w_e,S_e,x_e,b_e;function BN(n,e,t,r,o,a,c){var p=n;Array.isArray(e)?A0.set(e[0],e[1],e[2],e[3]):A0.copy(e);var g=n.dot(A0)>0?1:-1;return A0.x*=g,A0.y*=g,A0.z*=g,A0.w*=g,w_e=Qc(n,"x",A0.x,t,r,o,a,c),S_e=Qc(n,"y",A0.y,t,r,o,a,c),x_e=Qc(n,"z",A0.z,t,r,o,a,c),b_e=Qc(n,"w",A0.w,t,r,o,a,c),r1.set(n.x,n.y,n.z,n.w).normalize(),__e.set(p.__damp.velocity_x,p.__damp.velocity_y,p.__damp.velocity_z,p.__damp.velocity_w),bI.copy(r1).multiplyScalar(__e.dot(r1)/r1.dot(r1)),p.__damp.velocity_x-=bI.x,p.__damp.velocity_y-=bI.y,p.__damp.velocity_z-=bI.z,p.__damp.velocity_w-=bI.w,n.set(r1.x,r1.y,r1.z,r1.w),w_e||S_e||x_e||b_e}var EI=new JL,E_e,A_e,C_e;function qqe(n,e,t,r,o,a,c){return Array.isArray(e)?EI.set(e[0],e[1],e[2]):EI.copy(e),E_e=Qc(n,"radius",EI.radius,t,r,o,a,c),A_e=sM(n,"phi",EI.phi,t,r,o,a,c),C_e=sM(n,"theta",EI.theta,t,r,o,a,c),E_e||A_e||C_e}var vL=new Qi,M_e=new Ke,T_e=new jo,P_e=new Ke,k_e,I_e,R_e;function Jqe(n,e,t,r,o,a,c){var p=n;return p.__damp===void 0&&(p.__damp={position:new Ke,rotation:new jo,scale:new Ke},n.decompose(p.__damp.position,p.__damp.rotation,p.__damp.scale)),Array.isArray(e)?vL.set.apply(vL,Mqe(e)):vL.copy(e),vL.decompose(M_e,T_e,P_e),k_e=eX(p.__damp.position,M_e,t,r,o,a,c),I_e=BN(p.__damp.rotation,T_e,t,r,o,a,c),R_e=eX(p.__damp.scale,P_e,t,r,o,a,c),n.compose(p.__damp.position,p.__damp.rotation,p.__damp.scale),k_e||I_e||R_e}var O_e=Object.freeze({__proto__:null,rsqw:Dqe,exp:oCe,linear:Lqe,sine:Nqe,cubic:Fqe,quint:zqe,circ:Uqe,quart:jqe,expo:Hqe,damp:Qc,dampLookAt:Wqe,dampAngle:sM,damp2:Xqe,damp3:eX,damp4:Kqe,dampE:Yqe,dampC:Qqe,dampQ:BN,dampS:qqe,dampM:Jqe});const xY=qt.createContext(null);function zF(){return qt.useContext(xY)}function Zqe({eps:n=1e-5,enabled:e=!0,infinite:t,horizontal:r,pages:o=1,distance:a=1,damping:c=.25,maxSpeed:p=1/0,style:g={},children:_}){const{get:b,setEvents:C,gl:k,size:B,invalidate:z,events:F}=_f(),[N]=qt.useState(()=>document.createElement("div")),[D]=qt.useState(()=>document.createElement("div")),[A]=qt.useState(()=>document.createElement("div")),G=k.domElement.parentNode,Q=qt.useRef(0),ae=qt.useMemo(()=>({el:N,eps:n,fill:D,fixed:A,horizontal:r,damping:c,offset:0,delta:0,scroll:Q,pages:o,range(_e,J,Se=0){const Be=_e-Se,_t=Be+J+Se*2;return this.offset<Be?0:this.offset>_t?1:(this.offset-Be)/(_t-Be)},curve(_e,J,Se=0){return Math.sin(this.range(_e,J,Se)*Math.PI)},visible(_e,J,Se=0){const Be=_e-Se,_t=Be+J+Se*2;return this.offset>=Be&&this.offset<=_t}}),[n,c,r,o]);qt.useEffect(()=>{N.style.position="absolute",N.style.width="100%",N.style.height="100%",N.style[r?"overflowX":"overflowY"]="auto",N.style[r?"overflowY":"overflowX"]="hidden",N.style.top="0px",N.style.left="0px";for(const J in g)N.style[J]=g[J];A.style.position="sticky",A.style.top="0px",A.style.left="0px",A.style.width="100%",A.style.height="100%",A.style.overflow="hidden",N.appendChild(A),D.style.height=r?"100%":`${o*a*100}%`,D.style.width=r?`${o*a*100}%`:"100%",D.style.pointerEvents="none",N.appendChild(D),G.appendChild(N),N[r?"scrollLeft":"scrollTop"]=1;const ge=F.connected||k.domElement;requestAnimationFrame(()=>F.connect==null?void 0:F.connect(N));const _e=b().events.compute;return C({compute(J,Se){const{left:Be,top:_t}=G.getBoundingClientRect(),Ve=J.clientX-Be,xe=J.clientY-_t;Se.pointer.set(Ve/Se.size.width*2-1,-(xe/Se.size.height)*2+1),Se.raycaster.setFromCamera(Se.pointer,Se.camera)}}),()=>{G.removeChild(N),C({compute:_e}),F.connect==null||F.connect(ge)}},[o,a,r,N,D,A,G]),qt.useEffect(()=>{if(F.connected===N){const ge=B[r?"width":"height"],_e=N[r?"scrollWidth":"scrollHeight"],J=_e-ge;let Se=0,Be=!0,_t=!0;const Ve=()=>{if(!(!e||_t)&&(z(),Se=N[r?"scrollLeft":"scrollTop"],Q.current=Se/J,t)){if(!Be){if(Se>=J){const ot=1-ae.offset;N[r?"scrollLeft":"scrollTop"]=1,Q.current=ae.offset=-ot,Be=!0}else if(Se<=0){const ot=1+ae.offset;N[r?"scrollLeft":"scrollTop"]=_e,Q.current=ae.offset=ot,Be=!0}}Be&&setTimeout(()=>Be=!1,40)}};N.addEventListener("scroll",Ve,{passive:!0}),requestAnimationFrame(()=>_t=!1);const xe=ot=>N.scrollLeft+=ot.deltaY/2;return r&&N.addEventListener("wheel",xe,{passive:!0}),()=>{N.removeEventListener("scroll",Ve),r&&N.removeEventListener("wheel",xe)}}},[N,F,B,t,ae,z,r,e]);let Y=0;return b1((ge,_e)=>{Y=ae.offset,O_e.damp(ae,"offset",Q.current,c,_e,p,void 0,n),O_e.damp(ae,"delta",Math.abs(Y-ae.offset),c,_e,p,void 0,n),ae.delta>n&&z()}),qt.createElement(xY.Provider,{value:ae},_)}const $qe=qt.forwardRef(({children:n},e)=>{const t=qt.useRef(null),r=zF(),{width:o,height:a}=_f(c=>c.viewport);return b1(()=>{t.current.position.x=r.horizontal?-o*(r.pages-1)*r.offset:0,t.current.position.y=r.horizontal?0:a*(r.pages-1)*r.offset}),qt.createElement("group",{ref:rCe([e,t])},n)}),eJe=qt.forwardRef(({children:n,style:e,...t},r)=>{const o=zF(),a=qt.useRef(null),{width:c,height:p}=_f(b=>b.size),g=qt.useContext(cR),_=qt.useMemo(()=>wY(o.fixed),[o.fixed]);return b1(()=>{o.delta>o.eps&&(a.current.style.transform=`translate3d(${o.horizontal?-c*(o.pages-1)*o.offset:0}px,${o.horizontal?0:p*(o.pages-1)*-o.offset}px,0)`)}),_.render(qt.createElement("div",Uw({ref:rCe([r,a]),style:{...e,position:"absolute",top:0,left:0,willChange:"transform"}},t),qt.createElement(xY.Provider,{value:o},qt.createElement(cR.Provider,{value:g},n)))),null}),tJe=qt.forwardRef(({html:n,...e},t)=>{const r=n?eJe:$qe;return qt.createElement(r,Uw({ref:t},e))});function B_e(n,e){if(e===Dwe)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===KL||e===wX){let t=n.getIndex();if(t===null){const c=[],p=n.getAttribute("position");if(p!==void 0){for(let g=0;g<p.count;g++)c.push(g);n.setIndex(c),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,o=[];if(t)if(e===KL)for(let c=1;c<=r;c++)o.push(t.getX(0)),o.push(t.getX(c)),o.push(t.getX(c+1));else for(let c=0;c<r;c++)c%2===0?(o.push(t.getX(c)),o.push(t.getX(c+1)),o.push(t.getX(c+2))):(o.push(t.getX(c+2)),o.push(t.getX(c+1)),o.push(t.getX(c)));o.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(o),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const nJe=parseInt(PM.replace(/\D+/g,""));var _g=Uint8Array,_w=Uint16Array,tX=Uint32Array,sCe=new _g([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aCe=new _g([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rJe=new _g([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lCe=function(n,e){for(var t=new _w(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var o=new tX(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)o[a]=a-t[r]<<5|r;return[t,o]},uCe=lCe(sCe,2),cCe=uCe[0],iJe=uCe[1];cCe[28]=258,iJe[258]=28;var oJe=lCe(aCe,0),sJe=oJe[0],nX=new _w(32768);for(var bl=0;bl<32768;++bl){var sw=(bl&43690)>>>1|(bl&21845)<<1;sw=(sw&52428)>>>2|(sw&13107)<<2,sw=(sw&61680)>>>4|(sw&3855)<<4,nX[bl]=((sw&65280)>>>8|(sw&255)<<8)>>>1}var ZI=function(n,e,t){for(var r=n.length,o=0,a=new _w(e);o<r;++o)++a[n[o]-1];var c=new _w(e);for(o=0;o<e;++o)c[o]=c[o-1]+a[o-1]<<1;var p;if(t){p=new _w(1<<e);var g=15-e;for(o=0;o<r;++o)if(n[o])for(var _=o<<4|n[o],b=e-n[o],C=c[n[o]-1]++<<b,k=C|(1<<b)-1;C<=k;++C)p[nX[C]>>>g]=_}else for(p=new _w(r),o=0;o<r;++o)n[o]&&(p[o]=nX[c[n[o]-1]++]>>>15-n[o]);return p},t3=new _g(288);for(var bl=0;bl<144;++bl)t3[bl]=8;for(var bl=144;bl<256;++bl)t3[bl]=9;for(var bl=256;bl<280;++bl)t3[bl]=7;for(var bl=280;bl<288;++bl)t3[bl]=8;var dCe=new _g(32);for(var bl=0;bl<32;++bl)dCe[bl]=5;var aJe=ZI(t3,9,1),lJe=ZI(dCe,5,1),GG=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},C0=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},VG=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},uJe=function(n){return(n/8|0)+(n&7&&1)},cJe=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof _w?_w:n instanceof tX?tX:_g)(t-e);return r.set(n.subarray(e,t)),r},dJe=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new _g(0);var o=!e||t,a=!t||t.i;t||(t={}),e||(e=new _g(r*3));var c=function(et){var Nt=e.length;if(et>Nt){var Ot=new _g(Math.max(Nt*2,et));Ot.set(e),e=Ot}},p=t.f||0,g=t.p||0,_=t.b||0,b=t.l,C=t.d,k=t.m,B=t.n,z=r*8;do{if(!b){t.f=p=C0(n,g,1);var F=C0(n,g+1,3);if(g+=3,F)if(F==1)b=aJe,C=lJe,k=9,B=5;else if(F==2){var G=C0(n,g,31)+257,Q=C0(n,g+10,15)+4,ae=G+C0(n,g+5,31)+1;g+=14;for(var Y=new _g(ae),ge=new _g(19),_e=0;_e<Q;++_e)ge[rJe[_e]]=C0(n,g+_e*3,7);g+=Q*3;for(var J=GG(ge),Se=(1<<J)-1,Be=ZI(ge,J,1),_e=0;_e<ae;){var _t=Be[C0(n,g,Se)];g+=_t&15;var N=_t>>>4;if(N<16)Y[_e++]=N;else{var Ve=0,xe=0;for(N==16?(xe=3+C0(n,g,3),g+=2,Ve=Y[_e-1]):N==17?(xe=3+C0(n,g,7),g+=3):N==18&&(xe=11+C0(n,g,127),g+=7);xe--;)Y[_e++]=Ve}}var ot=Y.subarray(0,G),Ze=Y.subarray(G);k=GG(ot),B=GG(Ze),b=ZI(ot,k,1),C=ZI(Ze,B,1)}else throw"invalid block type";else{var N=uJe(g)+4,D=n[N-4]|n[N-3]<<8,A=N+D;if(A>r){if(a)throw"unexpected EOF";break}o&&c(_+D),e.set(n.subarray(N,A),_),t.b=_+=D,t.p=g=A*8;continue}if(g>z){if(a)throw"unexpected EOF";break}}o&&c(_+131072);for(var mt=(1<<k)-1,we=(1<<B)-1,Te=g;;Te=g){var Ve=b[VG(n,g)&mt],Ae=Ve>>>4;if(g+=Ve&15,g>z){if(a)throw"unexpected EOF";break}if(!Ve)throw"invalid length/literal";if(Ae<256)e[_++]=Ae;else if(Ae==256){Te=g,b=null;break}else{var me=Ae-254;if(Ae>264){var _e=Ae-257,ce=sCe[_e];me=C0(n,g,(1<<ce)-1)+cCe[_e],g+=ce}var qe=C[VG(n,g)&we],ht=qe>>>4;if(!qe)throw"invalid distance";g+=qe&15;var Ze=sJe[ht];if(ht>3){var ce=aCe[ht];Ze+=VG(n,g)&(1<<ce)-1,g+=ce}if(g>z){if(a)throw"unexpected EOF";break}o&&c(_+131072);for(var wt=_+me;_<wt;_+=4)e[_]=e[_-Ze],e[_+1]=e[_+1-Ze],e[_+2]=e[_+2-Ze],e[_+3]=e[_+3-Ze];_=wt}}t.l=b,t.p=Te,t.b=_,b&&(p=1,t.m=k,t.d=C,t.n=B)}while(!p);return _==e.length?e:cJe(e,0,_)},fJe=new _g(0),hJe=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function yL(n,e){return dJe((hJe(n),n.subarray(2,-4)),e)}var pJe=typeof TextDecoder<"u"&&new TextDecoder,mJe=0;try{pJe.decode(fJe,{stream:!0}),mJe=1}catch{}const gJe=n=>n&&n.isCubeTexture;class vJe extends ni{constructor(e,t){var r,o;const a=gJe(e),p=((o=a?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?o:1024)/4,g=Math.floor(Math.log2(p)),_=Math.pow(2,g),b=3*Math.max(_,16*7),C=4*_,k=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/b}`,`#define CUBEUV_TEXEL_HEIGHT ${1/C}`,`#define CUBEUV_MAX_MIP ${g}.0`],B=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,z=k.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(PM.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,F={map:{value:e},height:{value:(t==null?void 0:t.height)||15},radius:{value:(t==null?void 0:t.radius)||100}},N=new VR(1,16),D=new Eg({uniforms:F,fragmentShader:z,vertexShader:B,side:mf});super(N,D)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class bY extends fh{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new xJe(t)}),this.register(function(t){return new kJe(t)}),this.register(function(t){return new IJe(t)}),this.register(function(t){return new RJe(t)}),this.register(function(t){return new EJe(t)}),this.register(function(t){return new AJe(t)}),this.register(function(t){return new CJe(t)}),this.register(function(t){return new MJe(t)}),this.register(function(t){return new SJe(t)}),this.register(function(t){return new TJe(t)}),this.register(function(t){return new bJe(t)}),this.register(function(t){return new PJe(t)}),this.register(function(t){return new _Je(t)}),this.register(function(t){return new OJe(t)}),this.register(function(t){return new BJe(t)})}load(e,t,r,o){const a=this;let c;this.resourcePath!==""?c=this.resourcePath:this.path!==""?c=this.path:c=Dv.extractUrlBase(e),this.manager.itemStart(e);const p=function(_){o?o(_):console.error(_),a.manager.itemError(e),a.manager.itemEnd(e)},g=new Tm(this.manager);g.setPath(this.path),g.setResponseType("arraybuffer"),g.setRequestHeader(this.requestHeader),g.setWithCredentials(this.withCredentials),g.load(e,function(_){try{a.parse(_,c,function(b){t(b),a.manager.itemEnd(e)},p)}catch(b){p(b)}},r,p)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,o){let a;const c={},p={};if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Dv.decodeText(new Uint8Array(e.slice(0,4)))===fCe){try{c[ls.KHR_BINARY_GLTF]=new DJe(e)}catch(b){o&&o(b);return}a=JSON.parse(c[ls.KHR_BINARY_GLTF].content)}else a=JSON.parse(Dv.decodeText(new Uint8Array(e)));else a=e;if(a.asset===void 0||a.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const g=new YJe(a,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});g.fileLoader.setRequestHeader(this.requestHeader);for(let _=0;_<this.pluginCallbacks.length;_++){const b=this.pluginCallbacks[_](g);p[b.name]=b,c[b.name]=!0}if(a.extensionsUsed)for(let _=0;_<a.extensionsUsed.length;++_){const b=a.extensionsUsed[_],C=a.extensionsRequired||[];switch(b){case ls.KHR_MATERIALS_UNLIT:c[b]=new wJe;break;case ls.KHR_DRACO_MESH_COMPRESSION:c[b]=new LJe(a,this.dracoLoader);break;case ls.KHR_TEXTURE_TRANSFORM:c[b]=new NJe;break;case ls.KHR_MESH_QUANTIZATION:c[b]=new FJe;break;default:C.indexOf(b)>=0&&p[b]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+b+'".')}}g.setExtensions(c),g.setPlugins(p),g.parse(r,o)}parseAsync(e,t){const r=this;return new Promise(function(o,a){r.parse(e,t,o,a)})}}function yJe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const ls={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class _Je{constructor(e){this.parser=e,this.name=ls.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,o=t.length;r<o;r++){const a=t[r];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let o=t.cache.get(r);if(o)return o;const a=t.json,g=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let _;const b=new Ir(16777215);g.color!==void 0&&b.fromArray(g.color);const C=g.range!==void 0?g.range:0;switch(g.type){case"directional":_=new eK(b),_.target.position.set(0,0,-1),_.add(_.target);break;case"point":_=new $X(b),_.distance=C;break;case"spot":_=new ZX(b),_.distance=C,g.spot=g.spot||{},g.spot.innerConeAngle=g.spot.innerConeAngle!==void 0?g.spot.innerConeAngle:0,g.spot.outerConeAngle=g.spot.outerConeAngle!==void 0?g.spot.outerConeAngle:Math.PI/4,_.angle=g.spot.outerConeAngle,_.penumbra=1-g.spot.innerConeAngle/g.spot.outerConeAngle,_.target.position.set(0,0,-1),_.add(_.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+g.type)}return _.position.set(0,0,0),_.decay=2,hw(_,g),g.intensity!==void 0&&(_.intensity=g.intensity),_.name=t.createUniqueName(g.name||"light_"+e),o=Promise.resolve(_),t.cache.add(r,o),o}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,a=r.json.nodes[e],p=(a.extensions&&a.extensions[this.name]||{}).light;return p===void 0?null:this._loadLight(p).then(function(g){return r._getNodeRef(t.cache,p,g)})}}class wJe{constructor(){this.name=ls.KHR_MATERIALS_UNLIT}getMaterialType(){return yf}extendParams(e,t,r){const o=[];e.color=new Ir(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const c=a.baseColorFactor;e.color.fromArray(c),e.opacity=c[3]}a.baseColorTexture!==void 0&&o.push(r.assignTexture(e,"map",a.baseColorTexture,3001))}return Promise.all(o)}}class SJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=o.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class xJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hv}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=[],c=o.extensions[this.name];if(c.clearcoatFactor!==void 0&&(t.clearcoat=c.clearcoatFactor),c.clearcoatTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatMap",c.clearcoatTexture)),c.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=c.clearcoatRoughnessFactor),c.clearcoatRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),c.clearcoatNormalTexture!==void 0&&(a.push(r.assignTexture(t,"clearcoatNormalMap",c.clearcoatNormalTexture)),c.clearcoatNormalTexture.scale!==void 0)){const p=c.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Vn(p,p)}return Promise.all(a)}}class bJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hv}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=[],c=o.extensions[this.name];return c.iridescenceFactor!==void 0&&(t.iridescence=c.iridescenceFactor),c.iridescenceTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceMap",c.iridescenceTexture)),c.iridescenceIor!==void 0&&(t.iridescenceIOR=c.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),c.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),c.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),c.iridescenceThicknessTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(a)}}class EJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hv}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Ir(0,0,0),t.sheenRoughness=0,t.sheen=1;const c=o.extensions[this.name];return c.sheenColorFactor!==void 0&&t.sheenColor.fromArray(c.sheenColorFactor),c.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=c.sheenRoughnessFactor),c.sheenColorTexture!==void 0&&a.push(r.assignTexture(t,"sheenColorMap",c.sheenColorTexture,3001)),c.sheenRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(a)}}class AJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hv}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=[],c=o.extensions[this.name];return c.transmissionFactor!==void 0&&(t.transmission=c.transmissionFactor),c.transmissionTexture!==void 0&&a.push(r.assignTexture(t,"transmissionMap",c.transmissionTexture)),Promise.all(a)}}class CJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hv}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=[],c=o.extensions[this.name];t.thickness=c.thicknessFactor!==void 0?c.thicknessFactor:0,c.thicknessTexture!==void 0&&a.push(r.assignTexture(t,"thicknessMap",c.thicknessTexture)),t.attenuationDistance=c.attenuationDistance||1/0;const p=c.attenuationColor||[1,1,1];return t.attenuationColor=new Ir(p[0],p[1],p[2]),Promise.all(a)}}class MJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hv}extendMaterialParams(e,t){const o=this.parser.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=o.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class TJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hv}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=[],c=o.extensions[this.name];t.specularIntensity=c.specularFactor!==void 0?c.specularFactor:1,c.specularTexture!==void 0&&a.push(r.assignTexture(t,"specularIntensityMap",c.specularTexture));const p=c.specularColorFactor||[1,1,1];return t.specularColor=new Ir(p[0],p[1],p[2]),c.specularColorTexture!==void 0&&a.push(r.assignTexture(t,"specularColorMap",c.specularColorTexture,3001)),Promise.all(a)}}class PJe{constructor(e){this.parser=e,this.name=ls.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Hv}extendMaterialParams(e,t){const r=this.parser,o=r.json.materials[e];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const a=[],c=o.extensions[this.name];return c.anisotropyStrength!==void 0&&(t.anisotropy=c.anisotropyStrength),c.anisotropyRotation!==void 0&&(t.anisotropyRotation=c.anisotropyRotation),c.anisotropyTexture!==void 0&&a.push(r.assignTexture(t,"anisotropyMap",c.anisotropyTexture)),Promise.all(a)}}class kJe{constructor(e){this.parser=e,this.name=ls.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,o=r.textures[e];if(!o.extensions||!o.extensions[this.name])return null;const a=o.extensions[this.name],c=t.options.ktx2Loader;if(!c){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,c)}}class IJe{constructor(e){this.parser=e,this.name=ls.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,o=r.json,a=o.textures[e];if(!a.extensions||!a.extensions[t])return null;const c=a.extensions[t],p=o.images[c.source];let g=r.textureLoader;if(p.uri){const _=r.options.manager.getHandler(p.uri);_!==null&&(g=_)}return this.detectSupport().then(function(_){if(_)return r.loadTextureImage(e,c.source,g);if(o.extensionsRequired&&o.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class RJe{constructor(e){this.parser=e,this.name=ls.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,o=r.json,a=o.textures[e];if(!a.extensions||!a.extensions[t])return null;const c=a.extensions[t],p=o.images[c.source];let g=r.textureLoader;if(p.uri){const _=r.options.manager.getHandler(p.uri);_!==null&&(g=_)}return this.detectSupport().then(function(_){if(_)return r.loadTextureImage(e,c.source,g);if(o.extensionsRequired&&o.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class OJe{constructor(e){this.name=ls.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const o=r.extensions[this.name],a=this.parser.getDependency("buffer",o.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(p){const g=o.byteOffset||0,_=o.byteLength||0,b=o.count,C=o.byteStride,k=new Uint8Array(p,g,_);return c.decodeGltfBufferAsync?c.decodeGltfBufferAsync(b,C,k,o.mode,o.filter).then(function(B){return B.buffer}):c.ready.then(function(){const B=new ArrayBuffer(b*C);return c.decodeGltfBuffer(new Uint8Array(B),b,C,k,o.mode,o.filter),B})})}else return null}}class BJe{constructor(e){this.name=ls.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const o=t.meshes[r.mesh];for(const _ of o.primitives)if(_.mode!==hg.TRIANGLES&&_.mode!==hg.TRIANGLE_STRIP&&_.mode!==hg.TRIANGLE_FAN&&_.mode!==void 0)return null;const c=r.extensions[this.name].attributes,p=[],g={};for(const _ in c)p.push(this.parser.getDependency("accessor",c[_]).then(b=>(g[_]=b,g[_])));return p.length<1?null:(p.push(this.parser.createNodeMesh(e)),Promise.all(p).then(_=>{const b=_.pop(),C=b.isGroup?b.children:[b],k=_[0].count,B=[];for(const z of C){const F=new Qi,N=new Ke,D=new jo,A=new Ke(1,1,1),G=new DX(z.geometry,z.material,k);for(let Q=0;Q<k;Q++)g.TRANSLATION&&N.fromBufferAttribute(g.TRANSLATION,Q),g.ROTATION&&D.fromBufferAttribute(g.ROTATION,Q),g.SCALE&&A.fromBufferAttribute(g.SCALE,Q),G.setMatrixAt(Q,F.compose(N,D,A));for(const Q in g)Q!=="TRANSLATION"&&Q!=="ROTATION"&&Q!=="SCALE"&&z.geometry.setAttribute(Q,g[Q]);Jo.prototype.copy.call(G,z),this.parser.assignFinalMaterial(G),B.push(G)}return b.isGroup?(b.clear(),b.add(...B),b):B[0]}))}}const fCe="glTF",AI=12,D_e={JSON:1313821514,BIN:5130562};class DJe{constructor(e){this.name=ls.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,AI);if(this.header={magic:Dv.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==fCe)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-AI,o=new DataView(e,AI);let a=0;for(;a<r;){const c=o.getUint32(a,!0);a+=4;const p=o.getUint32(a,!0);if(a+=4,p===D_e.JSON){const g=new Uint8Array(e,AI+a,c);this.content=Dv.decodeText(g)}else if(p===D_e.BIN){const g=AI+a;this.body=e.slice(g,g+c)}a+=c}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class LJe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ls.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,o=this.dracoLoader,a=e.extensions[this.name].bufferView,c=e.extensions[this.name].attributes,p={},g={},_={};for(const b in c){const C=rX[b]||b.toLowerCase();p[C]=c[b]}for(const b in e.attributes){const C=rX[b]||b.toLowerCase();if(c[b]!==void 0){const k=r.accessors[e.attributes[b]],B=aM[k.componentType];_[C]=B.name,g[C]=k.normalized===!0}}return t.getDependency("bufferView",a).then(function(b){return new Promise(function(C){o.decodeDracoFile(b,function(k){for(const B in k.attributes){const z=k.attributes[B],F=g[B];F!==void 0&&(z.normalized=F)}C(k)},p,_)})})}}class NJe{constructor(){this.name=ls.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class FJe{constructor(){this.name=ls.KHR_MESH_QUANTIZATION}}class hCe extends DM{constructor(e,t,r,o){super(e,t,r,o)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,o=this.valueSize,a=e*o*3+o;for(let c=0;c!==o;c++)t[c]=r[a+c];return t}interpolate_(e,t,r,o){const a=this.resultBuffer,c=this.sampleValues,p=this.valueSize,g=p*2,_=p*3,b=o-t,C=(r-t)/b,k=C*C,B=k*C,z=e*_,F=z-_,N=-2*B+3*k,D=B-k,A=1-N,G=D-k+C;for(let Q=0;Q!==p;Q++){const ae=c[F+Q+p],Y=c[F+Q+g]*b,ge=c[z+Q+p],_e=c[z+Q]*b;a[Q]=A*ae+G*Y+N*ge+D*_e}return a}}const zJe=new jo;class UJe extends hCe{interpolate_(e,t,r,o){const a=super.interpolate_(e,t,r,o);return zJe.fromArray(a).normalize().toArray(a),a}}const hg={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},aM={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},L_e={9728:Cu,9729:aa,9984:eR,9985:zN,9986:qC,9987:Uv},N_e={33071:gf,33648:uM,10497:Nw},WG={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},rX={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...nJe>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},aw={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},jJe={CUBICSPLINE:void 0,LINEAR:_b,STEP:cM},XG={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function HJe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new WR({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Fv})),n.DefaultMaterial}function Wx(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function hw(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function GJe(n,e,t){let r=!1,o=!1,a=!1;for(let _=0,b=e.length;_<b;_++){const C=e[_];if(C.POSITION!==void 0&&(r=!0),C.NORMAL!==void 0&&(o=!0),C.COLOR_0!==void 0&&(a=!0),r&&o&&a)break}if(!r&&!o&&!a)return Promise.resolve(n);const c=[],p=[],g=[];for(let _=0,b=e.length;_<b;_++){const C=e[_];if(r){const k=C.POSITION!==void 0?t.getDependency("accessor",C.POSITION):n.attributes.position;c.push(k)}if(o){const k=C.NORMAL!==void 0?t.getDependency("accessor",C.NORMAL):n.attributes.normal;p.push(k)}if(a){const k=C.COLOR_0!==void 0?t.getDependency("accessor",C.COLOR_0):n.attributes.color;g.push(k)}}return Promise.all([Promise.all(c),Promise.all(p),Promise.all(g)]).then(function(_){const b=_[0],C=_[1],k=_[2];return r&&(n.morphAttributes.position=b),o&&(n.morphAttributes.normal=C),a&&(n.morphAttributes.color=k),n.morphTargetsRelative=!0,n})}function VJe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,o=t.length;r<o;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function WJe(n){let e;const t=n.extensions&&n.extensions[ls.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+KG(t.attributes):e=n.indices+":"+KG(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,o=n.targets.length;r<o;r++)e+=":"+KG(n.targets[r]);return e}function KG(n){let e="";const t=Object.keys(n).sort();for(let r=0,o=t.length;r<o;r++)e+=t[r]+":"+n[t[r]]+";";return e}function iX(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function XJe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const KJe=new Qi;class YJe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new yJe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,o=!1,a=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=navigator.userAgent.indexOf("Firefox")>-1,a=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||o&&a<98?this.textureLoader=new LSe(this.options.manager):this.textureLoader=new GSe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Tm(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,o=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(c){const p={scene:c[0][o.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:o.asset,parser:r,userData:{}};Wx(a,p,o),hw(p,o),Promise.all(r._invokeAll(function(g){return g.afterRoot&&g.afterRoot(p)})).then(function(){e(p)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let o=0,a=t.length;o<a;o++){const c=t[o].joints;for(let p=0,g=c.length;p<g;p++)e[c[p]].isBone=!0}for(let o=0,a=e.length;o<a;o++){const c=e[o];c.mesh!==void 0&&(this._addNodeRef(this.meshCache,c.mesh),c.skin!==void 0&&(r[c.mesh].isSkinnedMesh=!0)),c.camera!==void 0&&this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const o=r.clone(),a=(c,p)=>{const g=this.associations.get(c);g!=null&&this.associations.set(p,g);for(const[_,b]of c.children.entries())a(b,p.children[_])};return a(r,o),o.name+="_instance_"+e.uses[t]++,o}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const o=e(t[r]);if(o)return o}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let o=0;o<t.length;o++){const a=e(t[o]);a&&r.push(a)}return r}getDependency(e,t){const r=e+":"+t;let o=this.cache.get(r);if(!o){switch(e){case"scene":o=this.loadScene(t);break;case"node":o=this._invokeOne(function(a){return a.loadNode&&a.loadNode(t)});break;case"mesh":o=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":o=this.loadAccessor(t);break;case"bufferView":o=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":o=this.loadBuffer(t);break;case"material":o=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":o=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":o=this.loadSkin(t);break;case"animation":o=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":o=this.loadCamera(t);break;default:if(o=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,t)}),!o)throw new Error("Unknown type: "+e);break}this.cache.add(r,o)}return o}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,o=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(o.map(function(a,c){return r.getDependency(e,c)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[ls.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(a,c){r.load(Dv.resolveURL(t.uri,o.path),a,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const o=t.byteLength||0,a=t.byteOffset||0;return r.slice(a,a+o)})}loadAccessor(e){const t=this,r=this.json,o=this.json.accessors[e];if(o.bufferView===void 0&&o.sparse===void 0){const c=WG[o.type],p=aM[o.componentType],g=o.normalized===!0,_=new p(o.count*c);return Promise.resolve(new Bs(_,c,g))}const a=[];return o.bufferView!==void 0?a.push(this.getDependency("bufferView",o.bufferView)):a.push(null),o.sparse!==void 0&&(a.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(a).then(function(c){const p=c[0],g=WG[o.type],_=aM[o.componentType],b=_.BYTES_PER_ELEMENT,C=b*g,k=o.byteOffset||0,B=o.bufferView!==void 0?r.bufferViews[o.bufferView].byteStride:void 0,z=o.normalized===!0;let F,N;if(B&&B!==C){const D=Math.floor(k/B),A="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+D+":"+o.count;let G=t.cache.get(A);G||(F=new _(p,D*B,o.count*B/b),G=new jR(F,B/b),t.cache.add(A,G)),N=new Fw(G,g,k%B/b,z)}else p===null?F=new _(o.count*g):F=new _(p,k,o.count*g),N=new Bs(F,g,z);if(o.sparse!==void 0){const D=WG.SCALAR,A=aM[o.sparse.indices.componentType],G=o.sparse.indices.byteOffset||0,Q=o.sparse.values.byteOffset||0,ae=new A(c[1],G,o.sparse.count*D),Y=new _(c[2],Q,o.sparse.count*g);p!==null&&(N=new Bs(N.array.slice(),N.itemSize,N.normalized));for(let ge=0,_e=ae.length;ge<_e;ge++){const J=ae[ge];if(N.setX(J,Y[ge*g]),g>=2&&N.setY(J,Y[ge*g+1]),g>=3&&N.setZ(J,Y[ge*g+2]),g>=4&&N.setW(J,Y[ge*g+3]),g>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return N})}loadTexture(e){const t=this.json,r=this.options,a=t.textures[e].source,c=t.images[a];let p=this.textureLoader;if(c.uri){const g=r.manager.getHandler(c.uri);g!==null&&(p=g)}return this.loadTextureImage(e,a,p)}loadTextureImage(e,t,r){const o=this,a=this.json,c=a.textures[e],p=a.images[t],g=(p.uri||p.bufferView)+":"+c.sampler;if(this.textureCache[g])return this.textureCache[g];const _=this.loadImageSource(t,r).then(function(b){b.flipY=!1,b.name=c.name||p.name||"",b.name===""&&typeof p.uri=="string"&&p.uri.startsWith("data:image/")===!1&&(b.name=p.uri);const k=(a.samplers||{})[c.sampler]||{};return b.magFilter=L_e[k.magFilter]||aa,b.minFilter=L_e[k.minFilter]||Uv,b.wrapS=N_e[k.wrapS]||Nw,b.wrapT=N_e[k.wrapT]||Nw,o.associations.set(b,{textures:e}),b}).catch(function(){return null});return this.textureCache[g]=_,_}loadImageSource(e,t){const r=this,o=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(C=>C.clone());const c=o.images[e],p=self.URL||self.webkitURL;let g=c.uri||"",_=!1;if(c.bufferView!==void 0)g=r.getDependency("bufferView",c.bufferView).then(function(C){_=!0;const k=new Blob([C],{type:c.mimeType});return g=p.createObjectURL(k),g});else if(c.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const b=Promise.resolve(g).then(function(C){return new Promise(function(k,B){let z=k;t.isImageBitmapLoader===!0&&(z=function(F){const N=new el(F);N.needsUpdate=!0,k(N)}),t.load(Dv.resolveURL(C,a.path),z,void 0,B)})}).then(function(C){return _===!0&&p.revokeObjectURL(g),C.userData.mimeType=c.mimeType||XJe(c.uri),C}).catch(function(C){throw console.error("THREE.GLTFLoader: Couldn't load texture",g),C});return this.sourceCache[e]=b,b}assignTexture(e,t,r,o){const a=this;return this.getDependency("texture",r.index).then(function(c){if(!c)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(c=c.clone(),c.channel=r.texCoord),a.extensions[ls.KHR_TEXTURE_TRANSFORM]){const p=r.extensions!==void 0?r.extensions[ls.KHR_TEXTURE_TRANSFORM]:void 0;if(p){const g=a.associations.get(c);c=a.extensions[ls.KHR_TEXTURE_TRANSFORM].extendTexture(c,p),a.associations.set(c,g)}}return o!==void 0&&("colorSpace"in c?c.colorSpace=o===3001?"srgb":"srgb-linear":c.encoding=o),e[t]=c,c})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const o=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,c=t.attributes.normal===void 0;if(e.isPoints){const p="PointsMaterial:"+r.uuid;let g=this.cache.get(p);g||(g=new QN,nc.prototype.copy.call(g,r),g.color.copy(r.color),g.map=r.map,g.sizeAttenuation=!1,this.cache.add(p,g)),r=g}else if(e.isLine){const p="LineBasicMaterial:"+r.uuid;let g=this.cache.get(p);g||(g=new xf,nc.prototype.copy.call(g,r),g.color.copy(r.color),g.map=r.map,this.cache.add(p,g)),r=g}if(o||a||c){let p="ClonedMaterial:"+r.uuid+":";o&&(p+="derivative-tangents:"),a&&(p+="vertex-colors:"),c&&(p+="flat-shading:");let g=this.cache.get(p);g||(g=r.clone(),a&&(g.vertexColors=!0),c&&(g.flatShading=!0),o&&(g.normalScale&&(g.normalScale.y*=-1),g.clearcoatNormalScale&&(g.clearcoatNormalScale.y*=-1)),this.cache.add(p,g),this.associations.set(g,this.associations.get(r))),r=g}e.material=r}getMaterialType(){return WR}loadMaterial(e){const t=this,r=this.json,o=this.extensions,a=r.materials[e];let c;const p={},g=a.extensions||{},_=[];if(g[ls.KHR_MATERIALS_UNLIT]){const C=o[ls.KHR_MATERIALS_UNLIT];c=C.getMaterialType(),_.push(C.extendParams(p,a,t))}else{const C=a.pbrMetallicRoughness||{};if(p.color=new Ir(1,1,1),p.opacity=1,Array.isArray(C.baseColorFactor)){const k=C.baseColorFactor;p.color.fromArray(k),p.opacity=k[3]}C.baseColorTexture!==void 0&&_.push(t.assignTexture(p,"map",C.baseColorTexture,3001)),p.metalness=C.metallicFactor!==void 0?C.metallicFactor:1,p.roughness=C.roughnessFactor!==void 0?C.roughnessFactor:1,C.metallicRoughnessTexture!==void 0&&(_.push(t.assignTexture(p,"metalnessMap",C.metallicRoughnessTexture)),_.push(t.assignTexture(p,"roughnessMap",C.metallicRoughnessTexture))),c=this._invokeOne(function(k){return k.getMaterialType&&k.getMaterialType(e)}),_.push(Promise.all(this._invokeAll(function(k){return k.extendMaterialParams&&k.extendMaterialParams(e,p)})))}a.doubleSided===!0&&(p.side=mf);const b=a.alphaMode||XG.OPAQUE;if(b===XG.BLEND?(p.transparent=!0,p.depthWrite=!1):(p.transparent=!1,b===XG.MASK&&(p.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&c!==yf&&(_.push(t.assignTexture(p,"normalMap",a.normalTexture)),p.normalScale=new Vn(1,1),a.normalTexture.scale!==void 0)){const C=a.normalTexture.scale;p.normalScale.set(C,C)}return a.occlusionTexture!==void 0&&c!==yf&&(_.push(t.assignTexture(p,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(p.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&c!==yf&&(p.emissive=new Ir().fromArray(a.emissiveFactor)),a.emissiveTexture!==void 0&&c!==yf&&_.push(t.assignTexture(p,"emissiveMap",a.emissiveTexture,3001)),Promise.all(_).then(function(){const C=new c(p);return a.name&&(C.name=a.name),hw(C,a),t.associations.set(C,{materials:e}),a.extensions&&Wx(o,C,a),C})}createUniqueName(e){const t=hs.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,o=this.primitiveCache;function a(p){return r[ls.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(p,t).then(function(g){return F_e(g,p,t)})}const c=[];for(let p=0,g=e.length;p<g;p++){const _=e[p],b=WJe(_),C=o[b];if(C)c.push(C.promise);else{let k;_.extensions&&_.extensions[ls.KHR_DRACO_MESH_COMPRESSION]?k=a(_):k=F_e(new yo,_,t),o[b]={primitive:_,promise:k},c.push(k)}}return Promise.all(c)}loadMesh(e){const t=this,r=this.json,o=this.extensions,a=r.meshes[e],c=a.primitives,p=[];for(let g=0,_=c.length;g<_;g++){const b=c[g].material===void 0?HJe(this.cache):this.getDependency("material",c[g].material);p.push(b)}return p.push(t.loadGeometries(c)),Promise.all(p).then(function(g){const _=g.slice(0,g.length-1),b=g[g.length-1],C=[];for(let B=0,z=b.length;B<z;B++){const F=b[B],N=c[B];let D;const A=_[B];if(N.mode===hg.TRIANGLES||N.mode===hg.TRIANGLE_STRIP||N.mode===hg.TRIANGLE_FAN||N.mode===void 0)D=a.isSkinnedMesh===!0?new BX(F,A):new ni(F,A),D.isSkinnedMesh===!0&&D.normalizeSkinWeights(),N.mode===hg.TRIANGLE_STRIP?D.geometry=B_e(D.geometry,wX):N.mode===hg.TRIANGLE_FAN&&(D.geometry=B_e(D.geometry,KL));else if(N.mode===hg.LINES)D=new z0(F,A);else if(N.mode===hg.LINE_STRIP)D=new Do(F,A);else if(N.mode===hg.LINE_LOOP)D=new LX(F,A);else if(N.mode===hg.POINTS)D=new NX(F,A);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+N.mode);Object.keys(D.geometry.morphAttributes).length>0&&VJe(D,a),D.name=t.createUniqueName(a.name||"mesh_"+e),hw(D,a),N.extensions&&Wx(o,D,N),t.assignFinalMaterial(D),C.push(D)}for(let B=0,z=C.length;B<z;B++)t.associations.set(C[B],{meshes:e,primitives:B});if(C.length===1)return a.extensions&&Wx(o,C[0],a),C[0];const k=new Rv;a.extensions&&Wx(o,k,a),t.associations.set(k,{meshes:e});for(let B=0,z=C.length;B<z;B++)k.add(C[B]);return k})}loadCamera(e){let t;const r=this.json.cameras[e],o=r[r.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Da(Qwe.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):r.type==="orthographic"&&(t=new Lp(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),hw(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let o=0,a=t.joints.length;o<a;o++)r.push(this._loadNodeShallow(t.joints[o]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(o){const a=o.pop(),c=o,p=[],g=[];for(let _=0,b=c.length;_<b;_++){const C=c[_];if(C){p.push(C);const k=new Qi;a!==null&&k.fromArray(a.array,_*16),g.push(k)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[_])}return new HR(p,g)})}loadAnimation(e){const r=this.json.animations[e],o=r.name?r.name:"animation_"+e,a=[],c=[],p=[],g=[],_=[];for(let b=0,C=r.channels.length;b<C;b++){const k=r.channels[b],B=r.samplers[k.sampler],z=k.target,F=z.node,N=r.parameters!==void 0?r.parameters[B.input]:B.input,D=r.parameters!==void 0?r.parameters[B.output]:B.output;z.node!==void 0&&(a.push(this.getDependency("node",F)),c.push(this.getDependency("accessor",N)),p.push(this.getDependency("accessor",D)),g.push(B),_.push(z))}return Promise.all([Promise.all(a),Promise.all(c),Promise.all(p),Promise.all(g),Promise.all(_)]).then(function(b){const C=b[0],k=b[1],B=b[2],z=b[3],F=b[4],N=[];for(let D=0,A=C.length;D<A;D++){const G=C[D],Q=k[D],ae=B[D],Y=z[D],ge=F[D];if(G===void 0)continue;G.updateMatrix();let _e;switch(aw[ge.path]){case aw.weights:_e=pM;break;case aw.rotation:_e=zw;break;case aw.position:case aw.scale:default:_e=mM;break}const J=G.name?G.name:G.uuid,Se=Y.interpolation!==void 0?jJe[Y.interpolation]:_b,Be=[];aw[ge.path]===aw.weights?G.traverse(function(Ve){Ve.morphTargetInfluences&&Be.push(Ve.name?Ve.name:Ve.uuid)}):Be.push(J);let _t=ae.array;if(ae.normalized){const Ve=iX(_t.constructor),xe=new Float32Array(_t.length);for(let ot=0,Ze=_t.length;ot<Ze;ot++)xe[ot]=_t[ot]*Ve;_t=xe}for(let Ve=0,xe=Be.length;Ve<xe;Ve++){const ot=new _e(Be[Ve]+"."+aw[ge.path],Q.array,_t,Se);Y.interpolation==="CUBICSPLINE"&&(ot.createInterpolant=function(mt){const we=this instanceof zw?UJe:hCe;return new we(this.times,this.values,this.getValueSize()/3,mt)},ot.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),N.push(ot)}}return new gM(o,void 0,N)})}createNodeMesh(e){const t=this.json,r=this,o=t.nodes[e];return o.mesh===void 0?null:r.getDependency("mesh",o.mesh).then(function(a){const c=r._getNodeRef(r.meshCache,o.mesh,a);return o.weights!==void 0&&c.traverse(function(p){if(p.isMesh)for(let g=0,_=o.weights.length;g<_;g++)p.morphTargetInfluences[g]=o.weights[g]}),c})}loadNode(e){const t=this.json,r=this,o=t.nodes[e],a=r._loadNodeShallow(e),c=[],p=o.children||[];for(let _=0,b=p.length;_<b;_++)c.push(r.getDependency("node",p[_]));const g=o.skin===void 0?Promise.resolve(null):r.getDependency("skin",o.skin);return Promise.all([a,Promise.all(c),g]).then(function(_){const b=_[0],C=_[1],k=_[2];k!==null&&b.traverse(function(B){B.isSkinnedMesh&&B.bind(k,KJe)});for(let B=0,z=C.length;B<z;B++)b.add(C[B]);return b})}_loadNodeShallow(e){const t=this.json,r=this.extensions,o=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=t.nodes[e],c=a.name?o.createUniqueName(a.name):"",p=[],g=o._invokeOne(function(_){return _.createNodeMesh&&_.createNodeMesh(e)});return g&&p.push(g),a.camera!==void 0&&p.push(o.getDependency("camera",a.camera).then(function(_){return o._getNodeRef(o.cameraCache,a.camera,_)})),o._invokeAll(function(_){return _.createNodeAttachment&&_.createNodeAttachment(e)}).forEach(function(_){p.push(_)}),this.nodeCache[e]=Promise.all(p).then(function(_){let b;if(a.isBone===!0?b=new YN:_.length>1?b=new Rv:_.length===1?b=_[0]:b=new Jo,b!==_[0])for(let C=0,k=_.length;C<k;C++)b.add(_[C]);if(a.name&&(b.userData.name=a.name,b.name=c),hw(b,a),a.extensions&&Wx(r,b,a),a.matrix!==void 0){const C=new Qi;C.fromArray(a.matrix),b.applyMatrix4(C)}else a.translation!==void 0&&b.position.fromArray(a.translation),a.rotation!==void 0&&b.quaternion.fromArray(a.rotation),a.scale!==void 0&&b.scale.fromArray(a.scale);return o.associations.has(b)||o.associations.set(b,{}),o.associations.get(b).nodes=e,b}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],o=this,a=new Rv;r.name&&(a.name=o.createUniqueName(r.name)),hw(a,r),r.extensions&&Wx(t,a,r);const c=r.nodes||[],p=[];for(let g=0,_=c.length;g<_;g++)p.push(o.getDependency("node",c[g]));return Promise.all(p).then(function(g){for(let b=0,C=g.length;b<C;b++)a.add(g[b]);const _=b=>{const C=new Map;for(const[k,B]of o.associations)(k instanceof nc||k instanceof el)&&C.set(k,B);return b.traverse(k=>{const B=o.associations.get(k);B!=null&&C.set(k,B)}),C};return o.associations=_(a),a})}}function QJe(n,e,t){const r=e.attributes,o=new F0;if(r.POSITION!==void 0){const p=t.json.accessors[r.POSITION],g=p.min,_=p.max;if(g!==void 0&&_!==void 0){if(o.set(new Ke(g[0],g[1],g[2]),new Ke(_[0],_[1],_[2])),p.normalized){const b=iX(aM[p.componentType]);o.min.multiplyScalar(b),o.max.multiplyScalar(b)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const p=new Ke,g=new Ke;for(let _=0,b=a.length;_<b;_++){const C=a[_];if(C.POSITION!==void 0){const k=t.json.accessors[C.POSITION],B=k.min,z=k.max;if(B!==void 0&&z!==void 0){if(g.setX(Math.max(Math.abs(B[0]),Math.abs(z[0]))),g.setY(Math.max(Math.abs(B[1]),Math.abs(z[1]))),g.setZ(Math.max(Math.abs(B[2]),Math.abs(z[2]))),k.normalized){const F=iX(aM[k.componentType]);g.multiplyScalar(F)}p.max(g)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(p)}n.boundingBox=o;const c=new Mg;o.getCenter(c.center),c.radius=o.min.distanceTo(o.max)/2,n.boundingSphere=c}function F_e(n,e,t){const r=e.attributes,o=[];function a(c,p){return t.getDependency("accessor",c).then(function(g){n.setAttribute(p,g)})}for(const c in r){const p=rX[c]||c.toLowerCase();p in n.attributes||o.push(a(r[c],p))}if(e.indices!==void 0&&!n.index){const c=t.getDependency("accessor",e.indices).then(function(p){n.setIndex(p)});o.push(c)}return hw(n,e),QJe(n,e,t),Promise.all(o).then(function(){return e.targets!==void 0?GJe(n,e.targets,t):n})}class qJe extends qX{constructor(e){super(e),this.type=uh}parse(e){const p=function(G,Q){switch(G){case 1:console.error("THREE.RGBELoader Read Error: "+(Q||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(Q||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(Q||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(Q||""))}return-1},C=`
`,k=function(G,Q,ae){Q=Q||1024;let ge=G.pos,_e=-1,J=0,Se="",Be=String.fromCharCode.apply(null,new Uint16Array(G.subarray(ge,ge+128)));for(;0>(_e=Be.indexOf(C))&&J<Q&&ge<G.byteLength;)Se+=Be,J+=Be.length,ge+=128,Be+=String.fromCharCode.apply(null,new Uint16Array(G.subarray(ge,ge+128)));return-1<_e?(ae!==!1&&(G.pos+=J+_e+1),Se+Be.slice(0,_e)):!1},B=function(G){const Q=/^#\?(\S+)/,ae=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Y=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,ge=/^\s*FORMAT=(\S+)\s*$/,_e=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,J={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let Se,Be;if(G.pos>=G.byteLength||!(Se=k(G)))return p(1,"no header found");if(!(Be=Se.match(Q)))return p(3,"bad initial token");for(J.valid|=1,J.programtype=Be[1],J.string+=Se+`
`;Se=k(G),Se!==!1;){if(J.string+=Se+`
`,Se.charAt(0)==="#"){J.comments+=Se+`
`;continue}if((Be=Se.match(ae))&&(J.gamma=parseFloat(Be[1])),(Be=Se.match(Y))&&(J.exposure=parseFloat(Be[1])),(Be=Se.match(ge))&&(J.valid|=2,J.format=Be[1]),(Be=Se.match(_e))&&(J.valid|=4,J.height=parseInt(Be[1],10),J.width=parseInt(Be[2],10)),J.valid&2&&J.valid&4)break}return J.valid&2?J.valid&4?J:p(3,"missing image size specifier"):p(3,"missing format specifier")},z=function(G,Q,ae){const Y=Q;if(Y<8||Y>32767||G[0]!==2||G[1]!==2||G[2]&128)return new Uint8Array(G);if(Y!==(G[2]<<8|G[3]))return p(3,"wrong scanline width");const ge=new Uint8Array(4*Q*ae);if(!ge.length)return p(4,"unable to allocate buffer space");let _e=0,J=0;const Se=4*Y,Be=new Uint8Array(4),_t=new Uint8Array(Se);let Ve=ae;for(;Ve>0&&J<G.byteLength;){if(J+4>G.byteLength)return p(1);if(Be[0]=G[J++],Be[1]=G[J++],Be[2]=G[J++],Be[3]=G[J++],Be[0]!=2||Be[1]!=2||(Be[2]<<8|Be[3])!=Y)return p(3,"bad rgbe scanline format");let xe=0,ot;for(;xe<Se&&J<G.byteLength;){ot=G[J++];const mt=ot>128;if(mt&&(ot-=128),ot===0||xe+ot>Se)return p(3,"bad scanline data");if(mt){const we=G[J++];for(let Te=0;Te<ot;Te++)_t[xe++]=we}else _t.set(G.subarray(J,J+ot),xe),xe+=ot,J+=ot}const Ze=Y;for(let mt=0;mt<Ze;mt++){let we=0;ge[_e]=_t[mt+we],we+=Y,ge[_e+1]=_t[mt+we],we+=Y,ge[_e+2]=_t[mt+we],we+=Y,ge[_e+3]=_t[mt+we],_e+=4}Ve--}return ge},F=function(G,Q,ae,Y){const ge=G[Q+3],_e=Math.pow(2,ge-128)/255;ae[Y+0]=G[Q+0]*_e,ae[Y+1]=G[Q+1]*_e,ae[Y+2]=G[Q+2]*_e,ae[Y+3]=1},N=function(G,Q,ae,Y){const ge=G[Q+3],_e=Math.pow(2,ge-128)/255;ae[Y+0]=ib.toHalfFloat(Math.min(G[Q+0]*_e,65504)),ae[Y+1]=ib.toHalfFloat(Math.min(G[Q+1]*_e,65504)),ae[Y+2]=ib.toHalfFloat(Math.min(G[Q+2]*_e,65504)),ae[Y+3]=ib.toHalfFloat(1)},D=new Uint8Array(e);D.pos=0;const A=B(D);if(A!==-1){const G=A.width,Q=A.height,ae=z(D.subarray(D.pos),G,Q);if(ae!==-1){let Y,ge,_e;switch(this.type){case vf:_e=ae.length/4;const J=new Float32Array(_e*4);for(let Be=0;Be<_e;Be++)F(ae,Be*4,J,Be*4);Y=J,ge=vf;break;case uh:_e=ae.length/4;const Se=new Uint16Array(_e*4);for(let Be=0;Be<_e;Be++)N(ae,Be*4,Se,Be*4);Y=Se,ge=uh;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:G,height:Q,data:Y,header:A.string,gamma:A.gamma,exposure:A.exposure,type:ge}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,o){function a(c,p){switch(c.type){case vf:case uh:"colorSpace"in c?c.colorSpace="srgb-linear":c.encoding=3e3,c.minFilter=aa,c.magFilter=aa,c.generateMipmaps=!1,c.flipY=!0;break}t&&t(c,p)}return super.load(e,a,r,o)}}const CI="colorSpace"in new el;class JJe extends qX{constructor(e){super(e),this.type=uh}parse(e){const J=Math.pow(2.7182818,2.2);function Se(Re,de){for(var Fe=0,dt=0;dt<65536;++dt)(dt==0||Re[dt>>3]&1<<(dt&7))&&(de[Fe++]=dt);for(var at=Fe-1;Fe<65536;)de[Fe++]=0;return at}function Be(Re){for(var de=0;de<16384;de++)Re[de]={},Re[de].len=0,Re[de].lit=0,Re[de].p=null}const _t={l:0,c:0,lc:0};function Ve(Re,de,Fe,dt,at){for(;Fe<Re;)de=de<<8|br(dt,at),Fe+=8;Fe-=Re,_t.l=de>>Fe&(1<<Re)-1,_t.c=de,_t.lc=Fe}const xe=new Array(59);function ot(Re){for(var de=0;de<=58;++de)xe[de]=0;for(var de=0;de<65537;++de)xe[Re[de]]+=1;for(var Fe=0,de=58;de>0;--de){var dt=Fe+xe[de]>>1;xe[de]=Fe,Fe=dt}for(var de=0;de<65537;++de){var at=Re[de];at>0&&(Re[de]=at|xe[at]++<<6)}}function Ze(Re,de,Fe,dt,at,vt,tn){for(var rn=Fe,Tn=0,Mn=0;at<=vt;at++){if(rn.value-Fe.value>dt)return!1;Ve(6,Tn,Mn,Re,rn);var Bn=_t.l;if(Tn=_t.c,Mn=_t.lc,tn[at]=Bn,Bn==63){if(rn.value-Fe.value>dt)throw"Something wrong with hufUnpackEncTable";Ve(8,Tn,Mn,Re,rn);var Cn=_t.l+6;if(Tn=_t.c,Mn=_t.lc,at+Cn>vt+1)throw"Something wrong with hufUnpackEncTable";for(;Cn--;)tn[at++]=0;at--}else if(Bn>=59){var Cn=Bn-59+2;if(at+Cn>vt+1)throw"Something wrong with hufUnpackEncTable";for(;Cn--;)tn[at++]=0;at--}}ot(tn)}function mt(Re){return Re&63}function we(Re){return Re>>6}function Te(Re,de,Fe,dt){for(;de<=Fe;de++){var at=we(Re[de]),vt=mt(Re[de]);if(at>>vt)throw"Invalid table entry";if(vt>14){var tn=dt[at>>vt-14];if(tn.len)throw"Invalid table entry";if(tn.lit++,tn.p){var rn=tn.p;tn.p=new Array(tn.lit);for(var Tn=0;Tn<tn.lit-1;++Tn)tn.p[Tn]=rn[Tn]}else tn.p=new Array(1);tn.p[tn.lit-1]=de}else if(vt)for(var Mn=0,Tn=1<<14-vt;Tn>0;Tn--){var tn=dt[(at<<14-vt)+Mn];if(tn.len||tn.p)throw"Invalid table entry";tn.len=vt,tn.lit=de,Mn++}}return!0}const Ae={c:0,lc:0};function me(Re,de,Fe,dt){Re=Re<<8|br(Fe,dt),de+=8,Ae.c=Re,Ae.lc=de}const ce={c:0,lc:0};function qe(Re,de,Fe,dt,at,vt,tn,rn,Tn,Mn){if(Re==de){dt<8&&(me(Fe,dt,at,tn),Fe=Ae.c,dt=Ae.lc),dt-=8;var Bn=Fe>>dt,Bn=new Uint8Array([Bn])[0];if(Tn.value+Bn>Mn)return!1;for(var Cn=rn[Tn.value-1];Bn-- >0;)rn[Tn.value++]=Cn}else if(Tn.value<Mn)rn[Tn.value++]=Re;else return!1;ce.c=Fe,ce.lc=dt}function ht(Re){return Re&65535}function wt(Re){var de=ht(Re);return de>32767?de-65536:de}const et={a:0,b:0};function Nt(Re,de){var Fe=wt(Re),dt=wt(de),at=dt,vt=Fe+(at&1)+(at>>1),tn=vt,rn=vt-at;et.a=tn,et.b=rn}function Ot(Re,de){var Fe=ht(Re),dt=ht(de),at=Fe-(dt>>1)&65535,vt=dt+at-32768&65535;et.a=vt,et.b=at}function an(Re,de,Fe,dt,at,vt,tn){for(var rn=tn<16384,Tn=Fe>at?at:Fe,Mn=1,Bn;Mn<=Tn;)Mn<<=1;for(Mn>>=1,Bn=Mn,Mn>>=1;Mn>=1;){for(var Cn=0,ir=Cn+vt*(at-Bn),qn=vt*Mn,lr=vt*Bn,Lr=dt*Mn,Zr=dt*Bn,Qr,wr,jr,Qn;Cn<=ir;Cn+=lr){for(var Br=Cn,ri=Cn+dt*(Fe-Bn);Br<=ri;Br+=Zr){var Hr=Br+Lr,Si=Br+qn,Ai=Si+Lr;rn?(Nt(Re[Br+de],Re[Si+de]),Qr=et.a,jr=et.b,Nt(Re[Hr+de],Re[Ai+de]),wr=et.a,Qn=et.b,Nt(Qr,wr),Re[Br+de]=et.a,Re[Hr+de]=et.b,Nt(jr,Qn),Re[Si+de]=et.a,Re[Ai+de]=et.b):(Ot(Re[Br+de],Re[Si+de]),Qr=et.a,jr=et.b,Ot(Re[Hr+de],Re[Ai+de]),wr=et.a,Qn=et.b,Ot(Qr,wr),Re[Br+de]=et.a,Re[Hr+de]=et.b,Ot(jr,Qn),Re[Si+de]=et.a,Re[Ai+de]=et.b)}if(Fe&Mn){var Si=Br+qn;rn?Nt(Re[Br+de],Re[Si+de]):Ot(Re[Br+de],Re[Si+de]),Qr=et.a,Re[Si+de]=et.b,Re[Br+de]=Qr}}if(at&Mn)for(var Br=Cn,ri=Cn+dt*(Fe-Bn);Br<=ri;Br+=Zr){var Hr=Br+Lr;rn?Nt(Re[Br+de],Re[Hr+de]):Ot(Re[Br+de],Re[Hr+de]),Qr=et.a,Re[Hr+de]=et.b,Re[Br+de]=Qr}Bn=Mn,Mn>>=1}return Cn}function fn(Re,de,Fe,dt,at,vt,tn,rn,Tn,Mn){for(var Bn=0,Cn=0,ir=rn,qn=Math.trunc(at.value+(vt+7)/8);at.value<qn;)for(me(Bn,Cn,Fe,at),Bn=Ae.c,Cn=Ae.lc;Cn>=14;){var lr=Bn>>Cn-14&16383,Lr=de[lr];if(Lr.len)Cn-=Lr.len,qe(Lr.lit,tn,Bn,Cn,Fe,dt,at,Tn,Mn,ir),Bn=ce.c,Cn=ce.lc;else{if(!Lr.p)throw"hufDecode issues";var Zr;for(Zr=0;Zr<Lr.lit;Zr++){for(var Qr=mt(Re[Lr.p[Zr]]);Cn<Qr&&at.value<qn;)me(Bn,Cn,Fe,at),Bn=Ae.c,Cn=Ae.lc;if(Cn>=Qr&&we(Re[Lr.p[Zr]])==(Bn>>Cn-Qr&(1<<Qr)-1)){Cn-=Qr,qe(Lr.p[Zr],tn,Bn,Cn,Fe,dt,at,Tn,Mn,ir),Bn=ce.c,Cn=ce.lc;break}}if(Zr==Lr.lit)throw"hufDecode issues"}}var wr=8-vt&7;for(Bn>>=wr,Cn-=wr;Cn>0;){var Lr=de[Bn<<14-Cn&16383];if(Lr.len)Cn-=Lr.len,qe(Lr.lit,tn,Bn,Cn,Fe,dt,at,Tn,Mn,ir),Bn=ce.c,Cn=ce.lc;else throw"hufDecode issues"}return!0}function nn(Re,de,Fe,dt,at,vt){var tn={value:0},rn=Fe.value,Tn=Yn(de,Fe),Mn=Yn(de,Fe);Fe.value+=4;var Bn=Yn(de,Fe);if(Fe.value+=4,Tn<0||Tn>=65537||Mn<0||Mn>=65537)throw"Something wrong with HUF_ENCSIZE";var Cn=new Array(65537),ir=new Array(16384);Be(ir);var qn=dt-(Fe.value-rn);if(Ze(Re,de,Fe,qn,Tn,Mn,Cn),Bn>8*(dt-(Fe.value-rn)))throw"Something wrong with hufUncompress";Te(Cn,Tn,Mn,ir),fn(Cn,ir,Re,de,Fe,Bn,Mn,vt,at,tn)}function Ye(Re,de,Fe){for(var dt=0;dt<Fe;++dt)de[dt]=Re[de[dt]]}function Xt(Re){for(var de=1;de<Re.length;de++){var Fe=Re[de-1]+Re[de]-128;Re[de]=Fe}}function Ft(Re,de){for(var Fe=0,dt=Math.floor((Re.length+1)/2),at=0,vt=Re.length-1;!(at>vt||(de[at++]=Re[Fe++],at>vt));)de[at++]=Re[dt++]}function Zt(Re){for(var de=Re.byteLength,Fe=new Array,dt=0,at=new DataView(Re);de>0;){var vt=at.getInt8(dt++);if(vt<0){var tn=-vt;de-=tn+1;for(var rn=0;rn<tn;rn++)Fe.push(at.getUint8(dt++))}else{var tn=vt;de-=2;for(var Tn=at.getUint8(dt++),rn=0;rn<tn+1;rn++)Fe.push(Tn)}}return Fe}function mn(Re,de,Fe,dt,at,vt){var Hr=new DataView(vt.buffer),tn=Fe[Re.idx[0]].width,rn=Fe[Re.idx[0]].height,Tn=3,Mn=Math.floor(tn/8),Bn=Math.ceil(tn/8),Cn=Math.ceil(rn/8),ir=tn-(Bn-1)*8,qn=rn-(Cn-1)*8,lr={value:0},Lr=new Array(Tn),Zr=new Array(Tn),Qr=new Array(Tn),wr=new Array(Tn),jr=new Array(Tn);for(let ai=0;ai<Tn;++ai)jr[ai]=de[Re.idx[ai]],Lr[ai]=ai<1?0:Lr[ai-1]+Bn*Cn,Zr[ai]=new Float32Array(64),Qr[ai]=new Uint16Array(64),wr[ai]=new Uint16Array(Bn*64);for(let ai=0;ai<Cn;++ai){var Qn=8;ai==Cn-1&&(Qn=qn);var Br=8;for(let le=0;le<Bn;++le){le==Bn-1&&(Br=ir);for(let Ee=0;Ee<Tn;++Ee)Qr[Ee].fill(0),Qr[Ee][0]=at[Lr[Ee]++],jn(lr,dt,Qr[Ee]),Wn(Qr[Ee],Zr[Ee]),tr(Zr[Ee]);_r(Zr);for(let Ee=0;Ee<Tn;++Ee)Vr(Zr[Ee],wr[Ee],le*64)}let wo=0;for(let le=0;le<Tn;++le){const Ee=Fe[Re.idx[le]].type;for(let He=8*ai;He<8*ai+Qn;++He){wo=jr[le][He];for(let lt=0;lt<Mn;++lt){const Jt=lt*64+(He&7)*8;Hr.setUint16(wo+0*2*Ee,wr[le][Jt+0],!0),Hr.setUint16(wo+1*2*Ee,wr[le][Jt+1],!0),Hr.setUint16(wo+2*2*Ee,wr[le][Jt+2],!0),Hr.setUint16(wo+3*2*Ee,wr[le][Jt+3],!0),Hr.setUint16(wo+4*2*Ee,wr[le][Jt+4],!0),Hr.setUint16(wo+5*2*Ee,wr[le][Jt+5],!0),Hr.setUint16(wo+6*2*Ee,wr[le][Jt+6],!0),Hr.setUint16(wo+7*2*Ee,wr[le][Jt+7],!0),wo+=8*2*Ee}}if(Mn!=Bn)for(let He=8*ai;He<8*ai+Qn;++He){const lt=jr[le][He]+8*Mn*2*Ee,Jt=Mn*64+(He&7)*8;for(let Wt=0;Wt<Br;++Wt)Hr.setUint16(lt+Wt*2*Ee,wr[le][Jt+Wt],!0)}}}for(var ri=new Uint16Array(tn),Hr=new DataView(vt.buffer),Si=0;Si<Tn;++Si){Fe[Re.idx[Si]].decoded=!0;var Ai=Fe[Re.idx[Si]].type;if(Fe[Si].type==2)for(var Ni=0;Ni<rn;++Ni){const ai=jr[Si][Ni];for(var Ui=0;Ui<tn;++Ui)ri[Ui]=Hr.getUint16(ai+Ui*2*Ai,!0);for(var Ui=0;Ui<tn;++Ui)Hr.setFloat32(ai+Ui*2*Ai,Kt(ri[Ui]),!0)}}}function jn(Re,de,Fe){for(var dt,at=1;at<64;)dt=de[Re.value],dt==65280?at=64:dt>>8==255?at+=dt&255:(Fe[at]=dt,at++),Re.value++}function Wn(Re,de){de[0]=Kt(Re[0]),de[1]=Kt(Re[1]),de[2]=Kt(Re[5]),de[3]=Kt(Re[6]),de[4]=Kt(Re[14]),de[5]=Kt(Re[15]),de[6]=Kt(Re[27]),de[7]=Kt(Re[28]),de[8]=Kt(Re[2]),de[9]=Kt(Re[4]),de[10]=Kt(Re[7]),de[11]=Kt(Re[13]),de[12]=Kt(Re[16]),de[13]=Kt(Re[26]),de[14]=Kt(Re[29]),de[15]=Kt(Re[42]),de[16]=Kt(Re[3]),de[17]=Kt(Re[8]),de[18]=Kt(Re[12]),de[19]=Kt(Re[17]),de[20]=Kt(Re[25]),de[21]=Kt(Re[30]),de[22]=Kt(Re[41]),de[23]=Kt(Re[43]),de[24]=Kt(Re[9]),de[25]=Kt(Re[11]),de[26]=Kt(Re[18]),de[27]=Kt(Re[24]),de[28]=Kt(Re[31]),de[29]=Kt(Re[40]),de[30]=Kt(Re[44]),de[31]=Kt(Re[53]),de[32]=Kt(Re[10]),de[33]=Kt(Re[19]),de[34]=Kt(Re[23]),de[35]=Kt(Re[32]),de[36]=Kt(Re[39]),de[37]=Kt(Re[45]),de[38]=Kt(Re[52]),de[39]=Kt(Re[54]),de[40]=Kt(Re[20]),de[41]=Kt(Re[22]),de[42]=Kt(Re[33]),de[43]=Kt(Re[38]),de[44]=Kt(Re[46]),de[45]=Kt(Re[51]),de[46]=Kt(Re[55]),de[47]=Kt(Re[60]),de[48]=Kt(Re[21]),de[49]=Kt(Re[34]),de[50]=Kt(Re[37]),de[51]=Kt(Re[47]),de[52]=Kt(Re[50]),de[53]=Kt(Re[56]),de[54]=Kt(Re[59]),de[55]=Kt(Re[61]),de[56]=Kt(Re[35]),de[57]=Kt(Re[36]),de[58]=Kt(Re[48]),de[59]=Kt(Re[49]),de[60]=Kt(Re[57]),de[61]=Kt(Re[58]),de[62]=Kt(Re[62]),de[63]=Kt(Re[63])}function tr(Re){const de=.5*Math.cos(.7853975),Fe=.5*Math.cos(3.14159/16),dt=.5*Math.cos(3.14159/8),at=.5*Math.cos(3*3.14159/16),vt=.5*Math.cos(5*3.14159/16),tn=.5*Math.cos(3*3.14159/8),rn=.5*Math.cos(7*3.14159/16);for(var Tn=new Array(4),Mn=new Array(4),Bn=new Array(4),Cn=new Array(4),ir=0;ir<8;++ir){var qn=ir*8;Tn[0]=dt*Re[qn+2],Tn[1]=tn*Re[qn+2],Tn[2]=dt*Re[qn+6],Tn[3]=tn*Re[qn+6],Mn[0]=Fe*Re[qn+1]+at*Re[qn+3]+vt*Re[qn+5]+rn*Re[qn+7],Mn[1]=at*Re[qn+1]-rn*Re[qn+3]-Fe*Re[qn+5]-vt*Re[qn+7],Mn[2]=vt*Re[qn+1]-Fe*Re[qn+3]+rn*Re[qn+5]+at*Re[qn+7],Mn[3]=rn*Re[qn+1]-vt*Re[qn+3]+at*Re[qn+5]-Fe*Re[qn+7],Bn[0]=de*(Re[qn+0]+Re[qn+4]),Bn[3]=de*(Re[qn+0]-Re[qn+4]),Bn[1]=Tn[0]+Tn[3],Bn[2]=Tn[1]-Tn[2],Cn[0]=Bn[0]+Bn[1],Cn[1]=Bn[3]+Bn[2],Cn[2]=Bn[3]-Bn[2],Cn[3]=Bn[0]-Bn[1],Re[qn+0]=Cn[0]+Mn[0],Re[qn+1]=Cn[1]+Mn[1],Re[qn+2]=Cn[2]+Mn[2],Re[qn+3]=Cn[3]+Mn[3],Re[qn+4]=Cn[3]-Mn[3],Re[qn+5]=Cn[2]-Mn[2],Re[qn+6]=Cn[1]-Mn[1],Re[qn+7]=Cn[0]-Mn[0]}for(var lr=0;lr<8;++lr)Tn[0]=dt*Re[16+lr],Tn[1]=tn*Re[16+lr],Tn[2]=dt*Re[48+lr],Tn[3]=tn*Re[48+lr],Mn[0]=Fe*Re[8+lr]+at*Re[24+lr]+vt*Re[40+lr]+rn*Re[56+lr],Mn[1]=at*Re[8+lr]-rn*Re[24+lr]-Fe*Re[40+lr]-vt*Re[56+lr],Mn[2]=vt*Re[8+lr]-Fe*Re[24+lr]+rn*Re[40+lr]+at*Re[56+lr],Mn[3]=rn*Re[8+lr]-vt*Re[24+lr]+at*Re[40+lr]-Fe*Re[56+lr],Bn[0]=de*(Re[lr]+Re[32+lr]),Bn[3]=de*(Re[lr]-Re[32+lr]),Bn[1]=Tn[0]+Tn[3],Bn[2]=Tn[1]-Tn[2],Cn[0]=Bn[0]+Bn[1],Cn[1]=Bn[3]+Bn[2],Cn[2]=Bn[3]-Bn[2],Cn[3]=Bn[0]-Bn[1],Re[0+lr]=Cn[0]+Mn[0],Re[8+lr]=Cn[1]+Mn[1],Re[16+lr]=Cn[2]+Mn[2],Re[24+lr]=Cn[3]+Mn[3],Re[32+lr]=Cn[3]-Mn[3],Re[40+lr]=Cn[2]-Mn[2],Re[48+lr]=Cn[1]-Mn[1],Re[56+lr]=Cn[0]-Mn[0]}function _r(Re){for(var de=0;de<64;++de){var Fe=Re[0][de],dt=Re[1][de],at=Re[2][de];Re[0][de]=Fe+1.5747*at,Re[1][de]=Fe-.1873*dt-.4682*at,Re[2][de]=Fe+1.8556*dt}}function Vr(Re,de,Fe){for(var dt=0;dt<64;++dt)de[Fe+dt]=ib.toHalfFloat(si(Re[dt]))}function si(Re){return Re<=1?Math.sign(Re)*Math.pow(Math.abs(Re),2.2):Math.sign(Re)*Math.pow(J,Math.abs(Re)-1)}function ct(Re){return new DataView(Re.array.buffer,Re.offset.value,Re.size)}function De(Re){var de=Re.viewer.buffer.slice(Re.offset.value,Re.offset.value+Re.size),Fe=new Uint8Array(Zt(de)),dt=new Uint8Array(Fe.length);return Xt(Fe),Ft(Fe,dt),new DataView(dt.buffer)}function Ut(Re){var de=Re.array.slice(Re.offset.value,Re.offset.value+Re.size),Fe=yL(de),dt=new Uint8Array(Fe.length);return Xt(Fe),Ft(Fe,dt),new DataView(dt.buffer)}function Kn(Re){for(var de=Re.viewer,Fe={value:Re.offset.value},dt=new Uint16Array(Re.width*Re.scanlineBlockSize*(Re.channels*Re.type)),at=new Uint8Array(8192),vt=0,tn=new Array(Re.channels),rn=0;rn<Re.channels;rn++)tn[rn]={},tn[rn].start=vt,tn[rn].end=tn[rn].start,tn[rn].nx=Re.width,tn[rn].ny=Re.lines,tn[rn].size=Re.type,vt+=tn[rn].nx*tn[rn].ny*tn[rn].size;var Tn=gn(de,Fe),Mn=gn(de,Fe);if(Mn>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Tn<=Mn)for(var rn=0;rn<Mn-Tn+1;rn++)at[rn+Tn]=vr(de,Fe);var Bn=new Uint16Array(65536),Cn=Se(at,Bn),ir=Yn(de,Fe);nn(Re.array,de,Fe,ir,dt,vt);for(var rn=0;rn<Re.channels;++rn)for(var qn=tn[rn],lr=0;lr<tn[rn].size;++lr)an(dt,qn.start+lr,qn.nx,qn.size,qn.ny,qn.nx*qn.size,Cn);Ye(Bn,dt,vt);for(var Lr=0,Zr=new Uint8Array(dt.buffer.byteLength),Qr=0;Qr<Re.lines;Qr++)for(var wr=0;wr<Re.channels;wr++){var qn=tn[wr],jr=qn.nx*qn.size,Qn=new Uint8Array(dt.buffer,qn.end*2,jr*2);Zr.set(Qn,Lr),Lr+=jr*2,qn.end+=jr}return new DataView(Zr.buffer)}function Fn(Re){var de=Re.array.slice(Re.offset.value,Re.offset.value+Re.size),Fe=yL(de);const dt=Re.lines*Re.channels*Re.width,at=Re.type==1?new Uint16Array(dt):new Uint32Array(dt);let vt=0,tn=0;const rn=new Array(4);for(let Tn=0;Tn<Re.lines;Tn++)for(let Mn=0;Mn<Re.channels;Mn++){let Bn=0;switch(Re.type){case 1:rn[0]=vt,rn[1]=rn[0]+Re.width,vt=rn[1]+Re.width;for(let Cn=0;Cn<Re.width;++Cn){const ir=Fe[rn[0]++]<<8|Fe[rn[1]++];Bn+=ir,at[tn]=Bn,tn++}break;case 2:rn[0]=vt,rn[1]=rn[0]+Re.width,rn[2]=rn[1]+Re.width,vt=rn[2]+Re.width;for(let Cn=0;Cn<Re.width;++Cn){const ir=Fe[rn[0]++]<<24|Fe[rn[1]++]<<16|Fe[rn[2]++]<<8;Bn+=ir,at[tn]=Bn,tn++}break}}return new DataView(at.buffer)}function Xn(Re){var de=Re.viewer,Fe={value:Re.offset.value},dt=new Uint8Array(Re.width*Re.lines*(Re.channels*Re.type*2)),at={version:Wr(de,Fe),unknownUncompressedSize:Wr(de,Fe),unknownCompressedSize:Wr(de,Fe),acCompressedSize:Wr(de,Fe),dcCompressedSize:Wr(de,Fe),rleCompressedSize:Wr(de,Fe),rleUncompressedSize:Wr(de,Fe),rleRawSize:Wr(de,Fe),totalAcUncompressedCount:Wr(de,Fe),totalDcUncompressedCount:Wr(de,Fe),acCompression:Wr(de,Fe)};if(at.version<2)throw"EXRLoader.parse: "+ms.compression+" version "+at.version+" is unsupported";for(var vt=new Array,tn=gn(de,Fe)-2;tn>0;){var rn=xr(de.buffer,Fe),Tn=vr(de,Fe),Mn=Tn>>2&3,Bn=(Tn>>4)-1,Cn=new Int8Array([Bn])[0],ir=vr(de,Fe);vt.push({name:rn,index:Cn,type:ir,compression:Mn}),tn-=rn.length+3}for(var qn=ms.channels,lr=new Array(Re.channels),Lr=0;Lr<Re.channels;++Lr){var Zr=lr[Lr]={},Qr=qn[Lr];Zr.name=Qr.name,Zr.compression=0,Zr.decoded=!1,Zr.type=Qr.pixelType,Zr.pLinear=Qr.pLinear,Zr.width=Re.width,Zr.height=Re.lines}for(var wr={idx:new Array(3)},jr=0;jr<Re.channels;++jr)for(var Zr=lr[jr],Lr=0;Lr<vt.length;++Lr){var Qn=vt[Lr];Zr.name==Qn.name&&(Zr.compression=Qn.compression,Qn.index>=0&&(wr.idx[Qn.index]=jr),Zr.offset=jr)}if(at.acCompressedSize>0)switch(at.acCompression){case 0:var Hr=new Uint16Array(at.totalAcUncompressedCount);nn(Re.array,de,Fe,at.acCompressedSize,Hr,at.totalAcUncompressedCount);break;case 1:var Br=Re.array.slice(Fe.value,Fe.value+at.totalAcUncompressedCount),ri=yL(Br),Hr=new Uint16Array(ri.buffer);Fe.value+=at.totalAcUncompressedCount;break}if(at.dcCompressedSize>0){var Si={array:Re.array,offset:Fe,size:at.dcCompressedSize},Ai=new Uint16Array(Ut(Si).buffer);Fe.value+=at.dcCompressedSize}if(at.rleRawSize>0){var Br=Re.array.slice(Fe.value,Fe.value+at.rleCompressedSize),ri=yL(Br),Ni=Zt(ri.buffer);Fe.value+=at.rleCompressedSize}for(var Ui=0,ai=new Array(lr.length),Lr=0;Lr<ai.length;++Lr)ai[Lr]=new Array;for(var wo=0;wo<Re.lines;++wo)for(var le=0;le<lr.length;++le)ai[le].push(Ui),Ui+=lr[le].width*Re.type*2;mn(wr,ai,lr,Hr,Ai,dt);for(var Lr=0;Lr<lr.length;++Lr){var Zr=lr[Lr];if(!Zr.decoded)switch(Zr.compression){case 2:for(var Ee=0,He=0,wo=0;wo<Re.lines;++wo){for(var lt=ai[Lr][Ee],Jt=0;Jt<Zr.width;++Jt){for(var Wt=0;Wt<2*Zr.type;++Wt)dt[lt++]=Ni[He+Wt*Zr.width*Zr.height];He++}Ee++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(dt.buffer)}function xr(Re,de){for(var Fe=new Uint8Array(Re),dt=0;Fe[de.value+dt]!=0;)dt+=1;var at=new TextDecoder().decode(Fe.slice(de.value,de.value+dt));return de.value=de.value+dt+1,at}function nr(Re,de,Fe){var dt=new TextDecoder().decode(new Uint8Array(Re).slice(de.value,de.value+Fe));return de.value=de.value+Fe,dt}function it(Re,de){var Fe=Ln(Re,de),dt=Yn(Re,de);return[Fe,dt]}function En(Re,de){var Fe=Yn(Re,de),dt=Yn(Re,de);return[Fe,dt]}function Ln(Re,de){var Fe=Re.getInt32(de.value,!0);return de.value=de.value+4,Fe}function Yn(Re,de){var Fe=Re.getUint32(de.value,!0);return de.value=de.value+4,Fe}function br(Re,de){var Fe=Re[de.value];return de.value=de.value+1,Fe}function vr(Re,de){var Fe=Re.getUint8(de.value);return de.value=de.value+1,Fe}const Wr=function(Re,de){let Fe;return"getBigInt64"in DataView.prototype?Fe=Number(Re.getBigInt64(de.value,!0)):Fe=Re.getUint32(de.value+4,!0)+Number(Re.getUint32(de.value,!0)<<32),de.value+=8,Fe};function ci(Re,de){var Fe=Re.getFloat32(de.value,!0);return de.value+=4,Fe}function Ct(Re,de){return ib.toHalfFloat(ci(Re,de))}function Kt(Re){var de=(Re&31744)>>10,Fe=Re&1023;return(Re>>15?-1:1)*(de?de===31?Fe?NaN:1/0:Math.pow(2,de-15)*(1+Fe/1024):6103515625e-14*(Fe/1024))}function gn(Re,de){var Fe=Re.getUint16(de.value,!0);return de.value+=2,Fe}function rr(Re,de){return Kt(gn(Re,de))}function Gn(Re,de,Fe,dt){for(var at=Fe.value,vt=[];Fe.value<at+dt-1;){var tn=xr(de,Fe),rn=Ln(Re,Fe),Tn=vr(Re,Fe);Fe.value+=3;var Mn=Ln(Re,Fe),Bn=Ln(Re,Fe);vt.push({name:tn,pixelType:rn,pLinear:Tn,xSampling:Mn,ySampling:Bn})}return Fe.value+=1,vt}function Ei(Re,de){var Fe=ci(Re,de),dt=ci(Re,de),at=ci(Re,de),vt=ci(Re,de),tn=ci(Re,de),rn=ci(Re,de),Tn=ci(Re,de),Mn=ci(Re,de);return{redX:Fe,redY:dt,greenX:at,greenY:vt,blueX:tn,blueY:rn,whiteX:Tn,whiteY:Mn}}function so(Re,de){var Fe=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],dt=vr(Re,de);return Fe[dt]}function eo(Re,de){var Fe=Yn(Re,de),dt=Yn(Re,de),at=Yn(Re,de),vt=Yn(Re,de);return{xMin:Fe,yMin:dt,xMax:at,yMax:vt}}function Vo(Re,de){var Fe=["INCREASING_Y"],dt=vr(Re,de);return Fe[dt]}function Li(Re,de){var Fe=ci(Re,de),dt=ci(Re,de);return[Fe,dt]}function qi(Re,de){var Fe=ci(Re,de),dt=ci(Re,de),at=ci(Re,de);return[Fe,dt,at]}function po(Re,de,Fe,dt,at){if(dt==="string"||dt==="stringvector"||dt==="iccProfile")return nr(de,Fe,at);if(dt==="chlist")return Gn(Re,de,Fe,at);if(dt==="chromaticities")return Ei(Re,Fe);if(dt==="compression")return so(Re,Fe);if(dt==="box2i")return eo(Re,Fe);if(dt==="lineOrder")return Vo(Re,Fe);if(dt==="float")return ci(Re,Fe);if(dt==="v2f")return Li(Re,Fe);if(dt==="v3f")return qi(Re,Fe);if(dt==="int")return Ln(Re,Fe);if(dt==="rational")return it(Re,Fe);if(dt==="timecode")return En(Re,Fe);if(dt==="preview")return Fe.value+=at,"skipped";Fe.value+=at}function ba(Re,de,Fe){const dt={};if(Re.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";dt.version=Re.getUint8(4);const at=Re.getUint8(5);dt.spec={singleTile:!!(at&2),longName:!!(at&4),deepFormat:!!(at&8),multiPart:!!(at&16)},Fe.value=8;for(var vt=!0;vt;){var tn=xr(de,Fe);if(tn==0)vt=!1;else{var rn=xr(de,Fe),Tn=Yn(Re,Fe),Mn=po(Re,de,Fe,rn,Tn);Mn===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${rn}'.`):dt[tn]=Mn}}if(at&-5)throw console.error("EXRHeader:",dt),"THREE.EXRLoader: provided file is currently unsupported.";return dt}function tl(Re,de,Fe,dt,at){const vt={size:0,viewer:de,array:Fe,offset:dt,width:Re.dataWindow.xMax-Re.dataWindow.xMin+1,height:Re.dataWindow.yMax-Re.dataWindow.yMin+1,channels:Re.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Re.channels[0].pixelType,uncompress:null,getter:null,format:null,[CI?"colorSpace":"encoding"]:null};switch(Re.compression){case"NO_COMPRESSION":vt.lines=1,vt.uncompress=ct;break;case"RLE_COMPRESSION":vt.lines=1,vt.uncompress=De;break;case"ZIPS_COMPRESSION":vt.lines=1,vt.uncompress=Ut;break;case"ZIP_COMPRESSION":vt.lines=16,vt.uncompress=Ut;break;case"PIZ_COMPRESSION":vt.lines=32,vt.uncompress=Kn;break;case"PXR24_COMPRESSION":vt.lines=16,vt.uncompress=Fn;break;case"DWAA_COMPRESSION":vt.lines=32,vt.uncompress=Xn;break;case"DWAB_COMPRESSION":vt.lines=256,vt.uncompress=Xn;break;default:throw"EXRLoader.parse: "+Re.compression+" is unsupported"}if(vt.scanlineBlockSize=vt.lines,vt.type==1)switch(at){case vf:vt.getter=rr,vt.inputSize=2;break;case uh:vt.getter=gn,vt.inputSize=2;break}else if(vt.type==2)switch(at){case vf:vt.getter=ci,vt.inputSize=4;break;case uh:vt.getter=Ct,vt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+vt.type+" for "+Re.compression+".";vt.blockCount=(Re.dataWindow.yMax+1)/vt.scanlineBlockSize;for(var tn=0;tn<vt.blockCount;tn++)Wr(de,dt);vt.outputChannels=vt.channels==3?4:vt.channels;const rn=vt.width*vt.height*vt.outputChannels;switch(at){case vf:vt.byteArray=new Float32Array(rn),vt.channels<vt.outputChannels&&vt.byteArray.fill(1,0,rn);break;case uh:vt.byteArray=new Uint16Array(rn),vt.channels<vt.outputChannels&&vt.byteArray.fill(15360,0,rn);break;default:console.error("THREE.EXRLoader: unsupported type: ",at);break}return vt.bytesPerLine=vt.width*vt.inputSize*vt.channels,vt.outputChannels==4?vt.format=ah:vt.format=mX,CI?vt.colorSpace="srgb-linear":vt.encoding=3e3,vt}const Ds=new DataView(e),ua=new Uint8Array(e),Cs={value:0},ms=ba(Ds,e,Cs),di=tl(ms,Ds,ua,Cs,this.type),Ea={value:0},Tu={R:0,G:1,B:2,A:3,Y:0};for(let Re=0;Re<di.height/di.scanlineBlockSize;Re++){const de=Yn(Ds,Cs);di.size=Yn(Ds,Cs),di.lines=de+di.scanlineBlockSize>di.height?di.height-de:di.scanlineBlockSize;const dt=di.size<di.lines*di.bytesPerLine?di.uncompress(di):ct(di);Cs.value+=di.size;for(let at=0;at<di.scanlineBlockSize;at++){const vt=at+Re*di.scanlineBlockSize;if(vt>=di.height)break;for(let tn=0;tn<di.channels;tn++){const rn=Tu[ms.channels[tn].name];for(let Tn=0;Tn<di.width;Tn++){Ea.value=(at*(di.channels*di.width)+tn*di.width+Tn)*di.inputSize;const Mn=(di.height-1-vt)*(di.width*di.outputChannels)+Tn*di.outputChannels+rn;di.byteArray[Mn]=di.getter(dt,Ea)}}}}return{header:ms,width:di.width,height:di.height,data:di.byteArray,format:di.format,[CI?"colorSpace":"encoding"]:di[CI?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,o){function a(c,p){CI?c.colorSpace=p.colorSpace:c.encoding=p.encoding,c.minFilter=aa,c.magFilter=aa,c.generateMipmaps=!1,c.flipY=!1,t&&t(c,p)}return super.load(e,a,r,o)}}const YG=new WeakMap;class ZJe extends fh{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,o){const a=new Tm(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,c=>{const p={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(c,p).then(t).catch(o)},r,o)}decodeDracoFile(e,t,r,o){const a={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const g in t.attributeTypes){const _=t.attributeTypes[g];_.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[g]=_.name)}const r=JSON.stringify(t);if(YG.has(e)){const g=YG.get(e);if(g.key===r)return g.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const a=this.workerNextTaskID++,c=e.byteLength,p=this._getWorker(a,c).then(g=>(o=g,new Promise((_,b)=>{o._callbacks[a]={resolve:_,reject:b},o.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(g=>this._createGeometry(g.geometry));return p.catch(()=>!0).then(()=>{o&&a&&this._releaseTask(o,a)}),YG.set(e,{key:r,promise:p}),p}_createGeometry(e){const t=new yo;e.index&&t.setIndex(new Bs(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const o=e.attributes[r],a=o.name,c=o.array,p=o.itemSize;t.setAttribute(a,new Bs(c,p))}return t}_loadLibrary(e,t){const r=new Tm(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((o,a)=>{r.load(e,o,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const o=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const a=$Je.toString(),c=["/* draco decoder */",o,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([c]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(a){const c=a.data;switch(c.type){case"decode":o._callbacks[c.id].resolve(c);break;case"error":o._callbacks[c.id].reject(c);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+c.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,a){return o._taskLoad>a._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function $Je(){let n,e;onmessage=function(c){const p=c.data;switch(p.type){case"init":n=p.decoderConfig,e=new Promise(function(b){n.onModuleLoaded=function(C){b({draco:C})},DracoDecoderModule(n)});break;case"decode":const g=p.buffer,_=p.taskConfig;e.then(b=>{const C=b.draco,k=new C.Decoder,B=new C.DecoderBuffer;B.Init(new Int8Array(g),g.byteLength);try{const z=t(C,k,B,_),F=z.attributes.map(N=>N.array.buffer);z.index&&F.push(z.index.array.buffer),self.postMessage({type:"decode",id:p.id,geometry:z},F)}catch(z){console.error(z),self.postMessage({type:"error",id:p.id,error:z.message})}finally{C.destroy(B),C.destroy(k)}});break}};function t(c,p,g,_){const b=_.attributeIDs,C=_.attributeTypes;let k,B;const z=p.GetEncodedGeometryType(g);if(z===c.TRIANGULAR_MESH)k=new c.Mesh,B=p.DecodeBufferToMesh(g,k);else if(z===c.POINT_CLOUD)k=new c.PointCloud,B=p.DecodeBufferToPointCloud(g,k);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!B.ok()||k.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+B.error_msg());const F={index:null,attributes:[]};for(const N in b){const D=self[C[N]];let A,G;if(_.useUniqueIDs)G=b[N],A=p.GetAttributeByUniqueId(k,G);else{if(G=p.GetAttributeId(k,c[b[N]]),G===-1)continue;A=p.GetAttribute(k,G)}F.attributes.push(o(c,p,k,N,D,A))}return z===c.TRIANGULAR_MESH&&(F.index=r(c,p,k)),c.destroy(k),F}function r(c,p,g){const b=g.num_faces()*3,C=b*4,k=c._malloc(C);p.GetTrianglesUInt32Array(g,C,k);const B=new Uint32Array(c.HEAPF32.buffer,k,b).slice();return c._free(k),{array:B,itemSize:1}}function o(c,p,g,_,b,C){const k=C.num_components(),z=g.num_points()*k,F=z*b.BYTES_PER_ELEMENT,N=a(c,b),D=c._malloc(F);p.GetAttributeDataArrayForAllPoints(g,C,N,F,D);const A=new b(c.HEAPF32.buffer,D,z).slice();return c._free(D),{name:_,array:A,itemSize:k}}function a(c,p){switch(p){case Float32Array:return c.DT_FLOAT32;case Int8Array:return c.DT_INT8;case Int16Array:return c.DT_INT16;case Int32Array:return c.DT_INT32;case Uint8Array:return c.DT_UINT8;case Uint16Array:return c.DT_UINT16;case Uint32Array:return c.DT_UINT32}}}let _L;const QG=()=>{if(_L)return _L;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let o=n;WebAssembly.validate(t)&&(o=e);let a;const c=WebAssembly.instantiate(p(o),{}).then(C=>{a=C.instance,a.exports.__wasm_call_ctors()});function p(C){const k=new Uint8Array(C.length);for(let z=0;z<C.length;++z){const F=C.charCodeAt(z);k[z]=F>96?F-71:F>64?F-65:F>47?F+4:F>46?63:62}let B=0;for(let z=0;z<C.length;++z)k[B++]=k[z]<60?r[k[z]]:(k[z]-60)*64+k[++z];return k.buffer.slice(0,B)}function g(C,k,B,z,F,N){const D=a.exports.sbrk,A=B+3&-4,G=D(A*z),Q=D(F.length),ae=new Uint8Array(a.exports.memory.buffer);ae.set(F,Q);const Y=C(G,B,z,Q,F.length);if(Y===0&&N&&N(G,A,z),k.set(ae.subarray(G,G+B*z)),D(G-D(0)),Y!==0)throw new Error(`Malformed buffer data: ${Y}`)}const _={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},b={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return _L={ready:c,supported:!0,decodeVertexBuffer(C,k,B,z,F){g(a.exports.meshopt_decodeVertexBuffer,C,k,B,z,a.exports[_[F]])},decodeIndexBuffer(C,k,B,z){g(a.exports.meshopt_decodeIndexBuffer,C,k,B,z)},decodeIndexSequence(C,k,B,z){g(a.exports.meshopt_decodeIndexSequence,C,k,B,z)},decodeGltfBuffer(C,k,B,z,F,N){g(a.exports[b[F]],C,k,B,z,a.exports[_[N]])}},_L};let wL=null,pCe="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function mCe(n,e,t){return r=>{t&&t(r),n&&(wL||(wL=new ZJe),wL.setDecoderPath(typeof n=="string"?n:pCe),r.setDRACOLoader(wL)),e&&r.setMeshoptDecoder(typeof QG=="function"?QG():QG)}}function UF(n,e=!0,t=!0,r){return NM(bY,n,mCe(e,t,r))}UF.preload=(n,e=!0,t=!0,r)=>NM.preload(bY,n,mCe(e,t,r));UF.clear=n=>NM.clear(bY,n);UF.setDecoderPath=n=>{pCe=n};const qG={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},eZe="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",z_e=n=>Array.isArray(n);function gCe({files:n=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:t=void 0,encoding:r=void 0,extensions:o}={}){var a;let c=null,p=!1,g;if(t){if(!(t in qG))throw new Error("Preset must be one of: "+Object.keys(qG).join(", "));n=qG[t],e=eZe}if(p=z_e(n),g=z_e(n)?"cube":n.startsWith("data:application/exr")?"exr":n.startsWith("data:application/hdr")?"hdr":(a=n.split(".").pop())==null||(a=a.split("?"))==null||(a=a.shift())==null?void 0:a.toLowerCase(),c=p?DSe:g==="hdr"?qJe:g==="exr"?JJe:null,!c)throw new Error("useEnvironment: Unrecognized file extension: "+n);const _=NM(c,p?[n]:n,B=>{B.setPath==null||B.setPath(e),o&&o(B)}),b=p?_[0]:_;b.mapping=p?zv:lM;const C=3001,k=3e3;return"colorSpace"in b?b.colorSpace=r??p?"srgb":"srgb-linear":b.encoding=r??p?C:k,b}const tZe=n=>n.current&&n.current.isScene,nZe=n=>tZe(n)?n.current:n;function EY(n,e,t,r,o=0){const a=nZe(e||t),c=a.background,p=a.environment,g=a.backgroundBlurriness||0;return n!=="only"&&(a.environment=r),n&&(a.background=r),n&&a.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=o),()=>{n!=="only"&&(a.environment=p),n&&(a.background=c),n&&a.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=g)}}function AY({scene:n,background:e=!1,blur:t,map:r}){const o=_f(a=>a.scene);return qt.useLayoutEffect(()=>{if(r)return EY(e,n,o,r,t)},[o,n,r,e,t]),null}function vCe({background:n=!1,scene:e,blur:t,...r}){const o=gCe(r),a=_f(c=>c.scene);return qt.useLayoutEffect(()=>EY(n,e,a,o,t),[o,n,e,a,t]),null}function rZe({children:n,near:e=1,far:t=1e3,resolution:r=256,frames:o=1,map:a,background:c=!1,blur:p,scene:g,files:_,path:b,preset:C=void 0,extensions:k}){const B=_f(G=>G.gl),z=_f(G=>G.scene),F=qt.useRef(null),[N]=qt.useState(()=>new wb),D=qt.useMemo(()=>{const G=new TX(r);return G.texture.type=uh,G},[r]);qt.useLayoutEffect(()=>(o===1&&F.current.update(B,N),EY(c,g,z,D.texture,p)),[n,N,D.texture,g,z,c,o,B]);let A=1;return b1(()=>{(o===1/0||A<o)&&(F.current.update(B,N),A++)}),qt.createElement(qt.Fragment,null,wUe(qt.createElement(qt.Fragment,null,n,qt.createElement("cubeCamera",{ref:F,args:[e,t,D]}),_||C?qt.createElement(vCe,{background:!0,files:_,preset:C,path:b,extensions:k}):a?qt.createElement(AY,{background:!0,map:a,extensions:k}):null),N))}function iZe(n){var e,t,r,o;const a=gCe(n),c=n.map||a;qt.useMemo(()=>sxe({GroundProjectedEnvImpl:vJe}),[]);const p=qt.useMemo(()=>[c],[c]),g=(e=n.ground)==null?void 0:e.height,_=(t=n.ground)==null?void 0:t.radius,b=(r=(o=n.ground)==null?void 0:o.scale)!==null&&r!==void 0?r:1e3;return qt.createElement(qt.Fragment,null,qt.createElement(AY,Uw({},n,{map:c})),qt.createElement("groundProjectedEnvImpl",{args:p,scale:b,height:g,radius:_}))}function oZe(n){return n.ground?qt.createElement(iZe,n):n.map?qt.createElement(AY,n):n.children?qt.createElement(rZe,n):qt.createElement(vCe,n)}function MI({children:n,position:e,visibleRange:t}){const{gl:r}=_f(),o=zF(),[a,c]=qt.useState(0);return b1(()=>{const p=o.scroll.current>t[0]&&o.scroll.current<t[1];c(p?1:0)}),Yi.jsx(xqe,{portal:{current:r.domElement.parentNode},position:e,children:Yi.jsxs("div",{className:"fade button-container",style:{opacity:a},children:[Yi.jsx("button",{id:"round-button",children:Yi.jsx("span",{className:"arrow",children:""})}),Yi.jsx("span",{className:"button-text",children:n})]})})}function lw(n){const e=qt.useRef(),{position:t,scale:r,modelUrl:o}=n,a=UF(o);return Yi.jsxs("primitive",{ref:e,position:t||[0,0,0],scale:r||[1,1,1],object:a.scene,children:[Yi.jsx(MI,{position:[5.35,.02,-4.8],visibleRange:[.09,.14],children:"Texto explicativo 1"}),Yi.jsx(MI,{position:[4.3,.02,-4.6],visibleRange:[.16,.25],children:"Texto explicativo 2"}),Yi.jsx(MI,{position:[4.4,.02,-5.2],visibleRange:[.27,.48],children:"Texto explicativo 3"}),Yi.jsx(MI,{position:[1.5,.02,-3.5],visibleRange:[.52,.67],children:"Texto explicativo 4"}),Yi.jsx(MI,{position:[-2,.02,-4.5],visibleRange:[.79,.88],children:"Texto explicativo 5"})]})}function sZe(){const n=Cxe(),e=zF();b1(()=>{const r=bs.val(n.sequence.pointer.length);n.sequence.position=e.offset*r});const t="white";return Yi.jsxs(Yi.Fragment,{children:[Yi.jsx(oZe,{preset:"sunset"}),Yi.jsx("color",{attach:"background",args:[t]}),Yi.jsx("ambientLight",{intensity:.5}),Yi.jsx("directionalLight",{position:[-5,5,-5],intensity:1.5}),Yi.jsx(qt.Suspense,{fallback:null,children:Yi.jsx(lw,{modelUrl:"base_final.glb"})}),Yi.jsx(qt.Suspense,{fallback:null,children:Yi.jsx(lw,{modelUrl:"BRT.glb"})}),Yi.jsx(qt.Suspense,{fallback:null,children:Yi.jsx(lw,{modelUrl:"escolas.glb"})}),Yi.jsx(qt.Suspense,{fallback:null,children:Yi.jsx(lw,{modelUrl:"linhas_textos.glb"})}),Yi.jsx(qt.Suspense,{fallback:null,children:Yi.jsx(lw,{modelUrl:"obj1.glb"})}),Yi.jsx(qt.Suspense,{fallback:null,children:Yi.jsx(lw,{modelUrl:"obj2.glb"})}),Yi.jsx(qt.Suspense,{fallback:null,children:Yi.jsx(lw,{modelUrl:"obj3.glb"})}),Yi.jsx(qt.Suspense,{fallback:null,children:Yi.jsx(lw,{modelUrl:"VLT.glb"})}),Yi.jsx(u9e,{theatreKey:"Camera",makeDefault:!0,position:[0,0,0],fov:20,near:.1,far:70})]})}function uw(n){const{children:e,viewportPosition:t}=n;return Yi.jsx("h2",{style:{color:"white",position:"absolute",minWidth:"45vw",paddingLeft:"20px",top:`${t}vh`,zIndex:"50"},children:e})}const aZe={Scene:{staticOverrides:{byObject:{Camera:{position:{x:-1.573250851346216,y:1.0885073380736379,z:.530001159065498}}}},sequence:{subUnitsPerUnit:30,length:3.88,type:"PositionalSequence",tracksByObject:{Camera:{trackData:{u5_1SRkyFn:{type:"BasicKeyframedTrack",__debugName:'Camera:["rotation","z"]',keyframes:[{id:"csmEvrYHxe",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.8344133479485478},{id:"MJFxKvh2Tk",position:.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.9831941935375281},{id:"gV22zuLUp8",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.32495303802044107},{id:"5zpJgm-UZf",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.2187448016252658},{id:"kmAk4qoRvZ",position:1.8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.3396362785479441},{id:"mCrBksRMbk",position:2.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.30607332261463704},{id:"kyxbtwwStZ",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.3544377667385358},{id:"uDb_mDtN9H",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.1472664053328182},{id:"EUldGONSS6",position:3.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.1472664053328182}]},bB_cOPPYqL:{type:"BasicKeyframedTrack",__debugName:'Camera:["rotation","y"]',keyframes:[{id:"V6WPk6wlMm",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.6039014949075227},{id:"6mNqZUGIe4",position:.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.144894415269756},{id:"fop61bF7z0",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.5270299878412432},{id:"OJWW4g6iW_",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.4906321373483962},{id:"NivD0EuYff",position:1.8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.565663578799783},{id:"l6EtVn9-pZ",position:2.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.6903960946745197},{id:"3nV4AaD1-z",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.6698961262708578},{id:"HsAeze7dzW",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.4422228891058102},{id:"bD7ZMEsV4H",position:3.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.4422228891058103}]},tzzU7BxATF:{type:"BasicKeyframedTrack",__debugName:'Camera:["rotation","x"]',keyframes:[{id:"UmMO4AFBnt",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.9437855913477994},{id:"9J1T7Eu6R0",position:.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.8854136538701036},{id:"2LmbIMyQas",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.6018696505680565},{id:"9BWX36Dgvt",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.5330273470118282},{id:"KKy6cwCNkL",position:1.8,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.709348205371391},{id:"5ELUYJiu_i",position:2.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.8181347248551192},{id:"ZVYeE_IDq-",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.8950102194541331},{id:"fEwGqbESYY",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.8243071976141659},{id:"jKN4Mt4ocN",position:3.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.8145801941302265}]},Vmpt9vf3yw:{type:"BasicKeyframedTrack",__debugName:'Camera:["position","z"]',keyframes:[{id:"sTZV71Tw8T",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-3.2230066026366733},{id:"L-XMGwrSut",position:.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-4.8633626957580365},{id:"ddpRHio0ny",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-3.8625468169297204},{id:"Uzvo3ZwZgW",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-4.00123512970934},{id:"7RUlBzcpxi",position:1.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-4.886528362527465},{id:"C8wL6lH3ya",position:2.133,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-2.3814650184558226},{id:"qBinqEaMT0",position:2.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-2.055605728634946},{id:"zHG-A8A1KA",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-3.47388111357054},{id:"PzOdwIu2za",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.8327644733100117},{id:"twuSuqdNun",position:3.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.5466228003749212}]},XA7I2c_mMk:{type:"BasicKeyframedTrack",__debugName:'Camera:["position","y"]',keyframes:[{id:"LSoDFWdIwi",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.3602248718573322},{id:"dv9iYwcb9e",position:.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.3767731662191397},{id:"Em222b5wjv",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.4401509163834244},{id:"d7YnkLEdNV",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7400308220721565},{id:"EbCyo8gN36",position:1.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.7170137667342181},{id:"c7q39bfYvg",position:2.133,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.1987822319503287},{id:"L9fSXe2AaN",position:2.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.1939920937445814},{id:"50ZjUozlSj",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.0023015760286023},{id:"fVKe3Fx0Wx",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.8359411374739913},{id:"aCdVoAEd9E",position:3.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:2.1911315514000336}]},OXrC30ZgQa:{type:"BasicKeyframedTrack",__debugName:'Camera:["position","x"]',keyframes:[{id:"hPI0qDbasq",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:5.972393850542841},{id:"hUhLISxvPd",position:.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:6.27209300985212},{id:"Up57mk5RHj",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:5.2919629618989905},{id:"QqKs-kEgsm",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:5.1515854491681345},{id:"JLr-YmM8LY",position:1.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:3.7343874515693534},{id:"Mm3c4_FT7w",position:2.133,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:3.0819773618096797},{id:"9Xv8HIhZK5",position:2.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.983077158131176},{id:"rhlKrQaWZh",position:3.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-.7981180825040554},{id:"ytiOH33EtO",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-2.1583084863033317},{id:"AZfVsfnY6q",position:3.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:-1.7659853630605222}]},kTgDGPHttB:{type:"BasicKeyframedTrack",__debugName:'Camera:["scale","x"]',keyframes:[{id:"9jCB-xavJV",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"v81WwfaxwK",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"FrbH4tK9VP",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1}]},r8RKijgjYE:{type:"BasicKeyframedTrack",__debugName:'Camera:["scale","y"]',keyframes:[{id:"G28LQFEbX5",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"ajsfKrS9qr",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"Euy6HkenST",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.04}]},n13tSGmqe6:{type:"BasicKeyframedTrack",__debugName:'Camera:["scale","z"]',keyframes:[{id:"wStsneiQxT",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"3tmNWQqBVY",position:.833,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.8267379728648938},{id:"ERKdOsz_Jh",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.1800000000000002}]},"FzvgwHhGx-":{type:"BasicKeyframedTrack",__debugName:'Camera:["near"]',keyframes:[{id:"RfmhQcfLlg",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.1},{id:"ikEpV11VFS",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:.1}]},b4UQk1rlOS:{type:"BasicKeyframedTrack",__debugName:'Camera:["far"]',keyframes:[{id:"3ibW56d-hD",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:70},{id:"fKQxt7I2zW",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:70}]},tXK0rMES7T:{type:"BasicKeyframedTrack",__debugName:'Camera:["fov"]',keyframes:[{id:"IPNoJxR2bV",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:40},{id:"qPqDJUdIqn",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:40},{id:"dogx-p1ISV",position:3.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:50}]},oO6klsjqAG:{type:"BasicKeyframedTrack",__debugName:'Camera:["zoom"]',keyframes:[{id:"TbWlo5XDFY",position:0,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1},{id:"IzuRPKYnvd",position:.367,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.2700000000000002},{id:"lM51OaaE2h",position:1.3,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.2700000000000002},{id:"fIKkjFs3F7",position:3.7,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1.0001188749493095},{id:"iMFRF8O7gx",position:3.867,connectedRight:!0,handles:[.5,1,.5,0],type:"bezier",value:1}]}},trackIdByPropPath:{'["rotation","z"]':"u5_1SRkyFn",'["rotation","y"]':"bB_cOPPYqL",'["rotation","x"]':"tzzU7BxATF",'["position","z"]':"Vmpt9vf3yw",'["position","y"]':"XA7I2c_mMk",'["position","x"]':"OXrC30ZgQa",'["scale","x"]':"kTgDGPHttB",'["scale","y"]':"r8RKijgjYE",'["scale","z"]':"n13tSGmqe6",'["near"]':"FzvgwHhGx-",'["far"]':"b4UQk1rlOS",'["fov"]':"tXK0rMES7T",'["zoom"]':"oO6klsjqAG"}}}}}},lZe="0.4.0",uZe=["JkOCqM0cE81gSJg6","sYWvE-2ybgbhCxzV","Y3k9r13Zv7sOEFU4","-OwWqn8pB96hnqzD","_2UTgsTMYTDwwSje"],cZe={sheetsById:aZe,definitionVersion:lZe,revisionHistory:uZe};function dZe(){const n=bs.getProject("Fly Through",{state:cZe}).sheet("Scene");return Yi.jsx(Yi.Fragment,{children:Yi.jsx(zUe,{gl:{preserveDrawingBuffer:!0},children:Yi.jsxs(Zqe,{pages:12,damping:.5,children:[Yi.jsx(t9e,{sheet:n,children:Yi.jsx(sZe,{})}),Yi.jsx(tJe,{html:!0,children:Yi.jsxs("div",{id:"article_wrapper",children:[Yi.jsx(uw,{viewportPosition:50,children:"Oi from slide 1"}),Yi.jsx(uw,{viewportPosition:150,children:"Oi from slide 2"}),Yi.jsx(uw,{viewportPosition:280,children:"Oi from slide 3"}),Yi.jsx(uw,{viewportPosition:420,children:"Oi from slide 4"}),Yi.jsx(uw,{viewportPosition:550,children:"Oi from slide 5"}),Yi.jsx(uw,{viewportPosition:700,children:"Oi from slide 6"}),Yi.jsx(uw,{viewportPosition:980,children:"Oi from slide 7"}),Yi.jsx(uw,{viewportPosition:980,children:"Oi from slide 7"})]})})]})})})}oW.createRoot(document.getElementById("root")).render(Yi.jsx(dZe,{}));Em.extend(lYe);Em.initialize()});export default fZe();
